<html><head>
  <link rel="stylesheet" type="text/css" class="__meteor-css__" href="/c80da4f226b68eb84f46c62f2843c2e26ef86ab5.css?meteor_css_resource=true">
<meta charset="utf-8">
  <meta name="description" content="Multiplayer 2D space battle game.  Battle other players in your browser for control of the satellites.">
  <meta name="keywords" content="game, io game, web game, browser game, html5">
  <title>Astroe.io</title>
  <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script src="https://connect.facebook.net/en_US/sdk.js?hash=45523b7b66a103e03250d6444bfef63f&amp;ua=modern_es6" async="" crossorigin="anonymous"></script><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script id="facebook-jssdk" src="//connect.facebook.net/en_US/sdk.js#xfbml=1&amp;version=v2.8&amp;appId=1394315374204571"></script><script async="" src="https://www.google-analytics.com/analytics.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/stats.js/r11/Stats.min.js"></script>
  <script type="text/javascript" src="//imasdk.googleapis.com/js/sdkloader/ima3.js"></script>
  <script src="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
  <link rel="icon" type="image/png" href="favicon.png">
<<style media="screen">
  @import url("https://fonts.googleapis.com/css?family=Audiowide");#login-buttons{display:inline-block;margin-right:.2px;line-height:1}#login-buttons .login-button{position:relative}#login-buttons button.login-button{width:100%}#login-buttons .login-buttons-with-only-one-button,#login-buttons .login-buttons-with-only-one-button .login-button,#login-buttons .login-buttons-with-only-one-button .login-text-and-button{display:inline-block}#login-buttons .login-display-name{display:inline-block;padding-right:2px;line-height:1.5;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#login-buttons .loading{line-height:1;background-image:url(data:image/gif;base64,R0lGODlhEAALAPQAAP///wAAANra2tDQ0Orq6gYGBgAAAC4uLoKCgmBgYLq6uiIiIkpKSoqKimRkZL6+viYmJgQEBE5OTubm5tjY2PT09Dg4ONzc3PLy8ra2tqCgoMrKyu7u7gAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA);width:16px;background-position:50%;background-repeat:no-repeat}#login-buttons .login-button,.accounts-dialog .login-button{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;padding:4px 8px;font-size:80%;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1.5;text-align:center;color:#fff;background:#596595;border:1px solid #464f75;border-radius:4px}#login-buttons .login-button:hover,.accounts-dialog .login-button:hover{background:#7580ac}#login-buttons .login-button:active,.accounts-dialog .login-button:active{background:#7580ac;box-shadow:inset 0 2px 3px 0 rgba(0,0,0,.2);-webkit-box-shadow:0 2px 3px 0 rgba(0,0,0,.2) inset}#login-buttons .login-button.login-button-disabled,#login-buttons .login-button.login-button-disabled:active,.accounts-dialog .login-button.login-button-disabled,.accounts-dialog .login-button.login-button-disabled:active{color:#ddd;background:#aaa;border:1px solid #c3c3c3;box-shadow:none;-webkit-box-shadow:none}.accounts-dialog *{padding:0;margin:0;line-height:inherit;color:inherit;font:inherit;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.accounts-dialog .login-button{width:auto;margin-bottom:4px}#login-buttons .login-buttons-padding{display:inline-block;width:30px}#login-buttons .login-display-name{margin-right:4px}#login-buttons .configure-button{background:#ff2a00;border-color:#c20}#login-buttons .configure-button:active,#login-buttons .configure-button:hover{background:#f53;border-color:#ff2a00}#login-buttons .login-image{display:inline-block;position:absolute;left:6px;top:6px;width:16px;height:16px}#login-buttons .text-besides-image{margin-left:18px}#login-buttons .no-services{color:red}#login-buttons .login-link-and-dropdown-list{position:relative}#login-buttons .login-close-text{float:left;position:relative;padding-bottom:8px}#login-buttons .login-link-and-dropdown-list .loading,#login-buttons .login-text-and-button .loading{display:inline-block}#login-buttons.login-buttons-dropdown-align-left #login-dropdown-list .loading{float:right}#login-buttons.login-buttons-dropdown-align-right #login-dropdown-list .loading{float:left}#login-buttons .login-close-text-clear{clear:both}#login-buttons .or{text-align:center}#login-buttons .hline{text-decoration:line-through;color:#d3d3d3}#login-buttons .or-text{font-weight:700}#login-buttons #signup-link{float:right}#login-buttons #forgot-password-link{float:left}#login-buttons #back-to-login-link{float:right}#login-buttons a,.accounts-dialog a{cursor:pointer;text-decoration:underline}#login-buttons.login-buttons-dropdown-align-right .login-close-text{float:right}.accounts-dialog{border:1px solid #ccc;z-index:1000;background:#fff;border-radius:4px;padding:8px 12px;margin:-8px -12px 0;width:250px;box-shadow:0 0 3px 0 rgba(0,0,0,.2);-webkit-box-shadow:0 0 3px 0 rgba(0,0,0,.2);font-size:16px;color:#333}.accounts-dialog>*{line-height:1.6}.accounts-dialog>.login-close-text{line-height:inherit;font-size:inherit;font-family:inherit}.accounts-dialog .title,.accounts-dialog label{font-size:80%;margin-top:7px;margin-bottom:-2px}.accounts-dialog label{display:inline}.accounts-dialog input[type=email],.accounts-dialog input[type=password],.accounts-dialog input[type=text]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width:100%}.accounts-dialog input[type=email][type],.accounts-dialog input[type=password][type],.accounts-dialog input[type=text][type]{height:auto}.accounts-dialog .login-button-form-submit{margin-top:8px}.accounts-dialog .message{font-size:80%;margin-top:8px;line-height:1.3}.accounts-dialog .error-message{color:red}.accounts-dialog .info-message{color:green}.accounts-dialog .additional-link{font-size:75%}.accounts-dialog .accounts-close{position:absolute;top:0;right:5px;font-size:20px;font-weight:700;line-height:20px;text-decoration:none;color:#000;opacity:.4}.accounts-dialog .accounts-close:hover{opacity:.8}.accounts-dialog #login-buttons-cancel-enroll-account,.accounts-dialog #login-buttons-cancel-reset-password{float:right}#login-dropdown-list{position:absolute;top:-1px;left:-1px}#login-buttons.login-buttons-dropdown-align-right #login-dropdown-list{left:auto;right:-1px}#login-buttons-message-dialog .message{font-size:100%}.accounts-centered-dialog{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;z-index:1001;position:fixed;left:50%;margin-left:-129px;top:50%;margin-top:-40px}#configure-login-service-dialog{width:530px;margin-left:-269px;margin-top:-300px}#configure-login-service-dialog table{width:100%}#configure-login-service-dialog input[type=text]{width:100%;font-family:Courier New,Courier,monospace}#configure-login-service-dialog ol{margin-top:10px;margin-bottom:10px}#configure-login-service-dialog ol li{margin-left:30px}#configure-login-service-dialog .configuration_labels{width:30%}#configure-login-service-dialog .configuration_inputs{width:70%}#configure-login-service-dialog .new-section{margin-top:10px}#configure-login-service-dialog .url{font-family:Courier New,Courier,monospace}#configure-login-service-dialog-save-configuration{float:right}.configure-login-service-dismiss-button{float:left}#just-verified-dismiss-button,#messages-dialog-dismiss-button{margin-top:8px}.hide-background{position:fixed;left:0;top:0;width:100%;height:100%;z-index:999;background-color:#000;background-color:rgba(0,0,0,.7)}#login-buttons input[type=email],#login-buttons input[type=password],#login-buttons input[type=text],.accounts-dialog input[type=email],.accounts-dialog input[type=password],.accounts-dialog input[type=text]{padding:4px;border:1px solid #aaa;border-radius:3px;line-height:1}.btnInGame{background-color:rgba(64,149,191,.3);color:#b3d4e6;border-bottom:1px solid rgba(163,218,245,.9);border-top:1px solid rgba(163,218,245,.9);border-color:rgba(163,218,245,.4) rgba(163,218,245,.9);box-shadow:0 0 3px rgba(163,218,245,.5);padding:4px 10px;border-radius:2px;font-size:90%;font-family:Audiowide,Arial,sans-serif;background:linear-gradient(rgba(64,149,191,.3),rgba(25,59,77,.1));pointer-events:auto}.btnInGame,.btnInGame:hover{border-style:solid;border-width:1px}.btnInGame:hover{background-color:hsla(0,0%,100%,.2);background:linear-gradient(rgba(64,149,191,.6),rgba(25,59,77,.1));cursor:pointer;box-shadow:0 0 7px rgba(163,218,245,.5);border-bottom:1px solid #a3daf5;border-top:1px solid #a3daf5;border-color:rgba(163,218,245,.6) #a3daf5;color:#d9eaf2}.btnInGame:focus{outline:0}.btnInGame.disabled{color:#73848c;border-color:rgba(64,149,191,.3);background:none;box-shadow:none}.btnInGame.disabled:hover{cursor:default;background-color:rgba(64,149,191,.3);box-shadow:none;background:none}.btn{font-family:Audiowide,Arial,sans-serif;padding:4px 10px;border:0;margin:0;border-radius:.2em;cursor:pointer;background-color:#52b1e0;color:#fff}.btn:hover{background-color:#e05252}.btn:focus{outline:0}.btn.disabled{background-color:#999;cursor:default}.input{border:0;padding:4px 10px;border-radius:.1em;background-color:rgba(64,149,191,.2);color:#ecf4f9;font-family:Audiowide,Arial,sans-serif}input[type=text],input[type=url],textarea:focus{outline:0}/*! normalize.css v5.0.0 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}[hidden],template{display:none}#capStatsChart #capStatsLine{stroke:#75c7f0;fill:none}#capStatsChart #midLine{stroke:rgba(20,129,184,.8)}#capStatsChart #borderLine{stroke:rgba(25,161,230,.3);fill:rgba(0,0,0,.1)}#capStatsChart #redTeamLabel{fill:#eb4747}#capStatsChart #greenTeamLabel{fill:#47eb81}#capStatsChart #greenPath{stroke:#47eb81;fill:none}#capStatsChart #redPath{stroke:#eb4747;fill:none}#howToSats{position:absolute;top:0;right:-846px;width:846px;background-color:rgba(0,0,0,.9);z-index:1000;border-left:1px solid hsla(0,0%,100%,.25);color:#fff;font-family:Audiowide,Arial,sans-serif;transition:right .2s ease-out}#howToSats .imgContainer{position:relative;width:400px}#howToSats .imgHelp{position:absolute;top:-25px;width:400px;font-size:120%}#howToSats #helpDestroy{left:56px}#howToSats #helpCapture{left:90px}#howToSats #helpUpgrade{left:110px}#howToSats.show{right:0}#howToSats #menuContent{padding:20px}#howToSats #menuContent #menuTitle{font-size:140%;text-align:center;margin-bottom:20px}#howToSats #menuContent button{width:100%;margin:2px}#howToSats #menuContent .helpTitle{font-size:150%;margin-top:10px;margin-bottom:5px}#player #saveNameError{color:#f53d3d;display:none}#player table{margin-top:10px}#player td{padding:3px 8px}#player tr:nth-child(odd){background-color:hsla(0,0%,100%,.08)}#player thead{background-color:hsla(0,0%,100%,.1)}#player #nameInput{padding:4px;border:0;border-radius:2px;margin-top:4px}#player .playerShipButton{border-radius:4px;border:0;margin:0;background-color:#041016}#player .playerShipButton.selected{background-color:#043249}#player .playerShipButton:focus{outline:0}#player .playerShipButton:hover{cursor:pointer}.playerShip{display:inline-block;width:100px;height:100px;position:relative}.playerShip .booster,.playerShip .counter,.playerShip .ship{position:absolute;width:100px;height:100px;left:0}#players thead{font-weight:700}#players td{padding:3px 8px}#players tr:nth-child(2n){background-color:hsla(0,0%,100%,.08)}#players thead{background-color:hsla(0,0%,100%,.1)}#bogusStats{position:relative}#bogusStatsText{position:absolute;top:80px;left:80px;font-size:150%}#statRecordsChart #borderLine{stroke:rgba(25,161,230,.3);fill:rgba(0,0,0,.1)}#statRecordsChart .goldPath{stroke:#e5e619;fill:none}#statRecordsChart .goldText{stroke:none;fill:#e5e619}#statRecordsChart .killsPath{stroke:#e61919;fill:none}#statRecordsChart .killsText{stroke:none;fill:#e61919}#statRecordsChart .asteroidsDestroyedPath{stroke:#19a1e6;fill:none}#statRecordsChart .asteroidsDestroyedText{stroke:none;fill:#19a1e6}#statRecordsChart .satsUpgradedPath{stroke:#19e619;fill:none}#statRecordsChart .satsUpgradedText{stroke:none;fill:#19e619}#statRecordsChart .satsCapturedPath{stroke:#19e6c4;fill:none}#statRecordsChart .satsCapturedText{stroke:none;fill:#19e6c4}#statRecordsChart .upgradesPath{stroke:#e68019;fill:none}#statRecordsChart .upgradesText{stroke:none;fill:#e68019}#stats thead{font-weight:700}#stats td{padding:3px 8px}#adContainer{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2000}#chatTitle{margin-bottom:5px;font-size:80%}#chatMessages{margin-bottom:5px;font-size:90%;max-width:450px}#chatHelp{margin-top:12px}.chatMsg{margin-bottom:1px;border-radius:2px}.chatMsg .chatPlayerName{color:rgba(217,234,242,.4);text-shadow:0 0 1px rgba(217,234,242,.4)}.chatMsg .isMod{color:#f6d955}.chatMsg .isVerified{color:#80ff80}.chatMsg .statusMessage{color:#47b4eb}.chatMsg .modMessage{color:#ebeb47}.chatMsg .chatTime{color:rgba(64,149,191,.4);text-shadow:none}#chat{position:absolute;top:10px;left:10px;text-shadow:0 0 3px rgba(217,234,242,.5);pointer-events:none}#chat,#chat input{color:#d9eaf2;font-family:Audiowide,Arial,sans-serif}#chat input{border:0;padding:4px 10px;border-radius:2px;background-color:rgba(0,0,0,.4);margin-right:5px;pointer-events:auto;border-bottom:1px solid rgba(163,218,245,.9);border-top:1px solid rgba(163,218,245,.9);border-color:rgba(163,218,245,.4) rgba(163,218,245,.9);border-style:solid;border-width:1px;box-shadow:0 0 3px rgba(163,218,245,.5)}#chat input:focus{outline:0}#controlPanel{padding:20px;color:#fff}#controlPanel td,#controlPanel th{padding:3px 10px;text-align:left}#disconnectedPanel{position:absolute;top:50%;left:50%;width:400px;height:170px;margin-top:-200px;margin-left:-200px;text-align:center;padding:20px;background-color:rgba(64,149,191,.3);color:#b3d4e6;border-bottom:1px solid rgba(163,218,245,.9);border-top:1px solid rgba(163,218,245,.9);border-color:rgba(163,218,245,.4) rgba(163,218,245,.9);border-style:solid;border-width:1px;box-shadow:0 0 3px rgba(163,218,245,.5);font-family:Audiowide,Arial,sans-serif;background:linear-gradient(rgba(38,89,115,.5),rgba(6,15,19,.3));border-radius:2px}#endPanelLeaderboard{width:100%}#endPanelLeaderboard .RED{background-color:#ff2828}#endPanelLeaderboard .GREEN{background-color:#13ff66}#endPanelLeaderboard .NEUTRAL{background-color:#44a5ff}#endPanelLeaderboard td,#endPanelLeaderboard th{padding:2px 5px}#endPanelLeaderboard tr.isPlayer{background-color:hsla(0,0%,100%,.15)}#featuredAlert{top:10px}#featuredAlert,#featuredYoutuber{position:absolute;left:10px;color:#ebf5fa;font-family:Audiowide,Arial,sans-serif}#featuredYoutuber{top:40px}*{padding:0;margin:0;box-sizing:border-box}#shipMass{margin-bottom:10px}#shipMass,#upgradeCount{font-size:90%;color:#d9eaf2;text-shadow:0 0 3px rgba(217,234,242,.5)}#upgradeCount{margin-bottom:30px}#menuButton{right:10px}#helpButton,#menuButton{position:absolute;top:10px}#helpButton{right:200px}#powerupUi{pointer-events:none;margin-bottom:12px}#powerupUi .powerupUiImage{width:40px}#gameUiGold{color:#f4da64;margin-bottom:20px;user-select:none;font-size:130%;text-shadow:0 0 3px #f4da64;cursor:default;pointer-events:none}#gameUiGold #uiGold{font-size:180%}#gameUiGold #uiGold,#gameUiUpgrades{font-family:Audiowide,Arial,sans-serif}#gameUiUpgrades{pointer-events:none;position:absolute;bottom:25px;left:10px;color:#fff;user-select:none}#gameUiUpgrades .title{color:#d9eaf2;text-shadow:0 0 3px rgba(217,234,242,.5);padding-left:10px;margin-bottom:3px;cursor:default}#gameUiUpgrades button{width:250px;text-align:left;margin-bottom:2px}#gameUiUpgrades button .buttonRight{float:right}#gameUiUpgrades button.enabled .buttonRight{color:#f4da64}#gameUiUpgrades .upgradeMark{width:4px;background-color:rgba(71,112,133,.2);border:1px solid rgba(71,112,133,.5);margin-right:1px;border-radius:1px;user-select:none;cursor:default}#gameUiUpgrades .upgradeMark.enabled{background-color:#d9eaf2;border:1px solid #fff;box-shadow:0 0 3px #fff}#gameUiPerf{position:absolute;font-size:8px;bottom:2px;left:10px;color:#689}#gameEndWarning{position:absolute;bottom:10px;margin-left:auto;margin-right:auto;left:0;right:0;width:400px;text-align:center;font-size:150%;color:#d9eaf2;text-shadow:0 0 3px rgba(217,234,242,.5);font-family:Audiowide,Arial,sans-serif;pointer-events:none}#gameEndWarning td,#gameEndWarning th{padding:2px 5px}#help{position:absolute;top:0;right:-400px;width:400px;background-color:rgba(0,0,0,.9);z-index:1000;border-left:1px solid hsla(0,0%,100%,.25);color:#fff;font-family:Audiowide,Arial,sans-serif;transition:right .2s ease-out}#help.show{right:0}#help #menuContent{padding:20px}#help #menuContent #menuTitle{font-size:140%;text-align:center;margin-bottom:20px}#help #menuContent button{width:100%;margin:2px}#help #menuContent .helpTitle{font-size:150%;margin-top:10px;margin-bottom:5px}#help_controls td,#help_controls td img{vertical-align:middle}#help_controls .key{background-color:#eee;border-radius:2px;color:#000;padding:2px;font-weight:bolder}#help_info .helpImage{width:25px;height:25px;margin-right:5px}#help_info td{text-align:left;vertical-align:middle}#help_info .zoomHelp td{vertical-align:top}#help_info img{display:block}#leaderboard{position:absolute;top:60px;right:10px;font-size:80%;color:#d9eaf2;text-shadow:0 0 3px rgba(217,234,242,.5);font-family:Audiowide,Arial,sans-serif;pointer-events:none}#leaderboard td,#leaderboard th{padding:2px 5px}#leaderboard .isMod{color:#f6d955}#leaderboard .isVerified{color:#80ff80}#leaderboard .isBot{color:#8f9ca3}#menu{position:absolute;top:0;right:-400px;width:400px;background-color:rgba(0,0,0,.9);z-index:1000;border-left:1px solid hsla(0,0%,100%,.25);color:#fff;font-family:Audiowide,Arial,sans-serif;transition:right .2s ease-out}#menu.show{right:0}#menu #menuContent{padding:20px}#menu #menuContent #menuTitle{font-size:140%;text-align:center;margin-bottom:20px}#menu #menuContent input[type=range]{width:100%;outline:none;cursor:pointer}#menu #menuContent input[type=checkbox]{margin-left:10px;height:20px;width:20px;cursor:pointer}#menu #menuContent button{width:100%;margin:2px}#menu #menuContent .gold{color:#f4da64}#menu #closeMenuButton{width:100%;margin-top:40px}#menu .buyGoldAlert{border-radius:2px;padding:10px;text-align:center;margin:10px 0;display:none}#menu #buyGoldSuccessAlert{border:1px solid rgba(75,184,20,.9);background-color:rgba(75,184,20,.3);box-shadow:0 0 3px rgba(75,184,20,.5)}#menu #buyGoldErrorAlert{border:1px solid #a11212;background-color:rgba(161,18,18,.4);box-shadow:0 0 3px rgba(161,18,18,.5)}#nowebgl{text-align:center;font-family:Audiowide,Arial,sans-serif}#nowebgl #gameTitle{font-size:300%;margin-top:40px}#nowebgl #gameTagline{margin-bottom:40px}#nowebsocket{text-align:center;font-family:Audiowide,Arial,sans-serif}#nowebsocket #gameTitle{font-size:300%;margin-top:40px}#nowebsocket #gameTagline{margin-bottom:40px}#pageContainer{padding:20px;color:#d9d9d9;overflow:auto}#privacy{padding:20px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;color:#fff}#privacy h3,#privacy p{margin-bottom:20px}#respawnUi .wideAdPanel{width:710px;height:410px;background-color:rgba(11,13,14,.6);padding:5px;border-radius:3px;border:1px solid rgba(64,149,191,.2);border-top-color:rgba(64,149,191,.8)}#satelliteLeaderboard{position:absolute;top:60px;right:10px;font-size:80%;color:#d9eaf2;text-shadow:0 0 3px rgba(217,234,242,.5);font-family:Audiowide,Arial,sans-serif;font-size:70%;pointer-events:none}#satelliteLeaderboard td,#satelliteLeaderboard th{padding:2px 5px}#satelliteLeaderboard tr.isPlayer{background-color:hsla(0,0%,100%,.15)}#satelliteLeaderboard .isMod{color:#f6d955}#satelliteLeaderboard .isVerified{color:#80ff80}#satelliteLeaderboard .isBot{color:#8f9ca3}#satelliteScoreboard{position:absolute;top:10px;margin-left:auto;margin-right:auto;left:0;right:0;color:#9cbac9;width:400px;text-align:center;font-size:80%;text-shadow:0 0 1px #9cbac9;font-family:Audiowide,Arial,sans-serif;user-select:none;cursor:default;pointer-events:none}#satelliteScoreboard .dash{font-size:200%}#satelliteScoreboard .red{color:#ff4d4d;text-shadow:0 0 5px #ff4d4d}#satelliteScoreboard .green{color:#5eed5e;text-shadow:0 0 5px #5eed5e}#satelliteScoreboard #scoreboardGreen,#satelliteScoreboard #scoreboardRed{font-size:200%}#satelliteUpgrade{font-size:0;opacity:0;transition:all .2s ease-out}#satelliteUpgrade.show{font-size:100%;opacity:1}#refreshButton{padding:2px;font-size:120%;position:absolute;right:-30px}#serverList{font-size:80%;overflow-y:auto;height:120px;position:relative}#serverList .serverGroup{margin-bottom:15px}#serverList .serverGroup .serverLocation{color:#f4da64;padding-bottom:5px}#serverList .serverGroup .gameGroup{padding:1px 0}#serverList .serverGroup .gameGroup .btnInGame{padding-top:1px;padding-bottom:1px;font-size:80%}#adgamesLogo{position:fixed;top:10px;right:10px}#moreIoGamesButton{left:10px}#bottomRightContainer,#moreIoGamesButton{position:absolute;bottom:10px;font-size:120%}#bottomRightContainer{right:10px;text-align:right;width:600px}.gamePanel{position:absolute;width:100%;top:50px;left:50%;top:30px;width:1070px;margin-left:-535px;font-family:Audiowide,Arial,sans-serif;z-index:900;color:#ebf5fa}.gamePanel .errorText{color:#f65555}.gamePanel .helpText{margin-top:5px;color:#b3d4e6}.gamePanel .centered{text-align:center}.gamePanel #selectTitle{margin-bottom:5px}.gamePanel #gameTitle{font-size:250%;text-align:center;color:#ebf5fa;text-shadow:0 0 3px #ebf5fa}.gamePanel #gameTagline{text-align:center;margin-bottom:15px;color:#add6eb;text-shadow:0 0 2px #add6eb}.gamePanel #adPanel{width:350px;text-align:center}.gamePanel #ed{margin-bottom:10px}.gamePanel .contentPanel{width:360px;float:right;padding-left:10px}.gamePanel .contentPanelBg{background-color:rgba(11,13,14,.6);padding:12px 18px;border-radius:3px;border:1px solid rgba(64,149,191,.2);border-top-color:rgba(64,149,191,.8);margin-bottom:5px}.gamePanel .contentPanelBg.centered{text-align:center}.gamePanel .contentPanelBg select{width:100%;font-family:Audiowide,Arial,sans-serif;color:#b3d4e6;background-color:#060f13;border:1px solid rgba(64,149,191,.5);border-radius:2px}.gamePanel .contentPanelBg input{margin-bottom:5px;background-color:#060f13;border:1px solid rgba(64,149,191,.5);font-size:120%}.gamePanel .contentPanelBg input:-moz-placeholder{color:#526d7a}.gamePanel .contentPanelBg input:-ms-input-placeholder{color:#526d7a}.gamePanel .contentPanelBg input::-webkit-input-placeholder{color:#526d7a}.gamePanel .contentPanelBg .helpTitle{font-size:90%;margin-bottom:5px;color:#dbc870}.gamePanel .contentPanelBg .helpText{font-size:90%}.gamePanel .contentPanelBg .pad{padding:0}#shareButtons{padding:10px;text-align:center}#shareButtons .fb-like{display:inline-block;padding-right:10px}#shareButtons .twitter-share-button{vertical-align:text-bottom!important;margin:0 12px}#shareButtons .g-plusone{display:inline-block}#moreLinksContainer{padding:20px 10px}body{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:90%;background-color:#171a1c}a{color:#52b1e0;text-decoration:none}a:hover{color:#e05252}
</style>
  <meta property="og:image" content="http://astroe.io/astroeiogame.jpg">
  <meta property="og:image:secure_url" content="http://astroe.io/astroeiogame.jpg">
  <meta property="og:image:type" content="image/jpeg">
  <meta property="og:image:width" content="511">
  <meta property="og:image:height" content="288">
<script>
  !function(){var t,e,n;(function(){t=this}).call(this),function(){var t=__meteor_runtime_config__;e=t.meteorEnv,n={isProduction:"production"===e.NODE_ENV,isDevelopment:"production"!==e.NODE_ENV,isClient:!0,isServer:!1,isCordova:!1,isModern:t.isModern},t.gitCommitHash&&(n.gitCommitHash=t.gitCommitHash),t.PUBLIC_SETTINGS&&(n.settings={public:t.PUBLIC_SETTINGS})}.call(this),function(){function e(){this._promiseInfoMap=Object.create(null)}var r=e.prototype;r._define=function t(e,n){n=n||{};for(var r=arguments.length,o=2;o<r;++o){var i=arguments[o];for(var s in i)s in n||(n[s]=i[s])}this[e]=n;var a=this._promiseInfoMap[e];return a&&a.resolve(n),n},r._has=function t(e){return Object.prototype.hasOwnProperty.call(this,e)},r._promise=function t(e){var r=this,o=r._promiseInfoMap[e];return o||((o=r._promiseInfoMap[e]={}).promise=new Promise((function(t,i){o.resolve=t,r._has(e)?t(r[e]):n.startup((function(){r._has(e)||i(new Error("Package "+e+" not installed"))}))}))),o.promise},t.Package=new e,"object"==typeof exports&&(exports.PackageRegistry=e)}.call(this),function(){if(n.isServer)var t=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(n.release=__meteor_runtime_config__.meteorRelease),n._get=function(t){for(var e=1;e<arguments.length;e++){if(!(arguments[e]in t))return;t=t[arguments[e]]}return t},n._ensure=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];n in t||(t[n]={}),t=t[n]}return t},n._delete=function(t){for(var e=[t],n=!0,r=1;r<arguments.length-1;r++){var o;if(!((o=arguments[r])in t)){n=!1;break}if("object"!=typeof(t=t[o]))break;e.push(t)}for(var r=e.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var i in e[r][o])return;delete e[r][o]}},n.wrapAsync=function(e,r){return function(){for(var i=r||this,s=Array.prototype.slice.call(arguments),a,u=s.length-1;u>=0;--u){var c=s[u],l=typeof c;if("undefined"!==l){"function"===l&&(a=c);break}}if(!a){if(n.isClient)a=o;else{var f=new t;a=f.resolver()}++u}s[u]=n.bindEnvironment(a);var p=e.apply(i,s);return f?f.wait():p}};var e=Object.prototype.hasOwnProperty;n._inherits=function(t,n){for(var r in n)e.call(n,r)&&(t[r]=n[r]);var o=function(){this.constructor=t};return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};var r=!1;function o(t){if(t)return n._debug("Exception in callback of async function",t)}n._wrapAsync=function(t,e){return r||(n._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),r=!0),n.wrapAsync.apply(n,arguments)}}.call(this),function(){"use strict";var t=this;function e(){if(t.setImmediate){var e=function(e){t.setImmediate(e)};return e.implementation="setImmediate",e}return null}function r(){if(!t.postMessage||t.importScripts)return null;var e=!0,n=t.onmessage;if(t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,!e)return null;var r=0,o={},i="Meteor._setImmediate."+Math.random()+".";function s(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function a(e){if(e.source===t&&s(e.data,i)){var n=e.data.substring(i.length);try{o[n]&&o[n]()}finally{delete o[n]}}}t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a);var u=function(e){++r,o[r]=e,t.postMessage(i+r,"*")};return u.implementation="postMessage",u}function o(){var e=function(e){t.setTimeout(e,0)};return e.implementation="setTimeout",e}n._setImmediate=e()||r()||o()}.call(this),function(){function t(t){if(Package.ddp){var e=Package.ddp.DDP,n=e._CurrentMethodInvocation||e._CurrentInvocation,r=n.get();if(r&&r.isSimulation)throw new Error("Can't set timers inside simulations");return function(){n.withValue(null,t)}}return t}function e(e,r){return n.bindEnvironment(t(r),e)}n.setTimeout=function(t,n){return setTimeout(e("setTimeout callback",t),n)},n.setInterval=function(t,n){return setInterval(e("setInterval callback",t),n)},n.clearInterval=function(t){return clearInterval(t)},n.clearTimeout=function(t){return clearTimeout(t)},n.defer=function(t){n._setImmediate(e("defer callback",t))}}.call(this),function(){n.makeErrorType=function(t,e){var r=function(){Error.captureStackTrace?Error.captureStackTrace(this,r):this.stack=(new Error).stack,e.apply(this,arguments),this.errorType=t};return n._inherits(r,Error),r},n.Error=n.makeErrorType("Meteor.Error",(function(t,e,n){var r=this;this.isClientSafe=!0,this.error=t,this.reason=e,this.details=n,this.reason?this.message=this.reason+" ["+this.error+"]":this.message="["+this.error+"]"})),n.Error.prototype.clone=function(){var t=this;return new n.Error(this.error,this.reason,this.details)}}.call(this),function(){n._noYieldsAllowed=function(t){return t()},n._SynchronousQueue=function(){var t=this;this._tasks=[],this._running=!1,this._runTimeout=null};var t=n._SynchronousQueue.prototype;t.runTask=function(t){var e=this;if(!this.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");this._tasks.push(t);var r=this._tasks;this._tasks=[],this._running=!0,this._runTimeout&&(clearTimeout(this._runTimeout),this._runTimeout=null);try{for(;r.length>0;){var o=r.shift();try{o()}catch(i){if(0===r.length)throw i;n._debug("Exception in queued task",i)}}}finally{this._running=!1}},t.queueTask=function(t){var e=this;e._tasks.push(t),e._runTimeout||(e._runTimeout=setTimeout((function(){return e.flush.apply(e,arguments)}),0))},t.flush=function(){var t=this;this.runTask((function(){}))},t.drain=function(){var t=this;if(this.safeToRunTask())for(;this._tasks.length>0;)this.flush()},t.safeToRunTask=function(){var t=this;return!this._running}}.call(this),function(){var t=[],e=!1,r=!1,o=0,i=function(){o++},s=function(){o--,a()},a=function(){if(!(r||!e||o>0)){for(r=!0;t.length;)t.shift()();n.isCordova&&WebAppLocalServer.startupDidComplete()}},u=function(){e||(e=!0,a())};n.isCordova&&(i(),document.addEventListener("deviceready",s,!1)),"complete"===document.readyState||"loaded"===document.readyState?window.setTimeout(u):document.addEventListener?(document.addEventListener("DOMContentLoaded",u,!1),window.addEventListener("load",u,!1)):(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&u()})),window.attachEvent("load",u)),n.startup=function(e){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(i){return void setTimeout((function(){n.startup(e)}),50)}e()}else r?e():t.push(e)}}.call(this),function(){var t=0;n._debug=function(){if(t)t--;else if("undefined"!=typeof console&&void 0!==console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},n._suppress_log=function(e){t+=e},n._suppressed_log_expected=function(){return 0!==t}}.call(this),function(){n._escapeRegExp=function(t){return String(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}.call(this),function(){var t;t=n.isClient?e.TEST_METADATA:process.env.TEST_METADATA;var r=JSON.parse(t||"{}"),o=r.driverPackage;n.isTest=!!r.isTest,n.isAppTest=!!r.isAppTest,n.isPackageTest=!!o&&!n.isTest&&!n.isAppTest,"string"==typeof o&&n.startup((function(){var t=Package[o];if(!t)throw new Error("Can't find test driver package: "+o);if(n.isClient){if("function"!=typeof t.runTests)throw new Error("Test driver package "+o+" missing `runTests` export");t.runTests()}else"function"==typeof t.start&&t.start()}))}.call(this),function(){var t=0,e=[];n.EnvironmentVariable=function(){this.slot=t++};var r=n.EnvironmentVariable.prototype;r.get=function(){return e[this.slot]},r.getOrNullIfOutsideFiber=function(){return this.get()},r.withValue=function(t,n){var r=e[this.slot];try{e[this.slot]=t;var o=n()}finally{e[this.slot]=r}return o},n.bindEnvironment=function(t,r,o){var i=e.slice();if(!r||"string"==typeof r){var s=r||"callback of async function";r=function(t){n._debug("Exception in "+s+":",t)}}return function(){var n=e;try{e=i;var s=t.apply(o,arguments)}catch(a){r(a)}finally{e=n}return s}},n._nodeCodeMustBeInFiber=function(){}}.call(this),function(){n.absoluteUrl=function(t,e){e||"object"!=typeof t||(e=t,t=void 0);var r=(e=Object.assign({},n.absoluteUrl.defaultOptions,e||{})).rootUrl;if(!r)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");if(/^http[s]?:\/\//i.test(r)||(r="http://"+r),r.endsWith("/")||(r+="/"),t){for(;t.startsWith("/");)t=t.slice(1);r+=t}return e.secure&&/^http:/.test(r)&&!/http:\/\/localhost[:\/]/.test(r)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(r)&&(r=r.replace(/^http:/,"https:")),e.replaceLocalhost&&(r=r.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),r};var t=n.absoluteUrl.defaultOptions={},e="object"==typeof window&&window.location;"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL?t.rootUrl=__meteor_runtime_config__.ROOT_URL:e&&e.protocol&&e.host&&(t.rootUrl=e.protocol+"//"+e.host),e&&"https:"===e.protocol&&(t.secure=!0),n._relativeToSiteRootUrl=function(t){return"object"==typeof __meteor_runtime_config__&&"/"===t.substr(0,1)&&(t=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+t),t}}.call(this),Package._define("meteor",{Meteor:n,global:t,meteorEnv:e})}();

Package._define("meteor-base");

Package._define("blaze-html-templates");

!function(){var n=Package.meteor.Meteor,t=Package.meteor.global,e=Package.meteor.meteorEnv,r,o;r=function(n){"use strict";var t=(n=n||{}).extensions||[".js",".json"],e=n.fallback,r=n.mainFields||(n.browser?["browser","main"]:["main"]),o={}.hasOwnProperty;function i(n,t){return p(n)&&m(t)&&o.call(n,t)}var u={},s=new b("/",new b("/..")),c=w(s),f,a;function l(n,t){return p(n)&&x(s,n,t),c}function d(n){this.id=n,this.children=[],this.childrenById={}}function h(n,t){return i(n,t)&&n[t]}function p(n){return null!==n&&"object"==typeof n}function v(n){return"function"==typeof n}function m(n){return"string"==typeof n}function y(n){return new Error("Cannot find module '"+n+"'")}function w(n){var t=n.module;function e(n){return t.require(n)}return e.extensions=j(n).slice(0),e.resolve=function n(e){return t.resolve(e)},e}function b(n,t){var e=this;this.parent=t=t||null,this.module=new d(n),u[n]=this,this.contents=null,this.deps={}}function g(n,t){var e=n.module;if(!i(e,"exports")){var r=n.contents;if(!r){if(n.stub)return n.stub;throw y(e.id)}if(t){e.parent=t;var o=t.children;Array.isArray(o)&&o.push(e)}r(w(n),e.exports=n.stub||{},e,n.module.id,n.parent.module.id),e.loaded=!0}var u=e.runSetters||e.runModuleSetters;return v(u)&&u.call(e),e.exports}function k(n){return n&&p(n.contents)}function P(n){return n&&null===n.contents}function x(n,t,e){Array.isArray(t)?(t.forEach((function(e){m(e)?n.deps[e]=n.module.id:v(e)?t=e:p(e)&&(n.stub=n.stub||{},E(e,(function(t,e){n.stub[e]=t})))})),v(t)||(t=null)):v(t)||m(t)||p(t)||(t=null),t&&(n.contents=n.contents||(p(t)?{}:t),p(t)&&k(n)&&E(t,(function(t,r){if(".."===r)o=n.parent;else{var o=h(n.contents,r);o||((o=n.contents[r]=new b(n.module.id.replace(/\/*$/,"/")+r,n)).options=e)}x(o,t,e)})))}function E(n,t,e){Object.keys(n).forEach((function(e){t.call(this,n[e],e)}),e)}function j(n){return n.options&&n.options.extensions||t}function O(n,t,e){for(;n&&!k(n);)n=n.parent;if(!n||!t||"."===t)return n;if(".."===t)return n.parent;var r=h(n.contents,t);if(e&&(!r||k(r)))for(var o=0;o<e.length;++o){var i=h(n.contents,t+e[o]);if(i&&!k(i))return i}return r}function I(n,t,e){var r=t.split("/");return r.every((function(t,o){return n=o<r.length-1?O(n,t):O(n,t,e)})),n}function A(n,t){var e=t&&t.module;n&&e&&(n.childrenById[e.id]=e)}function q(n,t,e,o){var e=e||n.module,i=j(n);for(n="/"===t.charAt(0)?I(s,t,i):"."===t.charAt(0)?I(n,t,i):M(n,t,i);k(n);){if((o=o||[]).indexOf(n)<0){o.push(n);var u=O(n,"package.json"),c=u&&g(u,e),f,a;if(c&&r.some((function(t){var r=c[t];if(m(r))return f=I(n,r,i)||q(n,r,e,o)}))&&f){n=f,A(e,u);continue}}n=O(n,"index",i)}return n&&m(n.contents)&&(n=q(n,n.contents,e,o)),A(e,n),n}function M(n,t,e){for(var r;n&&!r;n=n.parent)r=k(n)&&I(n,"node_modules/"+t,e);return r}return l.fetch=function(n){throw new Error("fetch not implemented")},d.prototype.prefetch=function(n){var t=this,e=h(u,t.id),r=f=f||Promise.resolve();function o(n){var t=h(u,n.id);P(t)&&!t.pending&&(t.pending=!0,(a=a||{})[n.id]={module:t.module,deps:Object.keys(t.deps),options:t.options,stub:t.stub},E(t.deps,(function(n,e){q(t,e)})),E(n.childrenById,o))}return f=new Promise((function(e){var r=t.resolve(n);E(t.childrenById,o),e(r)})).then((function(n){var t=a;function e(){t&&Object.keys(t).forEach((function(n){h(u,n).pending=!1}))}return a=null,new Promise((function(n){n(t&&l.fetch(t))})).then((function(t){function o(){return l(t),e(),n}return r.then(o,o)}),(function(n){throw e(),n}))}))},l.Module=d,d.prototype.resolve=function(n){var t=q(u[this.id],n);if(t)return t.module.id;var r=y(n);if(e&&v(e.resolve))return e.resolve(n,this.id,r);throw r},d.prototype.require=function n(t){var r=q(u[this.id],t);if(r)return g(r,this);var o=y(t);if(v(e))return e(t,this.id,o);throw o},l},"object"==typeof exports&&(exports.makeInstaller=r),function(){o=r({browser:!0,mainFields:["browser","module","main"],fallback:function(n,t,e){if(n&&n.startsWith("meteor/")){var r=n.split("/",2)[1];throw new Error('Cannot find package "'+r+'". Try "meteor add '+r+'".')}throw e}})}.call(this),function(){if("function"==typeof Profile&&process.env.METEOR_PROFILE){var n=o.Module.prototype;n.require=Profile((function(n){return"require("+JSON.stringify(n)+")"}),n.require)}}.call(this),Package._define("modules-runtime",{meteorInstall:o})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package["modules-runtime"].meteorInstall,i=n({node_modules:{meteor:{modules:{"client.js":function t(e,r){e("./install-packages.js"),e("./stubs.js"),e("./process.js"),e("./reify.js"),r.addStyles=e("./css").addStyles},"css.js":function t(e,r){var n=document,i=n.getElementsByTagName("head").item(0);r.addStyles=function(t){var e=n.createElement("style");e.setAttribute("type","text/css");var r=e.sheet||e.styleSheet;return r?r.cssText=t:e.appendChild(n.createTextNode(t)),i.appendChild(e)}},"install-packages.js":function t(e,r,t){function i(t,e){var r={};r[t+".js"]="string"==typeof e?e:function(e,r,n){n.exports=Package[t]},n({node_modules:{meteor:r}})}i("meteor"),i("meteor-base"),i("blaze-html-templates"),i("modules-runtime"),i("modules","meteor/modules/client.js"),i("modern-browsers"),i("babel-compiler"),i("ecmascript"),i("ecmascript-runtime"),i("babel-runtime","meteor/babel-runtime/babel-runtime.js"),i("promise","meteor/promise/client.js"),i("fetch","meteor/fetch/modern.js"),i("dynamic-import","meteor/dynamic-import/client.js"),i("es5-shim"),i("ecmascript-runtime-client","meteor/ecmascript-runtime-client/modern.js"),i("tracker"),i("reactive-var"),i("standard-minifier-css"),i("standard-minifier-js"),i("shell-server"),i("less"),i("base64","meteor/base64/base64.js"),i("ejson","meteor/ejson/ejson.js"),i("diff-sequence","meteor/diff-sequence/diff.js"),i("geojson-utils","meteor/geojson-utils/main.js"),i("id-map","meteor/id-map/id-map.js"),i("random","meteor/random/main_client.js"),i("mongo-id","meteor/mongo-id/id.js"),i("ordered-dict","meteor/ordered-dict/ordered_dict.js"),i("minimongo","meteor/minimongo/minimongo_client.js"),i("check","meteor/check/match.js"),i("retry","meteor/retry/retry.js"),i("callback-hook","meteor/callback-hook/hook.js"),i("ddp-common"),i("reload","meteor/reload/reload.js"),i("socket-stream-client","meteor/socket-stream-client/browser.js"),i("ddp-client","meteor/ddp-client/client/client.js"),i("ddp"),i("ddp-server"),i("allow-deny"),i("mongo"),i("reactive-dict","meteor/reactive-dict/migration.js"),i("session","meteor/session/session.js"),i("datariot:ganalytics"),i("danimal:simplerouter"),i("coffeescript"),i("practicalmeteor:chai"),i("url","meteor/url/modern.js"),i("http","meteor/http/httpcall_client.js"),i("ddp-rate-limiter"),i("localstorage"),i("jquery","meteor/jquery/main.js"),i("underscore"),i("observe-sequence"),i("deps"),i("htmljs"),i("blaze"),i("accounts-base","meteor/accounts-base/client_main.js"),i("oauth"),i("accounts-oauth"),i("service-configuration"),i("oauth2"),i("google-oauth","meteor/google-oauth/namespace.js"),i("spacebars"),i("templating-compiler"),i("templating-runtime"),i("templating"),i("accounts-ui-unstyled"),i("accounts-ui"),i("accounts-google"),i("oauth1"),i("twitter-oauth"),i("accounts-twitter"),i("meteorhacks:picker"),i("webapp","meteor/webapp/webapp_client.js"),i("livedata"),i("hot-code-push"),i("ui"),i("autoupdate","meteor/autoupdate/autoupdate_client.js")},"process.js":function i(o,s,i){if(!e.process)try{e.process=o("process")}catch(h){e.process={}}var a=e.process;t.isServer?n({node_modules:{"process.js":function(t,e,r){r.exports=a}}}):(a.platform="browser",a.nextTick=a.nextTick||t._setImmediate),"object"!=typeof a.env&&(a.env={});var u=Object.prototype.hasOwnProperty;for(var l in r)u.call(r,l)&&(a.env[l]=r[l])},"reify.js":function t(e,r,t){e("reify/lib/runtime").enable(t.constructor.prototype)},"stubs.js":function t(e){var r=!1;try{e.resolve("meteor-node-stubs"),r=!0}catch(n){}r&&e("meteor-node-stubs")},node_modules:{reify:{lib:{runtime:{"index.js":function t(e,r,t){"use strict";var n=e("./utils.js"),i=e("./entry.js");function o(t,e,r){n.setESModule(this.exports),i.getOrCreate(this.id,this);var o=this.resolve(t),s=i.getOrCreate(o);n.isObject(e)&&s.addSetters(this,e,r);var a=this.require(o);null===s.module&&(s.module={id:o,exports:a}),s.runSetters()}function s(t,e){n.setESModule(this.exports);var r=i.getOrCreate(this.id,this);r.addGetters(t,e),this.loaded&&r.runSetters()}function a(t){return this.export({default:function(){return t}},!0)}function u(t){var e=this,r="*+"===t;return function(i){"*"===t||"*+"===t?Object.keys(i).forEach((function(t){(r||"default"!==t)&&n.copyKey(t,e.exports,i)})):e.exports[t]=i}}function l(t){return i.getOrCreate(this.id,this).runSetters(),t}function h(t){return this.exportAs(t?"*+":"*")}r.enable=function(t){return t.link!==o&&(t.link=o,t.export=s,t.exportDefault=a,t.exportAs=u,t.runSetters=l,t.makeNsSetter=h,!0)}},"utils.js":function t(e,r,t){"use strict";var n="function"==typeof Object.setPrototypeOf,i="function"==typeof Symbol,o="__esModule",s=i?Symbol.for(o):null,a=i&&"symbol"==typeof Symbol.toStringTag,u="function"==typeof Object.getOwnPropertyDescriptor,l=Object.prototype.hasOwnProperty;function h(t,e,r){if(u){var n=Object.getOwnPropertyDescriptor(r,t);n.configurable=!0,Object.defineProperty(e,t,n)}else e[t]=r[t]}function c(t){if(p(t)){if(i&&l.call(t,s))return!!t[s];if(l.call(t,o))return!!t[o]}return!1}function d(t){p(t)&&(i&&(t[s]=!0),t[o]||Object.defineProperty(t,o,{configurable:!0,enumerable:!1,value:!0,writable:!1}))}function f(t){return"object"==typeof t&&null!==t}function p(t){var e=typeof t;return"function"===e||"object"===e&&null!==t}function v(){var t=Object.create(null);return a&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module",configurable:!1,enumerable:!1,writable:!1}),d(t),t}function g(t,e){return n?Object.setPrototypeOf(t,e):t.__proto__=e,t}r.copyKey=h,r.valueOrGetter=function(t,e){if(u&&l.call(t,e)){var r=Object.getOwnPropertyDescriptor(t,e);if("function"==typeof r.get)return r.get}return t[e]},r.getESModule=c,r.setESModule=d,r.isObject=f,r.isObjectLike=p,r.createNamespace=v,r.setPrototypeOf=g},"entry.js":function t(e,r,t){"use strict";var n=e("./utils.js"),i={},o={},s={},a=Object.prototype.hasOwnProperty,u=0;function l(t){this.id=t,this.module=null,this.getters=Object.create(null),this.setters=Object.create(null),this.namespace=n.createNamespace()}var h=n.setPrototypeOf(l.prototype,null),c=Object.create(null);function d(t){var e=Object.keys(t),r=e.indexOf("__esModule");return r>=0&&e.splice(r,1),e}function f(t,e){if("function"==typeof e)return e;if("string"==typeof e)return t.exportAs(e);if(Array.isArray(e))switch(e.length){case 0:return null;case 1:return f(t,e[0]);default:var r=e.map((function(e){return f(t,e)}));return function(t){r.forEach((function(e){e(t)}))}}return null}function p(t,e){var r=!1;if(null!==t.module){var i=t.module.exports;n.getESModule(i)||(t.namespace.default=i,r=!0),n.isObjectLike(i)&&((void 0===e||e.indexOf("*")>=0)&&(e=Object.keys(i)),e.forEach((function(e){a.call(t.getters,e)||r&&"default"===e||!a.call(i,e)||n.copyKey(e,t.namespace,i)})))}}function v(t,e,r,i){if("__esModule"!==e){var a=!1;if(void 0===t.last&&(t.last=Object.create(null),a=!0),"*"===e)for(var u=d(r),l=u.length,h=0;h<l;++h){var c=u[h];f(c,n.valueOrGetter(r,c))&&(a=!0)}else f(e,r)&&(a=!0);return a?i(t,e,r):void 0}function f(e,r){var n=r;return n!=n?n=o:void 0===n&&(n=s),t.last[e]!==n&&(t.last[e]=n,!0)}}function g(t,e,r){var n=!0;void 0===e&&(e=Object.keys(t.setters),n=!1);for(var i=e.length,o=0;o<i;++o){var s=e[o];if(!n||a.call(t.setters,s))for(var u=t.setters[s],l=Object.keys(u),h=l.length,c=0;c<h;++c){var d=l[c],f=y(t,s);v(u[d],s,f,r);var p=t.getters[s];"function"==typeof p&&p.runCount>0&&p.constant&&delete u[d]}}}function y(t,e){if("*"===e)return t.namespace;if(a.call(t.namespace,e))return t.namespace[e];if(null!==t.module){var r=t.module.exports;if("default"===e&&!(n.getESModule(r)&&"default"in r))return r;if(null!=r)return r[e]}}function _(){return Math.random().toString(36).replace("0.",++u+"$")}function m(t,e){var r=t.getters[e];try{var n=r();return++r.runCount,n}catch(o){}return i}l.getOrCreate=function(t,e){var r=a.call(c,t)?c[t]:c[t]=new l(t);return n.isObject(e)&&e.id===r.id&&(r.module=e),r},h.addGetters=function(t,e){var r=d(t),n=r.length;e=!!e;for(var i=0;i<n;++i){var o=r[i],s=t[o];"function"!=typeof s||o in this.getters||(this.getters[o]=s,s.constant=e,s.runCount=0)}},h.addSetters=function(t,e,r){var n=d(e),i=n.length;if(i){r=void 0===r?_():t.id+":"+r;for(var o=this,s=0;s<i;++s){var a=n[s],u=f(t,e[a]);"function"==typeof u&&(u.parent=t,a in this.setters||(this.setters[a]=Object.create(null)),this.setters[a][r]=u)}this.runSetters(n)}},h.runGetters=function(t){p(this,t),(void 0===t||t.indexOf("*")>=0)&&(t=Object.keys(this.getters));for(var e=t.length,r=0;r<e;++r){var n=t[r],o=m(this,n);o!==i&&(this.namespace[n]=o,this.module.exports[n]=o)}},h.runSetters=function(t){var e;if(this.runGetters(t),g(this,t,(function(t,r,n){void 0===e&&(e=Object.create(null)),e[t.parent.id]=t.parent,t(n,r)})),e)for(var r=Object.keys(e),n=r.length,i=0;i<n;++i){var o=e[r[i]],s=c[o.id];s&&s.runSetters()}},t.exports=l}}}}}}}}},{extensions:[".js",".json"]});n({node_modules:{howler:{"package.json":function t(e,r,t){t.exports={name:"howler",version:"2.1.3",main:"dist/howler.js"}},dist:{"howler.js":function t(r,n){
/*!
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function(){"use strict";var t=function(){this.init()};t.prototype={init:function(){var t=this||r;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||r;if(t=parseFloat(t),e.ctx||c(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,r.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var i=e._howls[n]._getSoundIds(),o=0;o<i.length;o++){var s=e._howls[n]._soundById(i[o]);s&&s._node&&(s._node.volume=s._volume*t)}return e}return e._volume},mute:function(t){var e=this||r;e.ctx||c(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,r.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var i=e._howls[n]._getSoundIds(),o=0;o<i.length;o++){var s=e._howls[n]._soundById(i[o]);s&&s._node&&(s._node.muted=!!t||s._muted)}return e},unload:function(){for(var t=this||r,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,c()),t},codecs:function(t){return(this||r)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||r;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{var e;void 0===(e=new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(n){t.noAudio=!0}else t.noAudio=!0;try{var e;(e=new Audio).muted&&(t.noAudio=!0)}catch(n){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||r,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(s){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),o=i&&parseInt(i[0].split("/")[1],10)<33;return t._codecs={mp3:!(o||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||r;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(r){for(var n=0;n<t.html5PoolSize;n++)try{var i=new Audio;i._unlocked=!0,t._releaseHtml5Audio(i)}catch(r){t.noAudio=!0}for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),s=0;s<o.length;s++){var a=t._howls[n]._soundById(o[s]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}t._autoResume();var u=t.ctx.createBufferSource();u.buffer=t._scratchBuffer,u.connect(t.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),u.onended=function(){u.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0);for(var r=0;r<t._howls.length;r++)t._howls[r]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),t}},_obtainHtml5Audio:function(){var t=this||r;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||r;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&r.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then((function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())})))}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&r.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var r=new t,i=function(t){var e=this;t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};i.prototype={init:function(t){var e=this;return r.ctx||c(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhrWithCredentials=t.xhrWithCredentials||!1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=r.usingWebAudio&&!e._html5,void 0!==r.ctx&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=this,e=null;if(r.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var n=0;n<this._src.length;n++){var i,s;if(this._format&&this._format[n])i=this._format[n];else{if("string"!=typeof(s=this._src[n])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(i=/^data:audio\/([^;,]+);/i.exec(s))||(i=/\.([^.]+)$/.exec(s.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(i||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),i&&r.codecs(i)){e=this._src[n];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new o(this),this._webAudio&&a(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var n=this,i=null;if("number"==typeof t)i=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if(void 0===t&&(t="__default",!n._playLock)){for(var o=0,s=0;s<n._sounds.length;s++)n._sounds[s]._paused&&!n._sounds[s]._ended&&(o++,i=n._sounds[s]._id);1===o?t=null:i=null}}var a=i?n._soundById(i):n._inactiveSound();if(!a)return null;if(i&&!t&&(t=a._sprite||"__default"),"loaded"!==n._state){a._sprite=t,a._ended=!1;var u=a._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(i&&!a._paused)return e||n._loadQueue("play"),a._id;n._webAudio&&r._autoResume();var l=Math.max(0,a._seek>0?a._seek:n._sprite[t][0]/1e3),h=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-l),c=1e3*h/Math.abs(a._rate),d=n._sprite[t][0]/1e3,f=(n._sprite[t][0]+n._sprite[t][1])/1e3;a._sprite=t,a._ended=!1;var p=function(){a._paused=!1,a._seek=l,a._start=d,a._stop=f,a._loop=!(!a._loop&&!n._sprite[t][2])};if(!(l>=f)){var v=a._node;if(n._webAudio){var g=function(){n._playLock=!1,p(),n._refreshBuffer(a);var t=a._muted||n._muted?0:a._volume;v.gain.setValueAtTime(t,r.ctx.currentTime),a._playStart=r.ctx.currentTime,void 0===v.bufferSource.start?a._loop?v.bufferSource.noteGrainOn(0,l,86400):v.bufferSource.noteGrainOn(0,l,h):a._loop?v.bufferSource.start(0,l,86400):v.bufferSource.start(0,l,h),c!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),c)),e||setTimeout((function(){n._emit("play",a._id),n._loadQueue()}),0)};"running"===r.state?g():(n._playLock=!0,n.once("resume",g),n._clearTimer(a._id))}else{var y=function(){v.currentTime=l,v.muted=a._muted||n._muted||r._muted||v.muted,v.volume=a._volume*r.volume(),v.playbackRate=a._rate;try{var i=v.play();if(i&&"undefined"!=typeof Promise&&(i instanceof Promise||"function"==typeof i.then)?(n._playLock=!0,p(),i.then((function(){n._playLock=!1,v._unlocked=!0,e||(n._emit("play",a._id),n._loadQueue())})).catch((function(){n._playLock=!1,n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0}))):e||(n._playLock=!1,p(),n._emit("play",a._id),n._loadQueue()),v.playbackRate=a._rate,v.paused)return void n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),c):(n._endTimers[a._id]=function(){n._ended(a),v.removeEventListener("ended",n._endTimers[a._id],!1)},v.addEventListener("ended",n._endTimers[a._id],!1))}catch(o){n._emit("playerror",a._id,o)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===v.src&&(v.src=n._src,v.load());var _=window&&window.ejecta||!v.readyState&&r._navigator.isCocoonJS;if(v.readyState>=3||_)y();else{n._playLock=!0;var m=function(){y(),v.removeEventListener(r._canPlayEvent,m,!1)};v.addEventListener(r._canPlayEvent,m,!1),n._clearTimer(a._id)}}return a._id}n._ended(a)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var r=e._getSoundIds(t),n=0;n<r.length;n++){e._clearTimer(r[n]);var i=e._soundById(r[n]);if(i&&!i._paused&&(i._seek=e.seek(r[n]),i._rateSeek=0,i._paused=!0,e._stopFade(r[n]),i._node))if(e._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),e._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||e._emit("pause",i?i._id:null)}return e},stop:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(t)}}),r;for(var n=r._getSoundIds(t),i=0;i<n.length;i++){r._clearTimer(n[i]);var o=r._soundById(n[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,r._stopFade(n[i]),o._node&&(r._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),r._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&r._clearSound(o._node))),e||r._emit("stop",o._id))}return r},mute:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if(void 0===e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var i=n._getSoundIds(e),o=0;o<i.length;o++){var s=n._soundById(i[o]);s&&(s._muted=t,s._interval&&n._stopFade(s._id),n._webAudio&&s._node?s._node.gain.setValueAtTime(t?0:s._volume,r.ctx.currentTime):s._node&&(s._node.muted=!!r._muted||t),n._emit("mute",s._id))}return n},volume:function(){var t=this,e=arguments,n,i,o;if(0===e.length)return t._volume;if(1===e.length||2===e.length&&void 0===e[1]){var s=t._getSoundIds(),a=s.indexOf(e[0]);a>=0?i=parseInt(e[0],10):n=parseFloat(e[0])}else e.length>=2&&(n=parseFloat(e[0]),i=parseInt(e[1],10));if(!(void 0!==n&&n>=0&&n<=1))return(o=i?t._soundById(i):t._sounds[0])?o._volume:0;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"volume",action:function(){t.volume.apply(t,e)}}),t;void 0===i&&(t._volume=n),i=t._getSoundIds(i);for(var u=0;u<i.length;u++)(o=t._soundById(i[u]))&&(o._volume=n,e[2]||t._stopFade(i[u]),t._webAudio&&o._node&&!o._muted?o._node.gain.setValueAtTime(n,r.ctx.currentTime):o._node&&!o._muted&&(o._node.volume=n*r.volume()),t._emit("volume",o._id));return t},fade:function(t,e,n,i){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(t,e,n,i)}}),o;t=parseFloat(t),e=parseFloat(e),n=parseFloat(n),o.volume(t,i);for(var s=o._getSoundIds(i),a=0;a<s.length;a++){var u=o._soundById(s[a]);if(u){if(i||o._stopFade(s[a]),o._webAudio&&!u._muted){var l=r.ctx.currentTime,h=l+n/1e3;u._volume=t,u._node.gain.setValueAtTime(t,l),u._node.gain.linearRampToValueAtTime(e,h)}o._startFadeInterval(u,t,e,n,s[a],void 0===i)}}return o},_startFadeInterval:function(t,e,r,n,i,o){var s=this,a=e,u=r-e,l=Math.abs(u/.01),h=Math.max(4,l>0?n/l:n),c=Date.now();t._fadeTo=r,t._interval=setInterval((function(){var i=(Date.now()-c)/n;c=Date.now(),a+=u*i,a=Math.max(0,a),a=Math.min(1,a),a=Math.round(100*a)/100,s._webAudio?t._volume=a:s.volume(a,t._id,!0),o&&(s._volume=a),(r<e&&a<=r||r>e&&a>=r)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,s.volume(r,t._id),s._emit("fade",t._id))}),h)},_stopFade:function(t){var e=this,n=this._soundById(t);return n&&n._interval&&(this._webAudio&&n._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(n._interval),n._interval=null,this.volume(n._fadeTo,t),n._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t=this,e=arguments,r,n,i;if(0===e.length)return t._loop;if(1===e.length){if("boolean"!=typeof e[0])return!!(i=t._soundById(parseInt(e[0],10)))&&i._loop;r=e[0],t._loop=r}else 2===e.length&&(r=e[0],n=parseInt(e[1],10));for(var o=t._getSoundIds(n),s=0;s<o.length;s++)(i=t._soundById(o[s]))&&(i._loop=r,t._webAudio&&i._node&&i._node.bufferSource&&(i._node.bufferSource.loop=r,r&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop)));return t},rate:function(){var t=this,e=arguments,n,i,o;if(0===e.length)i=t._sounds[0]._id;else if(1===e.length){var s=t._getSoundIds(),a=s.indexOf(e[0]);a>=0?i=parseInt(e[0],10):n=parseFloat(e[0])}else 2===e.length&&(n=parseFloat(e[0]),i=parseInt(e[1],10));if("number"!=typeof n)return(o=t._soundById(i))?o._rate:t._rate;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"rate",action:function(){t.rate.apply(t,e)}}),t;void 0===i&&(t._rate=n),i=t._getSoundIds(i);for(var u=0;u<i.length;u++)if(o=t._soundById(i[u])){t.playing(i[u])&&(o._rateSeek=t.seek(i[u]),o._playStart=t._webAudio?r.ctx.currentTime:o._playStart),o._rate=n,t._webAudio&&o._node&&o._node.bufferSource?o._node.bufferSource.playbackRate.setValueAtTime(n,r.ctx.currentTime):o._node&&(o._node.playbackRate=n);var l=t.seek(i[u]),h=(t._sprite[o._sprite][0]+t._sprite[o._sprite][1])/1e3-l,c=1e3*h/Math.abs(o._rate);!t._endTimers[i[u]]&&o._paused||(t._clearTimer(i[u]),t._endTimers[i[u]]=setTimeout(t._ended.bind(t,o),c)),t._emit("rate",o._id)}return t},seek:function(){var t=this,e=arguments,n,i;if(0===e.length)i=t._sounds[0]._id;else if(1===e.length){var o=t._getSoundIds(),s=o.indexOf(e[0]);s>=0?i=parseInt(e[0],10):t._sounds.length&&(i=t._sounds[0]._id,n=parseFloat(e[0]))}else 2===e.length&&(n=parseFloat(e[0]),i=parseInt(e[1],10));if(void 0===i)return t;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"seek",action:function(){t.seek.apply(t,e)}}),t;var a=t._soundById(i);if(a){if(!("number"==typeof n&&n>=0)){if(t._webAudio){var u=t.playing(i)?r.ctx.currentTime-a._playStart:0,l=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(l+u*Math.abs(a._rate))}return a._node.currentTime}var h=t.playing(i);h&&t.pause(i,!0),a._seek=n,a._ended=!1,t._clearTimer(i),t._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=n);var c=function(){t._emit("seek",i),h&&t.play(i,!0)};if(h&&!t._webAudio){var d=function(){t._playLock?setTimeout(d,0):c()};setTimeout(d,0)}else c()}return t},playing:function(t){var e=this;if("number"==typeof t){var r=this._soundById(t);return!!r&&!r._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(t){var e=this,r=this._duration,n=this._soundById(t);return n&&(r=this._sprite[n._sprite][1]/1e3),r},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++)e[n]._paused||t.stop(e[n]._id),t._webAudio||(t._clearSound(e[n]._node),e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(r._canPlayEvent,e[n]._loadFn,!1),r._releaseHtml5Audio(e[n]._node)),delete e[n]._node,t._clearTimer(e[n]._id);var i=r._howls.indexOf(t);i>=0&&r._howls.splice(i,1);var o=!0;for(n=0;n<r._howls.length;n++)if(r._howls[n]._src===t._src||t._src.indexOf(r._howls[n]._src)>=0){o=!1;break}return s&&o&&delete s[t._src],r.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,r,n){var i=this,o=this["_on"+t];return"function"==typeof e&&o.push(n?{id:r,fn:e,once:n}:{id:r,fn:e}),this},off:function(t,e,r){var n=this,i=this["_on"+t],o=0;if("number"==typeof e&&(r=e,e=null),e||r)for(o=0;o<i.length;o++){var s=r===i[o].id;if(e===i[o].fn&&s||!e&&s){i.splice(o,1);break}}else if(t)this["_on"+t]=[];else{var a=Object.keys(this);for(o=0;o<a.length;o++)0===a[o].indexOf("_on")&&Array.isArray(this[a[o]])&&(this[a[o]]=[])}return this},once:function(t,e,r){var n=this;return this.on(t,e,r,1),this},_emit:function(t,e,r){for(var n=this,i=this["_on"+t],o=i.length-1;o>=0;o--)i[o].id&&i[o].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,r)}.bind(this,i[o].fn),0),i[o].once&&this.off(t,i[o].fn,i[o].id));return this._loadQueue(t),this},_loadQueue:function(t){var e=this;if(this._queue.length>0){var r=this._queue[0];r.event===t&&(this._queue.shift(),this._loadQueue()),t||r.action()}return this},_ended:function(t){var e=this,n=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var i=!(!t._loop&&!this._sprite[n][2]);if(this._emit("end",t._id),!this._webAudio&&i&&this.stop(t._id,!0).play(t._id),this._webAudio&&i){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=r.ctx.currentTime;var o=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),o)}return this._webAudio&&!i&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),r._autoSuspend()),this._webAudio||i||this.stop(t._id,!0),this},_clearTimer:function(t){var e=this;if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var r=this._soundById(t);r&&r._node&&r._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=this,r=0;r<this._sounds.length;r++)if(t===this._sounds[r]._id)return this._sounds[r];return null},_inactiveSound:function(){var t=this;this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new o(this)},_drain:function(){var t=this,e=this._pool,r=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&r++;for(n=this._sounds.length-1;n>=0;n--){if(r<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),r--)}}},_getSoundIds:function(t){var e=this;if(void 0===t){for(var r=[],n=0;n<this._sounds.length;n++)r.push(this._sounds[n]._id);return r}return[t]},_refreshBuffer:function(t){var e=this;return t._node.bufferSource=r.ctx.createBufferSource(),t._node.bufferSource.buffer=s[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,r.ctx.currentTime),this},_cleanBuffer:function(t){var e=this,n=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),n))try{t.bufferSource.buffer=r._scratchBuffer}catch(i){}return t.bufferSource=null,this},_clearSound:function(t){var e;/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(t){this._parent=t,this.init()};o.prototype={init:function(){var t=this,e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++r._counter,e._sounds.push(this),this.create(),this},create:function(){var t=this,e=this._parent,n=r._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),this._node.gain.setValueAtTime(n,r.ctx.currentTime),this._node.paused=!0,this._node.connect(r.masterGain)):r.noAudio||(this._node=r._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(r._canPlayEvent,this._loadFn,!1),this._node.src=e._src,this._node.preload="auto",this._node.volume=n*r.volume(),this._node.load()),this},reset:function(){var t=this,e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++r._counter,this},_errorListener:function(){var t=this;this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this,e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(r._canPlayEvent,this._loadFn,!1)}};var s={},a=function(t){var e=t._src;if(s[e])return t._duration=s[e].duration,void h(t);if(/^data:[^;]+;base64,/.test(e)){for(var r=atob(e.split(",")[1]),n=new Uint8Array(r.length),i=0;i<r.length;++i)n[i]=r.charCodeAt(i);l(n.buffer,t)}else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.withCredentials=t._xhrWithCredentials,o.responseType="arraybuffer",o.onload=function(){var e=(o.status+"")[0];"0"===e||"2"===e||"3"===e?l(o.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete s[e],t.load())},u(o)}},u=function(t){try{t.send()}catch(e){t.onerror()}},l=function(t,e){var n=function(){e._emit("loaderror",null,"Decoding audio data failed.")},i=function(t){t&&e._sounds.length>0?(s[e._src]=t,h(e,t)):n()};"undefined"!=typeof Promise&&1===r.ctx.decodeAudioData.length?r.ctx.decodeAudioData(t).then(i).catch(n):r.ctx.decodeAudioData(t,i,n)},h=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},c=function(){if(r.usingWebAudio){try{"undefined"!=typeof AudioContext?r.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(o){r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),e=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var i=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());(r._navigator&&r._navigator.standalone&&!i||r._navigator&&!r._navigator.standalone&&!i)&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};"function"==typeof define&&define.amd&&define([],(function(){return{Howler:r,Howl:i}})),void 0!==n&&(n.Howler=r,n.Howl=i),"undefined"!=typeof window?(window.HowlerGlobal=t,window.Howler=r,window.Howl=i,window.Sound=o):void 0!==e&&(e.HowlerGlobal=t,e.Howler=r,e.Howl=i,e.Sound=o)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!this.ctx||!this.ctx.listener)return this;for(var r=this._howls.length-1;r>=0;r--)this._howls[r].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,r){var n=this;return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,r="number"!=typeof r?this._pos[2]:r,"number"!=typeof t?this._pos:(this._pos=[t,e,r],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,r,n,i,o){var s=this;if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return e="number"!=typeof e?a[1]:e,r="number"!=typeof r?a[2]:r,n="number"!=typeof n?a[3]:n,i="number"!=typeof i?a[4]:i,o="number"!=typeof o?a[5]:o,"number"!=typeof t?a:(this._orientation=[t,e,r,n,i,o],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,r,n,i,o),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){var r=this;return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,r){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(t,r)}}),n;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===r){if("number"!=typeof t)return n._stereo;n._stereo=t,n._pos=[t,0,0]}for(var o=n._getSoundIds(r),s=0;s<o.length;s++){var a=n._soundById(o[s]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||e(a,i),"spatial"===i?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(t,0,0):a._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),n._emit("stereo",a._id)}}return n},Howl.prototype.pos=function(t,r,n,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(t,r,n,i)}}),o;if(r="number"!=typeof r?0:r,n="number"!=typeof n?-.5:n,void 0===i){if("number"!=typeof t)return o._pos;o._pos=[t,r,n]}for(var s=o._getSoundIds(i),a=0;a<s.length;a++){var u=o._soundById(s[a]);if(u){if("number"!=typeof t)return u._pos;u._pos=[t,r,n],u._node&&(u._panner&&!u._panner.pan||e(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):u._panner.setPosition(t,r,n)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(t,r,n,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(t,r,n,i)}}),o;if(r="number"!=typeof r?o._orientation[1]:r,n="number"!=typeof n?o._orientation[2]:n,void 0===i){if("number"!=typeof t)return o._orientation;o._orientation=[t,r,n]}for(var s=o._getSoundIds(i),a=0;a<s.length;a++){var u=o._soundById(s[a]);if(u){if("number"!=typeof t)return u._orientation;u._orientation=[t,r,n],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),e(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):u._panner.setOrientation(t,r,n)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var t=this,r=arguments,n,i,o;if(!t._webAudio)return t;if(0===r.length)return t._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(o=t._soundById(parseInt(r[0],10)))?o._pannerAttr:t._pannerAttr;n=r[0],void 0===i&&(n.pannerAttr||(n.pannerAttr={coneInnerAngle:n.coneInnerAngle,coneOuterAngle:n.coneOuterAngle,coneOuterGain:n.coneOuterGain,distanceModel:n.distanceModel,maxDistance:n.maxDistance,refDistance:n.refDistance,rolloffFactor:n.rolloffFactor,panningModel:n.panningModel}),t._pannerAttr={coneInnerAngle:void 0!==n.pannerAttr.coneInnerAngle?n.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:void 0!==n.pannerAttr.coneOuterAngle?n.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:void 0!==n.pannerAttr.coneOuterGain?n.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:void 0!==n.pannerAttr.distanceModel?n.pannerAttr.distanceModel:t._distanceModel,maxDistance:void 0!==n.pannerAttr.maxDistance?n.pannerAttr.maxDistance:t._maxDistance,refDistance:void 0!==n.pannerAttr.refDistance?n.pannerAttr.refDistance:t._refDistance,rolloffFactor:void 0!==n.pannerAttr.rolloffFactor?n.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:void 0!==n.pannerAttr.panningModel?n.pannerAttr.panningModel:t._panningModel})}else 2===r.length&&(n=r[0],i=parseInt(r[1],10));for(var s=t._getSoundIds(i),a=0;a<s.length;a++)if(o=t._soundById(s[a])){var u=o._pannerAttr;u={coneInnerAngle:void 0!==n.coneInnerAngle?n.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==n.coneOuterAngle?n.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==n.coneOuterGain?n.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==n.distanceModel?n.distanceModel:u.distanceModel,maxDistance:void 0!==n.maxDistance?n.maxDistance:u.maxDistance,refDistance:void 0!==n.refDistance?n.refDistance:u.refDistance,rolloffFactor:void 0!==n.rolloffFactor?n.rolloffFactor:u.rolloffFactor,panningModel:void 0!==n.panningModel?n.panningModel:u.panningModel};var l=o._panner;l?(l.coneInnerAngle=u.coneInnerAngle,l.coneOuterAngle=u.coneOuterAngle,l.coneOuterGain=u.coneOuterGain,l.distanceModel=u.distanceModel,l.maxDistance=u.maxDistance,l.refDistance=u.refDistance,l.rolloffFactor=u.rolloffFactor,l.panningModel=u.panningModel):(o._pos||(o._pos=t._pos||[0,0,-.5]),e(o,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var e=this,r=this._parent;this._orientation=r._orientation,this._stereo=r._stereo,this._pos=r._pos,this._pannerAttr=r._pannerAttr,t.call(this),this._stereo?r.stereo(this._stereo):this._pos&&r.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,r=this._parent;return this._orientation=r._orientation,this._stereo=r._stereo,this._pos=r._pos,this._pannerAttr=r._pannerAttr,this._stereo?r.stereo(this._stereo):this._pos?r.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,r._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}}},"pixi.js":{dist:{"pixi.js":function t(r,n,t){
/*!
 * pixi.js - v4.8.9
 * Compiled Thu, 16 Jan 2020 21:39:39 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(r){if("object"==typeof n&&void 0!==t)t.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var i;(i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).PIXI=r()}}((function(){var t,n,i;return function(){function t(e,n,i){function o(a,u){if(!n[a]){if(!e[a]){var l="function"==typeof r&&r;if(!u&&l)return l(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){var r=e[a][1][t];return o(r||t)}),c,c.exports,t,e,n,i)}return n[a].exports}for(var s="function"==typeof r&&r,a=0;a<i.length;a++)o(i[a]);return o}return t}()({1:[function(t,e,r){"use strict";var n=32;function i(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1<<31,r.sign=function(t){return(t>0)-(t<0)},r.abs=function(t){var e=t>>31;return(t^e)-e},r.min=function(t,e){return e^(t^e)&-(t<e)},r.max=function(t,e){return t^(t^e)&-(t<e)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},r.countTrailingZeros=i,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var o=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(o),r.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},r.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},r.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},r.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},r.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},r.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},{}],2:[function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n=e&&e.length,o=n?e[0]*r:t.length,a=i(t,0,o,r,!0),u=[],l,h,d,f,p,v,g;if(!a||a.next===a.prev)return u;if(n&&(a=c(t,e,a,r)),t.length>80*r){l=d=t[0],h=f=t[1];for(var y=r;y<o;y+=r)(p=t[y])<l&&(l=p),(v=t[y+1])<h&&(h=v),p>d&&(d=p),v>f&&(f=v);g=0!==(g=Math.max(d-l,f-h))?1/g:0}return s(a,u,r,l,h,g),u}function i(t,e,r,n,i){var o,s;if(i===R(t,e,r,n)>0)for(o=e;o<r;o+=n)s=P(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=P(o,t[o],t[o+1],s);return s&&T(s,s.next)&&(A(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r=t,n;do{if(n=!1,r.steiner||!T(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(A(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function s(t,e,r,n,i,c,d){if(t){!d&&c&&v(t,n,i,c);for(var f=t,p,g;t.prev!==t.next;)if(p=t.prev,g=t.next,c?u(t,n,i,c):a(t))e.push(p.i/r),e.push(t.i/r),e.push(g.i/r),A(t),t=g.next,f=g.next;else if((t=g)===f){d?1===d?s(t=l(t,e,r),e,r,n,i,c,2):2===d&&h(t,e,r,n,i,c):s(o(t),e,r,n,i,c,1);break}}}function a(t){var e=t.prev,r=t,n=t.next;if(x(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(m(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,s=t.next;if(x(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,l=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,h=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=y(a,u,e,r,n),d=y(l,h,e,r,n),f=t.prevZ,p=t.nextZ;f&&f.z>=c&&p&&p.z<=d;){if(f!==t.prev&&f!==t.next&&m(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==t.prev&&p!==t.next&&m(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&m(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=d;){if(p!==t.prev&&p!==t.next&&m(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function l(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!T(i,o)&&w(i,n,n.next,o)&&S(i,o)&&S(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),A(n),A(n.next),n=t=o),n=n.next}while(n!==t);return n}function h(t,e,r,n,i,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&b(u,l)){var h=M(u,l);return u=o(u,u.next),h=o(h,h.next),s(u,e,r,n,i,a),void s(h,e,r,n,i,a)}l=l.next}u=u.next}while(u!==t)}function c(t,e,r,n){var s=[],a,u,l,h,c;for(a=0,u=e.length;a<u;a++)(c=i(t,l=e[a]*n,h=a<u-1?e[a+1]*n:t.length,n,!1))===c.next&&(c.steiner=!0),s.push(_(c));for(s.sort(d),a=0;a<s.length;a++)f(s[a],r),r=o(r,r.next);return r}function d(t,e){return t.x-e.x}function f(t,e){if(e=p(t,e)){var r=M(e,t);o(r,r.next)}}function p(t,e){var r=e,n=t.x,i=t.y,o=-1/0,s;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o){if(o=a,a===n){if(i===r.y)return r;if(i===r.next.y)return r.next}s=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!s)return null;if(n===o)return s.prev;var u=s,l=s.x,h=s.y,c=1/0,d;for(r=s.next;r!==u;)n>=r.x&&r.x>=l&&n!==r.x&&m(i<h?n:o,i,l,h,i<h?o:n,i,r.x,r.y)&&((d=Math.abs(i-r.y)/(n-r.x))<c||d===c&&r.x>s.x)&&S(r,t)&&(s=r,c=d),r=r.next;return s}function v(t,e,r,n){var i=t;do{null===i.z&&(i.z=y(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,g(i)}function g(t){var e,r,n,i,o,s,a,u,l=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<l&&(a++,n=n.nextZ);e++);for(u=l;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(s>1);return t}function y(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function _(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function m(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&S(t,e)&&S(e,t)&&O(t,e)}function x(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function T(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,r,n){return!!(T(t,e)&&T(r,n)||T(t,n)&&T(r,e))||x(t,e,r)>0!=x(t,e,n)>0&&x(r,n,t)>0!=x(r,n,e)>0}function E(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&w(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function S(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function O(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}function M(t,e){var r=new C(t.i,t.x,t.y),n=new C(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function P(t,e,r,n){var i=new C(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function C(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function R(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}e.exports=n,e.exports.default=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(R(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,h=a<u-1?e[a+1]*r:t.length;s-=Math.abs(R(t,l,h,r))}var c=0;for(a=0;a<n.length;a+=3){var d=n[a]*r,f=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},{}],3:[function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),a.prototype.eventNames=function t(){var e=[],r,o;if(0===this._eventsCount)return e;for(o in r=this._events)n.call(r,o)&&e.push(i?o.slice(1):o);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e},a.prototype.listeners=function t(e,r){var n=i?i+e:e,o=this._events[n];if(r)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var s=0,a=o.length,u=new Array(a);s<a;s++)u[s]=o[s].fn;return u},a.prototype.emit=function t(e,r,n,o,s,a){var u=i?i+e:e;if(!this._events[u])return!1;var l=this._events[u],h=arguments.length,c,d;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,r),!0;case 3:return l.fn.call(l.context,r,n),!0;case 4:return l.fn.call(l.context,r,n,o),!0;case 5:return l.fn.call(l.context,r,n,o,s),!0;case 6:return l.fn.call(l.context,r,n,o,s,a),!0}for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];l.fn.apply(l.context,c)}else{var f=l.length,p;for(d=0;d<f;d++)switch(l[d].once&&this.removeListener(e,l[d].fn,void 0,!0),h){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,r);break;case 3:l[d].fn.call(l[d].context,r,n);break;case 4:l[d].fn.call(l[d].context,r,n,o);break;default:if(!c)for(p=1,c=new Array(h-1);p<h;p++)c[p-1]=arguments[p];l[d].fn.apply(l[d].context,c)}}return!0},a.prototype.on=function t(e,r,n){var o=new s(r,n||this),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function t(e,r,n){var o=new s(r,n||this,!0),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function t(e,r,n,s){var a=i?i+e:e;if(!this._events[a])return this;if(!r)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var u=this._events[a];if(u.fn)u.fn!==r||s&&!u.once||n&&u.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var l=0,h=[],c=u.length;l<c;l++)(u[l].fn!==r||s&&!u[l].once||n&&u[l].context!==n)&&h.push(u[l]);h.length?this._events[a]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function t(e){var r;return e?(r=i?i+e:e,this._events[r]&&(0==--this._eventsCount?this._events=new o:delete this._events[r])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function t(){return this},a.prefixed=i,a.EventEmitter=a,void 0!==e&&(e.exports=a)},{}],4:[function(t,e,r){!function(t){var r=/iPhone/i,n=/iPod/i,i=/iPad/i,o=/\bAndroid(?:.+)Mobile\b/i,s=/Android/i,a=/\bAndroid(?:.+)SD4930UR\b/i,u=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,l=/Windows Phone/i,h=/\bWindows(?:.+)ARM\b/i,c=/BlackBerry/i,d=/BB10/i,f=/Opera Mini/i,p=/\b(CriOS|Chrome)(?:.+)Mobile/i,v=/\Mobile(?:.+)Firefox\b/i;function g(t,e){return t.test(e)}function y(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),y=e.split("[FBAN");void 0!==y[1]&&(e=y[0]),void 0!==(y=e.split("Twitter"))[1]&&(e=y[0]);var _={apple:{phone:g(r,e)&&!g(l,e),ipod:g(n,e),tablet:!g(r,e)&&g(i,e)&&!g(l,e),device:(g(r,e)||g(n,e)||g(i,e))&&!g(l,e)},amazon:{phone:g(a,e),tablet:!g(a,e)&&g(u,e),device:g(a,e)||g(u,e)},android:{phone:!g(l,e)&&g(a,e)||!g(l,e)&&g(o,e),tablet:!g(l,e)&&!g(a,e)&&!g(o,e)&&(g(u,e)||g(s,e)),device:!g(l,e)&&(g(a,e)||g(u,e)||g(o,e)||g(s,e))},windows:{phone:g(l,e),tablet:g(h,e),device:g(l,e)||g(h,e)},other:{blackberry:g(c,e),blackberry10:g(d,e),opera:g(f,e),firefox:g(v,e),chrome:g(p,e),device:g(c,e)||g(d,e)||g(f,e)||g(v,e)||g(p,e)}};return _.any=_.apple.device||_.android.device||_.windows.device||_.other.device,_.phone=_.apple.phone||_.android.phone||_.windows.phone,_.tablet=_.apple.tablet||_.android.tablet||_.windows.tablet,_}void 0!==e&&e.exports&&"undefined"==typeof window?e.exports=y:void 0!==e&&e.exports&&"undefined"!=typeof window?e.exports=y():t.isMobile=y()}(this)},{}],5:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return n(t,[{key:"detach",value:function t(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){i(this,t),this._head=this._tail=void 0}return n(t,[{key:"handlers",value:function t(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n}},{key:"has",value:function t(e){if(!(e instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function t(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function t(e){var r=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(e,!1,r))}},{key:"once",value:function t(e){var r=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(e,!0,r))}},{key:"detach",value:function t(e){if(!(e instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)}},{key:"detachAll",value:function t(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),t}();a.MiniSignalBinding=o,r.default=a,e.exports=r.default},{}],6:[function(t,e,r){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function a(){try{if(!Object.assign)return!1;var t=new String("abc"),e;if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var r={},n=0;n<10;n++)r["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(r).map((function(t){return r[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}e.exports=a()?Object.assign:function(t,e){for(var r,a=s(t),u,l=1;l<arguments.length;l++){for(var h in r=Object(arguments[l]))i.call(r,h)&&(a[h]=r[h]);if(n){u=n(r);for(var c=0;c<u.length;c++)o.call(r,u[c])&&(a[u[c]]=r[u[c]])}}return a}},{}],7:[function(t,e,r){"use strict";e.exports=function t(e,r){r=r||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=n.parser[r.strictMode?"strict":"loose"].exec(e),o={},s=14;s--;)o[n.key[s]]=i[s]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,(function(t,e,r){e&&(o[n.q.name][e]=r)})),o}},{}],8:[function(t,e,r){(function(t){function e(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return n.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}r.resolve=function(){for(var r="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,n="/"===s.charAt(0))}return(n?"/":"")+(r=e(o(r.split("/"),(function(t){return!!t})),!n).join("/"))||"."},r.normalize=function(t){var n=r.isAbsolute(t),i="/"===s(t,-1);return(t=e(o(t.split("/"),(function(t){return!!t})),!n).join("/"))||n||(t="."),t&&i&&(t+="/"),(n?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(o(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},r.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var i=n(t.split("/")),o=n(e.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}for(var l=[],u=a;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(a))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:26}],9:[function(t,e,r){var n=new ArrayBuffer(0),i=function(t,e,r,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=n,r&&this.upload(r),this._updateID=0};i.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},i.prototype.bind=function(){var t;this.gl.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(t,e,r){return new i(t,t.ARRAY_BUFFER,e,r)},i.createIndexBuffer=function(t,e,r){return new i(t,t.ELEMENT_ARRAY_BUFFER,e,r)},i.create=function(t,e,r,n){return new i(t,e,r,n)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=i},{}],10:[function(t,e,r){var n=t("./GLTexture"),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var s=n.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},i.createFloat32=function(t,e,r,o){var s=new n.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},e.exports=i},{"./GLTexture":12}],11:[function(t,e,r){var n=t("./shader/compileProgram"),i=t("./shader/extractAttributes"),o=t("./shader/extractUniforms"),s=t("./shader/setPrecision"),a=t("./shader/generateUniformAccessObject"),u=function(t,e,r,u,l){this.gl=t,u&&(e=s(e,u),r=s(r,u)),this.program=n(t,e,r,l),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){var t;this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},e.exports=u},{"./shader/compileProgram":17,"./shader/extractAttributes":19,"./shader/extractUniforms":20,"./shader/generateUniformAccessObject":21,"./shader/setPrecision":25}],12:[function(t,e,r){var n=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var i=!1;n.prototype.uploadData=function(t,e,r){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!i){var o;if(!n.getExtension("OES_texture_float"))throw new Error("floating point textures not available");i=!0}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},n.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){var t;this.gl.deleteTexture(this.texture)},n.fromSource=function(t,e,r){var i=new n(t);return i.premultiplyAlpha=r||!1,i.upload(e),i},n.fromData=function(t,e,r,i){var o=new n(t);return o.uploadData(e,r,i),o},e.exports=n},{}],13:[function(t,e,r){var n=t("./setVertexAttribArrays");function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,e.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return n(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},{"./setVertexAttribArrays":16}],14:[function(t,e,r){var n=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r};e.exports=n},{}],15:[function(t,e,r){var n={createContext:t("./createContext"),setVertexAttribArrays:t("./setVertexAttribArrays"),GLBuffer:t("./GLBuffer"),GLFramebuffer:t("./GLFramebuffer"),GLShader:t("./GLShader"),GLTexture:t("./GLTexture"),VertexArrayObject:t("./VertexArrayObject"),shader:t("./shader")};void 0!==e&&e.exports&&(e.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},{"./GLBuffer":9,"./GLFramebuffer":10,"./GLShader":11,"./GLTexture":12,"./VertexArrayObject":13,"./createContext":14,"./setVertexAttribArrays":16,"./shader":22}],16:[function(t,e,r){var n=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}};e.exports=n},{}],17:[function(t,e,r){var n=function(t,e,r,n){var o=i(t,t.VERTEX_SHADER,e),s=i(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,s),n)for(var u in n)t.bindAttribLocation(a,n[u],u);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(o),t.deleteShader(s),a},i=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};e.exports=n},{}],18:[function(t,e,r){var n=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return i(2*e);case"bvec3":return i(3*e);case"bvec4":return i(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},i=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};e.exports=n},{}],19:[function(t,e,r){var n=t("./mapType"),i=t("./mapSize"),o=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<o;a++){var u=t.getActiveAttrib(e,a),l=n(t,u.type);r[u.name]={type:l,size:i(l),location:t.getAttribLocation(e,u.name),pointer:s}}return r},s=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};e.exports=o},{"./mapSize":23,"./mapType":24}],20:[function(t,e,r){var n=t("./mapType"),i=t("./defaultValue"),o=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]/,""),l=n(t,a.type);r[u]={type:l,size:a.size,location:t.getUniformLocation(e,u),value:i(l,a.size)}}return r};e.exports=o},{"./defaultValue":18,"./mapType":24}],21:[function(t,e,r){var n=function(t,e){var r={data:{}};r.gl=t;for(var n=Object.keys(e),o=0;o<n.length;o++){var s=n[o],l=s.split("."),h=l[l.length-1],c=u(l,r),d=e[s];c.data[h]=d,c.gl=t,Object.defineProperty(c,h,{get:i(h),set:a(h,d)})}return r},i=function(t){return function(){return this.data[t].value}},o={float:function t(e,r,n){e.uniform1f(r,n)},vec2:function t(e,r,n){e.uniform2f(r,n[0],n[1])},vec3:function t(e,r,n){e.uniform3f(r,n[0],n[1],n[2])},vec4:function t(e,r,n){e.uniform4f(r,n[0],n[1],n[2],n[3])},int:function t(e,r,n){e.uniform1i(r,n)},ivec2:function t(e,r,n){e.uniform2i(r,n[0],n[1])},ivec3:function t(e,r,n){e.uniform3i(r,n[0],n[1],n[2])},ivec4:function t(e,r,n){e.uniform4i(r,n[0],n[1],n[2],n[3])},bool:function t(e,r,n){e.uniform1i(r,n)},bvec2:function t(e,r,n){e.uniform2i(r,n[0],n[1])},bvec3:function t(e,r,n){e.uniform3i(r,n[0],n[1],n[2])},bvec4:function t(e,r,n){e.uniform4i(r,n[0],n[1],n[2],n[3])},mat2:function t(e,r,n){e.uniformMatrix2fv(r,!1,n)},mat3:function t(e,r,n){e.uniformMatrix3fv(r,!1,n)},mat4:function t(e,r,n){e.uniformMatrix4fv(r,!1,n)},sampler2D:function t(e,r,n){e.uniform1i(r,n)}},s={float:function t(e,r,n){e.uniform1fv(r,n)},vec2:function t(e,r,n){e.uniform2fv(r,n)},vec3:function t(e,r,n){e.uniform3fv(r,n)},vec4:function t(e,r,n){e.uniform4fv(r,n)},int:function t(e,r,n){e.uniform1iv(r,n)},ivec2:function t(e,r,n){e.uniform2iv(r,n)},ivec3:function t(e,r,n){e.uniform3iv(r,n)},ivec4:function t(e,r,n){e.uniform4iv(r,n)},bool:function t(e,r,n){e.uniform1iv(r,n)},bvec2:function t(e,r,n){e.uniform2iv(r,n)},bvec3:function t(e,r,n){e.uniform3iv(r,n)},bvec4:function t(e,r,n){e.uniform4iv(r,n)},sampler2D:function t(e,r,n){e.uniform1iv(r,n)}};function a(t,e){return function(r){this.data[t].value=r;var n=this.data[t].location;1===e.size?o[e.type](this.gl,n,r):s[e.type](this.gl,n,r)}}function u(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}e.exports=n},{}],22:[function(t,e,r){e.exports={compileProgram:t("./compileProgram"),defaultValue:t("./defaultValue"),extractAttributes:t("./extractAttributes"),extractUniforms:t("./extractUniforms"),generateUniformAccessObject:t("./generateUniformAccessObject"),setPrecision:t("./setPrecision"),mapSize:t("./mapSize"),mapType:t("./mapType")}},{"./compileProgram":17,"./defaultValue":18,"./extractAttributes":19,"./extractUniforms":20,"./generateUniformAccessObject":21,"./mapSize":23,"./mapType":24,"./setPrecision":25}],23:[function(t,e,r){var n=function(t){return i[t]},i={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=n},{}],24:[function(t,e,r){var n=function(t,e){if(!i){var r=Object.keys(o);i={};for(var n=0;n<r.length;++n){var s=r[n];i[t[s]]=o[s]}}return i[e]},i=null,o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=n},{}],25:[function(t,e,r){var n=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t};e.exports=n},{}],26:[function(t,e,r){var n=e.exports={},i,o;function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function l(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var h=[],c=!1,d,f=-1;function p(){c&&d&&(c=!1,d.length?h=d.concat(h):f=-1,h.length&&v())}function v(){if(!c){var t=u(p);c=!0;for(var e=h.length;e;){for(d=h,h=[];++f<e;)d&&d[f].run();f=-1,e=h.length}d=null,c=!1,l(t)}}function g(t,e){this.fun=t,this.array=e}function y(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new g(t,e)),1!==h.length||c||u(v)},g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],27:[function(t,r,n){(function(t){!function(e){var i="object"==typeof n&&n&&!n.nodeType&&n,o="object"==typeof r&&r&&!r.nodeType&&r,s="object"==typeof t&&t;s.global!==s&&s.window!==s&&s.self!==s||(e=s);var a,u=2147483647,l=36,h=1,c=26,d=38,f=700,p=72,v=128,g="-",y=/^xn--/,_=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-h,T=Math.floor,w=String.fromCharCode,E;function S(t){throw new RangeError(b[t])}function O(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function M(t,e){var r=t.split("@"),n="",i,o;return r.length>1&&(n=r[0]+"@",t=r[1]),n+O((t=t.replace(m,".")).split("."),e).join(".")}function P(t){for(var e=[],r=0,n=t.length,i,o;r<n;)(i=t.charCodeAt(r++))>=55296&&i<=56319&&r<n?56320==(64512&(o=t.charCodeAt(r++)))?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),r--):e.push(i);return e}function A(t){return O(t,(function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)})).join("")}function C(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l}function R(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function I(t,e,r){var n=0;for(t=r?T(t/f):t>>1,t+=T(t/e);t>x*c>>1;n+=l)t=T(t/x);return T(n+(x+1)*t/(t+d))}function D(t){var e=[],r=t.length,n,i=0,o=v,s=p,a,d,f,y,_,m,b,x,w;for((a=t.lastIndexOf(g))<0&&(a=0),d=0;d<a;++d)t.charCodeAt(d)>=128&&S("not-basic"),e.push(t.charCodeAt(d));for(f=a>0?a+1:0;f<r;){for(y=i,_=1,m=l;f>=r&&S("invalid-input"),((b=C(t.charCodeAt(f++)))>=l||b>T((u-i)/_))&&S("overflow"),i+=b*_,!(b<(x=m<=s?h:m>=s+c?c:m-s));m+=l)_>T(u/(w=l-x))&&S("overflow"),_*=w;s=I(i-y,n=e.length+1,0==y),T(i/n)>u-o&&S("overflow"),o+=T(i/n),i%=n,e.splice(i++,0,o)}return A(e)}function L(t){var e,r,n,i,o,s,a,d,f,y,_,m=[],b,x,E,O;for(b=(t=P(t)).length,e=v,r=0,o=p,s=0;s<b;++s)(_=t[s])<128&&m.push(w(_));for(n=i=m.length,i&&m.push(g);n<b;){for(a=u,s=0;s<b;++s)(_=t[s])>=e&&_<a&&(a=_);for(a-e>T((u-r)/(x=n+1))&&S("overflow"),r+=(a-e)*x,e=a,s=0;s<b;++s)if((_=t[s])<e&&++r>u&&S("overflow"),_==e){for(d=r,f=l;!(d<(y=f<=o?h:f>=o+c?c:f-o));f+=l)O=d-y,E=l-y,m.push(w(R(y+O%E,0))),d=T(O/E);m.push(w(R(d,0))),o=I(r,x,n==i),r=0,++n}++r,++e}return m.join("")}function j(t){return M(t,(function(t){return y.test(t)?D(t.slice(4).toLowerCase()):t}))}function k(t){return M(t,(function(t){return _.test(t)?"xn--"+L(t):t}))}if(a={version:"1.4.1",ucs2:{decode:P,encode:A},decode:D,encode:L,toASCII:k,toUnicode:j},i&&o)if(r.exports==i)o.exports=a;else for(E in a)a.hasOwnProperty(E)&&(i[E]=a[E]);else e.punycode=a}(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var h=0;h<l;++h){var c=t[h].replace(a,"%20"),d=c.indexOf(r),f,p,v,g;d>=0?(f=c.substr(0,d),p=c.substr(d+1)):(f=c,p=""),v=decodeURIComponent(f),g=decodeURIComponent(p),n(s,v)?i(s[v])?s[v].push(g):s[v]=[s[v],g]:s[v]=g}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],29:[function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),(function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],(function(t){return a+encodeURIComponent(n(t))})).join(e):a+encodeURIComponent(n(t[s]))})).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],30:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":28,"./encode":29}],31:[function(t,e,r){"use strict";e.exports=function t(e,r,n){var i,o=e.length;if(!(r>=o||0===n)){var s=o-(n=r+n>o?o-r:n);for(i=r;i<s;++i)e[i]=e[i+n];e.length=s}}},{}],32:[function(t,e,r){"use strict";r.__esModule=!0,r.Loader=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o,s=f(t("mini-signals")),a,u=f(t("parse-uri")),l,h=d(t("./async")),c=t("./Resource");function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var v=100,g=/(#[\w-]+)?$/,y=r.Loader=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;p(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=h.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new s.default,this.onError=new s.default,this.onLoad=new s.default,this.onStart=new s.default,this.onComplete=new s.default;for(var i=0;i<t._defaultBeforeMiddleware.length;++i)this.pre(t._defaultBeforeMiddleware[i]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}return t.prototype.add=function t(e,r,i,o){if(Array.isArray(e)){for(var s=0;s<e.length;++s)this.add(e[s]);return this}if("object"===(void 0===e?"undefined":n(e))&&(o=r||e.callback||e.onComplete,i=e,r=e.url,e=e.name||e.key||e.url),"string"!=typeof r&&(o=i,i=r,r=e),"string"!=typeof r)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(o=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new c.Resource(e,r,i),"function"==typeof o&&this.resources[e].onAfterMiddleware.once(o),this.loading){for(var a=i.parentResource,u=[],l=0;l<a.children.length;++l)a.children[l].isComplete||u.push(a.children[l]);var h,d=a.progressChunk*(u.length+1)/(u.length+2);a.children.push(this.resources[e]),a.progressChunk=d;for(var f=0;f<u.length;++f)u[f].progressChunk=d;this.resources[e].progressChunk=d}return this._queue.push(this.resources[e]),this},t.prototype.pre=function t(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function t(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function t(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort()}return this.resources={},this},t.prototype.load=function t(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r,n=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function t(e){var r=(0,u.default)(e,{strictMode:!0}),n=void 0;if(n=r.protocol||!r.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var i=g.exec(n)[0];-1!==(n=n.substr(0,n.length-i.length)).indexOf("?")?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function t(e,r){var n=this;e._dequeue=r,h.eachSeries(this._beforeMiddleware,(function(t,r){t.call(n,e,(function(){r(e.isComplete?{}:null)}))}),(function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())}),!0)},t.prototype._onStart=function t(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function t(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function t(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),h.eachSeries(this._afterMiddleware,(function(t,n){t.call(r,e,n)}),(function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(100,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()}),!0)},i(t,[{key:"concurrency",get:function t(){return this._queue.concurrency},set:function t(e){this._queue.concurrency=e}}]),t}();y._defaultBeforeMiddleware=[],y._defaultAfterMiddleware=[],y.pre=function t(e){return y._defaultBeforeMiddleware.push(e),y},y.use=function t(e){return y._defaultAfterMiddleware.push(e),y}},{"./Resource":33,"./async":34,"mini-signals":5,"parse-uri":7}],33:[function(t,e,r){"use strict";r.__esModule=!0,r.Resource=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=u(t("parse-uri")),s,a=u(t("mini-signals"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),c=null,d=0,f=200,p=204,v=1223,g=2;function y(){}var _=r.Resource=function(){function t(e,r,n){if(l(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=y,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new a.default,this.onProgress=new a.default,this.onComplete=new a.default,this.onAfterMiddleware=new a.default}return t.setExtensionLoadType=function e(r,n){m(t._loadTypeMap,r,n)},t.setExtensionXhrType=function e(r,n){m(t._xhrTypeMap,r,n)},t.prototype.complete=function t(){this._clearEvents(),this._finish()},t.prototype.abort=function e(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function e(r){var n=this;if(!this.isLoading)if(this.isComplete)r&&setTimeout((function(){return r(n)}),1);else switch(r&&this.onComplete.once(r),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function t(e){return 0!=(this._flags&e)},t.prototype._setFlag=function t(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function t(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function e(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function t(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function t(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},t.prototype._loadXhr=function e(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,!0),r.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?r.responseType=t.XHR_RESPONSE_TYPE.TEXT:r.responseType=this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},t.prototype._loadXdr=function t(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout((function(){return e.send()}),1)},t.prototype._createSource=function t(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function t(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function t(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function t(){this.abort("Load timed out.")},t.prototype._xhrOnError=function t(){var e=this.xhr;this.abort(b(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function t(){var e=this.xhr;this.abort(b(e)+" Request timed out.")},t.prototype._xhrOnAbort=function t(){var e=this.xhr;this.abort(b(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function e(){var r=this.xhr,n="",i=void 0===r.status?200:r.status,o;if(""!==r.responseType&&"text"!==r.responseType&&void 0!==r.responseType||(n=r.responseText),0===i&&(n.length>0||r.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2===(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(u){return void this.abort("Error trying to parse loaded json: "+u)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var s=new DOMParser;this.data=s.parseFromString(n,"text/xml")}else{var a=document.createElement("div");a.innerHTML=n,this.data=a}this.type=t.TYPE.XML}catch(u){return void this.abort("Error trying to parse loaded xml: "+u)}else this.data=r.response||n;this.complete()}else this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL)},t.prototype._determineCrossOrigin=function t(e,r){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";r=r||window.location,c||(c=document.createElement("a")),c.href=e;var n=!(e=(0,o.default)(c.href,{strictMode:!0})).port&&""===r.port||e.port===r.port,i=e.protocol?e.protocol+":":"";return e.host===r.hostname&&n&&i===r.protocol?"":"anonymous"},t.prototype._determineXhrType=function e(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function e(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function t(){var e=this.url,r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),o=e.indexOf("#"),s=Math.min(i>-1?i:e.length,o>-1?o:e.length);r=(e=e.substring(0,s)).substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function e(r){switch(r){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n(t,[{key:"isDataUrl",get:function e(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function e(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function e(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function m(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function b(t){return t.toString().replace("object ","")}_.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},_.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},_.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},_.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},_._loadTypeMap={gif:_.LOAD_TYPE.IMAGE,png:_.LOAD_TYPE.IMAGE,bmp:_.LOAD_TYPE.IMAGE,jpg:_.LOAD_TYPE.IMAGE,jpeg:_.LOAD_TYPE.IMAGE,tif:_.LOAD_TYPE.IMAGE,tiff:_.LOAD_TYPE.IMAGE,webp:_.LOAD_TYPE.IMAGE,tga:_.LOAD_TYPE.IMAGE,svg:_.LOAD_TYPE.IMAGE,"svg+xml":_.LOAD_TYPE.IMAGE,mp3:_.LOAD_TYPE.AUDIO,ogg:_.LOAD_TYPE.AUDIO,wav:_.LOAD_TYPE.AUDIO,mp4:_.LOAD_TYPE.VIDEO,webm:_.LOAD_TYPE.VIDEO},_._xhrTypeMap={xhtml:_.XHR_RESPONSE_TYPE.DOCUMENT,html:_.XHR_RESPONSE_TYPE.DOCUMENT,htm:_.XHR_RESPONSE_TYPE.DOCUMENT,xml:_.XHR_RESPONSE_TYPE.DOCUMENT,tmx:_.XHR_RESPONSE_TYPE.DOCUMENT,svg:_.XHR_RESPONSE_TYPE.DOCUMENT,tsx:_.XHR_RESPONSE_TYPE.DOCUMENT,gif:_.XHR_RESPONSE_TYPE.BLOB,png:_.XHR_RESPONSE_TYPE.BLOB,bmp:_.XHR_RESPONSE_TYPE.BLOB,jpg:_.XHR_RESPONSE_TYPE.BLOB,jpeg:_.XHR_RESPONSE_TYPE.BLOB,tif:_.XHR_RESPONSE_TYPE.BLOB,tiff:_.XHR_RESPONSE_TYPE.BLOB,webp:_.XHR_RESPONSE_TYPE.BLOB,tga:_.XHR_RESPONSE_TYPE.BLOB,json:_.XHR_RESPONSE_TYPE.JSON,text:_.XHR_RESPONSE_TYPE.TEXT,txt:_.XHR_RESPONSE_TYPE.TEXT,ttf:_.XHR_RESPONSE_TYPE.BUFFER,otf:_.XHR_RESPONSE_TYPE.BUFFER},_.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",void 0!==e&&(e.exports.default=_)},{"mini-signals":5,"parse-uri":7}],34:[function(t,e,r){"use strict";function n(){}function i(t,e,r,n){var i=0,o=t.length;!function s(a){a||i===o?r&&r(a):n?setTimeout((function(){e(t[i++],s)}),1):e(t[i++],s)}()}function o(t){return function e(){if(null===t)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,arguments)}}function s(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function t(e,r){s(e,!1,r)},kill:function t(){r=0,i.drain=n,i.started=!1,i._tasks=[]},unshift:function t(e,r){s(e,!0,r)},process:function e(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var n=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),t(n.data,o(a(n)))}},length:function t(){return i._tasks.length},running:function t(){return r},idle:function t(){return i._tasks.length+r===0},pause:function t(){!0!==i.paused&&(i.paused=!0)},resume:function t(){if(!1!==i.paused){i.paused=!1;for(var e=1;e<=i.concurrency;e++)i.process()}}};function s(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var o={data:t,callback:"function"==typeof r?r:n};e?i._tasks.unshift(o):i._tasks.push(o),setTimeout((function(){return i.process()}),1)}}function a(t){return function e(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}r.__esModule=!0,r.eachSeries=i,r.queue=s},{}],35:[function(t,e,r){"use strict";r.__esModule=!0,r.encodeBinary=i;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],o=[0,0,0,0],s=0;s<i.length;++s)r<t.length?i[s]=255&t.charCodeAt(r++):i[s]=0;var a;switch(o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2],r-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var u=0;u<o.length;++u)e+=n.charAt(o[u])}return e}void 0!==e&&(e.exports.default=i)},{}],36:[function(t,e,r){"use strict";var n=t("./Loader").Loader,i=t("./Resource").Resource,o=t("./async"),s=t("./b64");n.Resource=i,n.async=o,n.encodeBinary=s,n.base64=s,e.exports=n,e.exports.Loader=n,e.exports.default=n},{"./Loader":32,"./Resource":33,"./async":34,"./b64":35}],37:[function(t,e,r){"use strict";r.__esModule=!0,r.blobMiddlewareFactory=s;var n=t("../../Resource"),i=t("../../b64"),o=window.URL||window.webkitURL;function s(){return function t(e,r){if(e.data){if(e.xhr&&e.xhrType===n.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var s=o.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=s,e.type=n.Resource.TYPE.IMAGE,void(e.data.onload=function(){o.revokeObjectURL(s),e.data.onload=null,r()})}}else{var a=e.xhr.getResponseHeader("content-type");if(a&&0===a.indexOf("image"))return e.data=new Image,e.data.src="data:"+a+";base64,"+(0,i.encodeBinary)(e.xhr.responseText),e.type=n.Resource.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,r()})}r()}else r()}}},{"../../Resource":33,"../../b64":35}],38:[function(t,e,r){"use strict";var n=t("punycode"),i=t("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=x,r.resolve=w,r.resolveObject=E,r.format=T,r.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(h),d=["%","/","?",";","#"].concat(c),f=["/","?","#"],p=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=t("querystring");function x(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}function T(t){return i.isString(t)&&(t=x(t)),t instanceof o?t.format():o.prototype.format.call(t)}function w(t,e){return x(t,!1,!0).resolve(e)}function E(t,e){return t?x(t,!1,!0).resolveObject(e):e}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(a),h=/\\/g;l[0]=l[0].replace(h,"/");var p=t=l.join(a);if(p=p.trim(),!r&&1===t.split("#").length){var x=u.exec(p);if(x)return this.path=p,this.href=p,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var T=s.exec(p);if(T){var w=(T=T[0]).toLowerCase();this.protocol=w,p=p.substr(T.length)}if(r||T||p.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===p.substr(0,2);!E||T&&_[T]||(p=p.substr(2),this.slashes=!0)}if(!_[T]&&(E||T&&!m[T])){for(var S=-1,O=0,M,P;O<f.length;O++){var A;-1!==(A=p.indexOf(f[O]))&&(-1===S||A<S)&&(S=A)}-1!==(P=-1===S?p.lastIndexOf("@"):p.lastIndexOf("@",S))&&(M=p.slice(0,P),p=p.slice(P+1),this.auth=decodeURIComponent(M)),S=-1;for(var O=0;O<d.length;O++){var A;-1!==(A=p.indexOf(d[O]))&&(-1===S||A<S)&&(S=A)}-1===S&&(S=p.length),this.host=p.slice(0,S),p=p.slice(S),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var R=this.hostname.split(/\./),O=0,I=R.length;O<I;O++){var D=R[O];if(D&&!D.match(v)){for(var L="",j=0,k=D.length;j<k;j++)D.charCodeAt(j)>127?L+="x":L+=D[j];if(!L.match(v)){var N=R.slice(0,O),B=R.slice(O+1),F=D.match(g);F&&(N.push(F[1]),B.unshift(F[2])),B.length&&(p="/"+B.join(".")+p),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+U,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==p[0]&&(p="/"+p))}if(!y[w])for(var O=0,I=c.length;O<I;O++){var G=c[O];if(-1!==p.indexOf(G)){var H=encodeURIComponent(G);H===G&&(H=escape(G)),p=p.split(G).join(H)}}var W=p.indexOf("#");-1!==W&&(this.hash=p.substr(W),p=p.slice(0,W));var V=p.indexOf("?");if(-1!==V?(this.search=p.substr(V),this.query=p.substr(V+1),e&&(this.query=b.parse(this.query)),p=p.slice(0,V)):e&&(this.search="",this.query={}),p&&(this.pathname=p),m[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",Y=this.search||"";this.path=U+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(x(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var h=u[l];"protocol"!==h&&(r[h]=t[h])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var f=c[d];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||_[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",g=r.search||"";r.path=v+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||y||r.host&&t.pathname,T=x,w=r.pathname&&r.pathname.split("/")||[],p=t.pathname&&t.pathname.split("/")||[],E=r.protocol&&!m[r.protocol];if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(""===p[0]||""===w[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){var S;if(E)r.hostname=r.host=w.shift(),(S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=S.shift(),r.host=r.hostname=S.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=w.slice(-1)[0],M=(r.host||t.host||w.length>1)&&("."===O||".."===O)||""===O,P=0,A=w.length;A>=0;A--)"."===(O=w[A])?w.splice(A,1):".."===O?(w.splice(A,1),P++):P&&(w.splice(A,1),P--);if(!x&&!T)for(;P--;P)w.unshift("..");!x||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),M&&"/"!==w.join("/").substr(-1)&&w.push("");var C=""===w[0]||w[0]&&"/"===w[0].charAt(0),S;E&&(r.hostname=r.host=C?"":w.length?w.shift():"",(S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=S.shift(),r.host=r.hostname=S.shift()));return(x=x||r.host&&w.length)&&!C&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":39,punycode:27,querystring:30}],39:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],40:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=h(t("../core")),o,s=l(t("ismobilejs")),a,u=l(t("./accessibleTarget"));function l(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.utils.mixins.delayMixin(i.DisplayObject.prototype,u.default);var d=9,f=100,p=0,v=0,g=2,y=1,_=-1e3,m=-1e3,b=2,x=function(){function t(e){c(this,t),!s.default.tablet&&!s.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=f+"px",r.style.height=f+"px",r.style.position="absolute",r.style.top=p+"px",r.style.left=v+"px",r.style.zIndex=g,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function t(){var e=this,r=document.createElement("button");r.style.width="1px",r.style.height="1px",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.style.zIndex=2,r.style.backgroundColor="#FF0000",r.title="HOOK DIV",r.addEventListener("focus",(function(){e.isMobileAccessabillity=!0,e.activate(),document.body.removeChild(r)})),document.body.appendChild(r)},t.prototype.activate=function t(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function t(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function t(e){if(e.visible){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var r=e.children,n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function t(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.width/this.renderer.width,n=e.height/this.renderer.height,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var a=this.children[s];if(a.renderId!==this.renderId)a._accessibleActive=!1,i.utils.removeItems(this.children,s,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,s--,0===this.children.length&&this.deactivate();else{o=a._accessibleDiv;var u=a.hitArea,l=a.worldTransform;a.hitArea?(o.style.left=(l.tx+u.x*l.a)*r+"px",o.style.top=(l.ty+u.y*l.d)*n+"px",o.style.width=u.width*l.a*r+"px",o.style.height=u.height*l.d*n+"px"):(u=a.getBounds(),this.capHitArea(u),o.style.left=u.x*r+"px",o.style.top=u.y*n+"px",o.style.width=u.width*r+"px",o.style.height=u.height*n+"px",o.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(o.title=a.accessibleTitle),o.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&o.setAttribute("aria-label",a.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function t(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},t.prototype.addChild=function t(e){var r=this.pool.pop();r||((r=document.createElement("button")).style.width=f+"px",r.style.height=f+"px",r.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=g,r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),e.accessibleTitle&&null!==e.accessibleTitle?r.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(r.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&r.setAttribute("aria-label",e.accessibleHint),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function t(e){var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"click",r.eventData)},t.prototype._onFocus=function t(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"mouseover",r.eventData)},t.prototype._onFocusOut=function t(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"mouseout",r.eventData)},t.prototype._onKeyDown=function t(e){9===e.keyCode&&this.activate()},t.prototype._onMouseMove=function t(e){0===e.movementX&&0===e.movementY||this.deactivate()},t.prototype.destroy=function t(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();r.default=x,i.WebGLRenderer.registerPlugin("accessibility",x),i.CanvasRenderer.registerPlugin("accessibility",x)},{"../core":65,"./accessibleTarget":41,ismobilejs:4}],41:[function(t,e,r){"use strict";r.__esModule=!0,r.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],42:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./accessibleTarget");Object.defineProperty(r,"accessibleTarget",{enumerable:!0,get:function t(){return o(n).default}});var i=t("./AccessibilityManager");function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"AccessibilityManager",{enumerable:!0,get:function t(){return o(i).default}})},{"./AccessibilityManager":40,"./accessibleTarget":41}],43:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("./autoDetectRenderer"),o,s=c(t("./display/Container")),a=t("./ticker"),u,l=c(t("./settings")),h=t("./const");function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function(){function t(e,r,n,o,u){d(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:r||l.default.RENDER_OPTIONS.height,forceCanvas:!!o,sharedTicker:!!u},n)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,i.autoDetectRenderer)(e),this.stage=new s.default,this._ticker=null,this.ticker=e.sharedTicker?a.shared:new a.Ticker,e.autoStart&&this.start()}return t.prototype.render=function t(){this.renderer.render(this.stage)},t.prototype.stop=function t(){this._ticker.stop()},t.prototype.start=function t(){this._ticker.start()},t.prototype.destroy=function t(e,r){if(this._ticker){var n=this._ticker;this.ticker=null,n.destroy()}this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null,this._options=null},n(t,[{key:"ticker",set:function t(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,h.UPDATE_PRIORITY.LOW)},get:function t(){return this._ticker}},{key:"view",get:function t(){return this.renderer.view}},{key:"screen",get:function t(){return this.renderer.screen}}]),t}();r.default=f},{"./autoDetectRenderer":45,"./const":46,"./display/Container":48,"./settings":101,"./ticker":121}],44:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("pixi-gl-core"),i,o=s(t("./settings"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function h(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}var c=function(t){function e(r,n,i,s,l){return a(this,e),u(this,t.call(this,r,h(n,l||o.default.PRECISION_VERTEX),h(i,l||o.default.PRECISION_FRAGMENT),void 0,s))}return l(e,t),e}(n.GLShader);r.default=c},{"./settings":101,"pixi-gl-core":15}],45:[function(t,e,r){"use strict";r.__esModule=!0,r.autoDetectRenderer=c;var n,i=h(t("./utils")),o,s=l(t("./renderers/canvas/CanvasRenderer")),a,u=l(t("./renderers/webgl/WebGLRenderer"));function l(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function c(t,e,r,n){var o=t&&t.forceCanvas;return void 0!==n&&(o=n),!o&&i.isWebGLSupported()?new u.default(t,e,r):new s.default(t,e,r)}},{"./renderers/canvas/CanvasRenderer":77,"./renderers/webgl/WebGLRenderer":84,"./utils":125}],46:[function(t,e,r){"use strict";r.__esModule=!0;var n=r.VERSION="4.8.9",i=r.PI_2=2*Math.PI,o=r.RAD_TO_DEG=180/Math.PI,s=r.DEG_TO_RAD=Math.PI/180,a=r.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},u=r.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},l=r.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},h=r.SCALE_MODES={LINEAR:0,NEAREST:1},c=r.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},d=r.GC_MODES={AUTO:0,MANUAL:1},f=r.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,p=r.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,v=r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,g=r.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},y=r.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},_=r.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},m=r.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},b=r.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],47:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../math");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(){i(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function t(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function t(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function t(e){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((e=e||new n.Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function t(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addQuad=function t(e){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY,s=e[0],a=e[1];r=s<r?s:r,n=a<n?a:n,i=s>i?s:i,o=a>o?a:o,r=(s=e[2])<r?s:r,n=(a=e[3])<n?a:n,i=s>i?s:i,o=a>o?a:o,r=(s=e[4])<r?s:r,n=(a=e[5])<n?a:n,i=s>i?s:i,o=a>o?a:o,r=(s=e[6])<r?s:r,n=(a=e[7])<n?a:n,i=s>i?s:i,o=a>o?a:o,this.minX=r,this.minY=n,this.maxX=i,this.maxY=o},t.prototype.addFrame=function t(e,r,n,i,o){var s=e.worldTransform,a=s.a,u=s.b,l=s.c,h=s.d,c=s.tx,d=s.ty,f=this.minX,p=this.minY,v=this.maxX,g=this.maxY,y=a*r+l*n+c,_=u*r+h*n+d;f=y<f?y:f,p=_<p?_:p,v=y>v?y:v,g=_>g?_:g,f=(y=a*i+l*n+c)<f?y:f,p=(_=u*i+h*n+d)<p?_:p,v=y>v?y:v,g=_>g?_:g,f=(y=a*r+l*o+c)<f?y:f,p=(_=u*r+h*o+d)<p?_:p,v=y>v?y:v,g=_>g?_:g,f=(y=a*i+l*o+c)<f?y:f,p=(_=u*i+h*o+d)<p?_:p,v=y>v?y:v,g=_>g?_:g,this.minX=f,this.minY=p,this.maxX=v,this.maxY=g},t.prototype.addVertices=function t(e,r,n,i){for(var o=e.worldTransform,s=o.a,a=o.b,u=o.c,l=o.d,h=o.tx,c=o.ty,d=this.minX,f=this.minY,p=this.maxX,v=this.maxY,g=n;g<i;g+=2){var y=r[g],_=r[g+1],m=s*y+u*_+h,b=l*_+a*y+c;d=m<d?m:d,f=b<f?b:f,p=m>p?m:p,v=b>v?b:v}this.minX=d,this.minY=f,this.maxX=p,this.maxY=v},t.prototype.addBounds=function t(e){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>o?e.maxY:o},t.prototype.addBoundsMask=function t(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,o=e.maxX<r.maxX?e.maxX:r.maxX,s=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=o&&i<=s){var a=this.minX,u=this.minY,l=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=o>l?o:l,this.maxY=s>h?s:h}},t.prototype.addBoundsArea=function t(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,o=e.maxX<r.x+r.width?e.maxX:r.x+r.width,s=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=o&&i<=s){var a=this.minX,u=this.minY,l=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=o>l?o:l,this.maxY=s>h?s:h}},t}();r.default=o},{"../math":70}],48:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../utils"),o,s;function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){u(this,e);var r=l(this,t.call(this));return r.children=[],r}return h(e,t),e.prototype.onChildrenChange=function t(){},e.prototype.addChild=function t(e){var r=arguments.length;if(r>1)for(var n=0;n<r;n++)this.addChild(arguments[n]);else e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),e.emit("added",this);return e},e.prototype.addChildAt=function t(e,r){if(r<0||r>this.children.length)throw new Error(e+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),e},e.prototype.swapChildren=function t(e,r){if(e!==r){var n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}},e.prototype.getChildIndex=function t(e){var r=this.children.indexOf(e);if(-1===r)throw new Error("The supplied DisplayObject must be a child of the caller");return r},e.prototype.setChildIndex=function t(e,r){if(r<0||r>=this.children.length)throw new Error("The index "+r+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);(0,i.removeItems)(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)},e.prototype.getChildAt=function t(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},e.prototype.removeChild=function t(e){var r=arguments.length;if(r>1)for(var n=0;n<r;n++)this.removeChild(arguments[n]);else{var o=this.children.indexOf(e);if(-1===o)return null;e.parent=null,e.transform._parentID=-1,(0,i.removeItems)(this.children,o,1),this._boundsID++,this.onChildrenChange(o),e.emit("removed",this)}return e},e.prototype.removeChildAt=function t(e){var r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,(0,i.removeItems)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),r},e.prototype.removeChildren=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments[1],n=e,i="number"==typeof r?r:this.children.length,o=i-n,s=void 0;if(o>0&&o<=i){s=this.children.splice(n,o);for(var a=0;a<s.length;++a)s[a].parent=null,s[a].transform&&(s[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var u=0;u<s.length;++u)s[u].emit("removed",this);return s}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function t(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,r=this.children.length;e<r;++e){var n=this.children[e];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function t(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var r=this.children[e];r.visible&&r.renderable&&(r.calculateBounds(),r._mask?(r._mask.calculateBounds(),this._bounds.addBoundsMask(r._bounds,r._mask._bounds)):r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function t(){},e.prototype.renderWebGL=function t(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var r=0,n=this.children.length;r<n;++r)this.children[r].renderWebGL(e)}},e.prototype.renderAdvancedWebGL=function t(e){e.flush();var r=this._filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<r.length;i++)r[i].enabled&&this._enabledFilters.push(r[i]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}n&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(var o=0,s=this.children.length;o<s;o++)this.children[o].renderWebGL(e);e.flush(),n&&e.maskManager.popMask(this,this._mask),r&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()},e.prototype._renderWebGL=function t(e){},e.prototype._renderCanvas=function t(e){},e.prototype.renderCanvas=function t(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var r=0,n=this.children.length;r<n;++r)this.children[r].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},e.prototype.destroy=function e(r){t.prototype.destroy.call(this);var n="boolean"==typeof r?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var o=0;o<i.length;++o)i[o].destroy(r)},n(e,[{key:"width",get:function t(){return this.scale.x*this.getLocalBounds().width},set:function t(e){var r=this.getLocalBounds().width;this.scale.x=0!==r?e/r:1,this._width=e}},{key:"height",get:function t(){return this.scale.y*this.getLocalBounds().height},set:function t(e){var r=this.getLocalBounds().height;this.scale.y=0!==r?e/r:1,this._height=e}}]),e}(a(t("./DisplayObject")).default);r.default=c,c.prototype.containerUpdateTransform=c.prototype.updateTransform},{"../utils":125,"./DisplayObject":49}],49:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=g(t("eventemitter3")),s=t("../const"),a,u=g(t("../settings")),l,h=g(t("./TransformStatic")),c,d=g(t("./Transform")),f,p=g(t("./Bounds")),v=t("../math");function g(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=function(t){function e(){y(this,e);var r=_(this,t.call(this)),n=u.default.TRANSFORM_MODE===s.TRANSFORM_MODE.STATIC?h.default:d.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new p.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return m(e,t),e.prototype.updateTransform=function t(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function t(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function t(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),r||(this._boundsRect||(this._boundsRect=new v.Rectangle),r=this._boundsRect),this._bounds.getRectangle(r)},e.prototype.getLocalBounds=function t(e){var r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(this._localBoundsRect||(this._localBoundsRect=new v.Rectangle),e=this._localBoundsRect);var i=this.getBounds(!1,e);return this.parent=n,this.transform=r,i},e.prototype.toGlobal=function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)},e.prototype.toLocal=function t(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},e.prototype.renderWebGL=function t(e){},e.prototype.renderCanvas=function t(e){},e.prototype.setParent=function t(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},e.prototype.setTransform=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=o,this.skew.x=s,this.skew.y=a,this.pivot.x=u,this.pivot.y=l,this},e.prototype.destroy=function t(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n(e,[{key:"_tempDisplayObjectParent",get:function t(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function t(){return this.position.x},set:function t(e){this.transform.position.x=e}},{key:"y",get:function t(){return this.position.y},set:function t(e){this.transform.position.y=e}},{key:"worldTransform",get:function t(){return this.transform.worldTransform}},{key:"localTransform",get:function t(){return this.transform.localTransform}},{key:"position",get:function t(){return this.transform.position},set:function t(e){this.transform.position.copy(e)}},{key:"scale",get:function t(){return this.transform.scale},set:function t(e){this.transform.scale.copy(e)}},{key:"pivot",get:function t(){return this.transform.pivot},set:function t(e){this.transform.pivot.copy(e)}},{key:"skew",get:function t(){return this.transform.skew},set:function t(e){this.transform.skew.copy(e)}},{key:"rotation",get:function t(){return this.transform.rotation},set:function t(e){this.transform.rotation=e}},{key:"worldVisible",get:function t(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:"mask",get:function t(){return this._mask},set:function t(e){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=e,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function t(){return this._filters&&this._filters.slice()},set:function t(e){this._filters=e&&e.slice()}}]),e}(o.default);r.default=b,b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},{"../const":46,"../math":70,"../settings":101,"./Bounds":47,"./Transform":50,"./TransformStatic":52,eventemitter3:3}],50:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../math"),o,s;function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){u(this,e);var r=l(this,t.call(this));return r.position=new i.Point(0,0),r.scale=new i.Point(1,1),r.skew=new i.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new i.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return h(e,t),e.prototype.updateSkew=function t(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function t(){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d)},e.prototype.updateTransform=function t(e){var r=this.localTransform;r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d);var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._worldID++},e.prototype.setFromMatrix=function t(e){e.decompose(this)},n(e,[{key:"rotation",get:function t(){return this._rotation},set:function t(e){this._rotation=e,this.updateSkew()}}]),e}(a(t("./TransformBase")).default);r.default=c},{"../math":70,"./TransformBase":51}],51:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../math");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(){i(this,t),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function t(){},t.prototype.updateTransform=function t(e){var r=e.worldTransform,n=this.worldTransform,i=this.localTransform;n.a=i.a*r.a+i.b*r.c,n.b=i.a*r.b+i.b*r.d,n.c=i.c*r.a+i.d*r.c,n.d=i.c*r.b+i.d*r.d,n.tx=i.tx*r.a+i.ty*r.c+r.tx,n.ty=i.tx*r.b+i.ty*r.d+r.ty,this._worldID++},t}();r.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},{"../math":70}],52:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../math"),o,s;function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){u(this,e);var r=l(this,t.call(this));return r.position=new i.ObservablePoint(r.onChange,r,0,0),r.scale=new i.ObservablePoint(r.onChange,r,1,1),r.pivot=new i.ObservablePoint(r.onChange,r,0,0),r.skew=new i.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return h(e,t),e.prototype.onChange=function t(){this._localID++},e.prototype.updateSkew=function t(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function t(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function t(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale._x,r.b=this._sx*this.scale._x,r.c=this._cy*this.scale._y,r.d=this._sy*this.scale._y,r.tx=this.position._x-(this.pivot._x*r.a+this.pivot._y*r.c),r.ty=this.position._y-(this.pivot._x*r.b+this.pivot._y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function t(e){e.decompose(this),this._localID++},n(e,[{key:"rotation",get:function t(){return this._rotation},set:function t(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}}]),e}(a(t("./TransformBase")).default);r.default=c},{"../math":70,"./TransformBase":51}],53:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=T(t("../display/Container")),o,s=T(t("../textures/RenderTexture")),a,u=T(t("../textures/Texture")),l,h=T(t("./GraphicsData")),c,d=T(t("../sprites/Sprite")),f=t("../math"),p=t("../utils"),v=t("../const"),g,y=T(t("../display/Bounds")),_,m=T(t("./utils/bezierCurveTo")),b,x=T(t("../renderers/canvas/CanvasRenderer"));function T(t){return t&&t.__esModule?t:{default:t}}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var O=void 0,M=new f.Matrix,P=new f.Point,A=new Float32Array(4),C=new Float32Array(4),R=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w(this,e);var n=E(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.lineAlignment=.5,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=v.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new y.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n._prevRectTint=null,n._prevRectFillColor=null,n}return S(e,t),e.prototype.clone=function t(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function t(e,r,n,i,o,s){var a=e-2*n+o,u=r-2*i+s,l=2*n-2*e,h=2*i-2*r,c=4*(a*a+u*u),d=4*(a*l+u*h),f=l*l+h*h,p=2*Math.sqrt(c+d+f),v=Math.sqrt(c),g=2*c*v,y=2*Math.sqrt(f),_=d/v;return(g*p+v*d*(p-y)+(4*f*c-d*d)*Math.log((2*v+_+p)/(_+y)))/(4*g)},e.prototype._bezierCurveLength=function t(e,r,n,i,o,s,a,u){for(var l=10,h=0,c=0,d=0,f=0,p=0,v=0,g=0,y=0,_=0,m=0,b=0,x=e,T=r,w=1;w<=l;++w)m=x-(y=(g=(v=(p=1-(c=w/l))*p)*p)*e+3*v*c*n+3*p*(d=c*c)*o+(f=d*c)*a),b=T-(_=g*r+3*v*c*i+3*p*d*s+f*u),x=y,T=_,h+=Math.sqrt(m*m+b*b);return h},e.prototype._segmentsCount=function t(r){var n=Math.ceil(r/e.CURVES.maxLength);return n<e.CURVES.minSegments?n=e.CURVES.minSegments:n>e.CURVES.maxSegments&&(n=e.CURVES.maxSegments),n},e.prototype.lineStyle=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=e,this.lineColor=r,this.lineAlpha=n,this.lineAlignment=i,this.currentPath)if(this.currentPath.shape.points.length){var o=new f.Polygon(this.currentPath.shape.points.slice(-2));o.closed=!1,this.drawShape(o)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function t(e,r){var n=new f.Polygon([e,r]);return n.closed=!1,this.drawShape(n),this},e.prototype.lineTo=function t(e,r){var n=this.currentPath.shape.points,i=n[n.length-2],o=n[n.length-1];return i===e&&o===r||(n.push(e,r),this.dirty++),this},e.prototype.quadraticCurveTo=function t(r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,a=0,u=0;0===s.length&&this.moveTo(0,0);for(var l=s[s.length-2],h=s[s.length-1],c=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(l,h,r,n,i,o)):20,d=1;d<=c;++d){var f=d/c;a=l+(r-l)*f,u=h+(n-h)*f,s.push(a+(r+(i-r)*f-a)*f,u+(n+(o-n)*f-u)*f)}return this.dirty++,this},e.prototype.bezierCurveTo=function t(r,n,i,o,s,a){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var u=this.currentPath.shape.points,l=u[u.length-2],h=u[u.length-1];u.length-=2;var c=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(l,h,r,n,i,o,s,a)):20;return(0,m.default)(l,h,r,n,i,o,s,a,c,u),this.dirty++,this},e.prototype.arcTo=function t(e,r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,r):this.moveTo(e,r);var s=this.currentPath.shape.points,a=s[s.length-2],u,l=s[s.length-1]-r,h=a-e,c=i-r,d=n-e,f=Math.abs(l*d-h*c);if(f<1e-8||0===o)s[s.length-2]===e&&s[s.length-1]===r||s.push(e,r);else{var p=l*l+h*h,v=c*c+d*d,g=l*c+h*d,y=o*Math.sqrt(p)/f,_=o*Math.sqrt(v)/f,m=y*g/p,b=_*g/v,x=y*d+_*h,T=y*c+_*l,w=h*(_+m),E=l*(_+m),S=d*(y+b),O=c*(y+b),M=Math.atan2(E-T,w-x),P=Math.atan2(O-T,S-x);this.arc(x+e,T+r,o,M,P,h*c>d*l)}return this.dirty++,this},e.prototype.arc=function t(r,n,i,o,s){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(o===s)return this;!a&&s<=o?s+=v.PI_2:a&&o<=s&&(o+=v.PI_2);var u=s-o,l=e.CURVES.adaptive?this._segmentsCount(Math.abs(u)*i):40*Math.ceil(Math.abs(u)/v.PI_2);if(0===u)return this;var h=r+Math.cos(o)*i,c=n+Math.sin(o)*i,d=this.currentPath?this.currentPath.shape.points:null;if(d){var f=Math.abs(d[d.length-2]-h),p=Math.abs(d[d.length-1]-c);f<.001&&p<.001||d.push(h,c)}else this.moveTo(h,c),d=this.currentPath.shape.points;for(var g=u/(2*l),y=2*g,_=Math.cos(g),m=Math.sin(g),b=l-1,x=b%1/b,T=0;T<=b;++T){var w=T+x*T,E=g+o+y*w,S=Math.cos(E),O=-Math.sin(E);d.push((_*S+m*O)*i+r,(_*-O+m*S)*i+n)}return this.dirty++,this},e.prototype.beginFill=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=e,this.fillAlpha=r,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function t(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function t(e,r,n,i){return this.drawShape(new f.Rectangle(e,r,n,i)),this},e.prototype.drawRoundedRect=function t(e,r,n,i,o){return this.drawShape(new f.RoundedRectangle(e,r,n,i,o)),this},e.prototype.drawCircle=function t(e,r,n){return this.drawShape(new f.Circle(e,r,n)),this},e.prototype.drawEllipse=function t(e,r,n,i){return this.drawShape(new f.Ellipse(e,r,n,i)),this},e.prototype.drawPolygon=function t(e){var r=e,n=!0;if(r instanceof f.Polygon&&(n=r.closed,r=r.points),!Array.isArray(r)){r=new Array(arguments.length);for(var i=0;i<r.length;++i)r[i]=arguments[i]}var o=new f.Polygon(r);return o.closed=n,this.drawShape(o),this},e.prototype.drawStar=function t(e,r,n,i,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;o=o||i/2;for(var a=-1*Math.PI/2+s,u=2*n,l=v.PI_2/u,h=[],c=0;c<u;c++){var d=c%2?o:i,f=c*l+a;h.push(e+d*Math.cos(f),r+d*Math.sin(f))}return this.drawPolygon(h)},e.prototype.clear=function t(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function t(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===v.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function t(e){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(e):(e.setObjectRenderer(e.plugins.graphics),e.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function t(e){var r=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new d.default(new u.default(u.default.WHITE)));var n=this._spriteRect,i=this.graphicsData[0].fillColor;if(16777215===this.tint)n.tint=i;else if(this.tint!==this._prevRectTint||i!==this._prevRectFillColor){var o=A,s=C;(0,p.hex2rgb)(i,o),(0,p.hex2rgb)(this.tint,s),o[0]*=s[0],o[1]*=s[1],o[2]*=s[2],n.tint=(0,p.rgb2hex)(o),this._prevRectTint=this.tint,this._prevRectFillColor=i}n.alpha=this.graphicsData[0].fillAlpha,n.worldAlpha=this.worldAlpha*n.alpha,n.blendMode=this.blendMode,n._texture._frame.width=r.width,n._texture._frame.height=r.height,n.transform.worldTransform=this.transform.worldTransform,n.anchor.set(-r.x/r.width,-r.y/r.height),n._onAnchorUpdate(),n._renderWebGL(e)},e.prototype._renderCanvas=function t(e){!0!==this.isMask&&e.plugins.graphics.render(this)},e.prototype._calculateBounds=function t(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var e=this._localBounds;this._bounds.addFrame(this.transform,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.containsPoint=function t(e){this.worldTransform.applyInverse(e,P);for(var r=this.graphicsData,n=0;n<r.length;++n){var i=r[n];if(i.fill&&(i.shape&&i.shape.contains(P.x,P.y))){var o=!1;if(i.holes)for(var s=0;s<i.holes.length;s++){var a;if(i.holes[s].contains(P.x,P.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateLocalBounds=function t(){var e=1/0,r=-1/0,n=1/0,i=-1/0;if(this.graphicsData.length)for(var o=0,s=0,a=0,u=0,l=0,h=0;h<this.graphicsData.length;h++){var c=this.graphicsData[h],d=c.type,f,p,g=c.lineWidth*c.lineAlignment;if(o=c.shape,d===v.SHAPES.RECT||d===v.SHAPES.RREC)s=o.x-g,a=o.y-g,e=s<e?s:e,r=s+(u=o.width+2*g)>r?s+u:r,n=a<n?a:n,i=a+(l=o.height+2*g)>i?a+l:i;else if(d===v.SHAPES.CIRC)s=o.x,a=o.y,e=s-(u=o.radius+g)<e?s-u:e,r=s+u>r?s+u:r,n=a-(l=o.radius+g)<n?a-l:n,i=a+l>i?a+l:i;else if(d===v.SHAPES.ELIP)s=o.x,a=o.y,e=s-(u=o.width+g)<e?s-u:e,r=s+u>r?s+u:r,n=a-(l=o.height+g)<n?a-l:n,i=a+l>i?a+l:i;else for(var y=o.points,_=0,m=0,b=0,x=0,T=0,w=0,E=0,S=0,O=0;O+2<y.length;O+=2)s=y[O],a=y[O+1],_=y[O+2],m=y[O+3],b=Math.abs(_-s),x=Math.abs(m-a),l=2*g,(u=Math.sqrt(b*b+x*x))<1e-9||(e=(E=(_+s)/2)-(T=(l/u*x+b)/2)<e?E-T:e,r=E+T>r?E+T:r,n=(S=(m+a)/2)-(w=(l/u*b+x)/2)<n?S-w:n,i=S+w>i?S+w:i)}else e=0,r=0,n=0,i=0;var M=this.boundsPadding;this._localBounds.minX=e-M,this._localBounds.maxX=r+M,this._localBounds.minY=n-M,this._localBounds.maxY=i+M},e.prototype.drawShape=function t(e){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var r=new h.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,e,this.lineAlignment);return this.graphicsData.push(r),r.type===v.SHAPES.POLY&&(r.shape.closed=r.shape.closed,this.currentPath=r),this.dirty++,r},e.prototype.generateCanvasTexture=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalBounds(),i=s.default.create(n.width,n.height,e,r);O||(O=new x.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(M),M.invert(),M.tx-=n.x,M.ty-=n.y,O.render(this,i,!0,M);var o=u.default.fromCanvas(i.baseTexture._canvasRenderTarget.canvas,e,"graphics");return o.baseTexture.resolution=r,o.baseTexture.update(),o},e.prototype.closePath=function t(){var e=this.currentPath;return e&&e.shape&&e.shape.close(),this},e.prototype.addHole=function t(){var e=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(e.shape),this.currentPath=null,this},e.prototype.destroy=function e(r){t.prototype.destroy.call(this,r);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();for(var i in this._webGL)for(var o=0;o<this._webGL[i].data.length;++o)this._webGL[i].data[o].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(i.default);r.default=R,R._SPRITE_TEXTURE=null,R.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},{"../const":46,"../display/Bounds":47,"../display/Container":48,"../math":70,"../renderers/canvas/CanvasRenderer":77,"../sprites/Sprite":102,"../textures/RenderTexture":113,"../textures/Texture":115,"../utils":125,"./GraphicsData":54,"./utils/bezierCurveTo":56}],54:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e,r,i,o,s,a,u,l,h){n(this,t),this.lineWidth=e,this.lineAlignment=h,this.nativeLines=u,this.lineColor=r,this.lineAlpha=i,this._lineTint=r,this.fillColor=o,this.fillAlpha=s,this._fillTint=o,this.fill=a,this.holes=[],this.shape=l,this.type=l.type}return t.prototype.clone=function e(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},t.prototype.addHole=function t(e){this.holes.push(e)},t.prototype.destroy=function t(){this.shape=null,this.holes=null},t}();r.default=i},{}],55:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=s(t("../../renderers/canvas/CanvasRenderer")),o=t("../../const");function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(e){a(this,t),this.renderer=e}return t.prototype.render=function t(e){var r=this.renderer,n=r.context,i=e.worldAlpha,s=e.transform.worldTransform,a=r.resolution;n.setTransform(s.a*a,s.b*a,s.c*a,s.d*a,s.tx*a,s.ty*a),e.canvasTintDirty===e.dirty&&e._prevTint===e.tint||this.updateGraphicsTint(e),r.setBlendMode(e.blendMode);for(var u=0;u<e.graphicsData.length;u++){var l=e.graphicsData[u],h=l.shape,c=l._fillTint,d=l._lineTint;if(n.lineWidth=l.lineWidth,l.type===o.SHAPES.POLY){n.beginPath();var f=h.points,p=l.holes,v=void 0,g=void 0,y=void 0,_=void 0;n.moveTo(f[0],f[1]);for(var m=2;m<f.length;m+=2)n.lineTo(f[m],f[m+1]);if(h.closed&&n.closePath(),p.length>0){v=0,y=f[0],_=f[1];for(var b=2;b+2<f.length;b+=2)v+=(f[b]-y)*(f[b+3]-_)-(f[b+2]-y)*(f[b+1]-_);for(var x=0;x<p.length;x++)if(f=p[x].points){g=0,y=f[0],_=f[1];for(var T=2;T+2<f.length;T+=2)g+=(f[T]-y)*(f[T+3]-_)-(f[T+2]-y)*(f[T+1]-_);if(g*v<0){n.moveTo(f[0],f[1]);for(var w=2;w<f.length;w+=2)n.lineTo(f[w],f[w+1])}else{n.moveTo(f[f.length-2],f[f.length-1]);for(var E=f.length-4;E>=0;E-=2)n.lineTo(f[E],f[E+1])}p[x].close&&n.closePath()}}l.fill&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.stroke())}else if(l.type===o.SHAPES.RECT)(l.fillColor||0===l.fillColor)&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fillRect(h.x,h.y,h.width,h.height)),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.strokeRect(h.x,h.y,h.width,h.height));else if(l.type===o.SHAPES.CIRC)n.beginPath(),n.arc(h.x,h.y,h.radius,0,2*Math.PI),n.closePath(),l.fill&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.stroke());else if(l.type===o.SHAPES.ELIP){var S=2*h.width,O=2*h.height,M=h.x-S/2,P=h.y-O/2;n.beginPath();var A=.5522848,C=S/2*A,R=O/2*A,I=M+S,D=P+O,L=M+S/2,j=P+O/2;n.moveTo(M,j),n.bezierCurveTo(M,j-R,L-C,P,L,P),n.bezierCurveTo(L+C,P,I,j-R,I,j),n.bezierCurveTo(I,j+R,L+C,D,L,D),n.bezierCurveTo(L-C,D,M,j+R,M,j),n.closePath(),l.fill&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.stroke())}else if(l.type===o.SHAPES.RREC){var k=h.x,N=h.y,B=h.width,F=h.height,U=h.radius,X=Math.min(B,F)/2|0;U=U>X?X:U,n.beginPath(),n.moveTo(k,N+U),n.lineTo(k,N+F-U),n.quadraticCurveTo(k,N+F,k+U,N+F),n.lineTo(k+B-U,N+F),n.quadraticCurveTo(k+B,N+F,k+B,N+F-U),n.lineTo(k+B,N+U),n.quadraticCurveTo(k+B,N,k+B-U,N),n.lineTo(k+U,N),n.quadraticCurveTo(k,N,k,N+U),n.closePath(),(l.fillColor||0===l.fillColor)&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.stroke())}}},t.prototype.updateGraphicsTint=function t(e){e._prevTint=e.tint,e.canvasTintDirty=e.dirty;for(var r=(e.tint>>16&255)/255,n=(e.tint>>8&255)/255,i=(255&e.tint)/255,o=0;o<e.graphicsData.length;++o){var s=e.graphicsData[o],a=0|s.fillColor,u=0|s.lineColor;s._fillTint=((a>>16&255)/255*r*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*i*255,s._lineTint=((u>>16&255)/255*r*255<<16)+((u>>8&255)/255*n*255<<8)+(255&u)/255*i*255}},t.prototype.renderPolygon=function t(e,r,n){n.moveTo(e[0],e[1]);for(var i=1;i<e.length/2;++i)n.lineTo(e[2*i],e[2*i+1]);r&&n.closePath()},t.prototype.destroy=function t(){this.renderer=null},t}();r.default=u,i.default.registerPlugin("graphics",u)},{"../../const":46,"../../renderers/canvas/CanvasRenderer":77}],56:[function(t,e,r){"use strict";function n(t,e,r,n,i,o,s,a,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],h=0,c=0,d=0,f=0,p=0;l.push(t,e);for(var v=1,g=0;v<=u;++v)d=(c=(h=1-(g=v/u))*h)*h,p=(f=g*g)*g,l.push(d*t+3*c*g*r+3*h*f*i+p*s,d*e+3*c*g*n+3*h*f*o+p*a);return l}r.__esModule=!0,r.default=n},{}],57:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../utils"),i=t("../../const"),o,s=x(t("../../renderers/webgl/utils/ObjectRenderer")),a,u=x(t("../../renderers/webgl/WebGLRenderer")),l,h=x(t("./WebGLGraphicsData")),c,d=x(t("./shaders/PrimitiveShader")),f,p=x(t("./utils/buildPoly")),v,g=x(t("./utils/buildRectangle")),y,_=x(t("./utils/buildRoundedRectangle")),m,b=x(t("./utils/buildCircle"));function x(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var S=function(t){function e(r){T(this,e);var n=w(this,t.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return E(e,t),e.prototype.onContextChange=function t(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new d.default(this.gl)},e.prototype.destroy=function t(){s.default.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},e.prototype.render=function t(e){var r=this.renderer,i=r.gl,o=void 0,s=e._webGL[this.CONTEXT_UID];s&&e.dirty===s.dirty||(this.updateGraphics(e),s=e._webGL[this.CONTEXT_UID]);var a=this.primitiveShader;r.bindShader(a),r.state.setBlendMode(e.blendMode);for(var u=0,l=s.data.length;u<l;u++){var h=(o=s.data[u]).shader;r.bindShader(h),h.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),h.uniforms.tint=(0,n.hex2rgb)(e.tint),h.uniforms.alpha=e.worldAlpha,r.bindVao(o.vao),o.nativeLines?i.drawArrays(i.LINES,0,o.points.length/6):o.vao.draw(i.TRIANGLE_STRIP,o.indices.length)}},e.prototype.updateGraphics=function t(e){var r=this.renderer.gl,n=e._webGL[this.CONTEXT_UID];if(n||(n=e._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:r,clearDirty:-1,dirty:-1}),n.dirty=e.dirty,e.clearDirty!==n.clearDirty){n.clearDirty=e.clearDirty;for(var o=0;o<n.data.length;o++)this.graphicsDataPool.push(n.data[o]);n.data.length=0,n.lastIndex=0}for(var s=void 0,a=void 0,u=n.lastIndex;u<e.graphicsData.length;u++){var l=e.graphicsData[u];s=this.getWebGLData(n,0),l.nativeLines&&l.lineWidth&&(a=this.getWebGLData(n,0,!0),n.lastIndex++),l.type===i.SHAPES.POLY&&(0,p.default)(l,s,a),l.type===i.SHAPES.RECT?(0,g.default)(l,s,a):l.type===i.SHAPES.CIRC||l.type===i.SHAPES.ELIP?(0,b.default)(l,s,a):l.type===i.SHAPES.RREC&&(0,_.default)(l,s,a),n.lastIndex++}this.renderer.bindVao(null);for(var h=0;h<n.data.length;h++)(s=n.data[h]).dirty&&s.upload()},e.prototype.getWebGLData=function t(e,r,n){var i=e.data[e.data.length-1];return(!i||i.nativeLines!==n||i.points.length>32e4)&&((i=this.graphicsDataPool.pop()||new h.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=n,i.reset(r),e.data.push(i)),i.dirty=!0,i},e}(s.default);r.default=S,u.default.registerPlugin("graphics",S)},{"../../const":46,"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../utils":125,"./WebGLGraphicsData":58,"./shaders/PrimitiveShader":59,"./utils/buildCircle":60,"./utils/buildPoly":62,"./utils/buildRectangle":63,"./utils/buildRoundedRectangle":64}],58:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=o(t("pixi-gl-core"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(e,r,n){s(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=i.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new i.default.VertexArrayObject(e,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function t(){this.points.length=0,this.indices.length=0},t.prototype.upload=function t(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function t(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();r.default=a},{"pixi-gl-core":15}],59:[function(t,e,r){"use strict";var n,i;function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var l=function(t){function e(r){return s(this,e),a(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return u(e,t),e}(o(t("../../../Shader")).default);r.default=l},{"../../../Shader":44}],60:[function(t,e,r){"use strict";r.__esModule=!0,r.default=u;var n,i=a(t("./buildLine")),o=t("../../../const"),s=t("../../../utils");function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e,r){var n=t.shape,a=n.x,u=n.y,l=void 0,h=void 0;if(t.type===o.SHAPES.CIRC?(l=n.radius,h=n.radius):(l=n.width,h=n.height),0!==l&&0!==h){var c=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),d=2*Math.PI/c;if(t.fill){var f=(0,s.hex2rgb)(t.fillColor),p=t.fillAlpha,v=f[0]*p,g=f[1]*p,y=f[2]*p,_=e.points,m=e.indices,b=_.length/6;m.push(b);for(var x=0;x<c+1;x++)_.push(a,u,v,g,y,p),_.push(a+Math.sin(d*x)*l,u+Math.cos(d*x)*h,v,g,y,p),m.push(b++,b++);m.push(b-1)}if(t.lineWidth){var T=t.points;t.points=[];for(var w=0;w<c;w++)t.points.push(a+Math.sin(d*-w)*l,u+Math.cos(d*-w)*h);t.points.push(t.points[0],t.points[1]),(0,i.default)(t,e,r),t.points=T}}}},{"../../../const":46,"../../../utils":125,"./buildLine":61}],61:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e,r){t.nativeLines?s(t,r):o(t,e)};var n=t("../../../math"),i=t("../../../utils");function o(t,e){var r=t.points;if(0!==r.length){var o=new n.Point(r[0],r[1]),s=new n.Point(r[r.length-2],r[r.length-1]);if(o.x===s.x&&o.y===s.y){(r=r.slice()).pop(),r.pop();var a=(s=new n.Point(r[r.length-2],r[r.length-1])).x+.5*(o.x-s.x),u=s.y+.5*(o.y-s.y);r.unshift(a,u),r.push(a,u)}var l=e.points,h=e.indices,c=r.length/2,d=r.length,f=l.length/6,p=t.lineWidth/2,v=(0,i.hex2rgb)(t.lineColor),g=t.lineAlpha,y=v[0]*g,_=v[1]*g,m=v[2]*g,b=r[0],x=r[1],T=r[2],w=r[3],E=0,S=0,O=-(x-w),M=b-T,P=0,A=0,C=0,R=0,I=Math.sqrt(O*O+M*M);O/=I,M/=I,O*=p,M*=p;var D=t.lineAlignment,L=2*(1-D),j=2*D;l.push(b-O*L,x-M*L,y,_,m,g),l.push(b+O*j,x+M*j,y,_,m,g);for(var k=1;k<c-1;++k){b=r[2*(k-1)],x=r[2*(k-1)+1],T=r[2*k],w=r[2*k+1],E=r[2*(k+1)],S=r[2*(k+1)+1],O=-(x-w),M=b-T,O/=I=Math.sqrt(O*O+M*M),M/=I,O*=p,M*=p,P=-(w-S),A=T-E,P/=I=Math.sqrt(P*P+A*A),A/=I;var N=-M+x-(-M+w),B=-O+T-(-O+b),F=(-O+b)*(-M+w)-(-O+T)*(-M+x),U=-(A*=p)+S-(-A+w),X=-(P*=p)+T-(-P+E),G=(-P+E)*(-A+w)-(-P+T)*(-A+S),H=N*X-U*B;if(Math.abs(H)<.1)H+=10.1,l.push(T-O*L,w-M*L,y,_,m,g),l.push(T+O*j,w+M*j,y,_,m,g);else{var W=(B*G-X*F)/H,V=(U*F-N*G)/H,Y;(W-T)*(W-T)+(V-w)*(V-w)>196*p*p?(C=O-P,R=M-A,C/=I=Math.sqrt(C*C+R*R),R/=I,C*=p,R*=p,l.push(T-C*L,w-R*L),l.push(y,_,m,g),l.push(T+C*j,w+R*j),l.push(y,_,m,g),l.push(T-C*j*L,w-R*L),l.push(y,_,m,g),d++):(l.push(T+(W-T)*L,w+(V-w)*L),l.push(y,_,m,g),l.push(T-(W-T)*j,w-(V-w)*j),l.push(y,_,m,g))}}b=r[2*(c-2)],x=r[2*(c-2)+1],T=r[2*(c-1)],O=-(x-(w=r[2*(c-1)+1])),M=b-T,O/=I=Math.sqrt(O*O+M*M),M/=I,O*=p,M*=p,l.push(T-O*L,w-M*L),l.push(y,_,m,g),l.push(T+O*j,w+M*j),l.push(y,_,m,g),h.push(f);for(var z=0;z<d;++z)h.push(f++);h.push(f-1)}}function s(t,e){var r=0,n=t.points;if(0!==n.length){var o=e.points,s=n.length/2,a=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,l=a[0]*u,h=a[1]*u,c=a[2]*u;for(r=1;r<s;r++){var d=n[2*(r-1)],f=n[2*(r-1)+1],p=n[2*r],v=n[2*r+1];o.push(d,f),o.push(l,h,c,u),o.push(p,v),o.push(l,h,c,u)}}}},{"../../../math":70,"../../../utils":125}],62:[function(t,e,r){"use strict";r.__esModule=!0,r.default=l;var n,i=u(t("./buildLine")),o=t("../../../utils"),s,a=u(t("earcut"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e,r){t.points=t.shape.points.slice();var n=t.points;if(t.fill&&n.length>=6){for(var s=[],u=t.holes,l=0;l<u.length;l++){var h=u[l];s.push(n.length/2),n=n.concat(h.points)}var c=e.points,d=e.indices,f=n.length/2,p=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,g=p[0]*v,y=p[1]*v,_=p[2]*v,m=(0,a.default)(n,s,2);if(!m)return;for(var b=c.length/6,x=0;x<m.length;x+=3)d.push(m[x]+b),d.push(m[x]+b),d.push(m[x+1]+b),d.push(m[x+2]+b),d.push(m[x+2]+b);for(var T=0;T<f;T++)c.push(n[2*T],n[2*T+1],g,y,_,v)}t.lineWidth>0&&(0,i.default)(t,e,r)}},{"../../../utils":125,"./buildLine":61,earcut:2}],63:[function(t,e,r){"use strict";r.__esModule=!0,r.default=a;var n,i=s(t("./buildLine")),o=t("../../../utils");function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){var n=t.shape,s=n.x,a=n.y,u=n.width,l=n.height;if(t.fill){var h=(0,o.hex2rgb)(t.fillColor),c=t.fillAlpha,d=h[0]*c,f=h[1]*c,p=h[2]*c,v=e.points,g=e.indices,y=v.length/6;v.push(s,a),v.push(d,f,p,c),v.push(s+u,a),v.push(d,f,p,c),v.push(s,a+l),v.push(d,f,p,c),v.push(s+u,a+l),v.push(d,f,p,c),g.push(y,y,y+1,y+2,y+3,y+3)}if(t.lineWidth){var _=t.points;t.points=[s,a,s+u,a,s+u,a+l,s,a+l,s,a],(0,i.default)(t,e,r),t.points=_}}},{"../../../utils":125,"./buildLine":61}],64:[function(t,e,r){"use strict";r.__esModule=!0,r.default=l;var n,i=u(t("earcut")),o,s=u(t("./buildLine")),a=t("../../../utils");function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e,r){var n=t.shape,o=n.x,u=n.y,l=n.width,h=n.height,d=n.radius,f=[];if(f.push(o+d,u),c(o+l-d,u,o+l,u,o+l,u+d,f),c(o+l,u+h-d,o+l,u+h,o+l-d,u+h,f),c(o+d,u+h,o,u+h,o,u+h-d,f),c(o,u+d,o,u,o+d+1e-10,u,f),t.fill){for(var p=(0,a.hex2rgb)(t.fillColor),v=t.fillAlpha,g=p[0]*v,y=p[1]*v,_=p[2]*v,m=e.points,b=e.indices,x=m.length/6,T=(0,i.default)(f,null,2),w=0,E=T.length;w<E;w+=3)b.push(T[w]+x),b.push(T[w]+x),b.push(T[w+1]+x),b.push(T[w+2]+x),b.push(T[w+2]+x);for(var S=0,O=f.length;S<O;S++)m.push(f[S],f[++S],g,y,_,v)}if(t.lineWidth){var M=t.points;t.points=f,(0,s.default)(t,e,r),t.points=M}}function h(t,e,r){var n;return t+(e-t)*r}function c(t,e,r,n,i,o){for(var s,a=20,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=0,c=0,d=0,f=0,p=0,v=0,g=0,y=0;g<=a;++g)l=h(t,r,y=g/a),c=h(e,n,y),d=h(r,i,y),f=h(n,o,y),p=h(l,d,y),v=h(c,f,y),u.push(p,v);return u}},{"../../../utils":125,"./buildLine":61,earcut:2}],65:[function(t,e,r){"use strict";r.__esModule=!0,r.autoDetectRenderer=r.Application=r.Filter=r.SpriteMaskFilter=r.Quad=r.RenderTarget=r.ObjectRenderer=r.WebGLManager=r.Shader=r.CanvasRenderTarget=r.TextureUvs=r.VideoBaseTexture=r.BaseRenderTexture=r.RenderTexture=r.BaseTexture=r.TextureMatrix=r.Texture=r.Spritesheet=r.CanvasGraphicsRenderer=r.GraphicsRenderer=r.GraphicsData=r.Graphics=r.TextMetrics=r.TextStyle=r.Text=r.SpriteRenderer=r.CanvasTinter=r.CanvasSpriteRenderer=r.Sprite=r.TransformBase=r.TransformStatic=r.Transform=r.Container=r.DisplayObject=r.Bounds=r.glCore=r.WebGLRenderer=r.CanvasRenderer=r.ticker=r.utils=r.settings=void 0;var n=t("./const");Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function e(){return n[t]}})}));var i=t("./math");Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function e(){return i[t]}})}));var o=t("pixi-gl-core");Object.defineProperty(r,"glCore",{enumerable:!0,get:function t(){return Q(o).default}});var s=t("./display/Bounds");Object.defineProperty(r,"Bounds",{enumerable:!0,get:function t(){return Q(s).default}});var a=t("./display/DisplayObject");Object.defineProperty(r,"DisplayObject",{enumerable:!0,get:function t(){return Q(a).default}});var u=t("./display/Container");Object.defineProperty(r,"Container",{enumerable:!0,get:function t(){return Q(u).default}});var l=t("./display/Transform");Object.defineProperty(r,"Transform",{enumerable:!0,get:function t(){return Q(l).default}});var h=t("./display/TransformStatic");Object.defineProperty(r,"TransformStatic",{enumerable:!0,get:function t(){return Q(h).default}});var c=t("./display/TransformBase");Object.defineProperty(r,"TransformBase",{enumerable:!0,get:function t(){return Q(c).default}});var d=t("./sprites/Sprite");Object.defineProperty(r,"Sprite",{enumerable:!0,get:function t(){return Q(d).default}});var f=t("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(r,"CanvasSpriteRenderer",{enumerable:!0,get:function t(){return Q(f).default}});var p=t("./sprites/canvas/CanvasTinter");Object.defineProperty(r,"CanvasTinter",{enumerable:!0,get:function t(){return Q(p).default}});var v=t("./sprites/webgl/SpriteRenderer");Object.defineProperty(r,"SpriteRenderer",{enumerable:!0,get:function t(){return Q(v).default}});var g=t("./text/Text");Object.defineProperty(r,"Text",{enumerable:!0,get:function t(){return Q(g).default}});var y=t("./text/TextStyle");Object.defineProperty(r,"TextStyle",{enumerable:!0,get:function t(){return Q(y).default}});var _=t("./text/TextMetrics");Object.defineProperty(r,"TextMetrics",{enumerable:!0,get:function t(){return Q(_).default}});var m=t("./graphics/Graphics");Object.defineProperty(r,"Graphics",{enumerable:!0,get:function t(){return Q(m).default}});var b=t("./graphics/GraphicsData");Object.defineProperty(r,"GraphicsData",{enumerable:!0,get:function t(){return Q(b).default}});var x=t("./graphics/webgl/GraphicsRenderer");Object.defineProperty(r,"GraphicsRenderer",{enumerable:!0,get:function t(){return Q(x).default}});var T=t("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(r,"CanvasGraphicsRenderer",{enumerable:!0,get:function t(){return Q(T).default}});var w=t("./textures/Spritesheet");Object.defineProperty(r,"Spritesheet",{enumerable:!0,get:function t(){return Q(w).default}});var E=t("./textures/Texture");Object.defineProperty(r,"Texture",{enumerable:!0,get:function t(){return Q(E).default}});var S=t("./textures/TextureMatrix");Object.defineProperty(r,"TextureMatrix",{enumerable:!0,get:function t(){return Q(S).default}});var O=t("./textures/BaseTexture");Object.defineProperty(r,"BaseTexture",{enumerable:!0,get:function t(){return Q(O).default}});var M=t("./textures/RenderTexture");Object.defineProperty(r,"RenderTexture",{enumerable:!0,get:function t(){return Q(M).default}});var P=t("./textures/BaseRenderTexture");Object.defineProperty(r,"BaseRenderTexture",{enumerable:!0,get:function t(){return Q(P).default}});var A=t("./textures/VideoBaseTexture");Object.defineProperty(r,"VideoBaseTexture",{enumerable:!0,get:function t(){return Q(A).default}});var C=t("./textures/TextureUvs");Object.defineProperty(r,"TextureUvs",{enumerable:!0,get:function t(){return Q(C).default}});var R=t("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(r,"CanvasRenderTarget",{enumerable:!0,get:function t(){return Q(R).default}});var I=t("./Shader");Object.defineProperty(r,"Shader",{enumerable:!0,get:function t(){return Q(I).default}});var D=t("./renderers/webgl/managers/WebGLManager");Object.defineProperty(r,"WebGLManager",{enumerable:!0,get:function t(){return Q(D).default}});var L=t("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(r,"ObjectRenderer",{enumerable:!0,get:function t(){return Q(L).default}});var j=t("./renderers/webgl/utils/RenderTarget");Object.defineProperty(r,"RenderTarget",{enumerable:!0,get:function t(){return Q(j).default}});var k=t("./renderers/webgl/utils/Quad");Object.defineProperty(r,"Quad",{enumerable:!0,get:function t(){return Q(k).default}});var N=t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(r,"SpriteMaskFilter",{enumerable:!0,get:function t(){return Q(N).default}});var B=t("./renderers/webgl/filters/Filter");Object.defineProperty(r,"Filter",{enumerable:!0,get:function t(){return Q(B).default}});var F=t("./Application");Object.defineProperty(r,"Application",{enumerable:!0,get:function t(){return Q(F).default}});var U=t("./autoDetectRenderer");Object.defineProperty(r,"autoDetectRenderer",{enumerable:!0,get:function t(){return U.autoDetectRenderer}});var X,G=J(t("./utils")),H,W=J(t("./ticker")),V,Y=Q(t("./settings")),z,q=Q(t("./renderers/canvas/CanvasRenderer")),K,Z=Q(t("./renderers/webgl/WebGLRenderer"));function J(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Q(t){return t&&t.__esModule?t:{default:t}}r.settings=Y.default,r.utils=G,r.ticker=W,r.CanvasRenderer=q.default,r.WebGLRenderer=Z.default},{"./Application":43,"./Shader":44,"./autoDetectRenderer":45,"./const":46,"./display/Bounds":47,"./display/Container":48,"./display/DisplayObject":49,"./display/Transform":50,"./display/TransformBase":51,"./display/TransformStatic":52,"./graphics/Graphics":53,"./graphics/GraphicsData":54,"./graphics/canvas/CanvasGraphicsRenderer":55,"./graphics/webgl/GraphicsRenderer":57,"./math":70,"./renderers/canvas/CanvasRenderer":77,"./renderers/canvas/utils/CanvasRenderTarget":79,"./renderers/webgl/WebGLRenderer":84,"./renderers/webgl/filters/Filter":86,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":89,"./renderers/webgl/managers/WebGLManager":93,"./renderers/webgl/utils/ObjectRenderer":94,"./renderers/webgl/utils/Quad":95,"./renderers/webgl/utils/RenderTarget":96,"./settings":101,"./sprites/Sprite":102,"./sprites/canvas/CanvasSpriteRenderer":103,"./sprites/canvas/CanvasTinter":104,"./sprites/webgl/SpriteRenderer":106,"./text/Text":108,"./text/TextMetrics":109,"./text/TextStyle":110,"./textures/BaseRenderTexture":111,"./textures/BaseTexture":112,"./textures/RenderTexture":113,"./textures/Spritesheet":114,"./textures/Texture":115,"./textures/TextureMatrix":116,"./textures/TextureUvs":117,"./textures/VideoBaseTexture":118,"./ticker":121,"./utils":125,"pixi-gl-core":15}],66:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=o(t("./Matrix"));function o(t){return t&&t.__esModule?t:{default:t}}var s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],l=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],c=[];function d(t){return t<0?-1:t>0?1:0}function f(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var r=0;r<16;r++)for(var n=d(s[t]*s[r]+u[t]*a[r]),o=d(a[t]*s[r]+l[t]*a[r]),f=d(s[t]*u[r]+u[t]*l[r]),p=d(a[t]*u[r]+l[t]*l[r]),v=0;v<16;v++)if(s[v]===n&&a[v]===o&&u[v]===f&&l[v]===p){e.push(v);break}}for(var g=0;g<16;g++){var y=new i.default;y.set(s[g],a[g],u[g],l[g],0,0),h.push(y)}}f();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function t(e){return s[e]},uY:function t(e){return a[e]},vX:function t(e){return u[e]},vY:function t(e){return l[e]},inv:function t(e){return 8&e?15&e:7&-e},add:function t(e,r){return c[e][r]},sub:function t(e,r){return c[e][p.inv(r)]},rotate180:function t(e){return 4^e},isVertical:function t(e){return 2==(3&e)},byDirection:function t(e,r){return 2*Math.abs(e)<=Math.abs(r)?r>=0?p.S:p.N:2*Math.abs(r)<=Math.abs(e)?e>0?p.E:p.W:r>0?e>0?p.SE:p.SW:e>0?p.NE:p.NW},matrixAppendRotationInv:function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=h[p.inv(r)];o.tx=n,o.ty=i,e.append(o)}};r.default=p},{"./Matrix":67}],67:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=a(t("./Point")),s=t("../const");function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;u(this,t),this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=s,this.array=null}return t.prototype.fromArray=function t(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function t(e,r,n,i,o,s){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=s,this},t.prototype.toArray=function t(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function t(e,r){r=r||new o.default;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function t(e,r){r=r||new o.default;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function t(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function t(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function t(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,o=this.c,s=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=o*r-this.d*n,this.d=o*n+this.d*r,this.tx=s*r-this.ty*n,this.ty=s*n+this.ty*r,this},t.prototype.append=function t(e){var r=this.a,n=this.b,i=this.c,o=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*o,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*o,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*o+this.ty,this},t.prototype.setTransform=function t(e,r,n,i,o,s,a,u,l){return this.a=Math.cos(a+l)*o,this.b=Math.sin(a+l)*o,this.c=-Math.sin(a-u)*s,this.d=Math.cos(a-u)*s,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function t(e){var r=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function t(e){var r=this.a,n=this.b,i=this.c,o=this.d,a=-Math.atan2(-i,o),u=Math.atan2(n,r),l=Math.abs(a+u);return l<1e-5||Math.abs(s.PI_2-l)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+o*o),e.position.x=this.tx,e.position.y=this.ty,e},t.prototype.invert=function t(){var e=this.a,r=this.b,n=this.c,i=this.d,o=this.tx,s=e*i-r*n;return this.a=i/s,this.b=-r/s,this.c=-n/s,this.d=e/s,this.tx=(n*this.ty-i*o)/s,this.ty=-(e*this.ty-r*o)/s,this},t.prototype.identity=function t(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function e(){var r=new t;return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copy=function t(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},n(t,null,[{key:"IDENTITY",get:function e(){return new t}},{key:"TEMP_MATRIX",get:function e(){return new t}}]),t}();r.default=l},{"../const":46,"./Point":69}],68:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,t),this._x=n,this._y=o,this.cb=e,this.scope=r}return t.prototype.clone=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=r||this.cb,o=n||this.scope;return new t(i,o,this._x,this._y)},t.prototype.set=function t(e,r){var n=e||0,i=r||(0!==r?n:0);this._x===n&&this._y===i||(this._x=n,this._y=i,this.cb.call(this.scope))},t.prototype.copy=function t(e){this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope))},t.prototype.equals=function t(e){return e.x===this._x&&e.y===this._y},n(t,[{key:"x",get:function t(){return this._x},set:function t(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function t(){return this._y},set:function t(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),t}();r.default=o},{}],69:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(this,t),this.x=e,this.y=r}return t.prototype.clone=function e(){return new t(this.x,this.y)},t.prototype.copy=function t(e){this.set(e.x,e.y)},t.prototype.equals=function t(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function t(e,r){this.x=e||0,this.y=r||(0!==r?this.x:0)},t}();r.default=i},{}],70:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./Point");Object.defineProperty(r,"Point",{enumerable:!0,get:function t(){return d(n).default}});var i=t("./ObservablePoint");Object.defineProperty(r,"ObservablePoint",{enumerable:!0,get:function t(){return d(i).default}});var o=t("./Matrix");Object.defineProperty(r,"Matrix",{enumerable:!0,get:function t(){return d(o).default}});var s=t("./GroupD8");Object.defineProperty(r,"GroupD8",{enumerable:!0,get:function t(){return d(s).default}});var a=t("./shapes/Circle");Object.defineProperty(r,"Circle",{enumerable:!0,get:function t(){return d(a).default}});var u=t("./shapes/Ellipse");Object.defineProperty(r,"Ellipse",{enumerable:!0,get:function t(){return d(u).default}});var l=t("./shapes/Polygon");Object.defineProperty(r,"Polygon",{enumerable:!0,get:function t(){return d(l).default}});var h=t("./shapes/Rectangle");Object.defineProperty(r,"Rectangle",{enumerable:!0,get:function t(){return d(h).default}});var c=t("./shapes/RoundedRectangle");function d(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"RoundedRectangle",{enumerable:!0,get:function t(){return d(c).default}})},{"./GroupD8":66,"./Matrix":67,"./ObservablePoint":68,"./Point":69,"./shapes/Circle":71,"./shapes/Ellipse":72,"./shapes/Polygon":73,"./shapes/Rectangle":74,"./shapes/RoundedRectangle":75}],71:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=s(t("./Rectangle")),o=t("../../const");function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;a(this,t),this.x=e,this.y=r,this.radius=n,this.type=o.SHAPES.CIRC}return t.prototype.clone=function e(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function t(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,o=this.y-r;return(i*=i)+(o*=o)<=n},t.prototype.getBounds=function t(){return new i.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();r.default=u},{"../../const":46,"./Rectangle":74}],72:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=s(t("./Rectangle")),o=t("../../const");function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a(this,t),this.x=e,this.y=r,this.width=n,this.height=i,this.type=o.SHAPES.ELIP}return t.prototype.clone=function e(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function t(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return(n*=n)+(i*=i)<=1},t.prototype.getBounds=function t(){return new i.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();r.default=u},{"../../const":46,"./Rectangle":74}],73:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=s(t("../Point")),o=t("../../const");function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];if(a(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof i.default){for(var s=[],u=0,l=r.length;u<l;u++)s.push(r[u].x,r[u].y);r=s}this.closed=!0,this.points=r,this.type=o.SHAPES.POLY}return t.prototype.clone=function e(){return new t(this.points.slice())},t.prototype.close=function t(){var e=this.points;e[0]===e[e.length-2]&&e[1]===e[e.length-1]||e.push(e[0],e[1])},t.prototype.contains=function t(e,r){for(var n=!1,i=this.points.length/2,o=0,s=i-1;o<i;s=o++){var a=this.points[2*o],u=this.points[2*o+1],l=this.points[2*s],h=this.points[2*s+1],c;u>r!=h>r&&e<(r-u)/(h-u)*(l-a)+a&&(n=!n)}return n},t}();r.default=u},{"../../const":46,"../Point":69}],74:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../../const");function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o(this,t),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(s),this.type=i.SHAPES.RECT}return t.prototype.clone=function e(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function t(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.contains=function t(e,r){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height)},t.prototype.pad=function t(e,r){e=e||0,r=r||(0!==r?e:0),this.x-=e,this.y-=r,this.width+=2*e,this.height+=2*r},t.prototype.fit=function t(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(o-i,0)},t.prototype.enlarge=function t(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);this.x=r,this.width=n-r,this.y=i,this.height=o-i},t.prototype.ceil=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y},n(t,[{key:"left",get:function t(){return this.x}},{key:"right",get:function t(){return this.x+this.width}},{key:"top",get:function t(){return this.y}},{key:"bottom",get:function t(){return this.y+this.height}}],[{key:"EMPTY",get:function e(){return new t(0,0,0,0)}}]),t}();r.default=s},{"../../const":46}],75:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../const");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;i(this,t),this.x=e,this.y=r,this.width=o,this.height=s,this.radius=a,this.type=n.SHAPES.RREC}return t.prototype.clone=function e(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function t(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),i=r-(this.y+this.radius),o=this.radius*this.radius;if(n*n+i*i<=o)return!0;if((n=e-(this.x+this.width-this.radius))*n+i*i<=o)return!0;if(n*n+(i=r-(this.y+this.height-this.radius))*i<=o)return!0;if((n=e-(this.x+this.radius))*n+i*i<=o)return!0}return!1},t}();r.default=o},{"../../const":46}],76:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../utils"),o=t("../math"),s=t("../const"),a,u=v(t("../settings")),l,h=v(t("../display/Container")),c,d=v(t("../textures/RenderTexture")),f,p=v(t("eventemitter3"));function v(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=new o.Matrix,b=function(t){function e(r,n,a,l){g(this,e);var c=y(this,t.call(this));return(0,i.sayHello)(r),"number"==typeof n&&(n=Object.assign({width:n,height:a||u.default.RENDER_OPTIONS.height},l)),n=Object.assign({},u.default.RENDER_OPTIONS,n),c.options=n,c.type=s.RENDERER_TYPE.UNKNOWN,c.screen=new o.Rectangle(0,0,n.width,n.height),c.view=n.view||document.createElement("canvas"),c.resolution=n.resolution||u.default.RESOLUTION,c.transparent=n.transparent,c.autoResize=n.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=n.preserveDrawingBuffer,c.clearBeforeRender=n.clearBeforeRender,c.roundPixels=n.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=n.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new h.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return _(e,t),e.prototype.resize=function t(e,r){this.screen.width=e,this.screen.height=r,this.view.width=e*this.resolution,this.view.height=r*this.resolution,this.autoResize&&(this.view.style.width=e+"px",this.view.style.height=r+"px")},e.prototype.generateTexture=function t(e,r,n,i){i=i||e.getLocalBounds();var o=d.default.create(0|i.width,0|i.height,r,n);return m.tx=-i.x,m.ty=-i.y,this.render(e,o,!1,m,!!e.parent),o},e.prototype.destroy=function t(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(e,[{key:"width",get:function t(){return this.view.width}},{key:"height",get:function t(){return this.view.height}},{key:"backgroundColor",get:function t(){return this._backgroundColor},set:function t(e){this._backgroundColor=e,this._backgroundColorString=(0,i.hex2string)(e),(0,i.hex2rgb)(e,this._backgroundColorRgba)}}]),e}(p.default);r.default=b},{"../const":46,"../display/Container":48,"../math":70,"../settings":101,"../textures/RenderTexture":113,"../utils":125,eventemitter3:3}],77:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=v(t("../SystemRenderer")),o,s=v(t("./utils/CanvasMaskManager")),a,u=v(t("./utils/CanvasRenderTarget")),l,h=v(t("./utils/mapCanvasBlendModesToPixi")),c=t("../../utils"),d=t("../../const"),f,p=v(t("../../settings"));function v(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(r,n,i){g(this,e);var o=y(this,t.call(this,"Canvas",r,n,i));return o.type=d.RENDERER_TYPE.CANVAS,o.rootContext=o.view.getContext("2d",{alpha:o.transparent}),o.context=o.rootContext,o.refresh=!0,o.maskManager=new s.default(o),o.smoothProperty="imageSmoothingEnabled",o.rootContext.imageSmoothingEnabled||(o.rootContext.webkitImageSmoothingEnabled?o.smoothProperty="webkitImageSmoothingEnabled":o.rootContext.mozImageSmoothingEnabled?o.smoothProperty="mozImageSmoothingEnabled":o.rootContext.oImageSmoothingEnabled?o.smoothProperty="oImageSmoothingEnabled":o.rootContext.msImageSmoothingEnabled&&(o.smoothProperty="msImageSmoothingEnabled")),o.initPlugins(),o.blendModes=(0,h.default)(),o._activeBlendMode=null,o.renderingToScreen=!1,o.resize(o.options.width,o.options.height),o}return _(e,t),e.prototype.render=function t(e,r,n,i,o){if(this.view){this.renderingToScreen=!r,this.emit("prerender");var s=this.resolution;r?((r=r.baseTexture||r)._canvasRenderTarget||(r._canvasRenderTarget=new u.default(r.width,r.height,r.resolution),r.source=r._canvasRenderTarget.canvas,r.valid=!0),this.context=r._canvasRenderTarget.context,this.resolution=r._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(r||(this._lastObjectRendered=e),!o){var l=e.parent,h=this._tempDisplayObjectParent.transform.worldTransform;i?(i.copy(h),this._tempDisplayObjectParent.transform._worldID=-1):h.identity(),e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=l}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=d.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[d.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=a,e.renderCanvas(this),this.context=c,a.restore(),this.resolution=s,this.emit("postrender")}},e.prototype.clear=function t(e){var r=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(r.fillStyle=e,r.fillRect(0,0,this.width,this.height)):r.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function t(e){this._activeBlendMode!==e&&(this._activeBlendMode=e,this.context.globalCompositeOperation=this.blendModes[e])},e.prototype.destroy=function e(r){this.destroyPlugins(),t.prototype.destroy.call(this,r),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function e(r,n){t.prototype.resize.call(this,r,n),this.smoothProperty&&(this.rootContext[this.smoothProperty]=p.default.SCALE_MODE===d.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function t(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(i.default);r.default=m,c.pluginTarget.mixin(m)},{"../../const":46,"../../settings":101,"../../utils":125,"../SystemRenderer":76,"./utils/CanvasMaskManager":78,"./utils/CanvasRenderTarget":79,"./utils/mapCanvasBlendModesToPixi":81}],78:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../../const");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e){i(this,t),this.renderer=e}return t.prototype.pushMask=function t(e){var r=this.renderer;r.context.save();var n=e.alpha,i=e.transform.worldTransform,o=r.resolution;r.context.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),e._texture||(this.renderGraphicsShape(e),r.context.clip()),e.worldAlpha=n},t.prototype.renderGraphicsShape=function t(e){var r=this.renderer.context,i=e.graphicsData.length;if(0!==i){r.beginPath();for(var o=0;o<i;o++){var s=e.graphicsData[o],a=s.shape;if(s.type===n.SHAPES.POLY){var u=a.points,l=s.holes,h=void 0,c=void 0;r.moveTo(u[0],u[1]);for(var d=2;d<u.length;d+=2)r.lineTo(u[d],u[d+1]);if(u[0]===u[u.length-2]&&u[1]===u[u.length-1]&&r.closePath(),l.length>0){h=0;for(var f=0;f<u.length;f+=2)h+=u[f]*u[f+3]-u[f+1]*u[f+2];for(var p=0;p<l.length;p++){u=l[p].points,c=0;for(var v=0;v<u.length;v+=2)c+=u[v]*u[v+3]-u[v+1]*u[v+2];if(r.moveTo(u[0],u[1]),c*h<0)for(var g=2;g<u.length;g+=2)r.lineTo(u[g],u[g+1]);else for(var y=u.length-2;y>=2;y-=2)r.lineTo(u[y],u[y+1])}}}else if(s.type===n.SHAPES.RECT)r.rect(a.x,a.y,a.width,a.height),r.closePath();else if(s.type===n.SHAPES.CIRC)r.arc(a.x,a.y,a.radius,0,2*Math.PI),r.closePath();else if(s.type===n.SHAPES.ELIP){var _=2*a.width,m=2*a.height,b=a.x-_/2,x=a.y-m/2,T=.5522848,w=_/2*T,E=m/2*T,S=b+_,O=x+m,M=b+_/2,P=x+m/2;r.moveTo(b,P),r.bezierCurveTo(b,P-E,M-w,x,M,x),r.bezierCurveTo(M+w,x,S,P-E,S,P),r.bezierCurveTo(S,P+E,M+w,O,M,O),r.bezierCurveTo(M-w,O,b,P+E,b,P),r.closePath()}else if(s.type===n.SHAPES.RREC){var A=a.x,C=a.y,R=a.width,I=a.height,D=a.radius,L=Math.min(R,I)/2|0;D=D>L?L:D,r.moveTo(A,C+D),r.lineTo(A,C+I-D),r.quadraticCurveTo(A,C+I,A+D,C+I),r.lineTo(A+R-D,C+I),r.quadraticCurveTo(A+R,C+I,A+R,C+I-D),r.lineTo(A+R,C+D),r.quadraticCurveTo(A+R,C,A+R-D,C),r.lineTo(A+D,C),r.quadraticCurveTo(A,C,A,C+D),r.closePath()}}}},t.prototype.popMask=function t(e){e.context.restore(),e.invalidateBlendMode()},t.prototype.destroy=function t(){},t}();r.default=o},{"../../../const":46}],79:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=s(t("../../../settings"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(e,r,n){a(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||o.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function t(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function t(e,r){this.canvas.width=e*this.resolution,this.canvas.height=r*this.resolution},t.prototype.destroy=function t(){this.context=null,this.canvas=null},n(t,[{key:"width",get:function t(){return this.canvas.width},set:function t(e){this.canvas.width=e}},{key:"height",get:function t(){return this.canvas.height},set:function t(e){this.canvas.height=e}}]),t}();r.default=u},{"../../../settings":101}],80:[function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}function i(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}r.__esModule=!0,r.default=i},{}],81:[function(t,e,r){"use strict";r.__esModule=!0,r.default=a;var n=t("../../../const"),i,o=s(t("./canUseNewCanvasBlendModes"));function s(t){return t&&t.__esModule?t:{default:t}}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,o.default)()?(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="multiply",t[n.BLEND_MODES.SCREEN]="screen",t[n.BLEND_MODES.OVERLAY]="overlay",t[n.BLEND_MODES.DARKEN]="darken",t[n.BLEND_MODES.LIGHTEN]="lighten",t[n.BLEND_MODES.COLOR_DODGE]="color-dodge",t[n.BLEND_MODES.COLOR_BURN]="color-burn",t[n.BLEND_MODES.HARD_LIGHT]="hard-light",t[n.BLEND_MODES.SOFT_LIGHT]="soft-light",t[n.BLEND_MODES.DIFFERENCE]="difference",t[n.BLEND_MODES.EXCLUSION]="exclusion",t[n.BLEND_MODES.HUE]="hue",t[n.BLEND_MODES.SATURATION]="saturate",t[n.BLEND_MODES.COLOR]="color",t[n.BLEND_MODES.LUMINOSITY]="luminosity"):(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="source-over",t[n.BLEND_MODES.SCREEN]="source-over",t[n.BLEND_MODES.OVERLAY]="source-over",t[n.BLEND_MODES.DARKEN]="source-over",t[n.BLEND_MODES.LIGHTEN]="source-over",t[n.BLEND_MODES.COLOR_DODGE]="source-over",t[n.BLEND_MODES.COLOR_BURN]="source-over",t[n.BLEND_MODES.HARD_LIGHT]="source-over",t[n.BLEND_MODES.SOFT_LIGHT]="source-over",t[n.BLEND_MODES.DIFFERENCE]="source-over",t[n.BLEND_MODES.EXCLUSION]="source-over",t[n.BLEND_MODES.HUE]="source-over",t[n.BLEND_MODES.SATURATION]="source-over",t[n.BLEND_MODES.COLOR]="source-over",t[n.BLEND_MODES.LUMINOSITY]="source-over"),t[n.BLEND_MODES.NORMAL_NPM]=t[n.BLEND_MODES.NORMAL],t[n.BLEND_MODES.ADD_NPM]=t[n.BLEND_MODES.ADD],t[n.BLEND_MODES.SCREEN_NPM]=t[n.BLEND_MODES.SCREEN],t}},{"../../../const":46,"./canUseNewCanvasBlendModes":80}],82:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../const"),i,o=s(t("../../settings"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(e){a(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=o.default.GC_MAX_IDLE,this.checkCountMax=o.default.GC_MAX_CHECK_COUNT,this.mode=o.default.GC_MODE}return t.prototype.update=function t(){this.count++,this.mode!==n.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function t(){for(var e=this.renderer.textureManager,r=e._managedTextures,n=!1,i=0;i<r.length;i++){var o=r[i];!o._glRenderTargets&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),r[i]=null,n=!0)}if(n){for(var s=0,a=0;a<r.length;a++)null!==r[a]&&(r[s++]=r[a]);r.length=s}},t.prototype.unload=function t(e){var r=this.renderer.textureManager;e._texture&&e._texture._glRenderTargets&&r.destroyTexture(e._texture,!0);for(var n=e.children.length-1;n>=0;n--)this.unload(e.children[n])},t}();r.default=u},{"../../const":46,"../../settings":101}],83:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("pixi-gl-core"),i=t("../../const"),o,s=u(t("./utils/RenderTarget")),a=t("../../utils");function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=function(){function t(e){l(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function t(){},t.prototype.getTexture=function t(){},t.prototype.updateTexture=function t(e,r){var o=this.gl,a=!!e._glRenderTargets;if(!e.hasLoaded)return null;var u=this.renderer.boundTextures;if(void 0===r){r=0;for(var l=0;l<u.length;++l)if(u[l]===e){r=l;break}}u[r]=e,o.activeTexture(o.TEXTURE0+r);var h=e._glTextures[this.renderer.CONTEXT_UID];if(h)a?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):h.upload(e.source);else{if(a){var c=new s.default(this.gl,e.width,e.height,e.scaleMode,e.resolution);c.resize(e.width,e.height),e._glRenderTargets[this.renderer.CONTEXT_UID]=c,h=c.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else(h=new n.GLTexture(this.gl,null,null,null,null)).bind(r),h.premultiplyAlpha=!0,h.upload(e.source);e._glTextures[this.renderer.CONTEXT_UID]=h,e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&h.enableMipmap(),e.wrapMode===i.WRAP_MODES.CLAMP?h.enableWrapClamp():e.wrapMode===i.WRAP_MODES.REPEAT?h.enableWrapRepeat():h.enableWrapMirrorRepeat()):h.enableWrapClamp(),e.scaleMode===i.SCALE_MODES.NEAREST?h.enableNearestScaling():h.enableLinearScaling()}return h},t.prototype.destroyTexture=function t(e,r){if((e=e.baseTexture||e).hasLoaded){var n=this.renderer,i=n.CONTEXT_UID,o=e._glTextures,s=e._glRenderTargets;if(o[i]&&(n.unbindTexture(e),o[i].destroy(),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this),delete o[i],!r)){var u=this._managedTextures.indexOf(e);-1!==u&&(0,a.removeItems)(this._managedTextures,u,1)}s&&s[i]&&(n._activeRenderTarget===s[i]&&n.bindRenderTarget(n.rootRenderTarget),s[i].destroy(),delete s[i])}},t.prototype.removeAll=function t(){for(var e=0;e<this._managedTextures.length;++e){var r=this._managedTextures[e];r._glTextures[this.renderer.CONTEXT_UID]&&delete r._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function t(){for(var e=0;e<this._managedTextures.length;++e){var r=this._managedTextures[e];this.destroyTexture(r,!0),r.off("update",this.updateTexture,this),r.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();r.default=h},{"../../const":46,"../../utils":125,"./utils/RenderTarget":96,"pixi-gl-core":15}],84:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=R(t("../SystemRenderer")),o,s=R(t("./managers/MaskManager")),a,u=R(t("./managers/StencilManager")),l,h=R(t("./managers/FilterManager")),c,d=R(t("./utils/RenderTarget")),f,p=R(t("./utils/ObjectRenderer")),v,g=R(t("./TextureManager")),y,_=R(t("../../textures/BaseTexture")),m,b=R(t("./TextureGarbageCollector")),x,T=R(t("./WebGLState")),w,E=R(t("./utils/mapWebGLDrawModesToPixi")),S,O=R(t("./utils/validateContext")),M=t("../../utils"),P,A=R(t("pixi-gl-core")),C=t("../../const");function R(t){return t&&t.__esModule?t:{default:t}}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function L(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var j=0,k=function(t){function e(r,n,i){I(this,e);var o=D(this,t.call(this,"WebGL",r,n,i));return o.legacy=o.options.legacy,o.legacy&&(A.default.VertexArrayObject.FORCE_NATIVE=!0),o.type=C.RENDERER_TYPE.WEBGL,o.handleContextLost=o.handleContextLost.bind(o),o.handleContextRestored=o.handleContextRestored.bind(o),o.view.addEventListener("webglcontextlost",o.handleContextLost,!1),o.view.addEventListener("webglcontextrestored",o.handleContextRestored,!1),o._contextOptions={alpha:o.transparent,antialias:o.options.antialias,premultipliedAlpha:o.transparent&&"notMultiplied"!==o.transparent,stencil:!0,preserveDrawingBuffer:o.options.preserveDrawingBuffer,powerPreference:o.options.powerPreference},o._backgroundColorRgba[3]=o.transparent?0:1,o.maskManager=new s.default(o),o.stencilManager=new u.default(o),o.emptyRenderer=new p.default(o),o.currentRenderer=o.emptyRenderer,o.textureManager=null,o.filterManager=null,o.initPlugins(),o.options.context&&(0,O.default)(o.options.context),o.gl=o.options.context||A.default.createContext(o.view,o._contextOptions),o.CONTEXT_UID=j++,o.state=new T.default(o.gl),o.renderingToScreen=!0,o.boundTextures=null,o._activeShader=null,o._activeVao=null,o._activeRenderTarget=null,o._initContext(),o.drawModes=(0,E.default)(o.gl),o._nextTextureLocation=0,o.setBlendMode(0),o}return L(e,t),e.prototype._initContext=function t(){var e=this.gl;e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext();var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(r),this.emptyTextures=new Array(r),this._unknownBoundTextures=!1,this.textureManager=new g.default(this),this.filterManager=new h.default(this),this.textureGC=new b.default(this),this.state.resetToDefault(),this.rootRenderTarget=new d.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new A.default.GLTexture.fromData(e,null,1,1),i={_glTextures:{}};i._glTextures[this.CONTEXT_UID]={};for(var o=0;o<r;o++){var s=new _.default;s._glTextures[this.CONTEXT_UID]=n,this.boundTextures[o]=i,this.emptyTextures[o]=s,this.bindTexture(null,o)}this.emit("context",e),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function t(e,r,n,i,o){if(this.renderingToScreen=!r,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,r||(this._lastObjectRendered=e),!o){var s=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=s}this.bindRenderTexture(r,i),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function t(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},e.prototype.flush=function t(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function t(e,r){i.default.prototype.resize.call(this,e,r),this.rootRenderTarget.resize(e,r),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function t(e){this.state.setBlendMode(e)},e.prototype.clear=function t(e){this._activeRenderTarget.clear(e)},e.prototype.setTransform=function t(e){this._activeRenderTarget.transform=e},e.prototype.clearRenderTexture=function t(e,r){var n,i=e.baseTexture._glRenderTargets[this.CONTEXT_UID];return i&&i.clear(r),this},e.prototype.bindRenderTexture=function t(e,r){var n=void 0;if(e){var i=e.baseTexture;i._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(i,0),this.unbindTexture(i),(n=i._glRenderTargets[this.CONTEXT_UID]).setFrame(e.frame)}else n=this.rootRenderTarget;return n.transform=r,this.bindRenderTarget(n),this},e.prototype.bindRenderTarget=function t(e){return e!==this._activeRenderTarget&&(this._activeRenderTarget=e,e.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this},e.prototype.bindShader=function t(e,r){return this._activeShader!==e&&(this._activeShader=e,e.bind(),!1!==r&&(e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function t(e,r,n){if((e=(e=e||this.emptyTextures[r]).baseTexture||e).touched=this.textureGC.count,n)r=r||0;else{for(var i=0;i<this.boundTextures.length;i++)if(this.boundTextures[i]===e)return i;void 0===r&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,r=this.boundTextures.length-this._nextTextureLocation-1)}var o=this.gl,s=e._glTextures[this.CONTEXT_UID];return s?(this.boundTextures[r]=e,o.activeTexture(o.TEXTURE0+r),o.bindTexture(o.TEXTURE_2D,s.texture)):this.textureManager.updateTexture(e,r),r},e.prototype.unbindTexture=function t(e){var r=this.gl;if(e=e.baseTexture||e,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===this.emptyTextures[n]&&(r.activeTexture(r.TEXTURE0+n),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture))}for(var i=0;i<this.boundTextures.length;i++)this.boundTextures[i]===e&&(this.boundTextures[i]=this.emptyTextures[i],r.activeTexture(r.TEXTURE0+i),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function t(){return new A.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function t(e){return this._activeVao===e?this:(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e,this)},e.prototype.reset=function t(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.emptyTextures[e];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function t(e){e.preventDefault()},e.prototype.handleContextRestored=function t(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function e(r){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,r),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(i.default);r.default=k,M.pluginTarget.mixin(k)},{"../../const":46,"../../textures/BaseTexture":112,"../../utils":125,"../SystemRenderer":76,"./TextureGarbageCollector":82,"./TextureManager":83,"./WebGLState":85,"./managers/FilterManager":90,"./managers/MaskManager":91,"./managers/StencilManager":92,"./utils/ObjectRenderer":94,"./utils/RenderTarget":96,"./utils/mapWebGLDrawModesToPixi":99,"./utils/validateContext":100,"pixi-gl-core":15}],85:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=o(t("./utils/mapWebGLBlendModesToPixi"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=0,u=1,l=2,h=3,c=4,d=function(){function t(e){s(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,i.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function t(){var e=this.stack[this.stackIndex];e||(e=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var r=0;r<this.activeState.length;r++)e[r]=this.activeState[r]},t.prototype.pop=function t(){var e=this.stack[--this.stackIndex];this.setState(e)},t.prototype.setState=function t(e){this.setBlend(e[0]),this.setDepthTest(e[1]),this.setFrontFace(e[2]),this.setCullFace(e[3]),this.setBlendMode(e[4])},t.prototype.setBlend=function t(e){e=e?1:0,this.activeState[0]!==e&&(this.activeState[0]=e,this.gl[e?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function t(e){if(e!==this.activeState[4]){this.activeState[4]=e;var r=this.blendModes[e];2===r.length?this.gl.blendFunc(r[0],r[1]):this.gl.blendFuncSeparate(r[0],r[1],r[2],r[3])}},t.prototype.setDepthTest=function t(e){e=e?1:0,this.activeState[1]!==e&&(this.activeState[1]=e,this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function t(e){e=e?1:0,this.activeState[3]!==e&&(this.activeState[3]=e,this.gl[e?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function t(e){e=e?1:0,this.activeState[2]!==e&&(this.activeState[2]=e,this.gl.frontFace(this.gl[e?"CW":"CCW"]))},t.prototype.resetAttributes=function t(){for(var e=0;e<this.attribState.tempAttribState.length;e++)this.attribState.tempAttribState[e]=0;for(var r=0;r<this.attribState.attribState.length;r++)this.attribState.attribState[r]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)},t.prototype.resetToDefault=function t(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var e=0;e<this.activeState.length;++e)this.activeState[e]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();r.default=d},{"./utils/mapWebGLBlendModesToPixi":98}],86:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=h(t("./extractUniformsFromSrc")),s=t("../../../utils"),a=t("../../../const"),u,l=h(t("../../../settings"));function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d={},f=function(){function t(e,r,n){for(var i in c(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=a.BLEND_MODES.NORMAL,this.uniformData=n||(0,o.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[i]=this.uniformData[i].value,this.uniformData[i].type&&(this.uniformData[i].type=this.uniformData[i].type.toLowerCase());this.glShaders={},d[this.vertexSrc+this.fragmentSrc]||(d[this.vertexSrc+this.fragmentSrc]=(0,s.uid)()),this.glShaderKey=d[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=l.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function t(e,r,n,i,o){e.applyFilter(this,r,n,i)},n(t,[{key:"blendMode",get:function t(){return this._blendMode},set:function t(e){this._blendMode=e}}],[{key:"defaultVertexSrc",get:function t(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function t(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();r.default=f},{"../../../const":46,"../../../settings":101,"../../../utils":125,"./extractUniformsFromSrc":87}],87:[function(t,e,r){"use strict";var n,i;function o(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.default=a;var s=o(t("pixi-gl-core")).default.shader.defaultValue;function a(t,e,r){var n=u(t,r),i=u(e,r);return Object.assign(n,i)}function u(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<i.length;o++){var a=i[o].trim();if(a.indexOf("uniform")>-1){var u=a.split(" "),l=u[1],h=u[2],c=1;h.indexOf("[")>-1&&(n=h.split(/\[|]/),h=n[0],c*=Number(n[1])),h.match(e)||(r[h]={value:s(l,c),name:h,type:l})}}return r}},{"pixi-gl-core":15}],88:[function(t,e,r){"use strict";r.__esModule=!0,r.calculateScreenSpaceMatrix=i,r.calculateNormalizedScreenSpaceMatrix=o,r.calculateSpriteMatrix=s;var n=t("../../../math");function i(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n}function o(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n}function s(t,e,r,i){var o=i._texture.orig,s=t.set(r.width,0,0,r.height,e.x,e.y),a=i.worldTransform.copy(n.Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(i.anchor.x,i.anchor.y),s}},{"../../../math":70}],89:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=l(t("../Filter")),o=t("../../../../math"),s=t("path"),a,u=l(t("../../../../textures/TextureMatrix"));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(r){h(this,e);var n=new o.Matrix,i=c(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,i.maskSprite=r,i.maskMatrix=n,i}return d(e,t),e.prototype.apply=function t(e,r,n,i){var o=this.maskSprite,s=this.maskSprite.texture;s.valid&&(s.transform||(s.transform=new u.default(s,0)),s.transform.update(),this.uniforms.mask=s,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.transform.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.transform.uClampFrame,e.applyFilter(this,r,n,i))},e}(i.default);r.default=f},{"../../../../math":70,"../../../../textures/TextureMatrix":116,"../Filter":86,path:8}],90:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=y(t("./WebGLManager")),o,s=y(t("../utils/RenderTarget")),a,u=y(t("../utils/Quad")),l=t("../../../math"),h,c=y(t("../../../Shader")),d,f=g(t("../filters/filterTransforms")),p,v=y(t("bit-twiddle"));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function y(t){return t&&t.__esModule?t:{default:t}}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var x=function(){function t(){b(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new l.Rectangle,this.destinationFrame=new l.Rectangle,this.filters=[]}return t.prototype.clear=function t(){this.filters=null,this.target=null,this.renderTarget=null},t}(),T="screen",w=function(t){function e(r){b(this,e);var n=_(this,t.call(this,r));return n.gl=n.renderer.gl,n.quad=new u.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n.managedFilters=[],n.renderer.on("prerender",n.onPrerender,n),n._screenWidth=r.view.width,n._screenHeight=r.view.height,n}return m(e,t),e.prototype.pushFilter=function t(e,r){var n=this.renderer,i=this.filterData;if(!i){i=this.renderer._activeRenderTarget.filterStack;var o=new x;o.sourceFrame=o.destinationFrame=this.renderer._activeRenderTarget.size,o.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=i={index:0,stack:[o]},this.filterData=i}var s=i.stack[++i.index],a=i.stack[0].destinationFrame;s||(s=i.stack[i.index]=new x);var u=e.filterArea&&0===e.filterArea.x&&0===e.filterArea.y&&e.filterArea.width===n.screen.width&&e.filterArea.height===n.screen.height,l=r[0].resolution,h=0|r[0].padding,c=u?n.screen:e.filterArea||e.getBounds(!0),d=s.sourceFrame,f=s.destinationFrame;d.x=(c.x*l|0)/l,d.y=(c.y*l|0)/l,d.width=(c.width*l|0)/l,d.height=(c.height*l|0)/l,u||(i.stack[0].renderTarget.transform||r[0].autoFit&&d.fit(a),d.pad(h)),f.width=d.width,f.height=d.height;var p=this.getPotRenderTarget(n.gl,d.width,d.height,l);s.target=e,s.filters=r,s.resolution=l,s.renderTarget=p,p.setFrame(f,d),n.bindRenderTarget(p),p.clear()},e.prototype.popFilter=function t(){var e=this.filterData,r=e.stack[e.index-1],n=e.stack[e.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var i=n.filters;if(1===i.length)i[0].apply(this,n.renderTarget,r.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var o=n.renderTarget,s=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);s.setFrame(n.destinationFrame,n.sourceFrame),s.clear();var a=0;for(a=0;a<i.length-1;++a){i[a].apply(this,o,s,!0,n);var u=o;o=s,s=u}i[a].apply(this,o,r.renderTarget,!1,n),this.freePotRenderTarget(o),this.freePotRenderTarget(s)}n.clear(),e.index--,0===e.index&&(this.filterData=null)},e.prototype.applyFilter=function t(e,r,n,i){var o=this.renderer,s=o.gl,a=e.glShaders[o.CONTEXT_UID];a||(e.glShaderKey?(a=this.shaderCache[e.glShaderKey])||(a=new c.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[o.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=a,this.managedFilters.push(e)):(a=e.glShaders[o.CONTEXT_UID]=new c.default(this.gl,e.vertexSrc,e.fragmentSrc),this.managedFilters.push(e)),o.bindVao(null),this.quad.initVao(a)),o.bindVao(this.quad.vao),o.bindRenderTarget(n),i&&(s.disable(s.SCISSOR_TEST),o.clear(),s.enable(s.SCISSOR_TEST)),n===o.maskManager.scissorRenderTarget&&o.maskManager.pushScissorMask(null,o.maskManager.scissorData),o.bindShader(a);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(a,e),o.state.setBlendMode(e.blendMode),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,r.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),s.bindTexture(s.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function t(e,r){var n=r.uniformData,i=r.uniforms,o=1,s=void 0;if(e.uniforms.filterArea){s=this.filterData.stack[this.filterData.index];var a=e.uniforms.filterArea;a[0]=s.renderTarget.size.width,a[1]=s.renderTarget.size.height,a[2]=s.sourceFrame.x,a[3]=s.sourceFrame.y,e.uniforms.filterArea=a}if(e.uniforms.filterClamp){s=s||this.filterData.stack[this.filterData.index];var u=e.uniforms.filterClamp;u[0]=0,u[1]=0,u[2]=(s.sourceFrame.width-1)/s.renderTarget.size.width,u[3]=(s.sourceFrame.height-1)/s.renderTarget.size.height,e.uniforms.filterClamp=u}for(var l in n)if(e.uniforms.data[l]){var h=n[l].type;if("sampler2d"===h&&0!==i[l]){if(i[l].baseTexture)e.uniforms[l]=this.renderer.bindTexture(i[l].baseTexture,o);else{e.uniforms[l]=o;var c=this.renderer.gl;this.renderer.boundTextures[o]=this.renderer.emptyTextures[o],c.activeTexture(c.TEXTURE0+o),i[l].texture.bind()}o++}else if("mat3"===h)void 0!==i[l].a?e.uniforms[l]=i[l].toArray(!0):e.uniforms[l]=i[l];else if("vec2"===h)if(void 0!==i[l].x){var d=e.uniforms[l]||new Float32Array(2);d[0]=i[l].x,d[1]=i[l].y,e.uniforms[l]=d}else e.uniforms[l]=i[l];else"float"===h?e.uniforms.data[l].value!==n[l]&&(e.uniforms[l]=i[l]):e.uniforms[l]=i[l]}},e.prototype.getRenderTarget=function t(e,r){var n=this.filterData.stack[this.filterData.index],i=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,r||n.resolution);return i.setFrame(n.destinationFrame,n.sourceFrame),i},e.prototype.returnRenderTarget=function t(e){this.freePotRenderTarget(e)},e.prototype.calculateScreenSpaceMatrix=function t(e){var r=this.filterData.stack[this.filterData.index];return f.calculateScreenSpaceMatrix(e,r.sourceFrame,r.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function t(e){var r=this.filterData.stack[this.filterData.index];return f.calculateNormalizedScreenSpaceMatrix(e,r.sourceFrame,r.renderTarget.size,r.destinationFrame)},e.prototype.calculateSpriteMatrix=function t(e,r){var n=this.filterData.stack[this.filterData.index];return f.calculateSpriteMatrix(e,n.sourceFrame,n.renderTarget.size,r)},e.prototype.destroy=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.renderer,n=this.managedFilters;r.off("prerender",this.onPrerender,this);for(var i=0;i<n.length;i++)e||n[i].glShaders[r.CONTEXT_UID].destroy(),delete n[i].glShaders[r.CONTEXT_UID];this.shaderCache={},e?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function t(e,r,n,i){var o="screen";n*=i,(r*=i)===this._screenWidth&&n===this._screenHeight||(o=(65535&(r=v.default.nextPow2(r)))<<16|65535&(n=v.default.nextPow2(n))),this.pool[o]||(this.pool[o]=[]);var a=this.pool[o].pop();if(!a){var u=this.renderer.boundTextures[0];e.activeTexture(e.TEXTURE0),a=new s.default(e,r,n,null,1),e.bindTexture(e.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)}return a.resolution=i,a.defaultFrame.width=a.size.width=r/i,a.defaultFrame.height=a.size.height=n/i,a.filterPoolKey=o,a},e.prototype.emptyPool=function t(){for(var e in this.pool){var r=this.pool[e];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function t(e){this.pool[e.filterPoolKey].push(e)},e.prototype.onPrerender=function t(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var e=this.pool.screen;if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0);this.pool.screen=[]}},e}(i.default);r.default=w},{"../../../Shader":44,"../../../math":70,"../filters/filterTransforms":88,"../utils/Quad":95,"../utils/RenderTarget":96,"./WebGLManager":93,"bit-twiddle":1}],91:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=a(t("./WebGLManager")),o,s=a(t("../filters/spriteMask/SpriteMaskFilter"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(r){u(this,e);var n=l(this,t.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return h(e,t),e.prototype.pushMask=function t(e,r){if(r.texture)this.pushSpriteMask(e,r);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&r.isFastRect()){var n=r.worldTransform,i=Math.atan2(n.b,n.a);(i=Math.round(i*(180/Math.PI)))%90?this.pushStencilMask(r):this.pushScissorMask(e,r)}else this.pushStencilMask(r)},e.prototype.popMask=function t(e,r){r.texture?this.popSpriteMask(e,r):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,r):this.popStencilMask(e,r)},e.prototype.pushSpriteMask=function t(e,r){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new s.default(r)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=r;var i=e.filterArea;e.filterArea=r.getBounds(!0),this.renderer.filterManager.pushFilter(e,n),e.filterArea=i,this.alphaMaskIndex++},e.prototype.popSpriteMask=function t(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function t(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)},e.prototype.popStencilMask=function t(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function t(e,r){r.renderable=!0;var n=this.renderer._activeRenderTarget,i=r.getBounds();i.fit(n.size),r.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var o=this.renderer.resolution;this.renderer.gl.scissor(i.x*o,(n.root?n.size.height-i.y-i.height:i.y)*o,i.width*o,i.height*o),this.scissorRenderTarget=n,this.scissorData=r,this.scissor=!0},e.prototype.popScissorMask=function t(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)},e}(i.default);r.default=c},{"../filters/spriteMask/SpriteMaskFilter":89,"./WebGLManager":93}],92:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=o(t("./WebGLManager"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(t){function e(r){s(this,e);var n=a(this,t.call(this,r));return n.stencilMaskStack=null,n}return u(e,t),e.prototype.setMaskStack=function t(e){this.stencilMaskStack=e;var r=this.renderer.gl;0===e.length?r.disable(r.STENCIL_TEST):r.enable(r.STENCIL_TEST)},e.prototype.pushStencil=function t(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var r=this.renderer.gl,n=this.stencilMaskStack.length;0===n&&r.enable(r.STENCIL_TEST),this.stencilMaskStack.push(e),r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,n,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),this.renderer.plugins.graphics.render(e),this._useCurrent()},e.prototype.popStencil=function t(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,r=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(r),this._useCurrent())},e.prototype._useCurrent=function t(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},e.prototype._getBitwiseMask=function t(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function t(){i.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(i.default);r.default=l},{"./WebGLManager":93}],93:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function t(){},t.prototype.destroy=function t(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();r.default=i},{}],94:[function(t,e,r){"use strict";var n,i;function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var l=function(t){function e(){return s(this,e),a(this,t.apply(this,arguments))}return u(e,t),e.prototype.start=function t(){},e.prototype.stop=function t(){this.flush()},e.prototype.flush=function t(){},e.prototype.render=function t(e){},e}(o(t("../managers/WebGLManager")).default);r.default=l},{"../managers/WebGLManager":93}],95:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=a(t("pixi-gl-core")),o,s=a(t("../../../utils/createIndicesForQuads"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(e,r){u(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;n<4;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,s.default)(1),this.vertexBuffer=i.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new i.default.VertexArrayObject(e,r)}return t.prototype.initVao=function t(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function t(e,r){var n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this},t.prototype.upload=function t(){for(var e=0;e<4;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function t(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)},t}();r.default=l},{"../../../utils/createIndicesForQuads":123,"pixi-gl-core":15}],96:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../../math"),i=t("../../../const"),o,s=u(t("../../../settings")),a=t("pixi-gl-core");function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=function(){function t(e,r,o,u,h,c){l(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new n.Rectangle(0,0,1,1),this.resolution=h||s.default.RESOLUTION,this.projectionMatrix=new n.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new n.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==u?u:s.default.SCALE_MODE,this.root=c||!1,this.root?(this.frameBuffer=new a.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=a.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===i.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,o)}return t.prototype.clear=function t(e){var r=e||this.clearColor;this.frameBuffer.clear(r[0],r[1],r[2],r[3])},t.prototype.attachStencilBuffer=function t(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function t(e,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||this.destinationFrame},t.prototype.activate=function t(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(e.enable(e.SCISSOR_TEST),e.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):e.disable(e.SCISSOR_TEST),e.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function t(e,r){var n=this.projectionMatrix;r=r||e,n.identity(),this.root?(n.a=1/e.width*2,n.d=-1/e.height*2,n.tx=-1-r.x*n.a,n.ty=1-r.y*n.d):(n.a=1/e.width*2,n.d=1/e.height*2,n.tx=-1-r.x*n.a,n.ty=-1-r.y*n.d)},t.prototype.resize=function t(e,r){if(e|=0,r|=0,this.size.width!==e||this.size.height!==r){this.size.width=e,this.size.height=r,this.defaultFrame.width=e,this.defaultFrame.height=r,this.frameBuffer.resize(e*this.resolution,r*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}},t.prototype.destroy=function t(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();r.default=h},{"../../../const":46,"../../../math":70,"../../../settings":101,"pixi-gl-core":15}],97:[function(t,e,r){"use strict";r.__esModule=!0,r.default=a;var n,i=o(t("pixi-gl-core"));function o(t){return t&&t.__esModule?t:{default:t}}var s=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function a(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var n=document.createElement("canvas");n.width=1,n.height=1,e=i.default.createContext(n)}for(var o=e.createShader(e.FRAGMENT_SHADER);;){var a=s.replace(/%forloop%/gi,u(t));if(e.shaderSource(o,a),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS))break;t=t/2|0}return r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}function u(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}},{"pixi-gl-core":15}],98:[function(t,e,r){"use strict";r.__esModule=!0,r.default=i;var n=t("../../../const");function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[n.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e}},{"../../../const":46}],99:[function(t,e,r){"use strict";r.__esModule=!0,r.default=i;var n=t("../../../const");function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e}},{"../../../const":46}],100:[function(t,e,r){"use strict";function n(t){var e;t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}r.__esModule=!0,r.default=n},{}],101:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=a(t("./utils/maxRecommendedTextures")),o,s=a(t("./utils/canUploadSameBuffer"));function a(t){return t&&t.__esModule?t:{default:t}}r.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,i.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,s.default)(),MESH_CANVAS_PADDING:0}},{"./utils/canUploadSameBuffer":122,"./utils/maxRecommendedTextures":127}],102:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../math"),o=t("../utils"),s=t("../const"),a,u=c(t("../textures/Texture")),l,h=c(t("../display/Container"));function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=new i.Point,g=function(t){function e(r){d(this,e);var n=f(this,t.call(this));return n._anchor=new i.ObservablePoint(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=s.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||u.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return p(e,t),e.prototype._onTextureUpdate=function t(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function t(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function t(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var e=this._texture,r=this.transform.worldTransform,n=r.a,i=r.b,o=r.c,s=r.d,a=r.tx,u=r.ty,l=this.vertexData,h=e.trim,c=e.orig,d=this._anchor,f=0,p=0,v=0,g=0;h?(f=(p=h.x-d._x*c.width)+h.width,v=(g=h.y-d._y*c.height)+h.height):(f=(p=-d._x*c.width)+c.width,v=(g=-d._y*c.height)+c.height),l[0]=n*p+o*g+a,l[1]=s*g+i*p+u,l[2]=n*f+o*g+a,l[3]=s*g+i*f+u,l[4]=n*f+o*v+a,l[5]=s*v+i*f+u,l[6]=n*p+o*v+a,l[7]=s*v+i*p+u}},e.prototype.calculateTrimmedVertices=function t(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,o=this.transform.worldTransform,s=o.a,a=o.b,u=o.c,l=o.d,h=o.tx,c=o.ty,d=-i._x*n.width,f=d+n.width,p=-i._y*n.height,v=p+n.height;r[0]=s*d+u*p+h,r[1]=l*p+a*d+c,r[2]=s*f+u*p+h,r[3]=l*p+a*f+c,r[4]=s*f+u*v+h,r[5]=l*v+a*f+c,r[6]=s*d+u*v+h,r[7]=l*v+a*d+c},e.prototype._renderWebGL=function t(e){this.calculateVertices(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function t(e){e.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function t(){var e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function e(r){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function t(e){this.worldTransform.applyInverse(e,v);var r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x,o=0;return v.x>=i&&v.x<i+r&&(o=-n*this.anchor.y,v.y>=o&&v.y<o+n)},e.prototype.destroy=function e(r){var n;if(t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof r?r:r&&r.texture){var i="boolean"==typeof r?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null,this.shader=null},e.from=function t(r){return new e(u.default.from(r))},e.fromFrame=function t(r){var n=o.TextureCache[r];if(!n)throw new Error('The frameId "'+r+'" does not exist in the texture cache');return new e(n)},e.fromImage=function t(r,n,i){return new e(u.default.fromImage(r,n,i))},n(e,[{key:"width",get:function t(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function t(e){var r=(0,o.sign)(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}},{key:"height",get:function t(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function t(e){var r=(0,o.sign)(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}},{key:"anchor",get:function t(){return this._anchor},set:function t(e){this._anchor.copy(e)}},{key:"tint",get:function t(){return this._tint},set:function t(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}},{key:"texture",get:function t(){return this._texture},set:function t(e){this._texture!==e&&(this._texture=e||u.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}]),e}(h.default);r.default=g},{"../const":46,"../display/Container":48,"../math":70,"../textures/Texture":115,"../utils":125}],103:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=l(t("../../renderers/canvas/CanvasRenderer")),o=t("../../const"),s=t("../../math"),a,u=l(t("./CanvasTinter"));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=new s.Matrix,d=function(){function t(e){h(this,t),this.renderer=e}return t.prototype.render=function t(e){var r=e._texture,n=this.renderer,i=r._frame.width,a=r._frame.height,l=e.transform.worldTransform,h=0,d=0;if(!(r.orig.width<=0||r.orig.height<=0)&&r.baseTexture.source&&(n.setBlendMode(e.blendMode),r.valid)){n.context.globalAlpha=e.worldAlpha;var f=r.baseTexture.scaleMode===o.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==f&&(n.context[n.smoothProperty]=f),r.trim?(h=r.trim.width/2+r.trim.x-e.anchor.x*r.orig.width,d=r.trim.height/2+r.trim.y-e.anchor.y*r.orig.height):(h=(.5-e.anchor.x)*r.orig.width,d=(.5-e.anchor.y)*r.orig.height),r.rotate&&(l.copy(c),l=c,s.GroupD8.matrixAppendRotationInv(l,r.rotate,h,d),h=0,d=0),h-=i/2,d-=a/2,n.roundPixels?(n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution|0,l.ty*n.resolution|0),h|=0,d|=0):n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution,l.ty*n.resolution);var p=r.baseTexture.resolution;16777215!==e.tint?(e.cachedTint===e.tint&&e.tintedTexture.tintId===e._texture._updateID||(e.cachedTint=e.tint,e.tintedTexture=u.default.getTintedTexture(e,e.tint)),n.context.drawImage(e.tintedTexture,0,0,i*p,a*p,h*n.resolution,d*n.resolution,i*n.resolution,a*n.resolution)):n.context.drawImage(r.baseTexture.source,r._frame.x*p,r._frame.y*p,i*p,a*p,h*n.resolution,d*n.resolution,i*n.resolution,a*n.resolution)}},t.prototype.destroy=function t(){this.renderer=null},t}();r.default=d,i.default.registerPlugin("sprite",d)},{"../../const":46,"../../math":70,"../../renderers/canvas/CanvasRenderer":77,"./CanvasTinter":104}],104:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../utils"),i,o;function s(t){return t&&t.__esModule?t:{default:t}}var a={getTintedTexture:function t(e,r){var n=e._texture,i="#"+("00000"+(0|(r=a.roundColor(r))).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var o=n.tintCache[i],s=void 0;if(o){if(o.tintId===n._updateID)return n.tintCache[i];s=n.tintCache[i]}else s=a.canvas||document.createElement("canvas");if(a.tintMethod(n,r,s),s.tintId=n._updateID,a.convertTintToImage){var u=new Image;u.src=s.toDataURL(),n.tintCache[i]=u}else n.tintCache[i]=s,a.canvas=null;return s},tintWithMultiply:function t(e,r,n){var i=n.getContext("2d"),o=e._frame.clone(),s=e.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),i.save(),i.fillStyle="#"+("00000"+(0|r).toString(16)).substr(-6),i.fillRect(0,0,o.width,o.height),i.globalCompositeOperation="multiply",i.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.globalCompositeOperation="destination-atop",i.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.restore()},tintWithOverlay:function t(e,r,n){var i=n.getContext("2d"),o=e._frame.clone(),s=e.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|r).toString(16)).substr(-6),i.fillRect(0,0,o.width,o.height),i.globalCompositeOperation="destination-atop",i.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.restore()},tintWithPerPixel:function t(e,r,i){var o=i.getContext("2d"),s=e._frame.clone(),a=e.baseTexture.resolution;s.x*=a,s.y*=a,s.width*=a,s.height*=a,i.width=Math.ceil(s.width),i.height=Math.ceil(s.height),o.save(),o.globalCompositeOperation="copy",o.drawImage(e.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height),o.restore();for(var u=(0,n.hex2rgb)(r),l=u[0],h=u[1],c=u[2],d=o.getImageData(0,0,s.width,s.height),f=d.data,p=0;p<f.length;p+=4)f[p+0]*=l,f[p+1]*=h,f[p+2]*=c;o.putImageData(d,0,0)},roundColor:function t(e){var r=a.cacheStepsPerColorChannel,i=(0,n.hex2rgb)(e);return i[0]=Math.min(255,i[0]/r*r),i[1]=Math.min(255,i[1]/r*r),i[2]=Math.min(255,i[2]/r*r),(0,n.rgb2hex)(i)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,s(t("../../renderers/canvas/utils/canUseNewCanvasBlendModes")).default)(),tintMethod:0};a.tintMethod=a.canUseMultiply?a.tintWithMultiply:a.tintWithPerPixel,r.default=a},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":80,"../../utils":125}],105:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function t(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();r.default=i},{}],106:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=T(t("../../renderers/webgl/utils/ObjectRenderer")),o,s=T(t("../../renderers/webgl/WebGLRenderer")),a,u=T(t("../../utils/createIndicesForQuads")),l,h=T(t("./generateMultiTextureShader")),c,d=T(t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader")),f,p=T(t("./BatchBuffer")),v,g=T(t("../../settings")),y=t("../../utils"),_,m=T(t("pixi-gl-core")),b,x=T(t("bit-twiddle"));function T(t){return t&&t.__esModule?t:{default:t}}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var O=0,M=0,P=function(t){function e(r){w(this,e);var n=E(this,t.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=g.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var i=1;i<=x.default.nextPow2(n.size);i*=2)n.buffers.push(new p.default(4*i*n.vertByteSize));n.indices=(0,u.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var o=0;o<n.size;o++)n.groups[o]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return S(e,t),e.prototype.onContextChange=function t(){var e=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),g.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,d.default)(this.MAX_TEXTURES,e)),this.shader=(0,h.default)(e,this.MAX_TEXTURES),this.indexBuffer=m.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(var r=this.shader.attributes,n=0;n<this.vaoMax;n++){var i=this.vertexBuffers[n]=m.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),o=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(i,r.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(i,r.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(i,r.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);r.aTextureId&&o.addAttribute(i,r.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[n]=o}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function t(){this.vertexCount=0},e.prototype.render=function t(e){this.currentIndex>=this.size&&this.flush(),e._texture._uvs&&(this.sprites[this.currentIndex++]=e)},e.prototype.flush=function t(){if(0!==this.currentIndex){var e=this.renderer.gl,r=this.MAX_TEXTURES,n=x.default.nextPow2(this.currentIndex),i=x.default.log2(n),o=this.buffers[i],s=this.sprites,a=this.groups,u=o.float32View,l=o.uint32View,h=this.boundTextures,c=this.renderer.boundTextures,d=this.renderer.textureGC.count,f=0,p=void 0,v=void 0,_=1,b=0,T=a[0],w=void 0,E=void 0,S=y.premultiplyBlendMode[s[0]._texture.baseTexture.premultipliedAlpha?1:0][s[0].blendMode];T.textureCount=0,T.start=0,T.blend=S,O++;var P=void 0;for(P=0;P<r;++P){var A=c[P];A._enabled!==O?(h[P]=A,A._virtalBoundId=P,A._enabled=O):h[P]=this.renderer.emptyTextures[P]}for(O++,P=0;P<this.currentIndex;++P){var C=s[P];s[P]=null,p=C._texture.baseTexture;var R=y.premultiplyBlendMode[Number(p.premultipliedAlpha)][C.blendMode];if(S!==R&&(S=R,v=null,b=r,O++),v!==p&&(v=p,p._enabled!==O)){if(b===r&&(O++,T.size=P-T.start,b=0,(T=a[_++]).blend=S,T.textureCount=0,T.start=P),p.touched=d,-1===p._virtalBoundId)for(var I=0;I<r;++I){var D=(I+M)%r,L=h[D];if(L._enabled!==O){M++,L._virtalBoundId=-1,p._virtalBoundId=D,h[D]=p;break}}p._enabled=O,T.textureCount++,T.ids[b]=p._virtalBoundId,T.textures[b++]=p}if(w=C.vertexData,E=C._texture._uvs.uvsUint32,this.renderer.roundPixels){var j=this.renderer.resolution;u[f]=(w[0]*j|0)/j,u[f+1]=(w[1]*j|0)/j,u[f+5]=(w[2]*j|0)/j,u[f+6]=(w[3]*j|0)/j,u[f+10]=(w[4]*j|0)/j,u[f+11]=(w[5]*j|0)/j,u[f+15]=(w[6]*j|0)/j,u[f+16]=(w[7]*j|0)/j}else u[f]=w[0],u[f+1]=w[1],u[f+5]=w[2],u[f+6]=w[3],u[f+10]=w[4],u[f+11]=w[5],u[f+15]=w[6],u[f+16]=w[7];l[f+2]=E[0],l[f+7]=E[1],l[f+12]=E[2],l[f+17]=E[3];var k=Math.min(C.worldAlpha,1),N=k<1&&p.premultipliedAlpha?(0,y.premultiplyTint)(C._tintRGB,k):C._tintRGB+(255*k<<24);l[f+3]=l[f+8]=l[f+13]=l[f+18]=N,u[f+4]=u[f+9]=u[f+14]=u[f+19]=p._virtalBoundId,f+=20}if(T.size=P-T.start,g.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var B=this.shader.attributes,F=this.vertexBuffers[this.vertexCount]=m.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),U=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F,B.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(F,B.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(F,B.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);B.aTextureId&&U.addAttribute(F,B.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=U}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!1),this.vertexCount++}for(P=0;P<r;++P)c[P]._virtalBoundId=-1;for(P=0;P<_;++P){for(var X=a[P],G=X.textureCount,H=0;H<G;H++)v=X.textures[H],c[X.ids[H]]!==v&&this.renderer.bindTexture(v,X.ids[H],!0),v._virtalBoundId=-1;this.renderer.state.setBlendMode(X.blend),e.drawElements(e.TRIANGLES,6*X.size,e.UNSIGNED_SHORT,6*X.start*2)}this.currentIndex=0}},e.prototype.start=function t(){this.renderer.bindShader(this.shader),g.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function t(){this.flush()},e.prototype.destroy=function e(){for(var r=0;r<this.vaoMax;r++)this.vertexBuffers[r]&&this.vertexBuffers[r].destroy(),this.vaos[r]&&this.vaos[r].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var n=0;n<this.buffers.length;++n)this.buffers[n].destroy()},e}(i.default);r.default=P,s.default.registerPlugin("sprite",P)},{"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":97,"../../settings":101,"../../utils":125,"../../utils/createIndicesForQuads":123,"./BatchBuffer":105,"./generateMultiTextureShader":107,"bit-twiddle":1,"pixi-gl-core":15}],107:[function(t,e,r){"use strict";r.__esModule=!0,r.default=u;var n,i=s(t("../../Shader")),o=t("path");function s(t){return t&&t.__esModule?t:{default:t}}var a=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");function u(t,e){var r="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",n=a;n=(n=n.replace(/%count%/gi,e)).replace(/%forloop%/gi,l(e));for(var o=new i.default(t,r,n),s=[],u=0;u<e;u++)s[u]=u;return o.bind(),o.uniforms.uSamplers=s,o}function l(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}},{"../../Shader":44,path:8}],108:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=m(t("../sprites/Sprite")),s,a=m(t("../textures/Texture")),u=t("../math"),l=t("../utils"),h=t("../const"),c,d=m(t("../settings")),f,p=m(t("./TextStyle")),v,g=m(t("./TextMetrics")),y,_=m(t("../utils/trimCanvas"));function m(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function T(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var w={texture:!0,children:!1,baseTexture:!0},E=function(t){function e(r,n,i){b(this,e),(i=i||document.createElement("canvas")).width=3,i.height=3;var o=a.default.fromCanvas(i,d.default.SCALE_MODE,"text");o.orig=new u.Rectangle,o.trim=new u.Rectangle;var s=x(this,t.call(this,o));return a.default.addToCache(s._texture,s._texture.baseTexture.textureCacheIds[0]),s.canvas=i,s.context=s.canvas.getContext("2d"),s.resolution=d.default.RESOLUTION,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=r,s.style=n,s.localStyleID=-1,s}return T(e,t),e.prototype.updateText=function t(e){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!e){this._font=this._style.toFontString();var n=this.context,i=g.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),o=i.width,s=i.height,a=i.lines,u=i.lineHeight,l=i.lineWidths,h=i.maxLineWidth,c=i.fontProperties;this.canvas.width=Math.ceil((Math.max(1,o)+2*r.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,s)+2*r.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=r.stroke,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;var d=void 0,f=void 0;if(r.dropShadow){n.fillStyle=r.dropShadowColor,n.globalAlpha=r.dropShadowAlpha,n.shadowBlur=r.dropShadowBlur,r.dropShadowBlur>0&&(n.shadowColor=r.dropShadowColor);for(var p=Math.cos(r.dropShadowAngle)*r.dropShadowDistance,v=Math.sin(r.dropShadowAngle)*r.dropShadowDistance,y=0;y<a.length;y++)d=r.strokeThickness/2,f=r.strokeThickness/2+y*u+c.ascent,"right"===r.align?d+=h-l[y]:"center"===r.align&&(d+=(h-l[y])/2),r.fill&&(this.drawLetterSpacing(a[y],d+p+r.padding,f+v+r.padding),r.stroke&&r.strokeThickness&&(n.strokeStyle=r.dropShadowColor,this.drawLetterSpacing(a[y],d+p+r.padding,f+v+r.padding,!0),n.strokeStyle=r.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(r,a);for(var _=0;_<a.length;_++)d=r.strokeThickness/2,f=r.strokeThickness/2+_*u+c.ascent,"right"===r.align?d+=h-l[_]:"center"===r.align&&(d+=(h-l[_])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[_],d+r.padding,f+r.padding,!0),r.fill&&this.drawLetterSpacing(a[_],d+r.padding,f+r.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function t(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this._style,s=o.letterSpacing;if(0!==s)for(var a=String.prototype.split.call(e,""),u=r,l=0,h="",c=this.context.measureText(e).width,d=0;l<e.length;)h=a[l++],i?this.context.strokeText(h,u,n):this.context.fillText(h,u,n),u+=c-(d=this.context.measureText(e.substring(l)).width)+s,c=d;else i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n)},e.prototype.updateTexture=function t(){var e=this.canvas;if(this._style.trim){var r=(0,_.default)(e);r.data&&(e.width=r.width,e.height=r.height,this.context.putImageData(r.data,0,0))}var n=this._texture,i=this._style,o=i.trim?0:i.padding,s=n.baseTexture;s.hasLoaded=!0,s.resolution=this.resolution,s.realWidth=e.width,s.realHeight=e.height,s.width=e.width/this.resolution,s.height=e.height/this.resolution,n.trim.width=n._frame.width=e.width/this.resolution,n.trim.height=n._frame.height=e.height/this.resolution,n.trim.x=-o,n.trim.y=-o,n.orig.width=n._frame.width-2*o,n.orig.height=n._frame.height-2*o,this._onTextureUpdate(),s.emit("update",s),this.dirty=!1},e.prototype.renderWebGL=function e(r){this.resolution!==r.resolution&&(this.resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,r)},e.prototype._renderCanvas=function e(r){this.resolution!==r.resolution&&(this.resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,r)},e.prototype.getLocalBounds=function e(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function t(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function t(){this.dirty=!0},e.prototype._generateFillStyle=function t(e,r){if(!Array.isArray(e.fill))return e.fill;if(navigator.isCocoonJS)return e.fill[0];var n=void 0,i=void 0,o=void 0,s=void 0,a=this.canvas.width/this.resolution,u=this.canvas.height/this.resolution,l=e.fill.slice(),c=e.fillGradientStops.slice();if(!c.length)for(var d=l.length+1,f=1;f<d;++f)c.push(f/d);if(l.unshift(e.fill[0]),c.unshift(0),l.push(e.fill[e.fill.length-1]),c.push(1),e.fillGradientType===h.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,0,a/2,u),i=(l.length+1)*r.length,o=0;for(var p=0;p<r.length;p++){o+=1;for(var v=0;v<l.length;v++)s="number"==typeof c[v]?c[v]/r.length+p/r.length:o/i,n.addColorStop(s,l[v]),o++}}else{n=this.context.createLinearGradient(0,u/2,a,u/2),i=l.length+1,o=1;for(var g=0;g<l.length;g++)s="number"==typeof c[g]?c[g]:o/i,n.addColorStop(s,l[g]),o++}return n},e.prototype.destroy=function e(r){"boolean"==typeof r&&(r={children:r}),r=Object.assign({},w,r),t.prototype.destroy.call(this,r),this.context=null,this.canvas=null,this._style=null},n(e,[{key:"width",get:function t(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function t(e){this.updateText(!0);var r=(0,l.sign)(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}},{key:"height",get:function t(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function t(e){this.updateText(!0);var r=(0,l.sign)(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}},{key:"style",get:function t(){return this._style},set:function t(e){(e=e||{})instanceof p.default?this._style=e:this._style=new p.default(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function t(){return this._text},set:function t(e){e=String(""===e||null==e?" ":e),this._text!==e&&(this._text=e,this.dirty=!0)}}]),e}(o.default);r.default=E},{"../const":46,"../math":70,"../settings":101,"../sprites/Sprite":102,"../textures/Texture":115,"../utils":125,"../utils/trimCanvas":130,"./TextMetrics":109,"./TextStyle":110}],109:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e,r,i,o,s,a,u,l,h){n(this,t),this.text=e,this.style=r,this.width=i,this.height=o,this.lines=s,this.lineWidths=a,this.lineHeight=u,this.maxLineWidth=l,this.fontProperties=h}return t.measureText=function e(r,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;i=null==i?n.wordWrap:i;var s=n.toFontString(),a=t.measureFont(s),u=o.getContext("2d");u.font=s;for(var l=i?t.wordWrap(r,n,o):r,h=l.split(/(?:\r\n|\r|\n)/),c=new Array(h.length),d=0,f=0;f<h.length;f++){var p=u.measureText(h[f]).width+(h[f].length-1)*n.letterSpacing;c[f]=p,d=Math.max(d,p)}var v=d+n.strokeThickness;n.dropShadow&&(v+=n.dropShadowDistance);var g=n.lineHeight||a.fontSize+n.strokeThickness,y=Math.max(g,a.fontSize+n.strokeThickness)+(h.length-1)*(g+n.leading);return n.dropShadow&&(y+=n.dropShadowDistance),new t(r,n,v,y,h,c,g+n.leading,d,a)},t.wordWrap=function e(r,n){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas,o=i.getContext("2d"),s=0,a="",u="",l={},h=n.letterSpacing,c=n.whiteSpace,d=t.collapseSpaces(c),f=t.collapseNewlines(c),p=!d,v=n.wordWrapWidth+h,g=t.tokenize(r),y=0;y<g.length;y++){var _=g[y];if(t.isNewline(_)){if(!f){u+=t.addLine(a),p=!d,a="",s=0;continue}_=" "}if(d){var m=t.isBreakingSpace(_),b=t.isBreakingSpace(a[a.length-1]);if(m&&b)continue}var x=t.getFromCache(_,h,l,o);if(x>v)if(""!==a&&(u+=t.addLine(a),a="",s=0),t.canBreakWords(_,n.breakWords))for(var T=_.split(""),w=0;w<T.length;w++){for(var E=T[w],S=1;T[w+S];){var O=T[w+S],M=E[E.length-1];if(t.canBreakChars(M,O,_,w,n.breakWords))break;E+=O,S++}w+=E.length-1;var P=t.getFromCache(E,h,l,o);P+s>v&&(u+=t.addLine(a),p=!1,a="",s=0),a+=E,s+=P}else{a.length>0&&(u+=t.addLine(a),a="",s=0);var A=y===g.length-1;u+=t.addLine(_,!A),p=!1,a="",s=0}else x+s>v&&(p=!1,u+=t.addLine(a),a="",s=0),(a.length>0||!t.isBreakingSpace(_)||p)&&(a+=_,s+=x)}return u+=t.addLine(a,!1)},t.addLine=function e(r){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r=t.trimRight(r),r=n?r+"\n":r},t.getFromCache=function t(e,r,n,i){var o=n[e];if(void 0===o){var s=e.length*r;o=i.measureText(e).width+s,n[e]=o}return o},t.collapseSpaces=function t(e){return"normal"===e||"pre-line"===e},t.collapseNewlines=function t(e){return"normal"===e},t.trimRight=function e(r){if("string"!=typeof r)return"";for(var n=r.length-1;n>=0;n--){var i=r[n];if(!t.isBreakingSpace(i))break;r=r.slice(0,-1)}return r},t.isNewline=function e(r){return"string"==typeof r&&t._newlines.indexOf(r.charCodeAt(0))>=0},t.isBreakingSpace=function e(r){return"string"==typeof r&&t._breakingSpaces.indexOf(r.charCodeAt(0))>=0},t.tokenize=function e(r){var n=[],i="";if("string"!=typeof r)return n;for(var o=0;o<r.length;o++){var s=r[o];t.isBreakingSpace(s)||t.isNewline(s)?(""!==i&&(n.push(i),i=""),n.push(s)):i+=s}return""!==i&&n.push(i),n},t.canBreakWords=function t(e,r){return r},t.canBreakChars=function t(e,r,n,i,o){return!0},t.measureFont=function e(r){if(t._fonts[r])return t._fonts[r];var n={},i=t._canvas,o=t._context;o.font=r;var s=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(o.measureText(s).width),u=Math.ceil(o.measureText(t.BASELINE_SYMBOL).width),l=2*u;u=u*t.BASELINE_MULTIPLIER|0,i.width=a,i.height=l,o.fillStyle="#f00",o.fillRect(0,0,a,l),o.font=r,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,u);var h=o.getImageData(0,0,a,l).data,c=h.length,d=4*a,f=0,p=0,v=!1;for(f=0;f<u;++f){for(var g=0;g<d;g+=4)if(255!==h[p+g]){v=!0;break}if(v)break;p+=d}for(n.ascent=u-f,p=c-d,v=!1,f=l;f>u;--f){for(var y=0;y<d;y+=4)if(255!==h[p+y]){v=!0;break}if(v)break;p-=d}return n.descent=f-u,n.fontSize=n.ascent+n.descent,t._fonts[r]=n,n},t.clearMetrics=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r?delete t._fonts[r]:t._fonts={}},t}();r.default=i;var o=document.createElement("canvas");o.width=o.height=10,i._canvas=o,i._context=o.getContext("2d"),i._fonts={},i.METRICS_STRING="|Éq",i.BASELINE_SYMBOL="M",i.BASELINE_MULTIPLIER=1.4,i._newlines=[10,13],i._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},{}],110:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../const"),o=t("../utils");function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},u=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],l=function(){function t(e){s(this,t),this.styleID=0,this.reset(),f(this,e,e)}return t.prototype.clone=function e(){var r={};return f(r,this,a),new t(r)},t.prototype.reset=function t(){f(this,a,a)},t.prototype.toFontString=function t(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&u.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},n(t,[{key:"align",get:function t(){return this._align},set:function t(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function t(){return this._breakWords},set:function t(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function t(){return this._dropShadow},set:function t(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAlpha",get:function t(){return this._dropShadowAlpha},set:function t(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:"dropShadowAngle",get:function t(){return this._dropShadowAngle},set:function t(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function t(){return this._dropShadowBlur},set:function t(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function t(){return this._dropShadowColor},set:function t(e){var r=c(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}},{key:"dropShadowDistance",get:function t(){return this._dropShadowDistance},set:function t(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function t(){return this._fill},set:function t(e){var r=c(e);this._fill!==r&&(this._fill=r,this.styleID++)}},{key:"fillGradientType",get:function t(){return this._fillGradientType},set:function t(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fillGradientStops",get:function t(){return this._fillGradientStops},set:function t(e){d(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}},{key:"fontFamily",get:function t(){return this._fontFamily},set:function t(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function t(){return this._fontSize},set:function t(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function t(){return this._fontStyle},set:function t(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function t(){return this._fontVariant},set:function t(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function t(){return this._fontWeight},set:function t(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function t(){return this._letterSpacing},set:function t(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function t(){return this._lineHeight},set:function t(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"leading",get:function t(){return this._leading},set:function t(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:"lineJoin",get:function t(){return this._lineJoin},set:function t(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function t(){return this._miterLimit},set:function t(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function t(){return this._padding},set:function t(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function t(){return this._stroke},set:function t(e){var r=c(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}},{key:"strokeThickness",get:function t(){return this._strokeThickness},set:function t(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function t(){return this._textBaseline},set:function t(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"trim",get:function t(){return this._trim},set:function t(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:"whiteSpace",get:function t(){return this._whiteSpace},set:function t(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}},{key:"wordWrap",get:function t(){return this._wordWrap},set:function t(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function t(){return this._wordWrapWidth},set:function t(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}}]),t}();function h(t){return"number"==typeof t?(0,o.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function c(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=h(t[e]);return t}return h(t)}function d(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function f(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}r.default=l},{"../const":46,"../utils":125}],111:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=a(t("./BaseTexture")),o,s=a(t("../settings"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments[2],o=arguments[3];u(this,e);var a=l(this,t.call(this,null,i));return a.resolution=o||s.default.RESOLUTION,a.width=Math.ceil(r),a.height=Math.ceil(n),a.realWidth=a.width*a.resolution,a.realHeight=a.height*a.resolution,a.scaleMode=void 0!==i?i:s.default.SCALE_MODE,a.hasLoaded=!0,a._glRenderTargets={},a._canvasRenderTarget=null,a.valid=!1,a}return h(e,t),e.prototype.resize=function t(e,r){e=Math.ceil(e),r=Math.ceil(r),e===this.width&&r===this.height||(this.valid=e>0&&r>0,this.width=e,this.height=r,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function e(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(i.default);r.default=c},{"../settings":101,"./BaseTexture":112}],112:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../utils"),i,o=d(t("../settings")),s,a=d(t("eventemitter3")),u,l=d(t("../utils/determineCrossOrigin")),h,c=d(t("bit-twiddle"));function d(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(r,i,s){f(this,e);var a=p(this,t.call(this));return a.uid=(0,n.uid)(),a.touched=0,a.resolution=s||o.default.RESOLUTION,a.width=100,a.height=100,a.realWidth=100,a.realHeight=100,a.scaleMode=void 0!==i?i:o.default.SCALE_MODE,a.hasLoaded=!1,a.isLoading=!1,a.source=null,a.origSource=null,a.imageType=null,a.sourceScale=1,a.premultipliedAlpha=!0,a.imageUrl=null,a.isPowerOfTwo=!1,a.mipmap=o.default.MIPMAP_TEXTURES,a.wrapMode=o.default.WRAP_MODE,a._glTextures={},a._enabled=0,a._virtalBoundId=-1,a._destroyed=!1,a.textureCacheIds=[],r&&a.loadSource(r),a}return v(e,t),e.prototype.update=function t(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function t(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=c.default.isPow2(this.realWidth)&&c.default.isPow2(this.realHeight)},e.prototype.loadSource=function t(e){var r=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,r&&this.source&&(this.source.onload=null,this.source.onerror=null);var n=!this.source;if(this.source=e,(e.src&&e.complete||e.getContext)&&e.width&&e.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit("loaded",this);else if(!e.getContext){this.isLoading=!0;var i=this;if(e.onload=function(){i._updateImageType(),e.onload=null,e.onerror=null,i.isLoading&&(i.isLoading=!1,i._sourceLoaded(),"svg"!==i.imageType?i.emit("loaded",i):i._loadSvgSource())},e.onerror=function(){e.onload=null,e.onerror=null,i.isLoading&&(i.isLoading=!1,i.emit("error",i))},e.complete&&e.src){if(e.onload=null,e.onerror=null,"svg"===i.imageType)return void i._loadSvgSource();this.isLoading=!1,e.width&&e.height?(this._sourceLoaded(),r&&this.emit("loaded",this)):r&&this.emit("error",this)}}},e.prototype._updateImageType=function t(){if(this.imageUrl){var e=(0,n.decomposeDataUri)(this.imageUrl),r=void 0;if(e&&"image"===e.mediaType){var i=e.subType.split("+")[0];if(!(r=(0,n.getUrlFileExtension)("."+i)))throw new Error("Invalid image type in data URI.")}else(r=(0,n.getUrlFileExtension)(this.imageUrl))||(r="png");this.imageType=r}},e.prototype._loadSvgSource=function t(){if("svg"===this.imageType){var e=(0,n.decomposeDataUri)(this.imageUrl);e?this._loadSvgSourceUsingDataUri(e):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function t(e){var r=void 0;if("base64"===e.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");r=atob(e.data)}else r=e.data;this._loadSvgSourceUsingString(r)},e.prototype._loadSvgSourceUsingXhr=function t(){var e=this,r=new XMLHttpRequest;r.onload=function(){if(r.readyState!==r.DONE||200!==r.status)throw new Error("Failed to load SVG using XHR.");e._loadSvgSourceUsingString(r.response)},r.onerror=function(){return e.emit("error",e)},r.open("GET",this.imageUrl,!0),r.send()},e.prototype._loadSvgSourceUsingString=function t(r){var i=(0,n.getSvgSize)(r),o=i.width,s=i.height;if(!o||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(o*this.sourceScale),this.realHeight=Math.round(s*this.sourceScale),this._updateDimensions();var a=document.createElement("canvas");a.width=this.realWidth,a.height=this.realHeight,a._pixiId="canvas_"+(0,n.uid)(),a.getContext("2d").drawImage(this.source,0,0,o,s,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=a,e.addToCache(this,a._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function t(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function t(){this.imageUrl&&(delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function t(){this.emit("dispose",this)},e.prototype.updateSourceImage=function t(e){this.source.src=e,this.loadSource(this.source)},e.fromImage=function t(r,i,o,s){var a=n.BaseTextureCache[r];if(!a){var u=new Image;void 0===i&&0!==r.indexOf("data:")?u.crossOrigin=(0,l.default)(r):i&&(u.crossOrigin="string"==typeof i?i:"anonymous"),(a=new e(u,o)).imageUrl=r,s&&(a.sourceScale=s),a.resolution=(0,n.getResolutionOfUrl)(r),u.src=r,e.addToCache(a,r)}return a},e.fromCanvas=function t(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";r._pixiId||(r._pixiId=o+"_"+(0,n.uid)());var s=n.BaseTextureCache[r._pixiId];return s||(s=new e(r,i),e.addToCache(s,r._pixiId)),s},e.from=function t(r,i,o){if("string"==typeof r)return e.fromImage(r,void 0,i,o);if(r instanceof HTMLImageElement){var s=r.src,a=n.BaseTextureCache[s];return a||((a=new e(r,i)).imageUrl=s,o&&(a.sourceScale=o),a.resolution=(0,n.getResolutionOfUrl)(s),e.addToCache(a,s)),a}return r instanceof HTMLCanvasElement?e.fromCanvas(r,i):r},e.addToCache=function t(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),n.BaseTextureCache[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),n.BaseTextureCache[r]=e)},e.removeFromCache=function t(e){if("string"==typeof e){var r=n.BaseTextureCache[e];if(r){var i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete n.BaseTextureCache[e],r}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete n.BaseTextureCache[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},e}(a.default);r.default=g},{"../settings":101,"../utils":125,"../utils/determineCrossOrigin":124,"bit-twiddle":1,eventemitter3:3}],113:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=a(t("./BaseRenderTexture")),o,s;function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(r,n){u(this,e);var o=null;if(!(r instanceof i.default)){var s=arguments[1],a=arguments[2],h=arguments[3],c=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+a+") instead of the ctor directly."),o=arguments[0],n=null,r=new i.default(s,a,h,c)}var d=l(this,t.call(this,r,n));return d.legacyRenderer=o,d.valid=!0,d._updateUvs(),d}return h(e,t),e.prototype.resize=function t(e,r,n){e=Math.ceil(e),r=Math.ceil(r),this.valid=e>0&&r>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=r,n||this.baseTexture.resize(e,r),this._updateUvs()},e.create=function t(r,n,o,s){return new e(new i.default(r,n,o,s))},e}(a(t("./Texture")).default);r.default=c},{"./BaseRenderTexture":111,"./Texture":115}],114:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../"),o=t("../utils");function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s(this,t),this.baseTexture=e,this.textures={},this.animations={},this.data=r,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n(t,null,[{key:"BATCH_SIZE",get:function t(){return 1e3}}]),t.prototype._updateResolution=function t(e){var r=this.data.meta.scale,n=(0,o.getResolutionOfUrl)(e,null);return null===n&&(n=void 0!==r?parseFloat(r):1),1!==n&&(this.baseTexture.resolution=n,this.baseTexture.update()),n},t.prototype.parse=function e(r){this._batchIndex=0,this._callback=r,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function e(r){for(var n=r,o=t.BATCH_SIZE,s=this.baseTexture.sourceScale;n-r<o&&n<this._frameKeys.length;){var a=this._frameKeys[n],u=this._frames[a],l=u.frame;if(l){var h=null,c=null,d=!1!==u.trimmed&&u.sourceSize?u.sourceSize:u.frame,f=new i.Rectangle(0,0,Math.floor(d.w*s)/this.resolution,Math.floor(d.h*s)/this.resolution);h=u.rotated?new i.Rectangle(Math.floor(l.x*s)/this.resolution,Math.floor(l.y*s)/this.resolution,Math.floor(l.h*s)/this.resolution,Math.floor(l.w*s)/this.resolution):new i.Rectangle(Math.floor(l.x*s)/this.resolution,Math.floor(l.y*s)/this.resolution,Math.floor(l.w*s)/this.resolution,Math.floor(l.h*s)/this.resolution),!1!==u.trimmed&&u.spriteSourceSize&&(c=new i.Rectangle(Math.floor(u.spriteSourceSize.x*s)/this.resolution,Math.floor(u.spriteSourceSize.y*s)/this.resolution,Math.floor(l.w*s)/this.resolution,Math.floor(l.h*s)/this.resolution)),this.textures[a]=new i.Texture(this.baseTexture,h,f,c,u.rotated?2:0,u.anchor),i.Texture.addToCache(this.textures[a],a)}n++}},t.prototype._processAnimations=function t(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=e[r],i=Array.isArray(n),o=0,n=i?n:n[Symbol.iterator]();;){var s;if(i){if(o>=n.length)break;s=n[o++]}else{if((o=n.next()).done)break;s=o.value}var a=s;this.animations[r].push(this.textures[a])}}},t.prototype._parseComplete=function t(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function e(){var r=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){r._batchIndex*t.BATCH_SIZE<r._frameKeys.length?r._nextBatch():(r._processAnimations(),r._parseComplete())}),0)},t.prototype.destroy=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&this.baseTexture.destroy(),this.baseTexture=null},t}();r.default=a},{"../":65,"../utils":125}],115:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=g(t("./BaseTexture")),s,a=g(t("./VideoBaseTexture")),u,l=g(t("./TextureUvs")),h,c=g(t("eventemitter3")),d=t("../math"),f=t("../utils"),p,v=g(t("../settings"));function g(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=function(t){function e(r,n,i,o,s,a){y(this,e);var u=_(this,t.call(this));if(u.noFrame=!1,n||(u.noFrame=!0,n=new d.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),u.baseTexture=r,u._frame=n,u.trim=o,u.valid=!1,u.requiresUpdate=!1,u._uvs=null,u.orig=i||n,u._rotate=Number(s||0),!0===s)u._rotate=2;else if(u._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(u.noFrame&&(n=new d.Rectangle(0,0,r.width,r.height),r.on("update",u.onBaseTextureUpdated,u)),u.frame=n):r.once("loaded",u.onBaseTextureLoaded,u),u.defaultAnchor=a?new d.Point(a.x,a.y):new d.Point(0,0),u._updateID=0,u.transform=null,u.textureCacheIds=[],u}return m(e,t),e.prototype.update=function t(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function t(e){this._updateID++,this.noFrame?this.frame=new d.Rectangle(0,0,e.width,e.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function t(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)},e.prototype.destroy=function t(r){this.baseTexture&&(r&&(f.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function t(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype._updateUvs=function t(){this._uvs||(this._uvs=new l.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function t(r,n,i,s){var a=f.TextureCache[r];return a||(a=new e(o.default.fromImage(r,n,i,s)),e.addToCache(a,r)),a},e.fromFrame=function t(e){var r=f.TextureCache[e];if(!r)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return r},e.fromCanvas=function t(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(o.default.fromCanvas(r,n,i))},e.fromVideo=function t(r,n,i,o){return"string"==typeof r?e.fromVideoUrl(r,n,i,o):new e(a.default.fromVideo(r,n,o))},e.fromVideoUrl=function t(r,n,i,o){return new e(a.default.fromUrl(r,n,i,o))},e.from=function t(r){if("string"==typeof r){var n=f.TextureCache[r],i;return n||(null!==r.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(r):e.fromImage(r))}return r instanceof HTMLImageElement?new e(o.default.from(r)):r instanceof HTMLCanvasElement?e.fromCanvas(r,v.default.SCALE_MODE,"HTMLCanvasElement"):r instanceof HTMLVideoElement?e.fromVideo(r):r instanceof o.default?new e(r):r},e.fromLoader=function t(r,n,i){var s=new o.default(r,void 0,(0,f.getResolutionOfUrl)(n)),a=new e(s);return s.imageUrl=n,i||(i=n),o.default.addToCache(a.baseTexture,i),e.addToCache(a,i),i!==n&&(o.default.addToCache(a.baseTexture,n),e.addToCache(a,n)),a},e.addToCache=function t(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),f.TextureCache[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),f.TextureCache[r]=e)},e.removeFromCache=function t(e){if("string"==typeof e){var r=f.TextureCache[e];if(r){var n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete f.TextureCache[e],r}}else if(e&&e.textureCacheIds){for(var i=0;i<e.textureCacheIds.length;++i)f.TextureCache[e.textureCacheIds[i]]===e&&delete f.TextureCache[e.textureCacheIds[i]];return e.textureCacheIds.length=0,e}return null},n(e,[{key:"frame",get:function t(){return this._frame},set:function t(e){this._frame=e,this.noFrame=!1;var r=e.x,n=e.y,i=e.width,o=e.height,s=r+i>this.baseTexture.width,a=n+o>this.baseTexture.height;if(s||a){var u=s&&a?"and":"or",l="X: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.width,h="Y: "+n+" + "+o+" = "+(n+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+u+" "+h)}this.valid=i&&o&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:"rotate",get:function t(){return this._rotate},set:function t(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:"width",get:function t(){return this.orig.width}},{key:"height",get:function t(){return this.orig.height}}]),e}(c.default);function x(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new b(new o.default(t))}function T(t){t.destroy=function t(){},t.on=function t(){},t.once=function t(){},t.emit=function t(){}}r.default=b,b.EMPTY=new b(new o.default),T(b.EMPTY),T(b.EMPTY.baseTexture),b.WHITE=x(),T(b.WHITE),T(b.WHITE.baseTexture)},{"../math":70,"../settings":101,"../utils":125,"./BaseTexture":112,"./TextureUvs":117,"./VideoBaseTexture":118,eventemitter3:3}],116:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=s(t("../math/Matrix"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=new o.default,l=function(){function t(e,r){a(this,t),this._texture=e,this.mapCoord=new o.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===r?.5:r}return t.prototype.multiplyUvs=function t(e,r){void 0===r&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var o=e[i],s=e[i+1];r[i]=o*n.a+s*n.c+n.tx,r[i+1]=o*n.b+s*n.d+n.ty}return r},t.prototype.update=function t(e){var r=this._texture;if(!r||!r.valid)return!1;if(!e&&this._lastTextureID===r._updateID)return!1;this._lastTextureID=r._updateID;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,o=r.trim;o&&(u.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(u));var s=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/s.resolution,h=this.clampOffset;return a[0]=(r._frame.x+l+h)/s.width,a[1]=(r._frame.y+l+h)/s.height,a[2]=(r._frame.x+r._frame.width-l+h)/s.width,a[3]=(r._frame.y+r._frame.height-l+h)/s.height,this.uClampOffset[0]=h/s.realWidth,this.uClampOffset[1]=h/s.realHeight,!0},n(t,[{key:"texture",get:function t(){return this._texture},set:function t(e){this._texture=e,this._lastTextureID=-1}}]),t}();r.default=l},{"../math/Matrix":67}],117:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=o(t("../math/GroupD8"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(){s(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function t(e,r,n){var o=r.width,s=r.height;if(n){var a=e.width/2/o,u=e.height/2/s,l=e.x/o+a,h=e.y/s+u;n=i.default.add(n,i.default.NW),this.x0=l+a*i.default.uX(n),this.y0=h+u*i.default.uY(n),n=i.default.add(n,2),this.x1=l+a*i.default.uX(n),this.y1=h+u*i.default.uY(n),n=i.default.add(n,2),this.x2=l+a*i.default.uX(n),this.y2=h+u*i.default.uY(n),n=i.default.add(n,2),this.x3=l+a*i.default.uX(n),this.y3=h+u*i.default.uY(n)}else this.x0=e.x/o,this.y0=e.y/s,this.x1=(e.x+e.width)/o,this.y1=e.y/s,this.x2=(e.x+e.width)/o,this.y2=(e.y+e.height)/s,this.x3=e.x/o,this.y3=(e.y+e.height)/s;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)},t}();r.default=a},{"../math/GroupD8":66}],118:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=c(t("./BaseTexture")),s=t("../utils"),a=t("../ticker"),u=t("../const"),l,h=c(t("../utils/determineCrossOrigin"));function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(r,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(d(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var o=f(this,t.call(this,r,n));return o.width=r.videoWidth,o.height=r.videoHeight,o._autoUpdate=!0,o._isAutoUpdating=!1,o.autoPlay=i,o.update=o.update.bind(o),o._onCanPlay=o._onCanPlay.bind(o),r.addEventListener("play",o._onPlayStart.bind(o)),r.addEventListener("pause",o._onPlayStop.bind(o)),o.hasLoaded=!1,o.__loaded=!1,o._isSourceReady()?o._onCanPlay():(r.addEventListener("canplay",o._onCanPlay),r.addEventListener("canplaythrough",o._onCanPlay)),o}return p(e,t),e.prototype._isSourcePlaying=function t(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},e.prototype._isSourceReady=function t(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function t(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(a.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function t(){this._isAutoUpdating&&(a.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function t(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function e(){this._isAutoUpdating&&a.shared.remove(this.update,this),this.source&&this.source._pixiId&&(o.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function t(r,n,i){r._pixiId||(r._pixiId="video_"+(0,s.uid)());var a=s.BaseTextureCache[r._pixiId];return a||(a=new e(r,n,i),o.default.addToCache(a,r._pixiId)),a},e.fromUrl=function t(r,n,i,o){var s=document.createElement("video");s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline","");var a=Array.isArray(r)?r[0].src||r[0]:r.src||r;if(void 0===i&&0!==a.indexOf("data:")?s.crossOrigin=(0,h.default)(a):i&&(s.crossOrigin="string"==typeof i?i:"anonymous"),Array.isArray(r))for(var u=0;u<r.length;++u)s.appendChild(g(r[u].src||r[u],r[u].mime));else s.appendChild(g(a,r.mime));return s.load(),e.fromVideo(s,n,o)},n(e,[{key:"autoUpdate",get:function t(){return this._autoUpdate},set:function t(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isAutoUpdating?(a.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(a.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(o.default);function g(t,e){if(!e){var r=t.split("?").shift().toLowerCase();e="video/"+r.substr(r.lastIndexOf(".")+1)}var n=document.createElement("source");return n.src=t,n.type=e,n}r.default=v,v.fromUrls=v.fromUrl},{"../const":46,"../ticker":121,"../utils":125,"../utils/determineCrossOrigin":124,"./BaseTexture":112}],119:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=l(t("../settings")),s=t("../const"),a,u=l(t("./TickerListener"));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(){var e=this;h(this,t),this._head=new u.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/o.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function t(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function t(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function t(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,r,n))},t.prototype.addOnce=function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,r,n,!0))},t.prototype._addListener=function t(e){var r=this._head.next,n=this._head;if(r){for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this},t.prototype.remove=function t(e,r){for(var n=this._head.next;n;)n=n.match(e,r)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function t(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function t(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function t(){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),r=void 0;if(e>this.lastTime){(r=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(r=this._maxElapsedMS),this.deltaTime=r*o.default.TARGET_FPMS*this.speed;for(var n=this._head,i=n.next;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=e},n(t,[{key:"FPS",get:function t(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function t(){return 1e3/this._maxElapsedMS},set:function t(e){var r=Math.min(Math.max(0,e)/1e3,o.default.TARGET_FPMS);this._maxElapsedMS=1/r}}]),t}();r.default=c},{"../const":46,"../settings":101,"./TickerListener":120}],120:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,t),this.fn=e,this.context=r,this.priority=i,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function t(e,r){return r=r||null,this.fn===e&&this.context===r},t.prototype.emit=function t(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function t(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}();r.default=i},{}],121:[function(t,e,r){"use strict";r.__esModule=!0,r.Ticker=r.shared=void 0;var n,i=o(t("./Ticker"));function o(t){return t&&t.__esModule?t:{default:t}}var s=new i.default;s.autoStart=!0,s.destroy=function(){},r.shared=s,r.Ticker=i.default},{"./Ticker":119}],122:[function(t,e,r){"use strict";function n(){var t;return!(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}r.__esModule=!0,r.default=n},{}],123:[function(t,e,r){"use strict";function n(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}r.__esModule=!0,r.default=n},{}],124:[function(t,e,r){"use strict";r.__esModule=!0,r.default=a;var n,i=o(t("url"));function o(t){return t&&t.__esModule?t:{default:t}}var s=void 0;function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a")),s.href=t;var r=!(t=i.default.parse(s.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"}},{url:38}],125:[function(t,e,r){"use strict";r.__esModule=!0,r.premultiplyBlendMode=r.BaseTextureCache=r.TextureCache=r.earcut=r.mixins=r.pluginTarget=r.EventEmitter=r.removeItems=r.isMobile=void 0,r.uid=E,r.hex2rgb=S,r.hex2string=O,r.rgb2hex=M,r.getResolutionOfUrl=P,r.decomposeDataUri=A,r.getUrlFileExtension=C,r.getSvgSize=R,r.skipHello=I,r.sayHello=D,r.isWebGLSupported=L,r.sign=j,r.destroyTextureCache=B,r.clearTextureCache=F,r.correctBlendMode=X,r.premultiplyTint=G,r.premultiplyRgba=H,r.premultiplyTintToRgba=W;var n=t("../const"),i,o=x(t("../settings")),s,a=x(t("eventemitter3")),u,l=x(t("./pluginTarget")),h,c=b(t("./mixin")),d,f=b(t("ismobilejs")),p,v=x(t("remove-array-items")),g,y=x(t("./mapPremultipliedBlendModes")),_,m=x(t("earcut"));function b(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}var T=0,w=!1;function E(){return++T}function S(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function O(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function M(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function P(t,e){var r=o.default.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}function A(t){var e=n.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function C(t){var e=n.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()}function R(t){var e=n.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}function I(){w=!0}function D(t){if(!w){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+n.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+n.VERSION+" - "+t+" - http://www.pixijs.com/");w=!0}}function L(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(o){return!1}}function j(t){return 0===t?0:t<0?-1:1}r.isMobile=f,r.removeItems=v.default,r.EventEmitter=a.default,r.pluginTarget=l.default,r.mixins=c,r.earcut=m.default;var k=r.TextureCache=Object.create(null),N=r.BaseTextureCache=Object.create(null);function B(){var t=void 0;for(t in k)k[t].destroy();for(t in N)N[t].destroy()}function F(){var t=void 0;for(t in k)delete k[t];for(t in N)delete N[t]}var U=r.premultiplyBlendMode=(0,y.default)();function X(t,e){return U[e?1:0][t]}function G(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i=i*e+.5|0)}function H(t,e,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function W(t,e,r,n){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}},{"../const":46,"../settings":101,"./mapPremultipliedBlendModes":126,"./mixin":128,"./pluginTarget":129,earcut:2,eventemitter3:3,ismobilejs:4,"remove-array-items":31}],126:[function(t,e,r){"use strict";r.__esModule=!0,r.default=i;var n=t("../const");function i(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}},{"../const":46}],127:[function(t,e,r){"use strict";r.__esModule=!0,r.default=s;var n,i=o(t("ismobilejs"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return i.default.tablet||i.default.phone?4:t}},{ismobilejs:4}],128:[function(t,e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}r.__esModule=!0,r.mixin=n,r.delayMixin=o,r.performMixins=s;var i=[];function o(t,e){i.push(t,e)}function s(){for(var t=0;t<i.length;t+=2)n(i[t],i[t+1]);i.length=0}},{}],129:[function(t,e,r){"use strict";function n(t){t.__plugins={},t.registerPlugin=function e(r,n){t.__plugins[r]=n},t.prototype.initPlugins=function e(){for(var r in this.plugins=this.plugins||{},t.__plugins)this.plugins[r]=new t.__plugins[r](this)},t.prototype.destroyPlugins=function t(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}r.__esModule=!0,r.default={mixin:function t(e){n(e)}}},{}],130:[function(t,e,r){"use strict";function n(t){var e=t.width,r=t.height,n=t.getContext("2d"),i,o=n.getImageData(0,0,e,r).data,s=o.length,a={top:null,left:null,right:null,bottom:null},u=null,l=void 0,h=void 0,c=void 0;for(l=0;l<s;l+=4)0!==o[l+3]&&(h=l/4%e,c=~~(l/4/e),null===a.top&&(a.top=c),null===a.left?a.left=h:h<a.left&&(a.left=h),null===a.right?a.right=h+1:a.right<h&&(a.right=h+1),null===a.bottom?a.bottom=c:a.bottom<c&&(a.bottom=c));return null!==a.top&&(e=a.right-a.left,r=a.bottom-a.top+1,u=n.getImageData(a.left,a.top,e,r)),{height:r,width:e,data:u}}r.__esModule=!0,r.default=n},{}],131:[function(t,e,r){"use strict";r.__esModule=!0,r.default=o;var n={};function i(t){if(!n[t]){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),n[t]=!0}}function o(t){var e=t.mesh,r=t.particles,n=t.extras,o=t.filters,s=t.prepare,a=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function t(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function t(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function e(){return i("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function e(){return i("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function t(){return i("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function t(){return i("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function t(){return i("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function t(){return i("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),n.AnimatedSprite}},TilingSprite:{get:function t(){return i("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),n.TilingSprite}},BitmapText:{get:function t(){return i("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),n.BitmapText}},blendModes:{get:function e(){return i("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function e(){return i("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function e(){return i("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function e(){return i("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function e(){return i("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function e(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function e(){return i("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function e(){return i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function e(r){i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=r}},FILTER_RESOLUTION:{get:function e(){return i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function e(r){i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=r}},RESOLUTION:{get:function e(){return i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function e(r){i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=r}},MIPMAP_TEXTURES:{get:function e(){return i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function e(r){i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=r}},SPRITE_BATCH_SIZE:{get:function e(){return i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function e(r){i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=r}},SPRITE_MAX_TEXTURES:{get:function e(){return i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function e(r){i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=r}},RETINA_PREFIX:{get:function e(){return i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function e(r){i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=r}},DEFAULT_RENDER_OPTIONS:{get:function e(){return i("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var l=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],h=function e(r){var n=l[r];Object.defineProperty(t[n.parent],"DEFAULT",{get:function e(){return i("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]},set:function e(r){i("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]=r}})},c=0;c<l.length;c++)h(c);Object.defineProperties(t.settings,{PRECISION:{get:function e(){return i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function e(r){i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=r}}}),n.AnimatedSprite&&Object.defineProperties(n,{MovieClip:{get:function t(){return i("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),n.AnimatedSprite}}}),n&&Object.defineProperties(n,{TextureTransform:{get:function e(){return i("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}}),t.DisplayObject.prototype.generateTexture=function t(e,r,n){return i("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),e.generateTexture(this,r,n)},t.Graphics.prototype.generateTexture=function t(e,r){return i("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(e,r)},t.GroupD8.isSwapWidthHeight=function e(r){return i("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(r)},t.RenderTexture.prototype.render=function t(e,r,n,o){this.legacyRenderer.render(e,this,n,r,!o),i("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function t(e){return i("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(e)},t.RenderTexture.prototype.getBase64=function t(e){return i("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(e)},t.RenderTexture.prototype.getCanvas=function t(e){return i("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(e)},t.RenderTexture.prototype.getPixels=function t(e){return i("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(e)},t.Sprite.prototype.setTexture=function t(e){this.texture=e,i("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},n.BitmapText&&(n.BitmapText.prototype.setText=function t(e){this.text=e,i("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),t.Text.prototype.setText=function t(e){this.text=e,i("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function e(r){return i("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(r)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function e(){return i("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function e(){return i("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function e(){return i("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function t(e){this.style=e,i("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function e(r){return i("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(r)},t.Text.getFontStyle=function e(r){return i("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(r=r||{})instanceof t.TextStyle||(r=new t.TextStyle(r)),r.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function t(){i("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var e="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+e+" "+this._fontFamily},set:function t(e){i("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),e.indexOf("italic")>1?this._fontStyle="italic":e.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",e.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var r=e.split(" "),n=-1;this._fontSize=26;for(var o=0;o<r.length;++o)if(r[o].match(/(px|pt|em|%)/)){n=o,this._fontSize=r[o];break}this._fontWeight="normal";for(var s=0;s<n;++s)if(r[s].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=r[s];break}if(n>-1&&n<r.length-1){this._fontFamily="";for(var a=n+1;a<r.length;++a)this._fontFamily+=r[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function t(e){this.frame=e,i("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function e(r,n){t.Texture.addToCache(r,n),i("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function e(r){return i("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(r),t.Texture.removeFromCache(r)},Object.defineProperties(o,{AbstractFilter:{get:function e(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function e(){return i("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function t(){return i("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return i("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return i("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var d=!0;if(Object.defineProperty(t.utils,"_saidHello",{set:function t(e){e&&(i("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),d=e},get:function t(){return d}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function t(e,r){return i("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),e&&this.registerFindHook(e),r&&this.registerUploadHook(r),this}),s.canvas&&Object.defineProperty(s.canvas,"UPLOADS_PER_FRAME",{set:function t(){i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function t(){return i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),s.webgl&&Object.defineProperty(s.webgl,"UPLOADS_PER_FRAME",{set:function t(){i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function t(){return i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),a.Loader){var f=a.Resource,p=a.Loader;Object.defineProperties(f.prototype,{isJson:{get:function t(){return i("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===f.TYPE.JSON}},isXml:{get:function t(){return i("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===f.TYPE.XML}},isImage:{get:function t(){return i("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===f.TYPE.IMAGE}},isAudio:{get:function t(){return i("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===f.TYPE.AUDIO}},isVideo:{get:function t(){return i("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===f.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function t(){return i("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function t(){return i("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function t(e){i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=e},get:function t(){return i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function t(e){i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=e},get:function t(){return i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function t(e){i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=e},get:function t(){return i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}},{}],132:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=o(t("../../core"));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=new i.Rectangle,u=function(){function t(e){s(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function t(e){var t=new Image;return t.src=this.base64(e),t},t.prototype.base64=function t(e){return this.canvas(e).toDataURL()},t.prototype.canvas=function t(e){var r=this.renderer,n=void 0,o=void 0,s=void 0,u=void 0;e&&(u=e instanceof i.RenderTexture?e:r.generateTexture(e)),u?(n=u.baseTexture._canvasRenderTarget.context,o=u.baseTexture._canvasRenderTarget.resolution,s=u.frame):(n=r.rootContext,o=r.resolution,(s=a).width=this.renderer.width,s.height=this.renderer.height);var l=Math.floor(s.width*o+1e-4),h=Math.floor(s.height*o+1e-4),c=new i.CanvasRenderTarget(l,h,1),d=n.getImageData(s.x*o,s.y*o,l,h);return c.context.putImageData(d,0,0),c.canvas},t.prototype.pixels=function t(e){var r=this.renderer,n=void 0,o=void 0,s=void 0,u=void 0;return e&&(u=e instanceof i.RenderTexture?e:r.generateTexture(e)),u?(n=u.baseTexture._canvasRenderTarget.context,o=u.baseTexture._canvasRenderTarget.resolution,s=u.frame):(n=r.rootContext,(s=a).width=r.width,s.height=r.height),n.getImageData(0,0,s.width*o,s.height*o).data},t.prototype.destroy=function t(){this.renderer.extract=null,this.renderer=null},t}();r.default=u,i.CanvasRenderer.registerPlugin("extract",u)},{"../../core":65}],133:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./webgl/WebGLExtract");Object.defineProperty(r,"webgl",{enumerable:!0,get:function t(){return o(n).default}});var i=t("./canvas/CanvasExtract");function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"canvas",{enumerable:!0,get:function t(){return o(i).default}})},{"./canvas/CanvasExtract":132,"./webgl/WebGLExtract":134}],134:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=o(t("../../core"));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=new i.Rectangle,u=4,l=function(){function t(e){s(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function t(e){var t=new Image;return t.src=this.base64(e),t},t.prototype.base64=function t(e){return this.canvas(e).toDataURL()},t.prototype.canvas=function t(e){var r=this.renderer,n=void 0,o=void 0,s=void 0,u=!1,l=void 0,h=!1;e&&(e instanceof i.RenderTexture?l=e:(l=this.renderer.generateTexture(e),h=!0)),l?(o=(n=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=l.frame,u=!1):(o=(n=this.renderer.rootRenderTarget).resolution,u=!0,(s=a).width=n.size.width,s.height=n.size.height);var c=Math.floor(s.width*o+1e-4),d=Math.floor(s.height*o+1e-4),f=new i.CanvasRenderTarget(c,d,1);if(n){r.bindRenderTarget(n);var p=new Uint8Array(4*c*d),v=r.gl;v.readPixels(s.x*o,s.y*o,c,d,v.RGBA,v.UNSIGNED_BYTE,p);var g=f.context.getImageData(0,0,c,d);g.data.set(p),f.context.putImageData(g,0,0),u&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-d))}return h&&l.destroy(!0),f.canvas},t.prototype.pixels=function t(e){var r=this.renderer,n=void 0,o=void 0,s=void 0,u=void 0,l=!1;e&&(e instanceof i.RenderTexture?u=e:(u=this.renderer.generateTexture(e),l=!0)),u?(o=(n=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=u.frame):(o=(n=this.renderer.rootRenderTarget).resolution,(s=a).width=n.size.width,s.height=n.size.height);var h=s.width*o,c=s.height*o,d=new Uint8Array(4*h*c);if(n){r.bindRenderTarget(n);var f=r.gl;f.readPixels(s.x*o,s.y*o,h,c,f.RGBA,f.UNSIGNED_BYTE,d)}return l&&u.destroy(!0),d},t.prototype.destroy=function t(){this.renderer.extract=null,this.renderer=null},t}();r.default=l,i.WebGLRenderer.registerPlugin("extract",l)},{"../../core":65}],135:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=s(t("../core"));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(r,n){a(this,e);var i=u(this,t.call(this,r[0]instanceof o.Texture?r[0]:r[0].texture));return i._textures=null,i._durations=null,i.textures=r,i._autoUpdate=!1!==n,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i.playing=!1,i}return l(e,t),e.prototype.stop=function t(){this.playing&&(this.playing=!1,this._autoUpdate&&o.ticker.shared.remove(this.update,this))},e.prototype.play=function t(){this.playing||(this.playing=!0,this._autoUpdate&&o.ticker.shared.add(this.update,this,o.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function t(e){this.stop();var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function t(e){var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function t(e){var r=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function t(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function e(r){this.stop(),t.prototype.destroy.call(this,r)},e.fromFrames=function t(r){for(var n=[],i=0;i<r.length;++i)n.push(o.Texture.fromFrame(r[i]));return new e(n)},e.fromImages=function t(r){for(var n=[],i=0;i<r.length;++i)n.push(o.Texture.fromImage(r[i]));return new e(n)},n(e,[{key:"totalFrames",get:function t(){return this._textures.length}},{key:"textures",get:function t(){return this._textures},set:function t(e){if(e[0]instanceof o.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function t(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}}]),e}(o.Sprite);r.default=h},{"../core":65}],136:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=d(t("../core")),s,a=c(t("../core/math/ObservablePoint")),u=t("../core/utils"),l,h=c(t("../core/settings"));function c(t){return t&&t.__esModule?t:{default:t}}function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,e);var i=p(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},i.font=n.font,i._text=r,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new a.default((function(){i.dirty=!0}),i,0,0),i.dirty=!1,i.updateText(),i}return v(e,t),e.prototype.updateText=function t(){for(var r=e.fonts[this._font.name],n=this._font.size/r.size,i=new o.Point,s=[],a=[],u=this.text.replace(/(?:\r\n|\r)/g,"\n"),l=u.length,h=this._maxWidth*r.size/this._font.size,c=null,d=0,f=0,p=0,v=-1,g=0,y=0,_=0,m=0;m<l;m++){var b=u.charCodeAt(m),x=u.charAt(m);if(/(?:\s)/.test(x)&&(v=m,g=d),"\r"!==x&&"\n"!==x){var T=r.chars[b];T&&(c&&T.kerning[c]&&(i.x+=T.kerning[c]),s.push({texture:T.texture,line:p,charCode:b,position:new o.Point(i.x+T.xOffset+this._letterSpacing/2,i.y+T.yOffset)}),i.x+=T.xAdvance+this._letterSpacing,d=i.x,_=Math.max(_,T.yOffset+T.texture.height),c=b,-1!==v&&h>0&&i.x>h&&(++y,o.utils.removeItems(s,1+v-y,1+m-v),m=v,v=-1,a.push(g),f=Math.max(f,g),p++,i.x=0,i.y+=r.lineHeight,c=null))}else a.push(d),f=Math.max(f,d),++p,++y,i.x=0,i.y+=r.lineHeight,c=null}var w=u.charAt(u.length-1);"\r"!==w&&"\n"!==w&&(/(?:\s)/.test(w)&&(d=g),a.push(d),f=Math.max(f,d));for(var E=[],S=0;S<=p;S++){var O=0;"right"===this._font.align?O=f-a[S]:"center"===this._font.align&&(O=(f-a[S])/2),E.push(O)}for(var M=s.length,P=this.tint,A=0;A<M;A++){var C=this._glyphs[A];C?C.texture=s[A].texture:(C=new o.Sprite(s[A].texture),this._glyphs.push(C)),C.position.x=(s[A].position.x+E[s[A].line])*n,C.position.y=s[A].position.y*n,C.scale.x=C.scale.y=n,C.tint=P,C.parent||this.addChild(C)}for(var R=M;R<this._glyphs.length;++R)this.removeChild(this._glyphs[R]);if(this._textWidth=f*n,this._textHeight=(i.y+r.lineHeight)*n,0!==this.anchor.x||0!==this.anchor.y)for(var I=0;I<M;I++)this._glyphs[I].x-=this._textWidth*this.anchor.x,this._glyphs[I].y-=this._textHeight*this.anchor.y;this._maxLineHeight=_*n},e.prototype.updateTransform=function t(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function e(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function t(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function t(r,n){var i={},s=r.getElementsByTagName("info")[0],a=r.getElementsByTagName("common")[0],l=r.getElementsByTagName("page"),c=(0,u.getResolutionOfUrl)(l[0].getAttribute("file"),h.default.RESOLUTION),d={};i.font=s.getAttribute("face"),i.size=parseInt(s.getAttribute("size"),10),i.lineHeight=parseInt(a.getAttribute("lineHeight"),10)/c,i.chars={},n instanceof o.Texture&&(n=[n]);for(var f=0;f<l.length;f++){var p=l[f].getAttribute("id"),v=l[f].getAttribute("file");d[p]=n instanceof Array?n[f]:n[v]}for(var g=r.getElementsByTagName("char"),y=0;y<g.length;y++){var _=g[y],m=parseInt(_.getAttribute("id"),10),b=_.getAttribute("page")||0,x=new o.Rectangle(parseInt(_.getAttribute("x"),10)/c+d[b].frame.x/c,parseInt(_.getAttribute("y"),10)/c+d[b].frame.y/c,parseInt(_.getAttribute("width"),10)/c,parseInt(_.getAttribute("height"),10)/c);i.chars[m]={xOffset:parseInt(_.getAttribute("xoffset"),10)/c,yOffset:parseInt(_.getAttribute("yoffset"),10)/c,xAdvance:parseInt(_.getAttribute("xadvance"),10)/c,kerning:{},texture:new o.Texture(d[b].baseTexture,x),page:b}}for(var T=r.getElementsByTagName("kerning"),w=0;w<T.length;w++){var E=T[w],S=parseInt(E.getAttribute("first"),10)/c,O=parseInt(E.getAttribute("second"),10)/c,M=parseInt(E.getAttribute("amount"),10)/c;i.chars[O]&&(i.chars[O].kerning[S]=M)}return e.fonts[i.font]=i,i},n(e,[{key:"tint",get:function t(){return this._font.tint},set:function t(e){this._font.tint="number"==typeof e&&e>=0?e:16777215,this.dirty=!0}},{key:"align",get:function t(){return this._font.align},set:function t(e){this._font.align=e||"left",this.dirty=!0}},{key:"anchor",get:function t(){return this._anchor},set:function t(e){"number"==typeof e?this._anchor.set(e):this._anchor.copy(e)}},{key:"font",get:function t(){return this._font},set:function t(r){r&&("string"==typeof r?(r=r.split(" "),this._font.name=1===r.length?r[0]:r.slice(1).join(" "),this._font.size=r.length>=2?parseInt(r[0],10):e.fonts[this._font.name].size):(this._font.name=r.name,this._font.size="number"==typeof r.size?r.size:parseInt(r.size,10)),this.dirty=!0)}},{key:"text",get:function t(){return this._text},set:function t(e){e=e.toString()||" ",this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"maxWidth",get:function t(){return this._maxWidth},set:function t(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}},{key:"maxLineHeight",get:function t(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function t(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function t(){return this._letterSpacing},set:function t(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}},{key:"textHeight",get:function t(){return this.validate(),this._textHeight}}]),e}(o.Container);r.default=g,g.fonts={}},{"../core":65,"../core/math/ObservablePoint":68,"../core/settings":101,"../core/utils":125}],137:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=l(t("../core")),s,a=u(t("../core/sprites/canvas/CanvasTinter"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=new o.Point,p=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;h(this,e);var s=c(this,t.call(this,r));return s.tileTransform=new o.TransformStatic,s._width=n,s._height=i,s._canvasPattern=null,s.uvTransform=r.transform||new o.TextureMatrix(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return d(e,t),e.prototype._onTextureUpdate=function t(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function t(e){var r=this._texture;r&&r.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function t(e){var r=this._texture;if(r.baseTexture.hasLoaded){var n=e.context,i=this.worldTransform,s=e.resolution,u=2===r.rotate,l=r.baseTexture,h=l.resolution,c=this.tilePosition.x/this.tileScale.x%r.orig.width*h,d=this.tilePosition.y/this.tileScale.y%r.orig.height*h;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var f=new o.CanvasRenderTarget(r.orig.width,r.orig.height,h);if(16777215!==this.tint)this.tintedTexture=a.default.getTintedTexture(this,this.tint),f.context.drawImage(this.tintedTexture,0,0);else{var p=r._frame.x*h,v=r._frame.y*h,g=r._frame.width*h,y=r._frame.height*h,_=(r.trim?r.trim.width:r.orig.width)*h,m=(r.trim?r.trim.height:r.orig.height)*h,b=(r.trim?r.trim.x:0)*h,x=(r.trim?r.trim.y:0)*h;u?(f.context.rotate(-Math.PI/2),f.context.translate(-m,0),f.context.drawImage(l.source,p,v,g,y,-x,b,m,_)):f.context.drawImage(l.source,p,v,g,y,b,x,_,m)}this.cachedTint=this.tint,this._canvasPattern=f.context.createPattern(f.canvas,"repeat")}n.globalAlpha=this.worldAlpha,n.setTransform(i.a*s,i.b*s,i.c*s,i.d*s,i.tx*s,i.ty*s),e.setBlendMode(this.blendMode),n.fillStyle=this._canvasPattern,n.scale(this.tileScale.x/h,this.tileScale.y/h);var T=this.anchor.x*-this._width*h,w=this.anchor.y*-this._height*h;this.uvRespectAnchor?(n.translate(c,d),n.fillRect(-c+T,-d+w,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h)):(n.translate(c+T,d+w),n.fillRect(-c,-d,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h))}},e.prototype._calculateBounds=function t(){var e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)},e.prototype.getLocalBounds=function e(r){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function t(e){this.worldTransform.applyInverse(e,f);var r=this._width,n=this._height,i=-r*this.anchor._x;if(f.x>=i&&f.x<i+r){var o=-n*this.anchor._y;if(f.y>=o&&f.y<o+n)return!0}return!1},e.prototype.destroy=function e(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvTransform=null},e.from=function t(r,n,i){return new e(o.Texture.from(r),n,i)},e.fromFrame=function t(r,n,i){var s=o.utils.TextureCache[r];if(!s)throw new Error('The frameId "'+r+'" does not exist in the texture cache '+this);return new e(s,n,i)},e.fromImage=function t(r,n,i,s,a){return new e(o.Texture.fromImage(r,s,a),n,i)},n(e,[{key:"clampMargin",get:function t(){return this.uvTransform.clampMargin},set:function t(e){this.uvTransform.clampMargin=e,this.uvTransform.update(!0)}},{key:"tileScale",get:function t(){return this.tileTransform.scale},set:function t(e){this.tileTransform.scale.copy(e)}},{key:"tilePosition",get:function t(){return this.tileTransform.position},set:function t(e){this.tileTransform.position.copy(e)}},{key:"width",get:function t(){return this._width},set:function t(e){this._width=e}},{key:"height",get:function t(){return this._height},set:function t(e){this._height=e}}]),e}(o.Sprite);r.default=p},{"../core":65,"../core/sprites/canvas/CanvasTinter":104}],138:[function(t,e,r){"use strict";var n,i=c(t("../core")),o,s=h(t("../core/textures/Texture")),a,u=h(t("../core/textures/BaseTexture")),l=t("../core/utils");function h(t){return t&&t.__esModule?t:{default:t}}function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=i.DisplayObject,p=new i.Matrix;f.prototype._cacheAsBitmap=!1,f.prototype._cacheData=!1;var v=function t(){d(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(f.prototype,{cacheAsBitmap:{get:function t(){return this._cacheAsBitmap},set:function t(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var r=void 0;e?(this._cacheData||(this._cacheData=new v),(r=this._cacheData).originalRenderWebGL=this.renderWebGL,r.originalRenderCanvas=this.renderCanvas,r.originalUpdateTransform=this.updateTransform,r.originalCalculateBounds=this.calculateBounds,r.originalGetLocalBounds=this.getLocalBounds,r.originalDestroy=this.destroy,r.originalContainsPoint=this.containsPoint,r.originalMask=this._mask,r.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((r=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=r.originalRenderWebGL,this.renderCanvas=r.originalRenderCanvas,this.calculateBounds=r.originalCalculateBounds,this.getLocalBounds=r.originalGetLocalBounds,this.destroy=r.originalDestroy,this.updateTransform=r.originalUpdateTransform,this.containsPoint=r.originalContainsPoint,this._mask=r.originalMask,this.filterArea=r.originalFilterArea)}}}}),f.prototype._renderCachedWebGL=function t(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(e))},f.prototype._initCachedDisplayObject=function t(e){if(!this._cacheData||!this._cacheData.sprite){var r=this.alpha;this.alpha=1,e.currentRenderer.flush();var n=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var o=this._filters[0].padding;n.pad(o)}n.ceil(i.settings.RESOLUTION);var a=e._activeRenderTarget,h=e.filterManager.filterStack,c=i.RenderTexture.create(n.width,n.height),d="cacheAsBitmap_"+(0,l.uid)();this._cacheData.textureCacheId=d,u.default.addToCache(c.baseTexture,d),s.default.addToCache(c,d);var f=p;f.tx=-n.x,f.ty=-n.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,e.render(this,c,!0,f,!0),e.bindRenderTarget(a),e.filterManager.filterStack=h,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var v=new i.Sprite(c);v.transform.worldTransform=this.transform.worldTransform,v.anchor.x=-n.x/n.width,v.anchor.y=-n.y/n.height,v.alpha=r,v._bounds=this._bounds,this._cacheData.sprite=v,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=v.containsPoint.bind(v)}},f.prototype._renderCachedCanvas=function t(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},f.prototype._initCachedDisplayObjectCanvas=function t(e){if(!this._cacheData||!this._cacheData.sprite){var r=this.getLocalBounds(),n=this.alpha;this.alpha=1;var o=e.context;r.ceil(i.settings.RESOLUTION);var a=i.RenderTexture.create(r.width,r.height),h="cacheAsBitmap_"+(0,l.uid)();this._cacheData.textureCacheId=h,u.default.addToCache(a.baseTexture,h),s.default.addToCache(a,h);var c=p;this.transform.localTransform.copy(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,a,!0,c,!1),e.context=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var d=new i.Sprite(a);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-r.x/r.width,d.anchor.y=-r.y/r.height,d.alpha=n,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)}},f.prototype._calculateCachedBounds=function t(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},f.prototype._getCachedLocalBounds=function t(){return this._cacheData.sprite.getLocalBounds()},f.prototype._destroyCachedDisplayObject=function t(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,u.default.removeFromCache(this._cacheData.textureCacheId),s.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},f.prototype._cacheAsBitmapDestroy=function t(e){this.cacheAsBitmap=!1,this.destroy(e)}},{"../core":65,"../core/textures/BaseTexture":112,"../core/textures/Texture":115,"../core/utils":125}],139:[function(t,e,r){"use strict";var n,i=o(t("../core"));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function t(e){for(var r=0;r<this.children.length;r++)if(this.children[r].name===e)return this.children[r];return null}},{"../core":65}],140:[function(t,e,r){"use strict";var n,i=o(t("../core"));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}i.DisplayObject.prototype.getGlobalPosition=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.Point,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e}},{"../core":65}],141:[function(t,e,r){"use strict";r.__esModule=!0,r.BitmapText=r.TilingSpriteRenderer=r.TilingSprite=r.AnimatedSprite=void 0;var n=t("./AnimatedSprite");Object.defineProperty(r,"AnimatedSprite",{enumerable:!0,get:function t(){return a(n).default}});var i=t("./TilingSprite");Object.defineProperty(r,"TilingSprite",{enumerable:!0,get:function t(){return a(i).default}});var o=t("./webgl/TilingSpriteRenderer");Object.defineProperty(r,"TilingSpriteRenderer",{enumerable:!0,get:function t(){return a(o).default}});var s=t("./BitmapText");function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"BitmapText",{enumerable:!0,get:function t(){return a(s).default}}),t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition")},{"./AnimatedSprite":135,"./BitmapText":136,"./TilingSprite":137,"./cacheAsBitmap":138,"./getChildByName":139,"./getGlobalPosition":140,"./webgl/TilingSpriteRenderer":142}],142:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=a(t("../../core")),o=t("../../core/const"),s=t("path");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=new i.Matrix,d=function(t){function e(r){u(this,e);var n=l(this,t.call(this,r));return n.shader=null,n.simpleShader=null,n.quad=null,n}return h(e,t),e.prototype.onContextChange=function t(){var e=this.renderer.gl;this.shader=new i.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new i.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new i.Quad(e,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function t(e){var r=this.renderer,n=this.quad;r.bindVao(n.vao);var s=n.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((s=n.uvs)[0]=s[6]=-e.anchor.x,s[1]=s[3]=-e.anchor.y,s[2]=s[4]=1-e.anchor.x,s[5]=s[7]=1-e.anchor.y),n.upload();var a=e._texture,u=a.baseTexture,l=e.tileTransform.localTransform,h=e.uvTransform,d=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;d&&(u._glTextures[r.CONTEXT_UID]?d=u.wrapMode!==o.WRAP_MODES.CLAMP:u.wrapMode===o.WRAP_MODES.CLAMP&&(u.wrapMode=o.WRAP_MODES.REPEAT));var f=d?this.simpleShader:this.shader;r.bindShader(f);var p=a.width,v=a.height,g=e._width,y=e._height;c.set(l.a*p/g,l.b*p/y,l.c*v/g,l.d*v/y,l.tx/g,l.ty/y),c.invert(),d?c.prepend(h.mapCoord):(f.uniforms.uMapCoord=h.mapCoord.toArray(!0),f.uniforms.uClampFrame=h.uClampFrame,f.uniforms.uClampOffset=h.uClampOffset),f.uniforms.uTransform=c.toArray(!0),f.uniforms.uColor=i.utils.premultiplyTintToRgba(e.tint,e.worldAlpha,f.uniforms.uColor,u.premultipliedAlpha),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=r.bindTexture(a),r.setBlendMode(i.utils.correctBlendMode(e.blendMode,u.premultipliedAlpha)),n.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(i.ObjectRenderer);r.default=d,i.WebGLRenderer.registerPlugin("tilingSprite",d)},{"../../core":65,"../../core/const":46,path:8}],143:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=a(t("../../core")),s=t("path");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;u(this,e);var n=l(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return n.alpha=r,n.glShaderKey="alpha",n}return h(e,t),n(e,[{key:"alpha",get:function t(){return this.uniforms.uAlpha},set:function t(e){this.uniforms.uAlpha=e}}]),e}(o.Filter);r.default=c},{"../../core":65,path:8}],144:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=c(t("../../core")),s,a=h(t("./BlurXFilter")),u,l=h(t("./BlurYFilter"));function h(t){return t&&t.__esModule?t:{default:t}}function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(r,n,i,s){d(this,e);var u=f(this,t.call(this));return u.blurXFilter=new a.default(r,n,i,s),u.blurYFilter=new l.default(r,n,i,s),u.padding=0,u.resolution=i||o.settings.RESOLUTION,u.quality=n||4,u.blur=r||8,u}return p(e,t),e.prototype.apply=function t(e,r,n){var i=e.getRenderTarget(!0);this.blurXFilter.apply(e,r,i,!0),this.blurYFilter.apply(e,i,n,!1),e.returnRenderTarget(i)},n(e,[{key:"blur",get:function t(){return this.blurXFilter.blur},set:function t(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function t(){return this.blurXFilter.quality},set:function t(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function t(){return this.blurXFilter.blur},set:function t(e){this.blurXFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function t(){return this.blurYFilter.blur},set:function t(e){this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function t(){return this.blurYFilter._blendMode},set:function t(e){this.blurYFilter._blendMode=e}}]),e}(o.Filter);r.default=v},{"../../core":65,"./BlurXFilter":145,"./BlurYFilter":146}],145:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=f(t("../../core")),s,a=d(t("./generateBlurVertSource")),u,l=d(t("./generateBlurFragSource")),h,c=d(t("./getMaxBlurKernelSize"));function d(t){return t&&t.__esModule?t:{default:t}}function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(t){function e(r,n,i,s){p(this,e),s=s||5;var u=(0,a.default)(s,!0),h=(0,l.default)(s),c=v(this,t.call(this,u,h));return c.resolution=i||o.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return g(e,t),e.prototype.apply=function t(e,r,n,i){if(this.firstRun){var o=e.renderer.gl,s=(0,c.default)(o);this.vertexSrc=(0,a.default)(s,!0),this.fragmentSrc=(0,l.default)(s),this.firstRun=!1}if(this.uniforms.strength=1/n.size.width*(n.size.width/r.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,r,n,i);else{for(var u=e.getRenderTarget(!0),h=r,d=u,f=0;f<this.passes-1;f++){e.applyFilter(this,h,d,!0);var p=d;d=h,h=p}e.applyFilter(this,h,n,i),e.returnRenderTarget(u)}},n(e,[{key:"blur",get:function t(){return this.strength},set:function t(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function t(){return this._quality},set:function t(e){this._quality=e,this.passes=e}}]),e}(o.Filter);r.default=y},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],146:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=f(t("../../core")),s,a=d(t("./generateBlurVertSource")),u,l=d(t("./generateBlurFragSource")),h,c=d(t("./getMaxBlurKernelSize"));function d(t){return t&&t.__esModule?t:{default:t}}function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(t){function e(r,n,i,s){p(this,e),s=s||5;var u=(0,a.default)(s,!1),h=(0,l.default)(s),c=v(this,t.call(this,u,h));return c.resolution=i||o.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return g(e,t),e.prototype.apply=function t(e,r,n,i){if(this.firstRun){var o=e.renderer.gl,s=(0,c.default)(o);this.vertexSrc=(0,a.default)(s,!1),this.fragmentSrc=(0,l.default)(s),this.firstRun=!1}if(this.uniforms.strength=1/n.size.height*(n.size.height/r.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,r,n,i);else{for(var u=e.getRenderTarget(!0),h=r,d=u,f=0;f<this.passes-1;f++){e.applyFilter(this,h,d,!0);var p=d;d=h,h=p}e.applyFilter(this,h,n,i),e.returnRenderTarget(u)}},n(e,[{key:"blur",get:function t(){return this.strength},set:function t(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function t(){return this._quality},set:function t(e){this._quality=e,this.passes=e}}]),e}(o.Filter);r.default=y},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],147:[function(t,e,r){"use strict";r.__esModule=!0,r.default=o;var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function o(t){for(var e=n[t],r=e.length,o=i,s="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",u=void 0,l=0;l<t;l++){var h=a.replace("%index%",l);u=l,l>=r&&(u=t-l-1),s+=h=h.replace("%value%",e[u]),s+="\n"}return o=(o=o.replace("%blur%",s)).replace("%size%",t)}},{}],148:[function(t,e,r){"use strict";r.__esModule=!0,r.default=i;var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n");function i(t,e){var r=Math.ceil(t/2),i=n,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a);o+=u=u.replace("%sampleIndex%",a-(r-1)+".0"),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)}},{}],149:[function(t,e,r){"use strict";function n(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}r.__esModule=!0,r.default=n},{}],150:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=a(t("../../core")),s=t("path");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){u(this,e);var r=l(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return h(e,t),e.prototype._loadMatrix=function t(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n},e.prototype._multiply=function t(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e},e.prototype._colorMatrix=function t(e){var r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},e.prototype.brightness=function t(e,r){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.greyscale=function t(e,r){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.blackAndWhite=function t(e){var r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.hue=function t(e,r){e=(e||0)/180*Math.PI;var n=Math.cos(e),i=Math.sin(e),o,s=1/3,a=(0,Math.sqrt)(s),u,l,h,c,d,f,p,v,g,y=[n+(1-n)*s,s*(1-n)-a*i,s*(1-n)+a*i,0,0,s*(1-n)+a*i,n+s*(1-n),s*(1-n)-a*i,0,0,s*(1-n)-a*i,s*(1-n)+a*i,n+s*(1-n),0,0,0,0,0,1,0];this._loadMatrix(y,r)},e.prototype.contrast=function t(e,r){var n=(e||0)+1,i=-.5*(n-1),o=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(o,r)},e.prototype.saturate=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments[1],n=2*e/3+1,i=-.5*(n-1),o=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(o,r)},e.prototype.desaturate=function t(){this.saturate(-1)},e.prototype.negative=function t(e){var r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.sepia=function t(e){var r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.technicolor=function t(e){var r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.polaroid=function t(e){var r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.toBGR=function t(e){var r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.kodachrome=function t(e){var r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.browni=function t(e){var r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.vintage=function t(e){var r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.colorTone=function t(e,r,n,i,o){var s=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,u=(255&n)/255,l=((i=i||3375104)>>16&255)/255,h=(i>>8&255)/255,c=(255&i)/255,d=[.3,.59,.11,0,0,s,a,u,e=e||.2,0,l,h,c,r=r||.15,0,s-l,a-h,u-c,0,0];this._loadMatrix(d,o)},e.prototype.night=function t(e,r){var n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.predator=function t(e,r){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.lsd=function t(e){var r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.reset=function t(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)},n(e,[{key:"matrix",get:function t(){return this.uniforms.m},set:function t(e){this.uniforms.m=e}},{key:"alpha",get:function t(){return this.uniforms.uAlpha},set:function t(e){this.uniforms.uAlpha=e}}]),e}(o.Filter);r.default=c,c.prototype.grayscale=c.prototype.greyscale},{"../../core":65,path:8}],151:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=a(t("../../core")),s=t("path");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(r,n){u(this,e);var i=new o.Matrix;r.renderable=!1;var s=l(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=r,s.maskMatrix=i,s.uniforms.mapSampler=r._texture,s.uniforms.filterMatrix=i,s.uniforms.scale={x:1,y:1},null==n&&(n=20),s.scale=new o.Point(n,n),s}return h(e,t),e.prototype.apply=function t(e,r,n){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,e.applyFilter(this,r,n)},n(e,[{key:"map",get:function t(){return this.uniforms.mapSampler},set:function t(e){this.uniforms.mapSampler=e}}]),e}(o.Filter);r.default=c},{"../../core":65,path:8}],152:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=s(t("../../core")),o=t("path");function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return a(this,e),u(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return l(e,t),e}(i.Filter);r.default=h},{"../../core":65,path:8}],153:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./fxaa/FXAAFilter");Object.defineProperty(r,"FXAAFilter",{enumerable:!0,get:function t(){return c(n).default}});var i=t("./noise/NoiseFilter");Object.defineProperty(r,"NoiseFilter",{enumerable:!0,get:function t(){return c(i).default}});var o=t("./displacement/DisplacementFilter");Object.defineProperty(r,"DisplacementFilter",{enumerable:!0,get:function t(){return c(o).default}});var s=t("./blur/BlurFilter");Object.defineProperty(r,"BlurFilter",{enumerable:!0,get:function t(){return c(s).default}});var a=t("./blur/BlurXFilter");Object.defineProperty(r,"BlurXFilter",{enumerable:!0,get:function t(){return c(a).default}});var u=t("./blur/BlurYFilter");Object.defineProperty(r,"BlurYFilter",{enumerable:!0,get:function t(){return c(u).default}});var l=t("./colormatrix/ColorMatrixFilter");Object.defineProperty(r,"ColorMatrixFilter",{enumerable:!0,get:function t(){return c(l).default}});var h=t("./alpha/AlphaFilter");function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"AlphaFilter",{enumerable:!0,get:function t(){return c(h).default}})},{"./alpha/AlphaFilter":143,"./blur/BlurFilter":144,"./blur/BlurXFilter":145,"./blur/BlurYFilter":146,"./colormatrix/ColorMatrixFilter":150,"./displacement/DisplacementFilter":151,"./fxaa/FXAAFilter":152,"./noise/NoiseFilter":154}],154:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=a(t("../../core")),s=t("path");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();u(this,e);var i=l(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=r,i.seed=n,i}return h(e,t),n(e,[{key:"noise",get:function t(){return this.uniforms.uNoise},set:function t(e){this.uniforms.uNoise=e}},{key:"seed",get:function t(){return this.uniforms.uSeed},set:function t(e){this.uniforms.uSeed=e}}]),e}(o.Filter);r.default=c},{"../../core":65,path:8}],155:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=s(t("../core"));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){a(this,t),this.global=new o.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function t(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function t(e){e.isPrimary&&(this.isPrimary=!0),this.button=e.button,this.buttons=Number.isInteger(e.buttons)?e.buttons:e.which,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY,this.pointerType=e.pointerType,this.pressure=e.pressure,this.rotationAngle=e.rotationAngle,this.twist=e.twist||0,this.tangentialPressure=e.tangentialPressure||0},t.prototype.reset=function t(){this.isPrimary=!1},n(t,[{key:"pointerId",get:function t(){return this.identifier}}]),t}();r.default=u},{"../core":65}],156:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(){n(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function t(){this.stopped=!0},t.prototype.reset=function t(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();r.default=i},{}],157:[function(t,e,r){"use strict";r.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i,o=y(t("../core")),s,a=g(t("./InteractionData")),u,l=g(t("./InteractionEvent")),h,c=g(t("./InteractionTrackingData")),d,f=g(t("eventemitter3")),p,v=g(t("./interactiveTarget"));function g(t){return t&&t.__esModule?t:{default:t}}function y(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}o.utils.mixins.delayMixin(o.DisplayObject.prototype,v.default);var x=1,T={target:null,data:{global:null}},w=function(t){function e(r,n){_(this,e);var i=m(this,t.call(this));return n=n||{},i.renderer=r,i.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new a.default,i.mouse.identifier=x,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[x]=i.mouse,i.interactionDataPool=[],i.eventData=new l.default,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i._tempPoint=new o.Point,i.resolution=1,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return b(e,t),e.prototype.hitTest=function t(e,r){return T.target=null,T.data.global=e,r||(r=this.renderer._lastObjectRendered),this.processInteractive(T,r,null,!0),T.target},e.prototype.setTargetElement=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=e,this.resolution=r,this.addEvents()},e.prototype.addEvents=function t(){this.interactionDOMElement&&(o.ticker.shared.add(this.update,this,o.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function t(){this.interactionDOMElement&&(o.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function t(e){if(this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var r in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&"touch"!==n.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function t(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var r=this.cursorStyles[e];if(r)switch(void 0===r?"undefined":n(r)){case"string":this.interactionDOMElement.style.cursor=r;break;case"function":r(e);break;case"object":Object.assign(this.interactionDOMElement.style,r)}else"string"!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},e.prototype.dispatchEvent=function t(e,r,n){n.stopped||(n.currentTarget=e,n.type=r,e.emit(r,n),e[r]&&e[r](n))},e.prototype.mapPositionToPoint=function t(e,r,n){var i=void 0;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var o=navigator.isCocoonJS?this.resolution:1/this.resolution;e.x=(r-i.left)*(this.interactionDOMElement.width/i.width)*o,e.y=(n-i.top)*(this.interactionDOMElement.height/i.height)*o},e.prototype.processInteractive=function t(e,r,n,i,o){if(!r||!r.visible)return!1;var s=e.data.global,a=!1,u=o=r.interactive||o,l=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(s,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(i=!1,l=!1)),u=!1):r._mask&&i&&(r._mask.containsPoint(s)||(i=!1,l=!1)),l&&r.interactiveChildren&&r.children)for(var h=r.children,c=h.length-1;c>=0;c--){var d=h[c],f=this.processInteractive(e,d,n,i,u);if(f){if(!d.parent)continue;u=!1,f&&(e.target&&(i=!1),a=!0)}}return o&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(s)&&(a=!0),r.interactive&&(a&&!e.target&&(e.target=r),n&&n(e,r,!!a))),a},e.prototype.onPointerDown=function t(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&e.preventDefault();for(var n=r.length,i=0;i<n;i++){var o=r[i],s=this.getInteractionDataForPointerId(o),a=this.configureInteractionEventForDOMEvent(this.eventData,o,s);if(a.data.originalEvent=e,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===o.pointerType)this.emit("touchstart",a);else if("mouse"===o.pointerType||"pen"===o.pointerType){var u=2===o.button;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function t(e,r,n){var i=e.data,o=e.data.identifier;if(n)if(r.trackedPointers[o]||(r.trackedPointers[o]=new c.default(o)),this.dispatchEvent(r,"pointerdown",e),"touch"===i.pointerType)this.dispatchEvent(r,"touchstart",e);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;s?r.trackedPointers[o].rightDown=!0:r.trackedPointers[o].leftDown=!0,this.dispatchEvent(r,s?"rightdown":"mousedown",e)}},e.prototype.onPointerComplete=function t(e,r,n){for(var i=this.normalizeToPointerData(e),o=i.length,s=e.target!==this.interactionDOMElement?"outside":"",a=0;a<o;a++){var u=i[a],l=this.getInteractionDataForPointerId(u),h=this.configureInteractionEventForDOMEvent(this.eventData,u,l);if(h.data.originalEvent=e,this.processInteractive(h,this.renderer._lastObjectRendered,n,r||!s),this.emit(r?"pointercancel":"pointerup"+s,h),"mouse"===u.pointerType||"pen"===u.pointerType){var c=2===u.button;this.emit(c?"rightup"+s:"mouseup"+s,h)}else"touch"===u.pointerType&&(this.emit(r?"touchcancel":"touchend"+s,h),this.releaseInteractionDataForPointerId(u.pointerId,l))}},e.prototype.onPointerCancel=function t(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function t(e,r){var n=e.data,i=e.data.identifier;void 0!==r.trackedPointers[i]&&(delete r.trackedPointers[i],this.dispatchEvent(r,"pointercancel",e),"touch"===n.pointerType&&this.dispatchEvent(r,"touchcancel",e))},e.prototype.onPointerUp=function t(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},e.prototype.processPointerUp=function t(e,r,n){var i=e.data,o=e.data.identifier,s=r.trackedPointers[o],a="touch"===i.pointerType,u="mouse"===i.pointerType||"pen"===i.pointerType,l=!1;if(u){var h=2===i.button,d=c.default.FLAGS,f=h?d.RIGHT_DOWN:d.LEFT_DOWN,p=void 0!==s&&s.flags&f;n?(this.dispatchEvent(r,h?"rightup":"mouseup",e),p&&(this.dispatchEvent(r,h?"rightclick":"click",e),l=!0)):p&&this.dispatchEvent(r,h?"rightupoutside":"mouseupoutside",e),s&&(h?s.rightDown=!1:s.leftDown=!1)}n?(this.dispatchEvent(r,"pointerup",e),a&&this.dispatchEvent(r,"touchend",e),s&&(u&&!l||this.dispatchEvent(r,"pointertap",e),a&&(this.dispatchEvent(r,"tap",e),s.over=!1))):s&&(this.dispatchEvent(r,"pointerupoutside",e),a&&this.dispatchEvent(r,"touchendoutside",e)),s&&s.none&&delete r.trackedPointers[o]},e.prototype.onPointerMove=function t(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);"mouse"!==r[0].pointerType&&"pen"!==r[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=r.length,i=0;i<n;i++){var o=r[i],s=this.getInteractionDataForPointerId(o),a=this.configureInteractionEventForDOMEvent(this.eventData,o,s);a.data.originalEvent=e;var u="touch"!==o.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,u),this.emit("pointermove",a),"touch"===o.pointerType&&this.emit("touchmove",a),"mouse"!==o.pointerType&&"pen"!==o.pointerType||this.emit("mousemove",a)}"mouse"===r[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function t(e,r,n){var i=e.data,o="touch"===i.pointerType,s="mouse"===i.pointerType||"pen"===i.pointerType;s&&this.processPointerOverOut(e,r,n),this.moveWhenInside&&!n||(this.dispatchEvent(r,"pointermove",e),o&&this.dispatchEvent(r,"touchmove",e),s&&this.dispatchEvent(r,"mousemove",e))},e.prototype.onPointerOut=function t(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r,n=this.normalizeToPointerData(e)[0];"mouse"===n.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,i);o.data.originalEvent=n,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),"mouse"===n.pointerType||"pen"===n.pointerType?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function t(e,r,n){var i=e.data,o=e.data.identifier,s="mouse"===i.pointerType||"pen"===i.pointerType,a=r.trackedPointers[o];n&&!a&&(a=r.trackedPointers[o]=new c.default(o)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(r,"pointerover",e),s&&this.dispatchEvent(r,"mouseover",e)),s&&null===this.cursor&&(this.cursor=r.cursor)):a.over&&(a.over=!1,this.dispatchEvent(r,"pointerout",this.eventData),s&&this.dispatchEvent(r,"mouseout",e),a.none&&delete r.trackedPointers[o]))},e.prototype.onPointerOver=function t(e){var r,n=this.normalizeToPointerData(e)[0],i=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,i);o.data.originalEvent=n,"mouse"===n.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mouseover",o)},e.prototype.getInteractionDataForPointerId=function t(e){var r=e.pointerId,n=void 0;return r===x||"mouse"===e.pointerType?n=this.mouse:this.activeInteractionData[r]?n=this.activeInteractionData[r]:((n=this.interactionDataPool.pop()||new a.default).identifier=r,this.activeInteractionData[r]=n),n.copyEvent(e),n},e.prototype.releaseInteractionDataForPointerId=function t(e){var r=this.activeInteractionData[e];r&&(delete this.activeInteractionData[e],r.reset(),this.interactionDataPool.push(r))},e.prototype.configureInteractionEventForDOMEvent=function t(e,r,n){return e.data=n,this.mapPositionToPoint(n.global,r.clientX,r.clientY),navigator.isCocoonJS&&"touch"===r.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),"touch"===r.pointerType&&(r.globalX=n.global.x,r.globalY=n.global.y),n.originalEvent=r,e.reset(),e},e.prototype.normalizeToPointerData=function t(e){var r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,i=e.changedTouches.length;n<i;n++){var o=e.changedTouches[n];void 0===o.button&&(o.button=e.touches.length?1:0),void 0===o.buttons&&(o.buttons=e.touches.length?1:0),void 0===o.isPrimary&&(o.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===o.width&&(o.width=o.radiusX||1),void 0===o.height&&(o.height=o.radiusY||1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="touch"),void 0===o.pointerId&&(o.pointerId=o.identifier||0),void 0===o.pressure&&(o.pressure=o.force||.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),void 0===o.layerX&&(o.layerX=o.offsetX=o.clientX),void 0===o.layerY&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,r.push(o)}else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent?r.push(e):(void 0===e.isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=x),void 0===e.pressure&&(e.pressure=.5),void 0===e.twist&&(e.twist=0),void 0===e.tangentialPressure&&(e.tangentialPressure=0),e.isNormalized=!0,r.push(e));return r},e.prototype.destroy=function t(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(f.default);r.default=w,o.WebGLRenderer.registerPlugin("interaction",w),o.CanvasRenderer.registerPlugin("interaction",w)},{"../core":65,"./InteractionData":155,"./InteractionEvent":156,"./InteractionTrackingData":158,"./interactiveTarget":160,eventemitter3:3}],158:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e){i(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function t(e,r){this._flags=r?this._flags|e:this._flags&~e},n(t,[{key:"pointerId",get:function t(){return this._pointerId}},{key:"flags",get:function t(){return this._flags},set:function t(e){this._flags=e}},{key:"none",get:function t(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function t(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function t(e){this._doSet(this.constructor.FLAGS.OVER,e)}},{key:"rightDown",get:function t(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function t(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)}},{key:"leftDown",get:function t(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function t(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)}}]),t}();r.default=o,o.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],159:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./InteractionData");Object.defineProperty(r,"InteractionData",{enumerable:!0,get:function t(){return u(n).default}});var i=t("./InteractionManager");Object.defineProperty(r,"InteractionManager",{enumerable:!0,get:function t(){return u(i).default}});var o=t("./interactiveTarget");Object.defineProperty(r,"interactiveTarget",{enumerable:!0,get:function t(){return u(o).default}});var s=t("./InteractionTrackingData");Object.defineProperty(r,"InteractionTrackingData",{enumerable:!0,get:function t(){return u(s).default}});var a=t("./InteractionEvent");function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"InteractionEvent",{enumerable:!0,get:function t(){return u(a).default}})},{"./InteractionData":155,"./InteractionEvent":156,"./InteractionManager":157,"./InteractionTrackingData":158,"./interactiveTarget":160}],160:[function(t,e,r){"use strict";r.__esModule=!0,r.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],161:[function(t,e,r){"use strict";r.__esModule=!0,r.parse=u,r.default=function(){return function t(e,r){if(e.data&&e.type===o.Resource.TYPE.XML)if(0!==e.data.getElementsByTagName("page").length&&0!==e.data.getElementsByTagName("info").length&&null!==e.data.getElementsByTagName("info")[0].getAttribute("face")){var n=e.isDataUrl?"":i.dirname(e.url);e.isDataUrl&&("."===n&&(n=""),this.baseUrl&&n&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/")),(n=n.replace(this.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/");for(var s=e.data.getElementsByTagName("page"),a={},l=function t(n){a[n.metadata.pageFile]=n.texture,Object.keys(a).length===s.length&&(u(e,a),r())},h=0;h<s.length;++h){var c=s[h].getAttribute("file"),d=n+c,f=!1;for(var p in this.resources){var v=this.resources[p];if(v.url===d){v.metadata.pageFile=c,v.texture?l(v):v.onAfterMiddleware.add(l),f=!0;break}}if(!f){var g={crossOrigin:e.crossOrigin,loadType:o.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},e.metadata.imageMetadata),parentResource:e};this.add(d,g,l)}}}else r();else r()}};var n,i=a(t("path")),o=t("resource-loader"),s=t("../extras");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){t.bitmapFont=s.BitmapText.registerFont(t.data,e)}},{"../extras":141,path:8,"resource-loader":36}],162:[function(t,e,r){"use strict";r.__esModule=!0,r.shared=r.Resource=r.textureParser=r.getResourcePath=r.spritesheetParser=r.parseBitmapFontData=r.bitmapFontParser=r.Loader=void 0;var n=t("./bitmapFontParser");Object.defineProperty(r,"bitmapFontParser",{enumerable:!0,get:function t(){return c(n).default}}),Object.defineProperty(r,"parseBitmapFontData",{enumerable:!0,get:function t(){return n.parse}});var i=t("./spritesheetParser");Object.defineProperty(r,"spritesheetParser",{enumerable:!0,get:function t(){return c(i).default}}),Object.defineProperty(r,"getResourcePath",{enumerable:!0,get:function t(){return i.getResourcePath}});var o=t("./textureParser");Object.defineProperty(r,"textureParser",{enumerable:!0,get:function t(){return c(o).default}});var s=t("resource-loader");Object.defineProperty(r,"Resource",{enumerable:!0,get:function t(){return s.Resource}});var a,u=c(t("../core/Application")),l,h=c(t("./loader"));function c(t){return t&&t.__esModule?t:{default:t}}r.Loader=h.default;var d=new h.default;d.destroy=function(){},r.shared=d;var f=u.default.prototype;f._loader=null,Object.defineProperty(f,"loader",{get:function t(){if(!this._loader){var e=this._options.sharedLoader;this._loader=e?d:new h.default}return this._loader}}),f._parentDestroy=f.destroy,f.destroy=function t(e,r){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(e,r)}},{"../core/Application":43,"./bitmapFontParser":161,"./loader":163,"./spritesheetParser":164,"./textureParser":165,"resource-loader":36}],163:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=p(t("resource-loader")),o=t("resource-loader/lib/middlewares/parsing/blob"),s,a=p(t("eventemitter3")),u,l=p(t("./textureParser")),h,c=p(t("./spritesheetParser")),d,f=p(t("./bitmapFontParser"));function p(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _=function(t){function e(r,n){v(this,e);var i=g(this,t.call(this,r,n));a.default.call(i);for(var o=0;o<e._pixiMiddleware.length;++o)i.use(e._pixiMiddleware[o]());return i.onStart.add((function(t){return i.emit("start",t)})),i.onProgress.add((function(t,e){return i.emit("progress",t,e)})),i.onError.add((function(t,e,r){return i.emit("error",t,e,r)})),i.onLoad.add((function(t,e){return i.emit("load",t,e)})),i.onComplete.add((function(t,e){return i.emit("complete",t,e)})),i}return y(e,t),e.addPixiMiddleware=function t(r){e._pixiMiddleware.push(r)},e.prototype.destroy=function t(){this.removeAllListeners(),this.reset()},e}(i.default);for(var m in r.default=_,a.default.prototype)_.prototype[m]=a.default.prototype[m];_._pixiMiddleware=[o.blobMiddlewareFactory,l.default,c.default,f.default];var b=i.default.Resource;b.setExtensionXhrType("fnt",b.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":161,"./spritesheetParser":164,"./textureParser":165,eventemitter3:3,"resource-loader":36,"resource-loader/lib/middlewares/parsing/blob":37}],164:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(){return function t(e,r){var i=e.name+"_image";if(e.data&&e.type===n.Resource.TYPE.JSON&&e.data.frames&&!this.resources[i]){var o={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},a=u(e,this.baseUrl);this.add(i,a,o,(function t(n){if(n.error)r(n.error);else{var i=new s.Spritesheet(n.texture.baseTexture,e.data,e.url);i.parse((function(){e.spritesheet=i,e.textures=i.textures,r()}))}}))}else r()}},r.getResourcePath=u;var n=t("resource-loader"),i,o=a(t("url")),s=t("../core");function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){return t.isDataUrl?t.data.meta.image:o.default.resolve(t.url.replace(e,""),t.data.meta.image)}},{"../core":65,"resource-loader":36,url:38}],165:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(){return function t(e,r){e.data&&e.type===n.Resource.TYPE.IMAGE&&(e.texture=o.default.fromLoader(e.data,e.url,e.name)),r()}};var n=t("resource-loader"),i,o=s(t("../core/textures/Texture"));function s(t){return t&&t.__esModule?t:{default:t}}},{"../core/textures/Texture":115,"resource-loader":36}],166:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=l(t("../core")),s,a=u(t("../core/textures/Texture"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=new o.Point,p=new o.Polygon,v=function(t){function e(r,n,i,s,u){h(this,e);var l=c(this,t.call(this));return l._texture=r||a.default.EMPTY,l.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),l.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),l.indices=s||new Uint16Array([0,1,3,2]),l.dirty=0,l.indexDirty=0,l.vertexDirty=0,l.autoUpdate=!0,l.blendMode=o.BLEND_MODES.NORMAL,l.canvasPadding=o.settings.MESH_CANVAS_PADDING,l.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,l.shader=null,l.tintRgb=new Float32Array([1,1,1]),l._glDatas={},l._uvTransform=new o.TextureMatrix(l._texture),l.uploadUvTransform=!1,l.pluginName="mesh",l}return d(e,t),e.prototype._renderWebGL=function t(e){this.refresh(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function t(e){this.refresh(),e.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function t(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function t(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function t(e){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(e)&&this._refresh()},e.prototype._refresh=function t(){},e.prototype._calculateBounds=function t(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function t(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,f);for(var n=this.vertices,i=p.points,o=this.indices,s=this.indices.length,a=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,u=0;u+2<s;u+=a){var l=2*o[u],h=2*o[u+1],c=2*o[u+2];if(i[0]=n[l],i[1]=n[l+1],i[2]=n[h],i[3]=n[h+1],i[4]=n[c],i[5]=n[c+1],p.contains(f.x,f.y))return!0}return!1},e.prototype.destroy=function e(r){for(var n in this._glDatas){var i=this._glDatas[n];i.destroy?i.destroy():(i.vertexBuffer&&(i.vertexBuffer.destroy(),i.vertexBuffer=null),i.indexBuffer&&(i.indexBuffer.destroy(),i.indexBuffer=null),i.uvBuffer&&(i.uvBuffer.destroy(),i.uvBuffer=null),i.vao&&(i.vao.destroy(),i.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,r)},n(e,[{key:"texture",get:function t(){return this._texture},set:function t(e){this._texture!==e&&(this._texture=e,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function t(){return o.utils.rgb2hex(this.tintRgb)},set:function t(e){this.tintRgb=o.utils.hex2rgb(e,this.tintRgb)}}]),e}(o.Container);r.default=v,v.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":65,"../core/textures/Texture":115}],167:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=u(t("./Plane")),s,a=u(t("../core/sprites/canvas/CanvasTinter"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=10,f=function(t){function e(r,n,i,o,s){l(this,e);var a=h(this,t.call(this,r,4,4));return a._origWidth=r.orig.width,a._origHeight=r.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=void 0!==n?n:d,a._rightWidth=void 0!==o?o:d,a._topHeight=void 0!==i?i:d,a._bottomHeight=void 0!==s?s:d,a._cachedTint=16777215,a._tintedTexture=null,a._canvasUvs=null,a.refresh(!0),a}return c(e,t),e.prototype.updateHorizontalVertices=function t(){var e=this.vertices,r=this._topHeight+this._bottomHeight,n=this._height>r?1:this._height/r;e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height},e.prototype.updateVerticalVertices=function t(){var e=this.vertices,r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r;e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width},e.prototype._renderCanvas=function t(e){var r=e.context,n=this.worldTransform,i=e.resolution,o=16777215!==this.tint,s=this._texture;o&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=a.default.getTintedTexture(this,this.tint));var u=o?this._tintedTexture:s.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var l=this.vertices,h=this._canvasUvs,c=o?0:s.frame.x,d=o?0:s.frame.y,f=c+s.frame.width,p=d+s.frame.height;h[0]=c,h[1]=c+this._leftWidth,h[2]=f-this._rightWidth,h[3]=f,h[4]=d,h[5]=d+this._topHeight,h[6]=p-this._bottomHeight,h[7]=p;for(var v=0;v<8;v++)h[v]*=s.baseTexture.resolution;r.globalAlpha=this.worldAlpha,e.setBlendMode(this.blendMode),e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i);for(var g=0;g<3;g++)for(var y=0;y<3;y++){var _=2*y+8*g,m=Math.max(1,h[y+1]-h[y]),b=Math.max(1,h[g+5]-h[g+4]),x=Math.max(1,l[_+10]-l[_]),T=Math.max(1,l[_+11]-l[_+1]);r.drawImage(u,h[y],h[g+4],m,b,l[_],l[_+1],x,T)}},e.prototype._refresh=function e(){t.prototype._refresh.call(this);var r=this.uvs,n=this._texture;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var i=1/this._origWidth,o=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=i*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-i*this._rightWidth,r[9]=r[11]=r[13]=r[15]=o*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},n(e,[{key:"width",get:function t(){return this._width},set:function t(e){this._width=e,this._refresh()}},{key:"height",get:function t(){return this._height},set:function t(e){this._height=e,this._refresh()}},{key:"leftWidth",get:function t(){return this._leftWidth},set:function t(e){this._leftWidth=e,this._refresh()}},{key:"rightWidth",get:function t(){return this._rightWidth},set:function t(e){this._rightWidth=e,this._refresh()}},{key:"topHeight",get:function t(){return this._topHeight},set:function t(e){this._topHeight=e,this._refresh()}},{key:"bottomHeight",get:function t(){return this._bottomHeight},set:function t(e){this._bottomHeight=e,this._refresh()}}]),e}(o.default);r.default=f},{"../core/sprites/canvas/CanvasTinter":104,"./Plane":168}],168:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=o(t("./Mesh"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(t){function e(r,n,o){s(this,e);var u=a(this,t.call(this,r));return u._ready=!0,u.verticesX=n||10,u.verticesY=o||10,u.drawMode=i.default.DRAW_MODES.TRIANGLES,u.refresh(),u}return u(e,t),e.prototype._refresh=function t(){for(var e=this._texture,r=this.verticesX*this.verticesY,n=[],i=[],o=[],s=[],a=this.verticesX-1,u=this.verticesY-1,l=e.width/a,h=e.height/u,c=0;c<r;c++){var d=c%this.verticesX,f=c/this.verticesX|0;n.push(d*l,f*h),o.push(d/a,f/u)}for(var p=a*u,v=0;v<p;v++){var g=v%a,y=v/a|0,_=y*this.verticesX+g,m=y*this.verticesX+g+1,b=(y+1)*this.verticesX+g,x=(y+1)*this.verticesX+g+1;s.push(_,m,b),s.push(m,x,b)}this.vertices=new Float32Array(n),this.uvs=new Float32Array(o),this.colors=new Float32Array(i),this.indices=new Uint16Array(s),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function t(){i.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(i.default);r.default=l},{"./Mesh":166}],169:[function(t,e,r){"use strict";var n,i;function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var l=function(t){function e(r,n){s(this,e);var i=a(this,t.call(this,r));return i.points=n,i.vertices=new Float32Array(4*n.length),i.uvs=new Float32Array(4*n.length),i.colors=new Float32Array(2*n.length),i.indices=new Uint16Array(2*n.length),i.autoUpdate=!0,i.refresh(),i}return u(e,t),e.prototype._refresh=function t(){var e=this.points;if(!(e.length<1)&&this._texture._uvs){this.vertices.length/4!==e.length&&(this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length));var r=this.uvs,n=this.indices,i=this.colors;r[0]=0,r[1]=0,r[2]=0,r[3]=1,i[0]=1,i[1]=1,n[0]=0,n[1]=1;for(var o=e.length,s=1;s<o;s++){var a=4*s,u=s/(o-1);r[a]=u,r[a+1]=0,r[a+2]=u,r[a+3]=1,i[a=2*s]=1,i[a+1]=1,n[a=2*s]=a,n[a+1]=a+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function t(){var e=this.points;if(!(e.length<1))for(var r=e[0],n=void 0,i=0,o=0,s=this.vertices,a=e.length,u=0;u<a;u++){var l=e[u],h=4*u;o=-((n=u<e.length-1?e[u+1]:l).x-r.x),i=n.y-r.y;var c=10*(1-u/(a-1));c>1&&(c=1);var d=Math.sqrt(i*i+o*o),f=this._texture.height/2;i/=d,o/=d,i*=f,o*=f,s[h]=l.x+i,s[h+1]=l.y+o,s[h+2]=l.x-i,s[h+3]=l.y-o,r=l}},e.prototype.updateTransform=function t(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(o(t("./Mesh")).default);r.default=l},{"./Mesh":166}],170:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=u(t("../../core")),o,s=a(t("../Mesh"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=function(){function t(e){l(this,t),this.renderer=e}return t.prototype.render=function t(e){var r=this.renderer,n=r.context,i=e.worldTransform,o=r.resolution;r.roundPixels?n.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o|0,i.ty*o|0):n.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),r.context.globalAlpha=e.worldAlpha,r.setBlendMode(e.blendMode),e.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(e):this._renderTriangles(e)},t.prototype._renderTriangleMesh=function t(e){for(var r=e.vertices.length/2,n=0;n<r-2;n++){var i=2*n;this._renderDrawTriangle(e,i,i+2,i+4)}},t.prototype._renderTriangles=function t(e){for(var r=e.indices,n=r.length,i=0;i<n;i+=3){var o=2*r[i],s=2*r[i+1],a=2*r[i+2];this._renderDrawTriangle(e,o,s,a)}},t.prototype._renderDrawTriangle=function t(e,r,n,i){var o=this.renderer.context,s=e.uvs,a=e.vertices,u=e._texture;if(u.valid){var l=u.baseTexture,h=l.source,c=l.width,d=l.height,f=void 0,p=void 0,v=void 0,g=void 0,y=void 0,_=void 0;if(e.uploadUvTransform){var m=e._uvTransform.mapCoord;f=(s[r]*m.a+s[r+1]*m.c+m.tx)*l.width,p=(s[n]*m.a+s[n+1]*m.c+m.tx)*l.width,v=(s[i]*m.a+s[i+1]*m.c+m.tx)*l.width,g=(s[r]*m.b+s[r+1]*m.d+m.ty)*l.height,y=(s[n]*m.b+s[n+1]*m.d+m.ty)*l.height,_=(s[i]*m.b+s[i+1]*m.d+m.ty)*l.height}else f=s[r]*l.width,p=s[n]*l.width,v=s[i]*l.width,g=s[r+1]*l.height,y=s[n+1]*l.height,_=s[i+1]*l.height;var b=a[r],x=a[n],T=a[i],w=a[r+1],E=a[n+1],S=a[i+1],O=e.canvasPadding/this.renderer.resolution;if(O>0){var M=O/Math.abs(e.worldTransform.a),P=O/Math.abs(e.worldTransform.d),A=(b+x+T)/3,C=(w+E+S)/3,R=b-A,I=w-C,D=Math.sqrt(R*R+I*I);b=A+R/D*(D+M),w=C+I/D*(D+P),I=E-C,x=A+(R=x-A)/(D=Math.sqrt(R*R+I*I))*(D+M),E=C+I/D*(D+P),I=S-C,T=A+(R=T-A)/(D=Math.sqrt(R*R+I*I))*(D+M),S=C+I/D*(D+P)}o.save(),o.beginPath(),o.moveTo(b,w),o.lineTo(x,E),o.lineTo(T,S),o.closePath(),o.clip();var L=f*y+g*v+p*_-y*v-g*p-f*_,j=b*y+g*T+x*_-y*T-g*x-b*_,k=f*x+b*v+p*T-x*v-b*p-f*T,N=f*y*T+g*x*v+b*p*_-b*y*v-g*p*T-f*x*_,B=w*y+g*S+E*_-y*S-g*E-w*_,F=f*E+w*v+p*S-E*v-w*p-f*S,U=f*y*S+g*E*v+w*p*_-w*y*v-g*p*S-f*E*_;o.transform(j/L,B/L,k/L,F/L,N/L,U/L),o.drawImage(h,0,0,c*l.resolution,d*l.resolution,0,0,c,d),o.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function t(e){var r=this.renderer.context,n=e.vertices,i=n.length/2;r.beginPath();for(var o=1;o<i-2;++o){var s=2*o,a=n[s],u=n[s+1],l=n[s+2],h=n[s+3],c=n[s+4],d=n[s+5];r.moveTo(a,u),r.lineTo(l,h),r.lineTo(c,d)}r.fillStyle="#FF0000",r.fill(),r.closePath()},t.prototype.destroy=function t(){this.renderer=null},t}();r.default=h,i.CanvasRenderer.registerPlugin("mesh",h)},{"../../core":65,"../Mesh":166}],171:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./Mesh");Object.defineProperty(r,"Mesh",{enumerable:!0,get:function t(){return l(n).default}});var i=t("./webgl/MeshRenderer");Object.defineProperty(r,"MeshRenderer",{enumerable:!0,get:function t(){return l(i).default}});var o=t("./canvas/CanvasMeshRenderer");Object.defineProperty(r,"CanvasMeshRenderer",{enumerable:!0,get:function t(){return l(o).default}});var s=t("./Plane");Object.defineProperty(r,"Plane",{enumerable:!0,get:function t(){return l(s).default}});var a=t("./NineSlicePlane");Object.defineProperty(r,"NineSlicePlane",{enumerable:!0,get:function t(){return l(a).default}});var u=t("./Rope");function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"Rope",{enumerable:!0,get:function t(){return l(u).default}})},{"./Mesh":166,"./NineSlicePlane":167,"./Plane":168,"./Rope":169,"./canvas/CanvasMeshRenderer":170,"./webgl/MeshRenderer":172}],172:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=c(t("../../core")),o,s=h(t("pixi-gl-core")),a,u=h(t("../Mesh")),l=t("path");function h(t){return t&&t.__esModule?t:{default:t}}function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=i.Matrix.IDENTITY,g=function(t){function e(r){d(this,e);var n=f(this,t.call(this,r));return n.shader=null,n}return p(e,t),e.prototype.onContextChange=function t(){var e=this.renderer.gl;this.shader=new i.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function t(e){var r=this.renderer,n=r.gl,o=e._texture;if(o.valid){var a=e._glDatas[r.CONTEXT_UID];a||(r.bindVao(null),(a={shader:this.shader,vertexBuffer:s.default.GLBuffer.createVertexBuffer(n,e.vertices,n.STREAM_DRAW),uvBuffer:s.default.GLBuffer.createVertexBuffer(n,e.uvs,n.STREAM_DRAW),indexBuffer:s.default.GLBuffer.createIndexBuffer(n,e.indices,n.STATIC_DRAW),vao:null,dirty:e.dirty,indexDirty:e.indexDirty,vertexDirty:e.vertexDirty}).vao=new s.default.VertexArrayObject(n).addIndex(a.indexBuffer).addAttribute(a.vertexBuffer,a.shader.attributes.aVertexPosition,n.FLOAT,!1,8,0).addAttribute(a.uvBuffer,a.shader.attributes.aTextureCoord,n.FLOAT,!1,8,0),e._glDatas[r.CONTEXT_UID]=a),r.bindVao(a.vao),e.dirty!==a.dirty&&(a.dirty=e.dirty,a.uvBuffer.upload(e.uvs)),e.indexDirty!==a.indexDirty&&(a.indexDirty=e.indexDirty,a.indexBuffer.upload(e.indices)),e.vertexDirty!==a.vertexDirty&&(a.vertexDirty=e.vertexDirty,a.vertexBuffer.upload(e.vertices)),r.bindShader(a.shader),a.shader.uniforms.uSampler=r.bindTexture(o),r.state.setBlendMode(i.utils.correctBlendMode(e.blendMode,o.baseTexture.premultipliedAlpha)),a.shader.uniforms.uTransform&&(e.uploadUvTransform?a.shader.uniforms.uTransform=e._uvTransform.mapCoord.toArray(!0):a.shader.uniforms.uTransform=v.toArray(!0)),a.shader.uniforms.translationMatrix=e.worldTransform.toArray(!0),a.shader.uniforms.uColor=i.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,a.shader.uniforms.uColor,o.baseTexture.premultipliedAlpha);var l=e.drawMode===u.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;a.vao.draw(l,e.indices.length,0)}},e}(i.ObjectRenderer);r.default=g,i.WebGLRenderer.registerPlugin("mesh",g)},{"../../core":65,"../Mesh":166,path:8,"pixi-gl-core":15}],173:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=a(t("../core")),s=t("../core/utils");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];u(this,e);var a=l(this,t.call(this)),h=16384;return i>16384&&(i=16384),i>r&&(i=r),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=i,a._glBuffers={},a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=o.BLEND_MODES.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return h(e,t),e.prototype.setProperties=function t(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},e.prototype.updateTransform=function t(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function t(e){var r=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",(function(){return r.onChildrenChange(0)}))),e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},e.prototype.onChildrenChange=function t(e){for(var r=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID},e.prototype.renderCanvas=function t(e){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var r=e.context,n=this.worldTransform,i=!0,o=0,s=0,a=0,u=0;e.setBlendMode(this.blendMode),r.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var h=this.children[l];if(h.visible){var c=h._texture.frame;if(r.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)i&&(r.setTransform(n.a,n.b,n.c,n.d,n.tx*e.resolution,n.ty*e.resolution),i=!1),o=h.anchor.x*(-c.width*h.scale.x)+h.position.x+.5,s=h.anchor.y*(-c.height*h.scale.y)+h.position.y+.5,a=c.width*h.scale.x,u=c.height*h.scale.y;else{i||(i=!0),h.displayObjectUpdateTransform();var d=h.worldTransform;e.roundPixels?r.setTransform(d.a,d.b,d.c,d.d,d.tx*e.resolution|0,d.ty*e.resolution|0):r.setTransform(d.a,d.b,d.c,d.d,d.tx*e.resolution,d.ty*e.resolution),o=h.anchor.x*-c.width+.5,s=h.anchor.y*-c.height+.5,a=c.width,u=c.height}var f=h._texture.baseTexture.resolution;r.drawImage(h._texture.baseTexture.source,c.x*f,c.y*f,c.width*f,c.height*f,o*e.resolution,s*e.resolution,a*e.resolution,u*e.resolution)}}}},e.prototype.destroy=function e(r){if(t.prototype.destroy.call(this,r),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},n(e,[{key:"tint",get:function t(){return this._tint},set:function t(e){this._tint=e,(0,s.hex2rgb)(e,this.tintRgb)}}]),e}(o.Container);r.default=c},{"../core":65,"../core/utils":125}],174:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./ParticleContainer");Object.defineProperty(r,"ParticleContainer",{enumerable:!0,get:function t(){return o(n).default}});var i=t("./webgl/ParticleRenderer");function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"ParticleRenderer",{enumerable:!0,get:function t(){return o(i).default}})},{"./ParticleContainer":173,"./webgl/ParticleRenderer":176}],175:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=a(t("pixi-gl-core")),o,s=a(t("../../core/utils/createIndicesForQuads"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(e,r,n,i){u(this,t),this.gl=e,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<r.length;++o){var s=r[o];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,unsignedByte:s.unsignedByte,offset:s.offset},n[o]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function t(){var e=this.gl,r=0;this.indices=(0,s.default)(this.size),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var o=this.dynamicProperties[n];o.offset=r,r+=o.size,this.dynamicStride+=o.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=i.default.GLBuffer.createVertexBuffer(e,a,e.STREAM_DRAW);var u=0;this.staticStride=0;for(var l=0;l<this.staticProperties.length;++l){var h=this.staticProperties[l];h.offset=u,u+=h.size,this.staticStride+=h.size}var c=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(c),this.staticDataUint32=new Uint32Array(c),this.staticBuffer=i.default.GLBuffer.createVertexBuffer(e,c,e.STATIC_DRAW),this.vao=new i.default.VertexArrayObject(e).addIndex(this.indexBuffer);for(var d=0;d<this.dynamicProperties.length;++d){var f=this.dynamicProperties[d];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,e.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,e.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var p=0;p<this.staticProperties.length;++p){var v=this.staticProperties[p];v.unsignedByte?this.vao.addAttribute(this.staticBuffer,v.attribute,e.UNSIGNED_BYTE,!0,4*this.staticStride,4*v.offset):this.vao.addAttribute(this.staticBuffer,v.attribute,e.FLOAT,!1,4*this.staticStride,4*v.offset)}},t.prototype.uploadDynamic=function t(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(e,r,n,o.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function t(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(e,r,n,o.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer.upload()},t.prototype.destroy=function t(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();r.default=l},{"../../core/utils/createIndicesForQuads":123,"pixi-gl-core":15}],176:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=c(t("../../core")),o,s=h(t("./ParticleShader")),a,u=h(t("./ParticleBuffer")),l=t("../../core/utils");function h(t){return t&&t.__esModule?t:{default:t}}function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(r){d(this,e);var n=f(this,t.call(this,r));return n.shader=null,n.indexBuffer=null,n.properties=null,n.tempMatrix=new i.Matrix,n.CONTEXT_UID=0,n}return p(e,t),e.prototype.onContextChange=function t(){var e=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new s.default(e),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function t(){this.renderer.bindShader(this.shader)},e.prototype.render=function t(e){var r=e.children,n=e._maxSize,o=e._batchSize,s=this.renderer,a=r.length;if(0!==a){a>n&&(a=n);var u=e._glBuffers[s.CONTEXT_UID];u||(u=e._glBuffers[s.CONTEXT_UID]=this.generateBuffers(e));var l=r[0]._texture.baseTexture;this.renderer.setBlendMode(i.utils.correctBlendMode(e.blendMode,l.premultipliedAlpha));var h=s.gl,c=e.worldTransform.copy(this.tempMatrix);c.prepend(s._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=c.toArray(!0),this.shader.uniforms.uColor=i.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,l.premultipliedAlpha),this.shader.uniforms.uSampler=s.bindTexture(l);for(var d=!1,f=0,p=0;f<a;f+=o,p+=1){var v=a-f;if(v>o&&(v=o),p>=u.length){if(!e.autoResize)break;u.push(this._generateOneMoreBuffer(e))}var g=u[p];g.uploadDynamic(r,f,v);var y=e._bufferUpdateIDs[p]||0;(d=d||g._updateID<y)&&(g._updateID=e._updateID,g.uploadStatic(r,f,v)),s.bindVao(g.vao),g.vao.draw(h.TRIANGLES,6*v)}}},e.prototype.generateBuffers=function t(e){for(var r=this.renderer.gl,n=[],i=e._maxSize,o=e._batchSize,s=e._properties,a=0;a<i;a+=o)n.push(new u.default(r,this.properties,s,o));return n},e.prototype._generateOneMoreBuffer=function t(e){var r=this.renderer.gl,n=e._batchSize,i=e._properties;return new u.default(r,this.properties,i,n)},e.prototype.uploadVertices=function t(e,r,n,i,o,s){for(var a=0,u=0,l=0,h=0,c=0;c<n;++c){var d=e[r+c],f=d._texture,p=d.scale.x,v=d.scale.y,g=f.trim,y=f.orig;g?(a=(u=g.x-d.anchor.x*y.width)+g.width,l=(h=g.y-d.anchor.y*y.height)+g.height):(a=y.width*(1-d.anchor.x),u=y.width*-d.anchor.x,l=y.height*(1-d.anchor.y),h=y.height*-d.anchor.y),i[s]=u*p,i[s+1]=h*v,i[s+o]=a*p,i[s+o+1]=h*v,i[s+2*o]=a*p,i[s+2*o+1]=l*v,i[s+3*o]=u*p,i[s+3*o+1]=l*v,s+=4*o}},e.prototype.uploadPosition=function t(e,r,n,i,o,s){for(var a=0;a<n;a++){var u=e[r+a].position;i[s]=u.x,i[s+1]=u.y,i[s+o]=u.x,i[s+o+1]=u.y,i[s+2*o]=u.x,i[s+2*o+1]=u.y,i[s+3*o]=u.x,i[s+3*o+1]=u.y,s+=4*o}},e.prototype.uploadRotation=function t(e,r,n,i,o,s){for(var a=0;a<n;a++){var u=e[r+a].rotation;i[s]=u,i[s+o]=u,i[s+2*o]=u,i[s+3*o]=u,s+=4*o}},e.prototype.uploadUvs=function t(e,r,n,i,o,s){for(var a=0;a<n;++a){var u=e[r+a]._texture._uvs;u?(i[s]=u.x0,i[s+1]=u.y0,i[s+o]=u.x1,i[s+o+1]=u.y1,i[s+2*o]=u.x2,i[s+2*o+1]=u.y2,i[s+3*o]=u.x3,i[s+3*o+1]=u.y3,s+=4*o):(i[s]=0,i[s+1]=0,i[s+o]=0,i[s+o+1]=0,i[s+2*o]=0,i[s+2*o+1]=0,i[s+3*o]=0,i[s+3*o+1]=0,s+=4*o)}},e.prototype.uploadTint=function t(e,r,n,i,o,s){for(var a=0;a<n;++a){var u=e[r+a],h=u._texture.baseTexture.premultipliedAlpha,c=u.alpha,d=c<1&&h?(0,l.premultiplyTint)(u._tintRGB,c):u._tintRGB+(255*c<<24);i[s]=d,i[s+o]=d,i[s+2*o]=d,i[s+3*o]=d,s+=4*o}},e.prototype.destroy=function e(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(i.ObjectRenderer);r.default=v,i.WebGLRenderer.registerPlugin("particle",v)},{"../../core":65,"../../core/utils":125,"./ParticleBuffer":175,"./ParticleShader":177}],177:[function(t,e,r){"use strict";var n,i;function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var l=function(t){function e(r){return s(this,e),a(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return u(e,t),e}(o(t("../../core/Shader")).default);r.default=l},{"../../core/Shader":44}],178:[function(t,e,r){"use strict";Math.sign||(Math.sign=function t(e){return 0===(e=Number(e))||isNaN(e)?e:e>0?1:-1})},{}],179:[function(t,e,r){"use strict";Number.isInteger||(Number.isInteger=function t(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})},{}],180:[function(t,e,r){"use strict";var n,i=o(t("object-assign"));function o(t){return t&&t.__esModule?t:{default:t}}Object.assign||(Object.assign=i.default)},{"object-assign":6}],181:[function(t,e,r){"use strict";t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign"),t("./Number.isInteger"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":178,"./Number.isInteger":179,"./Object.assign":180,"./requestAnimationFrame":182}],182:[function(t,r,n){(function(t){"use strict";var e=16;if(Date.now&&Date.prototype.getTime||(Date.now=function t(){return(new Date).getTime()}),!t.performance||!t.performance.now){var r=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-r}}for(var n=Date.now(),i=["ms","moz","webkit","o"],o=0;o<i.length&&!t.requestAnimationFrame;++o){var s=i[o];t.requestAnimationFrame=t[s+"RequestAnimationFrame"],t.cancelAnimationFrame=t[s+"CancelAnimationFrame"]||t[s+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+n-e;return r<0&&(r=0),n=e,setTimeout((function(){n=Date.now(),t(performance.now())}),r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],183:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=u(t("../core")),o,s=a(t("./limiters/CountLimiter"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var c=function(){function t(e){var r=this;l(this,t),this.limiter=new s.default(i.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(y),this.registerFindHook(_),this.registerFindHook(d),this.registerFindHook(f),this.registerFindHook(p),this.registerUploadHook(v),this.registerUploadHook(g)}return t.prototype.upload=function t(e,r){"function"==typeof e&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,h.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):r&&r()},t.prototype.tick=function t(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function t(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed)for(var n=0,o=this.uploadHooks.length;n<o;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}r||this.queue.shift()}if(this.queue.length)h.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var a=0,u=s.length;a<u;a++)s[a]()}},t.prototype.registerFindHook=function t(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function t(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function t(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof i.Container)for(var o=e.children.length-1;o>=0;o--)this.add(e.children[o]);return this},t.prototype.destroy=function t(){this.ticking&&h.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function d(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof i.Texture){var o=t._textures[n].baseTexture;-1===e.indexOf(o)&&(e.push(o),r=!0)}return r}function f(t,e){return t instanceof i.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function p(t,e){if(t._texture&&t._texture instanceof i.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function v(t,e){return e instanceof i.Text&&(e.updateText(!0),!0)}function g(t,e){if(e instanceof i.TextStyle){var r=e.toFontString();return i.TextMetrics.measureFont(r),!0}return!1}function y(t,e){if(t instanceof i.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function _(t,e){return t instanceof i.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}r.default=c},{"../core":65,"./limiters/CountLimiter":186}],184:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=u(t("../../core")),o,s=a(t("../BasePrepare"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=16,f=function(t){function e(r){l(this,e);var n=h(this,t.call(this,r));return n.uploadHookHelper=n,n.canvas=document.createElement("canvas"),n.canvas.width=d,n.canvas.height=d,n.ctx=n.canvas.getContext("2d"),n.registerUploadHook(p),n}return c(e,t),e.prototype.destroy=function e(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(s.default);function p(t,e){if(e instanceof i.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),o=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}r.default=f,i.CanvasRenderer.registerPlugin("prepare",f)},{"../../core":65,"../BasePrepare":183}],185:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./webgl/WebGLPrepare");Object.defineProperty(r,"webgl",{enumerable:!0,get:function t(){return u(n).default}});var i=t("./canvas/CanvasPrepare");Object.defineProperty(r,"canvas",{enumerable:!0,get:function t(){return u(i).default}});var o=t("./BasePrepare");Object.defineProperty(r,"BasePrepare",{enumerable:!0,get:function t(){return u(o).default}});var s=t("./limiters/CountLimiter");Object.defineProperty(r,"CountLimiter",{enumerable:!0,get:function t(){return u(s).default}});var a=t("./limiters/TimeLimiter");function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"TimeLimiter",{enumerable:!0,get:function t(){return u(a).default}})},{"./BasePrepare":183,"./canvas/CanvasPrepare":184,"./limiters/CountLimiter":186,"./limiters/TimeLimiter":187,"./webgl/WebGLPrepare":188}],186:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function t(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function t(){return this.itemsLeft-- >0},t}();r.default=i},{}],187:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function t(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function t(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();r.default=i},{}],188:[function(t,e,r){"use strict";r.__esModule=!0;var n,i=u(t("../../core")),o,s;function a(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(r){l(this,e);var n=h(this,t.call(this,r));return n.uploadHookHelper=n.renderer,n.registerFindHook(v),n.registerUploadHook(f),n.registerUploadHook(p),n}return c(e,t),e}(a(t("../BasePrepare")).default);function f(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function p(t,e){return e instanceof i.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function v(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}r.default=d,i.WebGLRenderer.registerPlugin("prepare",d)},{"../../core":65,"../BasePrepare":183}],189:[function(t,r,n){(function(e){"use strict";n.__esModule=!0,n.loader=n.prepare=n.particles=n.mesh=n.loaders=n.interaction=n.filters=n.extras=n.extract=n.accessibility=void 0;var r=t("./polyfill");Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function e(){return r[t]}})}));var i=t("./core");Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function e(){return i[t]}})}));var o,s=O(t("./deprecation")),a,u=S(t("./accessibility")),l,h=S(t("./extract")),c,d=S(t("./extras")),f,p=S(t("./filters")),v,g=S(t("./interaction")),y,_=S(t("./loaders")),m,b=S(t("./mesh")),x,T=S(t("./particles")),w,E=S(t("./prepare"));function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function O(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.performMixins();var M=_.shared||null;n.accessibility=u,n.extract=h,n.extras=d,n.filters=p,n.interaction=g,n.loaders=_,n.mesh=b,n.particles=T,n.prepare=E,n.loader=M,"function"==typeof s.default&&(0,s.default)(n),e.PIXI=n}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":42,"./core":65,"./deprecation":131,"./extract":133,"./extras":141,"./filters":153,"./interaction":159,"./loaders":162,"./mesh":171,"./particles":174,"./polyfill":181,"./prepare":185}]},{},[189])(189)}))}},"package.json":function t(e,r,t){t.exports={name:"pixi.js",version:"4.8.9",main:"./lib/index.js"}},lib:{"index.js":function t(r,n){"use strict";n.__esModule=!0,n.loader=n.prepare=n.particles=n.mesh=n.loaders=n.interaction=n.filters=n.extras=n.extract=n.accessibility=void 0;var i=r("./polyfill");Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function e(){return i[t]}})}));var o=r("./core");Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function e(){return o[t]}})}));var s,a=M(r("./deprecation")),u,l=O(r("./accessibility")),h,c=O(r("./extract")),d,f=O(r("./extras")),p,v=O(r("./filters")),g,y=O(r("./interaction")),_,m=O(r("./loaders")),b,x=O(r("./mesh")),T,w=O(r("./particles")),E,S=O(r("./prepare"));function O(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function M(t){return t&&t.__esModule?t:{default:t}}o.utils.mixins.performMixins();var P=m.shared||null;n.accessibility=l,n.extract=c,n.extras=f,n.filters=v,n.interaction=y,n.loaders=m,n.mesh=x,n.particles=w,n.prepare=S,n.loader=P,"function"==typeof a.default&&(0,a.default)(n),e.PIXI=n},polyfill:{"index.js":function t(e){"use strict";e("./Object.assign"),e("./requestAnimationFrame"),e("./Math.sign"),e("./Number.isInteger"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},"Object.assign.js":function t(e){"use strict";var r,n=i(e("object-assign"));function i(t){return t&&t.__esModule?t:{default:t}}Object.assign||(Object.assign=n.default)},"requestAnimationFrame.js":function t(){"use strict";var r=16;if(Date.now&&Date.prototype.getTime||(Date.now=function t(){return(new Date).getTime()}),!e.performance||!e.performance.now){var n=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-n}}for(var i=Date.now(),o=["ms","moz","webkit","o"],s=0;s<o.length&&!e.requestAnimationFrame;++s){var a=o[s];e.requestAnimationFrame=e[a+"RequestAnimationFrame"],e.cancelAnimationFrame=e[a+"CancelAnimationFrame"]||e[a+"CancelRequestAnimationFrame"]}e.requestAnimationFrame||(e.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+i-e;return r<0&&(r=0),i=e,setTimeout((function(){i=Date.now(),t(performance.now())}),r)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){return clearTimeout(t)})},"Math.sign.js":function t(){"use strict";Math.sign||(Math.sign=function t(e){return 0===(e=Number(e))||isNaN(e)?e:e>0?1:-1})},"Number.isInteger.js":function t(){"use strict";Number.isInteger||(Number.isInteger=function t(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})}},core:{"index.js":function t(e,r){"use strict";r.__esModule=!0,r.autoDetectRenderer=r.Application=r.Filter=r.SpriteMaskFilter=r.Quad=r.RenderTarget=r.ObjectRenderer=r.WebGLManager=r.Shader=r.CanvasRenderTarget=r.TextureUvs=r.VideoBaseTexture=r.BaseRenderTexture=r.RenderTexture=r.BaseTexture=r.TextureMatrix=r.Texture=r.Spritesheet=r.CanvasGraphicsRenderer=r.GraphicsRenderer=r.GraphicsData=r.Graphics=r.TextMetrics=r.TextStyle=r.Text=r.SpriteRenderer=r.CanvasTinter=r.CanvasSpriteRenderer=r.Sprite=r.TransformBase=r.TransformStatic=r.Transform=r.Container=r.DisplayObject=r.Bounds=r.glCore=r.WebGLRenderer=r.CanvasRenderer=r.ticker=r.utils=r.settings=void 0;var n=e("./const");Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function e(){return n[t]}})}));var i=e("./math");Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function e(){return i[t]}})}));var o=e("pixi-gl-core");Object.defineProperty(r,"glCore",{enumerable:!0,get:function t(){return Q(o).default}});var s=e("./display/Bounds");Object.defineProperty(r,"Bounds",{enumerable:!0,get:function t(){return Q(s).default}});var a=e("./display/DisplayObject");Object.defineProperty(r,"DisplayObject",{enumerable:!0,get:function t(){return Q(a).default}});var u=e("./display/Container");Object.defineProperty(r,"Container",{enumerable:!0,get:function t(){return Q(u).default}});var l=e("./display/Transform");Object.defineProperty(r,"Transform",{enumerable:!0,get:function t(){return Q(l).default}});var h=e("./display/TransformStatic");Object.defineProperty(r,"TransformStatic",{enumerable:!0,get:function t(){return Q(h).default}});var c=e("./display/TransformBase");Object.defineProperty(r,"TransformBase",{enumerable:!0,get:function t(){return Q(c).default}});var d=e("./sprites/Sprite");Object.defineProperty(r,"Sprite",{enumerable:!0,get:function t(){return Q(d).default}});var f=e("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(r,"CanvasSpriteRenderer",{enumerable:!0,get:function t(){return Q(f).default}});var p=e("./sprites/canvas/CanvasTinter");Object.defineProperty(r,"CanvasTinter",{enumerable:!0,get:function t(){return Q(p).default}});var v=e("./sprites/webgl/SpriteRenderer");Object.defineProperty(r,"SpriteRenderer",{enumerable:!0,get:function t(){return Q(v).default}});var g=e("./text/Text");Object.defineProperty(r,"Text",{enumerable:!0,get:function t(){return Q(g).default}});var y=e("./text/TextStyle");Object.defineProperty(r,"TextStyle",{enumerable:!0,get:function t(){return Q(y).default}});var _=e("./text/TextMetrics");Object.defineProperty(r,"TextMetrics",{enumerable:!0,get:function t(){return Q(_).default}});var m=e("./graphics/Graphics");Object.defineProperty(r,"Graphics",{enumerable:!0,get:function t(){return Q(m).default}});var b=e("./graphics/GraphicsData");Object.defineProperty(r,"GraphicsData",{enumerable:!0,get:function t(){return Q(b).default}});var x=e("./graphics/webgl/GraphicsRenderer");Object.defineProperty(r,"GraphicsRenderer",{enumerable:!0,get:function t(){return Q(x).default}});var T=e("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(r,"CanvasGraphicsRenderer",{enumerable:!0,get:function t(){return Q(T).default}});var w=e("./textures/Spritesheet");Object.defineProperty(r,"Spritesheet",{enumerable:!0,get:function t(){return Q(w).default}});var E=e("./textures/Texture");Object.defineProperty(r,"Texture",{enumerable:!0,get:function t(){return Q(E).default}});var S=e("./textures/TextureMatrix");Object.defineProperty(r,"TextureMatrix",{enumerable:!0,get:function t(){return Q(S).default}});var O=e("./textures/BaseTexture");Object.defineProperty(r,"BaseTexture",{enumerable:!0,get:function t(){return Q(O).default}});var M=e("./textures/RenderTexture");Object.defineProperty(r,"RenderTexture",{enumerable:!0,get:function t(){return Q(M).default}});var P=e("./textures/BaseRenderTexture");Object.defineProperty(r,"BaseRenderTexture",{enumerable:!0,get:function t(){return Q(P).default}});var A=e("./textures/VideoBaseTexture");Object.defineProperty(r,"VideoBaseTexture",{enumerable:!0,get:function t(){return Q(A).default}});var C=e("./textures/TextureUvs");Object.defineProperty(r,"TextureUvs",{enumerable:!0,get:function t(){return Q(C).default}});var R=e("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(r,"CanvasRenderTarget",{enumerable:!0,get:function t(){return Q(R).default}});var I=e("./Shader");Object.defineProperty(r,"Shader",{enumerable:!0,get:function t(){return Q(I).default}});var D=e("./renderers/webgl/managers/WebGLManager");Object.defineProperty(r,"WebGLManager",{enumerable:!0,get:function t(){return Q(D).default}});var L=e("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(r,"ObjectRenderer",{enumerable:!0,get:function t(){return Q(L).default}});var j=e("./renderers/webgl/utils/RenderTarget");Object.defineProperty(r,"RenderTarget",{enumerable:!0,get:function t(){return Q(j).default}});var k=e("./renderers/webgl/utils/Quad");Object.defineProperty(r,"Quad",{enumerable:!0,get:function t(){return Q(k).default}});var N=e("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(r,"SpriteMaskFilter",{enumerable:!0,get:function t(){return Q(N).default}});var B=e("./renderers/webgl/filters/Filter");Object.defineProperty(r,"Filter",{enumerable:!0,get:function t(){return Q(B).default}});var F=e("./Application");Object.defineProperty(r,"Application",{enumerable:!0,get:function t(){return Q(F).default}});var U=e("./autoDetectRenderer");Object.defineProperty(r,"autoDetectRenderer",{enumerable:!0,get:function t(){return U.autoDetectRenderer}});var X,G=J(e("./utils")),H,W=J(e("./ticker")),V,Y=Q(e("./settings")),z,q=Q(e("./renderers/canvas/CanvasRenderer")),K,Z=Q(e("./renderers/webgl/WebGLRenderer"));function J(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Q(t){return t&&t.__esModule?t:{default:t}}r.settings=Y.default,r.utils=G,r.ticker=W,r.CanvasRenderer=q.default,r.WebGLRenderer=Z.default},"const.js":function t(e,r){"use strict";r.__esModule=!0;var n=r.VERSION="4.8.9",i=r.PI_2=2*Math.PI,o=r.RAD_TO_DEG=180/Math.PI,s=r.DEG_TO_RAD=Math.PI/180,a=r.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},u=r.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},l=r.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},h=r.SCALE_MODES={LINEAR:0,NEAREST:1},c=r.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},d=r.GC_MODES={AUTO:0,MANUAL:1},f=r.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,p=r.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,v=r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,g=r.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},y=r.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},_=r.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},m=r.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},b=r.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},math:{"index.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("./Point");Object.defineProperty(r,"Point",{enumerable:!0,get:function t(){return d(n).default}});var i=e("./ObservablePoint");Object.defineProperty(r,"ObservablePoint",{enumerable:!0,get:function t(){return d(i).default}});var o=e("./Matrix");Object.defineProperty(r,"Matrix",{enumerable:!0,get:function t(){return d(o).default}});var s=e("./GroupD8");Object.defineProperty(r,"GroupD8",{enumerable:!0,get:function t(){return d(s).default}});var a=e("./shapes/Circle");Object.defineProperty(r,"Circle",{enumerable:!0,get:function t(){return d(a).default}});var u=e("./shapes/Ellipse");Object.defineProperty(r,"Ellipse",{enumerable:!0,get:function t(){return d(u).default}});var l=e("./shapes/Polygon");Object.defineProperty(r,"Polygon",{enumerable:!0,get:function t(){return d(l).default}});var h=e("./shapes/Rectangle");Object.defineProperty(r,"Rectangle",{enumerable:!0,get:function t(){return d(h).default}});var c=e("./shapes/RoundedRectangle");function d(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"RoundedRectangle",{enumerable:!0,get:function t(){return d(c).default}})},"Point.js":function t(e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(this,t),this.x=e,this.y=r}return t.prototype.clone=function e(){return new t(this.x,this.y)},t.prototype.copy=function t(e){this.set(e.x,e.y)},t.prototype.equals=function t(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function t(e,r){this.x=e||0,this.y=r||(0!==r?this.x:0)},t}();r.default=i},"ObservablePoint.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,t),this._x=n,this._y=o,this.cb=e,this.scope=r}return t.prototype.clone=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=r||this.cb,o=n||this.scope;return new t(i,o,this._x,this._y)},t.prototype.set=function t(e,r){var n=e||0,i=r||(0!==r?n:0);this._x===n&&this._y===i||(this._x=n,this._y=i,this.cb.call(this.scope))},t.prototype.copy=function t(e){this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope))},t.prototype.equals=function t(e){return e.x===this._x&&e.y===this._y},n(t,[{key:"x",get:function t(){return this._x},set:function t(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function t(){return this._y},set:function t(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),t}();r.default=o},"Matrix.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=a(e("./Point")),s=e("../const");function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;u(this,t),this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=s,this.array=null}return t.prototype.fromArray=function t(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function t(e,r,n,i,o,s){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=s,this},t.prototype.toArray=function t(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function t(e,r){r=r||new o.default;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function t(e,r){r=r||new o.default;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function t(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function t(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function t(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,o=this.c,s=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=o*r-this.d*n,this.d=o*n+this.d*r,this.tx=s*r-this.ty*n,this.ty=s*n+this.ty*r,this},t.prototype.append=function t(e){var r=this.a,n=this.b,i=this.c,o=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*o,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*o,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*o+this.ty,this},t.prototype.setTransform=function t(e,r,n,i,o,s,a,u,l){return this.a=Math.cos(a+l)*o,this.b=Math.sin(a+l)*o,this.c=-Math.sin(a-u)*s,this.d=Math.cos(a-u)*s,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function t(e){var r=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function t(e){var r=this.a,n=this.b,i=this.c,o=this.d,a=-Math.atan2(-i,o),u=Math.atan2(n,r),l=Math.abs(a+u);return l<1e-5||Math.abs(s.PI_2-l)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+o*o),e.position.x=this.tx,e.position.y=this.ty,e},t.prototype.invert=function t(){var e=this.a,r=this.b,n=this.c,i=this.d,o=this.tx,s=e*i-r*n;return this.a=i/s,this.b=-r/s,this.c=-n/s,this.d=e/s,this.tx=(n*this.ty-i*o)/s,this.ty=-(e*this.ty-r*o)/s,this},t.prototype.identity=function t(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function e(){var r=new t;return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copy=function t(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},n(t,null,[{key:"IDENTITY",get:function e(){return new t}},{key:"TEMP_MATRIX",get:function e(){return new t}}]),t}();r.default=l},"GroupD8.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=o(e("./Matrix"));function o(t){return t&&t.__esModule?t:{default:t}}var s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],l=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],c=[];function d(t){return t<0?-1:t>0?1:0}function f(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var r=0;r<16;r++)for(var n=d(s[t]*s[r]+u[t]*a[r]),o=d(a[t]*s[r]+l[t]*a[r]),f=d(s[t]*u[r]+u[t]*l[r]),p=d(a[t]*u[r]+l[t]*l[r]),v=0;v<16;v++)if(s[v]===n&&a[v]===o&&u[v]===f&&l[v]===p){e.push(v);break}}for(var g=0;g<16;g++){var y=new i.default;y.set(s[g],a[g],u[g],l[g],0,0),h.push(y)}}f();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function t(e){return s[e]},uY:function t(e){return a[e]},vX:function t(e){return u[e]},vY:function t(e){return l[e]},inv:function t(e){return 8&e?15&e:7&-e},add:function t(e,r){return c[e][r]},sub:function t(e,r){return c[e][p.inv(r)]},rotate180:function t(e){return 4^e},isVertical:function t(e){return 2==(3&e)},byDirection:function t(e,r){return 2*Math.abs(e)<=Math.abs(r)?r>=0?p.S:p.N:2*Math.abs(r)<=Math.abs(e)?e>0?p.E:p.W:r>0?e>0?p.SE:p.SW:e>0?p.NE:p.NW},matrixAppendRotationInv:function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=h[p.inv(r)];o.tx=n,o.ty=i,e.append(o)}};r.default=p},shapes:{"Circle.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=s(e("./Rectangle")),o=e("../../const");function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;a(this,t),this.x=e,this.y=r,this.radius=n,this.type=o.SHAPES.CIRC}return t.prototype.clone=function e(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function t(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,o=this.y-r;return(i*=i)+(o*=o)<=n},t.prototype.getBounds=function t(){return new i.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();r.default=u},"Rectangle.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=e("../../const");function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o(this,t),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(s),this.type=i.SHAPES.RECT}return t.prototype.clone=function e(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function t(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.contains=function t(e,r){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height)},t.prototype.pad=function t(e,r){e=e||0,r=r||(0!==r?e:0),this.x-=e,this.y-=r,this.width+=2*e,this.height+=2*r},t.prototype.fit=function t(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(o-i,0)},t.prototype.enlarge=function t(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);this.x=r,this.width=n-r,this.y=i,this.height=o-i},t.prototype.ceil=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y},n(t,[{key:"left",get:function t(){return this.x}},{key:"right",get:function t(){return this.x+this.width}},{key:"top",get:function t(){return this.y}},{key:"bottom",get:function t(){return this.y+this.height}}],[{key:"EMPTY",get:function e(){return new t(0,0,0,0)}}]),t}();r.default=s},"Ellipse.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=s(e("./Rectangle")),o=e("../../const");function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a(this,t),this.x=e,this.y=r,this.width=n,this.height=i,this.type=o.SHAPES.ELIP}return t.prototype.clone=function e(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function t(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return(n*=n)+(i*=i)<=1},t.prototype.getBounds=function t(){return new i.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();r.default=u},"Polygon.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=s(e("../Point")),o=e("../../const");function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];if(a(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof i.default){for(var s=[],u=0,l=r.length;u<l;u++)s.push(r[u].x,r[u].y);r=s}this.closed=!0,this.points=r,this.type=o.SHAPES.POLY}return t.prototype.clone=function e(){return new t(this.points.slice())},t.prototype.close=function t(){var e=this.points;e[0]===e[e.length-2]&&e[1]===e[e.length-1]||e.push(e[0],e[1])},t.prototype.contains=function t(e,r){for(var n=!1,i=this.points.length/2,o=0,s=i-1;o<i;s=o++){var a=this.points[2*o],u=this.points[2*o+1],l=this.points[2*s],h=this.points[2*s+1],c;u>r!=h>r&&e<(r-u)/(h-u)*(l-a)+a&&(n=!n)}return n},t}();r.default=u},"RoundedRectangle.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("../../const");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;i(this,t),this.x=e,this.y=r,this.width=o,this.height=s,this.radius=a,this.type=n.SHAPES.RREC}return t.prototype.clone=function e(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function t(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),i=r-(this.y+this.radius),o=this.radius*this.radius;if(n*n+i*i<=o)return!0;if((n=e-(this.x+this.width-this.radius))*n+i*i<=o)return!0;if(n*n+(i=r-(this.y+this.height-this.radius))*i<=o)return!0;if((n=e-(this.x+this.radius))*n+i*i<=o)return!0}return!1},t}();r.default=o}}},display:{"Bounds.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("../math");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(){i(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function t(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function t(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function t(e){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((e=e||new n.Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function t(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addQuad=function t(e){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY,s=e[0],a=e[1];r=s<r?s:r,n=a<n?a:n,i=s>i?s:i,o=a>o?a:o,r=(s=e[2])<r?s:r,n=(a=e[3])<n?a:n,i=s>i?s:i,o=a>o?a:o,r=(s=e[4])<r?s:r,n=(a=e[5])<n?a:n,i=s>i?s:i,o=a>o?a:o,r=(s=e[6])<r?s:r,n=(a=e[7])<n?a:n,i=s>i?s:i,o=a>o?a:o,this.minX=r,this.minY=n,this.maxX=i,this.maxY=o},t.prototype.addFrame=function t(e,r,n,i,o){var s=e.worldTransform,a=s.a,u=s.b,l=s.c,h=s.d,c=s.tx,d=s.ty,f=this.minX,p=this.minY,v=this.maxX,g=this.maxY,y=a*r+l*n+c,_=u*r+h*n+d;f=y<f?y:f,p=_<p?_:p,v=y>v?y:v,g=_>g?_:g,f=(y=a*i+l*n+c)<f?y:f,p=(_=u*i+h*n+d)<p?_:p,v=y>v?y:v,g=_>g?_:g,f=(y=a*r+l*o+c)<f?y:f,p=(_=u*r+h*o+d)<p?_:p,v=y>v?y:v,g=_>g?_:g,f=(y=a*i+l*o+c)<f?y:f,p=(_=u*i+h*o+d)<p?_:p,v=y>v?y:v,g=_>g?_:g,this.minX=f,this.minY=p,this.maxX=v,this.maxY=g},t.prototype.addVertices=function t(e,r,n,i){for(var o=e.worldTransform,s=o.a,a=o.b,u=o.c,l=o.d,h=o.tx,c=o.ty,d=this.minX,f=this.minY,p=this.maxX,v=this.maxY,g=n;g<i;g+=2){var y=r[g],_=r[g+1],m=s*y+u*_+h,b=l*_+a*y+c;d=m<d?m:d,f=b<f?b:f,p=m>p?m:p,v=b>v?b:v}this.minX=d,this.minY=f,this.maxX=p,this.maxY=v},t.prototype.addBounds=function t(e){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>o?e.maxY:o},t.prototype.addBoundsMask=function t(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,o=e.maxX<r.maxX?e.maxX:r.maxX,s=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=o&&i<=s){var a=this.minX,u=this.minY,l=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=o>l?o:l,this.maxY=s>h?s:h}},t.prototype.addBoundsArea=function t(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,o=e.maxX<r.x+r.width?e.maxX:r.x+r.width,s=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=o&&i<=s){var a=this.minX,u=this.minY,l=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=o>l?o:l,this.maxY=s>h?s:h}},t}();r.default=o},"DisplayObject.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=g(e("eventemitter3")),s=e("../const"),a,u=g(e("../settings")),l,h=g(e("./TransformStatic")),c,d=g(e("./Transform")),f,p=g(e("./Bounds")),v=e("../math");function g(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=function(t){function e(){y(this,e);var r=_(this,t.call(this)),n=u.default.TRANSFORM_MODE===s.TRANSFORM_MODE.STATIC?h.default:d.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new p.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return m(e,t),e.prototype.updateTransform=function t(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function t(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function t(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),r||(this._boundsRect||(this._boundsRect=new v.Rectangle),r=this._boundsRect),this._bounds.getRectangle(r)},e.prototype.getLocalBounds=function t(e){var r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(this._localBoundsRect||(this._localBoundsRect=new v.Rectangle),e=this._localBoundsRect);var i=this.getBounds(!1,e);return this.parent=n,this.transform=r,i},e.prototype.toGlobal=function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)},e.prototype.toLocal=function t(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},e.prototype.renderWebGL=function t(e){},e.prototype.renderCanvas=function t(e){},e.prototype.setParent=function t(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},e.prototype.setTransform=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=o,this.skew.x=s,this.skew.y=a,this.pivot.x=u,this.pivot.y=l,this},e.prototype.destroy=function t(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n(e,[{key:"_tempDisplayObjectParent",get:function t(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function t(){return this.position.x},set:function t(e){this.transform.position.x=e}},{key:"y",get:function t(){return this.position.y},set:function t(e){this.transform.position.y=e}},{key:"worldTransform",get:function t(){return this.transform.worldTransform}},{key:"localTransform",get:function t(){return this.transform.localTransform}},{key:"position",get:function t(){return this.transform.position},set:function t(e){this.transform.position.copy(e)}},{key:"scale",get:function t(){return this.transform.scale},set:function t(e){this.transform.scale.copy(e)}},{key:"pivot",get:function t(){return this.transform.pivot},set:function t(e){this.transform.pivot.copy(e)}},{key:"skew",get:function t(){return this.transform.skew},set:function t(e){this.transform.skew.copy(e)}},{key:"rotation",get:function t(){return this.transform.rotation},set:function t(e){this.transform.rotation=e}},{key:"worldVisible",get:function t(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:"mask",get:function t(){return this._mask},set:function t(e){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=e,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function t(){return this._filters&&this._filters.slice()},set:function t(e){this._filters=e&&e.slice()}}]),e}(o.default);r.default=b,b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},"TransformStatic.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=e("../math"),o,s;function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){u(this,e);var r=l(this,t.call(this));return r.position=new i.ObservablePoint(r.onChange,r,0,0),r.scale=new i.ObservablePoint(r.onChange,r,1,1),r.pivot=new i.ObservablePoint(r.onChange,r,0,0),r.skew=new i.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return h(e,t),e.prototype.onChange=function t(){this._localID++},e.prototype.updateSkew=function t(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function t(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function t(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale._x,r.b=this._sx*this.scale._x,r.c=this._cy*this.scale._y,r.d=this._sy*this.scale._y,r.tx=this.position._x-(this.pivot._x*r.a+this.pivot._y*r.c),r.ty=this.position._y-(this.pivot._x*r.b+this.pivot._y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function t(e){e.decompose(this),this._localID++},n(e,[{key:"rotation",get:function t(){return this._rotation},set:function t(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}}]),e}(a(e("./TransformBase")).default);r.default=c},"TransformBase.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("../math");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(){i(this,t),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function t(){},t.prototype.updateTransform=function t(e){var r=e.worldTransform,n=this.worldTransform,i=this.localTransform;n.a=i.a*r.a+i.b*r.c,n.b=i.a*r.b+i.b*r.d,n.c=i.c*r.a+i.d*r.c,n.d=i.c*r.b+i.d*r.d,n.tx=i.tx*r.a+i.ty*r.c+r.tx,n.ty=i.tx*r.b+i.ty*r.d+r.ty,this._worldID++},t}();r.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},"Transform.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=e("../math"),o,s;function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){u(this,e);var r=l(this,t.call(this));return r.position=new i.Point(0,0),r.scale=new i.Point(1,1),r.skew=new i.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new i.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return h(e,t),e.prototype.updateSkew=function t(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function t(){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d)},e.prototype.updateTransform=function t(e){var r=this.localTransform;r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d);var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._worldID++},e.prototype.setFromMatrix=function t(e){e.decompose(this)},n(e,[{key:"rotation",get:function t(){return this._rotation},set:function t(e){this._rotation=e,this.updateSkew()}}]),e}(a(e("./TransformBase")).default);r.default=c},"Container.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=e("../utils"),o,s;function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){u(this,e);var r=l(this,t.call(this));return r.children=[],r}return h(e,t),e.prototype.onChildrenChange=function t(){},e.prototype.addChild=function t(e){var r=arguments.length;if(r>1)for(var n=0;n<r;n++)this.addChild(arguments[n]);else e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),e.emit("added",this);return e},e.prototype.addChildAt=function t(e,r){if(r<0||r>this.children.length)throw new Error(e+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),e},e.prototype.swapChildren=function t(e,r){if(e!==r){var n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}},e.prototype.getChildIndex=function t(e){var r=this.children.indexOf(e);if(-1===r)throw new Error("The supplied DisplayObject must be a child of the caller");return r},e.prototype.setChildIndex=function t(e,r){if(r<0||r>=this.children.length)throw new Error("The index "+r+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);(0,i.removeItems)(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)},e.prototype.getChildAt=function t(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},e.prototype.removeChild=function t(e){var r=arguments.length;if(r>1)for(var n=0;n<r;n++)this.removeChild(arguments[n]);else{var o=this.children.indexOf(e);if(-1===o)return null;e.parent=null,e.transform._parentID=-1,(0,i.removeItems)(this.children,o,1),this._boundsID++,this.onChildrenChange(o),e.emit("removed",this)}return e},e.prototype.removeChildAt=function t(e){var r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,(0,i.removeItems)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),r},e.prototype.removeChildren=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments[1],n=e,i="number"==typeof r?r:this.children.length,o=i-n,s=void 0;if(o>0&&o<=i){s=this.children.splice(n,o);for(var a=0;a<s.length;++a)s[a].parent=null,s[a].transform&&(s[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var u=0;u<s.length;++u)s[u].emit("removed",this);return s}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function t(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,r=this.children.length;e<r;++e){var n=this.children[e];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function t(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var r=this.children[e];r.visible&&r.renderable&&(r.calculateBounds(),r._mask?(r._mask.calculateBounds(),this._bounds.addBoundsMask(r._bounds,r._mask._bounds)):r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function t(){},e.prototype.renderWebGL=function t(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var r=0,n=this.children.length;r<n;++r)this.children[r].renderWebGL(e)}},e.prototype.renderAdvancedWebGL=function t(e){e.flush();var r=this._filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<r.length;i++)r[i].enabled&&this._enabledFilters.push(r[i]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}n&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(var o=0,s=this.children.length;o<s;o++)this.children[o].renderWebGL(e);e.flush(),n&&e.maskManager.popMask(this,this._mask),r&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()},e.prototype._renderWebGL=function t(e){},e.prototype._renderCanvas=function t(e){},e.prototype.renderCanvas=function t(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var r=0,n=this.children.length;r<n;++r)this.children[r].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},e.prototype.destroy=function e(r){t.prototype.destroy.call(this);var n="boolean"==typeof r?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var o=0;o<i.length;++o)i[o].destroy(r)},n(e,[{key:"width",get:function t(){return this.scale.x*this.getLocalBounds().width},set:function t(e){var r=this.getLocalBounds().width;this.scale.x=0!==r?e/r:1,this._width=e}},{key:"height",get:function t(){return this.scale.y*this.getLocalBounds().height},set:function t(e){var r=this.getLocalBounds().height;this.scale.y=0!==r?e/r:1,this._height=e}}]),e}(a(e("./DisplayObject")).default);r.default=c,c.prototype.containerUpdateTransform=c.prototype.updateTransform}},"settings.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=a(e("./utils/maxRecommendedTextures")),o,s=a(e("./utils/canUploadSameBuffer"));function a(t){return t&&t.__esModule?t:{default:t}}r.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,i.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,s.default)(),MESH_CANVAS_PADDING:0}},utils:{"maxRecommendedTextures.js":function t(e,r){"use strict";r.__esModule=!0,r.default=s;var n,i=o(e("ismobilejs"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return i.default.tablet||i.default.phone?4:t}},"canUploadSameBuffer.js":function t(e,r){"use strict";function n(){var t;return!(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}r.__esModule=!0,r.default=n},"index.js":function t(e,r){"use strict";r.__esModule=!0,r.premultiplyBlendMode=r.BaseTextureCache=r.TextureCache=r.earcut=r.mixins=r.pluginTarget=r.EventEmitter=r.removeItems=r.isMobile=void 0,r.uid=E,r.hex2rgb=S,r.hex2string=O,r.rgb2hex=M,r.getResolutionOfUrl=P,r.decomposeDataUri=A,r.getUrlFileExtension=C,r.getSvgSize=R,r.skipHello=I,r.sayHello=D,r.isWebGLSupported=L,r.sign=j,r.destroyTextureCache=B,r.clearTextureCache=F,r.correctBlendMode=X,r.premultiplyTint=G,r.premultiplyRgba=H,r.premultiplyTintToRgba=W;var n=e("../const"),i,o=x(e("../settings")),s,a=x(e("eventemitter3")),u,l=x(e("./pluginTarget")),h,c=b(e("./mixin")),d,f=b(e("ismobilejs")),p,v=x(e("remove-array-items")),g,y=x(e("./mapPremultipliedBlendModes")),_,m=x(e("earcut"));function b(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}var T=0,w=!1;function E(){return++T}function S(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function O(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function M(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function P(t,e){var r=o.default.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}function A(t){var e=n.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function C(t){var e=n.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()}function R(t){var e=n.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}function I(){w=!0}function D(t){if(!w){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+n.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+n.VERSION+" - "+t+" - http://www.pixijs.com/");w=!0}}function L(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(o){return!1}}function j(t){return 0===t?0:t<0?-1:1}r.isMobile=f,r.removeItems=v.default,r.EventEmitter=a.default,r.pluginTarget=l.default,r.mixins=c,r.earcut=m.default;var k=r.TextureCache=Object.create(null),N=r.BaseTextureCache=Object.create(null);function B(){var t=void 0;for(t in k)k[t].destroy();for(t in N)N[t].destroy()}function F(){var t=void 0;for(t in k)delete k[t];for(t in N)delete N[t]}var U=r.premultiplyBlendMode=(0,y.default)();function X(t,e){return U[e?1:0][t]}function G(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i=i*e+.5|0)}function H(t,e,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function W(t,e,r,n){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}},"pluginTarget.js":function t(e,r){"use strict";function n(t){t.__plugins={},t.registerPlugin=function e(r,n){t.__plugins[r]=n},t.prototype.initPlugins=function e(){for(var r in this.plugins=this.plugins||{},t.__plugins)this.plugins[r]=new t.__plugins[r](this)},t.prototype.destroyPlugins=function t(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}r.__esModule=!0,r.default={mixin:function t(e){n(e)}}},"mixin.js":function t(e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}r.__esModule=!0,r.mixin=n,r.delayMixin=o,r.performMixins=s;var i=[];function o(t,e){i.push(t,e)}function s(){for(var t=0;t<i.length;t+=2)n(i[t],i[t+1]);i.length=0}},"mapPremultipliedBlendModes.js":function t(e,r){"use strict";r.__esModule=!0,r.default=i;var n=e("../const");function i(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}},"determineCrossOrigin.js":function t(e,r){"use strict";r.__esModule=!0,r.default=a;var n,i=o(e("url"));function o(t){return t&&t.__esModule?t:{default:t}}var s=void 0;function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a")),s.href=t;var r=!(t=i.default.parse(s.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"}},"createIndicesForQuads.js":function t(e,r){"use strict";function n(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}r.__esModule=!0,r.default=n},"trimCanvas.js":function t(e,r){"use strict";function n(t){var e=t.width,r=t.height,n=t.getContext("2d"),i,o=n.getImageData(0,0,e,r).data,s=o.length,a={top:null,left:null,right:null,bottom:null},u=null,l=void 0,h=void 0,c=void 0;for(l=0;l<s;l+=4)0!==o[l+3]&&(h=l/4%e,c=~~(l/4/e),null===a.top&&(a.top=c),null===a.left?a.left=h:h<a.left&&(a.left=h),null===a.right?a.right=h+1:a.right<h&&(a.right=h+1),null===a.bottom?a.bottom=c:a.bottom<c&&(a.bottom=c));return null!==a.top&&(e=a.right-a.left,r=a.bottom-a.top+1,u=n.getImageData(a.left,a.top,e,r)),{height:r,width:e,data:u}}r.__esModule=!0,r.default=n}},sprites:{"Sprite.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=e("../math"),o=e("../utils"),s=e("../const"),a,u=c(e("../textures/Texture")),l,h=c(e("../display/Container"));function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=new i.Point,g=function(t){function e(r){d(this,e);var n=f(this,t.call(this));return n._anchor=new i.ObservablePoint(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=s.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||u.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return p(e,t),e.prototype._onTextureUpdate=function t(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function t(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function t(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var e=this._texture,r=this.transform.worldTransform,n=r.a,i=r.b,o=r.c,s=r.d,a=r.tx,u=r.ty,l=this.vertexData,h=e.trim,c=e.orig,d=this._anchor,f=0,p=0,v=0,g=0;h?(f=(p=h.x-d._x*c.width)+h.width,v=(g=h.y-d._y*c.height)+h.height):(f=(p=-d._x*c.width)+c.width,v=(g=-d._y*c.height)+c.height),l[0]=n*p+o*g+a,l[1]=s*g+i*p+u,l[2]=n*f+o*g+a,l[3]=s*g+i*f+u,l[4]=n*f+o*v+a,l[5]=s*v+i*f+u,l[6]=n*p+o*v+a,l[7]=s*v+i*p+u}},e.prototype.calculateTrimmedVertices=function t(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,o=this.transform.worldTransform,s=o.a,a=o.b,u=o.c,l=o.d,h=o.tx,c=o.ty,d=-i._x*n.width,f=d+n.width,p=-i._y*n.height,v=p+n.height;r[0]=s*d+u*p+h,r[1]=l*p+a*d+c,r[2]=s*f+u*p+h,r[3]=l*p+a*f+c,r[4]=s*f+u*v+h,r[5]=l*v+a*f+c,r[6]=s*d+u*v+h,r[7]=l*v+a*d+c},e.prototype._renderWebGL=function t(e){this.calculateVertices(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function t(e){e.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function t(){var e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function e(r){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function t(e){this.worldTransform.applyInverse(e,v);var r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x,o=0;return v.x>=i&&v.x<i+r&&(o=-n*this.anchor.y,v.y>=o&&v.y<o+n)},e.prototype.destroy=function e(r){var n;if(t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof r?r:r&&r.texture){var i="boolean"==typeof r?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null,this.shader=null},e.from=function t(r){return new e(u.default.from(r))},e.fromFrame=function t(r){var n=o.TextureCache[r];if(!n)throw new Error('The frameId "'+r+'" does not exist in the texture cache');return new e(n)},e.fromImage=function t(r,n,i){return new e(u.default.fromImage(r,n,i))},n(e,[{key:"width",get:function t(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function t(e){var r=(0,o.sign)(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}},{key:"height",get:function t(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function t(e){var r=(0,o.sign)(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}},{key:"anchor",get:function t(){return this._anchor},set:function t(e){this._anchor.copy(e)}},{key:"tint",get:function t(){return this._tint},set:function t(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}},{key:"texture",get:function t(){return this._texture},set:function t(e){this._texture!==e&&(this._texture=e||u.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}]),e}(h.default);r.default=g},canvas:{"CanvasSpriteRenderer.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=l(e("../../renderers/canvas/CanvasRenderer")),o=e("../../const"),s=e("../../math"),a,u=l(e("./CanvasTinter"));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=new s.Matrix,d=function(){function t(e){h(this,t),this.renderer=e}return t.prototype.render=function t(e){var r=e._texture,n=this.renderer,i=r._frame.width,a=r._frame.height,l=e.transform.worldTransform,h=0,d=0;if(!(r.orig.width<=0||r.orig.height<=0)&&r.baseTexture.source&&(n.setBlendMode(e.blendMode),r.valid)){n.context.globalAlpha=e.worldAlpha;var f=r.baseTexture.scaleMode===o.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==f&&(n.context[n.smoothProperty]=f),r.trim?(h=r.trim.width/2+r.trim.x-e.anchor.x*r.orig.width,d=r.trim.height/2+r.trim.y-e.anchor.y*r.orig.height):(h=(.5-e.anchor.x)*r.orig.width,d=(.5-e.anchor.y)*r.orig.height),r.rotate&&(l.copy(c),l=c,s.GroupD8.matrixAppendRotationInv(l,r.rotate,h,d),h=0,d=0),h-=i/2,d-=a/2,n.roundPixels?(n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution|0,l.ty*n.resolution|0),h|=0,d|=0):n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution,l.ty*n.resolution);var p=r.baseTexture.resolution;16777215!==e.tint?(e.cachedTint===e.tint&&e.tintedTexture.tintId===e._texture._updateID||(e.cachedTint=e.tint,e.tintedTexture=u.default.getTintedTexture(e,e.tint)),n.context.drawImage(e.tintedTexture,0,0,i*p,a*p,h*n.resolution,d*n.resolution,i*n.resolution,a*n.resolution)):n.context.drawImage(r.baseTexture.source,r._frame.x*p,r._frame.y*p,i*p,a*p,h*n.resolution,d*n.resolution,i*n.resolution,a*n.resolution)}},t.prototype.destroy=function t(){this.renderer=null},t}();r.default=d,i.default.registerPlugin("sprite",d)},"CanvasTinter.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("../../utils"),i,o;function s(t){return t&&t.__esModule?t:{default:t}}var a={getTintedTexture:function t(e,r){var n=e._texture,i="#"+("00000"+(0|(r=a.roundColor(r))).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var o=n.tintCache[i],s=void 0;if(o){if(o.tintId===n._updateID)return n.tintCache[i];s=n.tintCache[i]}else s=a.canvas||document.createElement("canvas");if(a.tintMethod(n,r,s),s.tintId=n._updateID,a.convertTintToImage){var u=new Image;u.src=s.toDataURL(),n.tintCache[i]=u}else n.tintCache[i]=s,a.canvas=null;return s},tintWithMultiply:function t(e,r,n){var i=n.getContext("2d"),o=e._frame.clone(),s=e.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),i.save(),i.fillStyle="#"+("00000"+(0|r).toString(16)).substr(-6),i.fillRect(0,0,o.width,o.height),i.globalCompositeOperation="multiply",i.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.globalCompositeOperation="destination-atop",i.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.restore()},tintWithOverlay:function t(e,r,n){var i=n.getContext("2d"),o=e._frame.clone(),s=e.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|r).toString(16)).substr(-6),i.fillRect(0,0,o.width,o.height),i.globalCompositeOperation="destination-atop",i.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.restore()},tintWithPerPixel:function t(e,r,i){var o=i.getContext("2d"),s=e._frame.clone(),a=e.baseTexture.resolution;s.x*=a,s.y*=a,s.width*=a,s.height*=a,i.width=Math.ceil(s.width),i.height=Math.ceil(s.height),o.save(),o.globalCompositeOperation="copy",o.drawImage(e.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height),o.restore();for(var u=(0,n.hex2rgb)(r),l=u[0],h=u[1],c=u[2],d=o.getImageData(0,0,s.width,s.height),f=d.data,p=0;p<f.length;p+=4)f[p+0]*=l,f[p+1]*=h,f[p+2]*=c;o.putImageData(d,0,0)},roundColor:function t(e){var r=a.cacheStepsPerColorChannel,i=(0,n.hex2rgb)(e);return i[0]=Math.min(255,i[0]/r*r),i[1]=Math.min(255,i[1]/r*r),i[2]=Math.min(255,i[2]/r*r),(0,n.rgb2hex)(i)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,s(e("../../renderers/canvas/utils/canUseNewCanvasBlendModes")).default)(),tintMethod:0};a.tintMethod=a.canUseMultiply?a.tintWithMultiply:a.tintWithPerPixel,r.default=a}},webgl:{"SpriteRenderer.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=T(e("../../renderers/webgl/utils/ObjectRenderer")),o,s=T(e("../../renderers/webgl/WebGLRenderer")),a,u=T(e("../../utils/createIndicesForQuads")),l,h=T(e("./generateMultiTextureShader")),c,d=T(e("../../renderers/webgl/utils/checkMaxIfStatmentsInShader")),f,p=T(e("./BatchBuffer")),v,g=T(e("../../settings")),y=e("../../utils"),_,m=T(e("pixi-gl-core")),b,x=T(e("bit-twiddle"));function T(t){return t&&t.__esModule?t:{default:t}}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var O=0,M=0,P=function(t){function e(r){w(this,e);var n=E(this,t.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=g.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var i=1;i<=x.default.nextPow2(n.size);i*=2)n.buffers.push(new p.default(4*i*n.vertByteSize));n.indices=(0,u.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var o=0;o<n.size;o++)n.groups[o]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return S(e,t),e.prototype.onContextChange=function t(){var e=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),g.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,d.default)(this.MAX_TEXTURES,e)),this.shader=(0,h.default)(e,this.MAX_TEXTURES),this.indexBuffer=m.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(var r=this.shader.attributes,n=0;n<this.vaoMax;n++){var i=this.vertexBuffers[n]=m.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),o=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(i,r.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(i,r.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(i,r.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);r.aTextureId&&o.addAttribute(i,r.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[n]=o}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function t(){this.vertexCount=0},e.prototype.render=function t(e){this.currentIndex>=this.size&&this.flush(),e._texture._uvs&&(this.sprites[this.currentIndex++]=e)},e.prototype.flush=function t(){if(0!==this.currentIndex){var e=this.renderer.gl,r=this.MAX_TEXTURES,n=x.default.nextPow2(this.currentIndex),i=x.default.log2(n),o=this.buffers[i],s=this.sprites,a=this.groups,u=o.float32View,l=o.uint32View,h=this.boundTextures,c=this.renderer.boundTextures,d=this.renderer.textureGC.count,f=0,p=void 0,v=void 0,_=1,b=0,T=a[0],w=void 0,E=void 0,S=y.premultiplyBlendMode[s[0]._texture.baseTexture.premultipliedAlpha?1:0][s[0].blendMode];T.textureCount=0,T.start=0,T.blend=S,O++;var P=void 0;for(P=0;P<r;++P){var A=c[P];A._enabled!==O?(h[P]=A,A._virtalBoundId=P,A._enabled=O):h[P]=this.renderer.emptyTextures[P]}for(O++,P=0;P<this.currentIndex;++P){var C=s[P];s[P]=null,p=C._texture.baseTexture;var R=y.premultiplyBlendMode[Number(p.premultipliedAlpha)][C.blendMode];if(S!==R&&(S=R,v=null,b=r,O++),v!==p&&(v=p,p._enabled!==O)){if(b===r&&(O++,T.size=P-T.start,b=0,(T=a[_++]).blend=S,T.textureCount=0,T.start=P),p.touched=d,-1===p._virtalBoundId)for(var I=0;I<r;++I){var D=(I+M)%r,L=h[D];if(L._enabled!==O){M++,L._virtalBoundId=-1,p._virtalBoundId=D,h[D]=p;break}}p._enabled=O,T.textureCount++,T.ids[b]=p._virtalBoundId,T.textures[b++]=p}if(w=C.vertexData,E=C._texture._uvs.uvsUint32,this.renderer.roundPixels){var j=this.renderer.resolution;u[f]=(w[0]*j|0)/j,u[f+1]=(w[1]*j|0)/j,u[f+5]=(w[2]*j|0)/j,u[f+6]=(w[3]*j|0)/j,u[f+10]=(w[4]*j|0)/j,u[f+11]=(w[5]*j|0)/j,u[f+15]=(w[6]*j|0)/j,u[f+16]=(w[7]*j|0)/j}else u[f]=w[0],u[f+1]=w[1],u[f+5]=w[2],u[f+6]=w[3],u[f+10]=w[4],u[f+11]=w[5],u[f+15]=w[6],u[f+16]=w[7];l[f+2]=E[0],l[f+7]=E[1],l[f+12]=E[2],l[f+17]=E[3];var k=Math.min(C.worldAlpha,1),N=k<1&&p.premultipliedAlpha?(0,y.premultiplyTint)(C._tintRGB,k):C._tintRGB+(255*k<<24);l[f+3]=l[f+8]=l[f+13]=l[f+18]=N,u[f+4]=u[f+9]=u[f+14]=u[f+19]=p._virtalBoundId,f+=20}if(T.size=P-T.start,g.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var B=this.shader.attributes,F=this.vertexBuffers[this.vertexCount]=m.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),U=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F,B.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(F,B.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(F,B.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);B.aTextureId&&U.addAttribute(F,B.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=U}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!1),this.vertexCount++}for(P=0;P<r;++P)c[P]._virtalBoundId=-1;for(P=0;P<_;++P){for(var X=a[P],G=X.textureCount,H=0;H<G;H++)v=X.textures[H],c[X.ids[H]]!==v&&this.renderer.bindTexture(v,X.ids[H],!0),v._virtalBoundId=-1;this.renderer.state.setBlendMode(X.blend),e.drawElements(e.TRIANGLES,6*X.size,e.UNSIGNED_SHORT,6*X.start*2)}this.currentIndex=0}},e.prototype.start=function t(){this.renderer.bindShader(this.shader),g.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function t(){this.flush()},e.prototype.destroy=function e(){for(var r=0;r<this.vaoMax;r++)this.vertexBuffers[r]&&this.vertexBuffers[r].destroy(),this.vaos[r]&&this.vaos[r].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var n=0;n<this.buffers.length;++n)this.buffers[n].destroy()},e}(i.default);r.default=P,s.default.registerPlugin("sprite",P)},"generateMultiTextureShader.js":function t(e,r){"use strict";r.__esModule=!0,r.default=u;var n,i=s(e("../../Shader")),o=e("path");function s(t){return t&&t.__esModule?t:{default:t}}var a=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");function u(t,e){var r="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",n=a;n=(n=n.replace(/%count%/gi,e)).replace(/%forloop%/gi,l(e));for(var o=new i.default(t,r,n),s=[],u=0;u<e;u++)s[u]=u;return o.bind(),o.uniforms.uSamplers=s,o}function l(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}},"BatchBuffer.js":function t(e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function t(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();r.default=i}}},textures:{"Texture.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=g(e("./BaseTexture")),s,a=g(e("./VideoBaseTexture")),u,l=g(e("./TextureUvs")),h,c=g(e("eventemitter3")),d=e("../math"),f=e("../utils"),p,v=g(e("../settings"));function g(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=function(t){function e(r,n,i,o,s,a){y(this,e);var u=_(this,t.call(this));if(u.noFrame=!1,n||(u.noFrame=!0,n=new d.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),u.baseTexture=r,u._frame=n,u.trim=o,u.valid=!1,u.requiresUpdate=!1,u._uvs=null,u.orig=i||n,u._rotate=Number(s||0),!0===s)u._rotate=2;else if(u._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(u.noFrame&&(n=new d.Rectangle(0,0,r.width,r.height),r.on("update",u.onBaseTextureUpdated,u)),u.frame=n):r.once("loaded",u.onBaseTextureLoaded,u),u.defaultAnchor=a?new d.Point(a.x,a.y):new d.Point(0,0),u._updateID=0,u.transform=null,u.textureCacheIds=[],u}return m(e,t),e.prototype.update=function t(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function t(e){this._updateID++,this.noFrame?this.frame=new d.Rectangle(0,0,e.width,e.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function t(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)},e.prototype.destroy=function t(r){this.baseTexture&&(r&&(f.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function t(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype._updateUvs=function t(){this._uvs||(this._uvs=new l.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function t(r,n,i,s){var a=f.TextureCache[r];return a||(a=new e(o.default.fromImage(r,n,i,s)),e.addToCache(a,r)),a},e.fromFrame=function t(e){var r=f.TextureCache[e];if(!r)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return r},e.fromCanvas=function t(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(o.default.fromCanvas(r,n,i))},e.fromVideo=function t(r,n,i,o){return"string"==typeof r?e.fromVideoUrl(r,n,i,o):new e(a.default.fromVideo(r,n,o))},e.fromVideoUrl=function t(r,n,i,o){return new e(a.default.fromUrl(r,n,i,o))},e.from=function t(r){if("string"==typeof r){var n=f.TextureCache[r],i;return n||(null!==r.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(r):e.fromImage(r))}return r instanceof HTMLImageElement?new e(o.default.from(r)):r instanceof HTMLCanvasElement?e.fromCanvas(r,v.default.SCALE_MODE,"HTMLCanvasElement"):r instanceof HTMLVideoElement?e.fromVideo(r):r instanceof o.default?new e(r):r},e.fromLoader=function t(r,n,i){var s=new o.default(r,void 0,(0,f.getResolutionOfUrl)(n)),a=new e(s);return s.imageUrl=n,i||(i=n),o.default.addToCache(a.baseTexture,i),e.addToCache(a,i),i!==n&&(o.default.addToCache(a.baseTexture,n),e.addToCache(a,n)),a},e.addToCache=function t(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),f.TextureCache[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),f.TextureCache[r]=e)},e.removeFromCache=function t(e){if("string"==typeof e){var r=f.TextureCache[e];if(r){var n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete f.TextureCache[e],r}}else if(e&&e.textureCacheIds){for(var i=0;i<e.textureCacheIds.length;++i)f.TextureCache[e.textureCacheIds[i]]===e&&delete f.TextureCache[e.textureCacheIds[i]];return e.textureCacheIds.length=0,e}return null},n(e,[{key:"frame",get:function t(){return this._frame},set:function t(e){this._frame=e,this.noFrame=!1;var r=e.x,n=e.y,i=e.width,o=e.height,s=r+i>this.baseTexture.width,a=n+o>this.baseTexture.height;if(s||a){var u=s&&a?"and":"or",l="X: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.width,h="Y: "+n+" + "+o+" = "+(n+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+u+" "+h)}this.valid=i&&o&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:"rotate",get:function t(){return this._rotate},set:function t(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:"width",get:function t(){return this.orig.width}},{key:"height",get:function t(){return this.orig.height}}]),e}(c.default);function x(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new b(new o.default(t))}function T(t){t.destroy=function t(){},t.on=function t(){},t.once=function t(){},t.emit=function t(){}}r.default=b,b.EMPTY=new b(new o.default),T(b.EMPTY),T(b.EMPTY.baseTexture),b.WHITE=x(),T(b.WHITE),T(b.WHITE.baseTexture)},"BaseTexture.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("../utils"),i,o=d(e("../settings")),s,a=d(e("eventemitter3")),u,l=d(e("../utils/determineCrossOrigin")),h,c=d(e("bit-twiddle"));function d(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(r,i,s){f(this,e);var a=p(this,t.call(this));return a.uid=(0,n.uid)(),a.touched=0,a.resolution=s||o.default.RESOLUTION,a.width=100,a.height=100,a.realWidth=100,a.realHeight=100,a.scaleMode=void 0!==i?i:o.default.SCALE_MODE,a.hasLoaded=!1,a.isLoading=!1,a.source=null,a.origSource=null,a.imageType=null,a.sourceScale=1,a.premultipliedAlpha=!0,a.imageUrl=null,a.isPowerOfTwo=!1,a.mipmap=o.default.MIPMAP_TEXTURES,a.wrapMode=o.default.WRAP_MODE,a._glTextures={},a._enabled=0,a._virtalBoundId=-1,a._destroyed=!1,a.textureCacheIds=[],r&&a.loadSource(r),a}return v(e,t),e.prototype.update=function t(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function t(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=c.default.isPow2(this.realWidth)&&c.default.isPow2(this.realHeight)},e.prototype.loadSource=function t(e){var r=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,r&&this.source&&(this.source.onload=null,this.source.onerror=null);var n=!this.source;if(this.source=e,(e.src&&e.complete||e.getContext)&&e.width&&e.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit("loaded",this);else if(!e.getContext){this.isLoading=!0;var i=this;if(e.onload=function(){i._updateImageType(),e.onload=null,e.onerror=null,i.isLoading&&(i.isLoading=!1,i._sourceLoaded(),"svg"!==i.imageType?i.emit("loaded",i):i._loadSvgSource())},e.onerror=function(){e.onload=null,e.onerror=null,i.isLoading&&(i.isLoading=!1,i.emit("error",i))},e.complete&&e.src){if(e.onload=null,e.onerror=null,"svg"===i.imageType)return void i._loadSvgSource();this.isLoading=!1,e.width&&e.height?(this._sourceLoaded(),r&&this.emit("loaded",this)):r&&this.emit("error",this)}}},e.prototype._updateImageType=function t(){if(this.imageUrl){var e=(0,n.decomposeDataUri)(this.imageUrl),r=void 0;if(e&&"image"===e.mediaType){var i=e.subType.split("+")[0];if(!(r=(0,n.getUrlFileExtension)("."+i)))throw new Error("Invalid image type in data URI.")}else(r=(0,n.getUrlFileExtension)(this.imageUrl))||(r="png");this.imageType=r}},e.prototype._loadSvgSource=function t(){if("svg"===this.imageType){var e=(0,n.decomposeDataUri)(this.imageUrl);e?this._loadSvgSourceUsingDataUri(e):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function t(e){var r=void 0;if("base64"===e.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");r=atob(e.data)}else r=e.data;this._loadSvgSourceUsingString(r)},e.prototype._loadSvgSourceUsingXhr=function t(){var e=this,r=new XMLHttpRequest;r.onload=function(){if(r.readyState!==r.DONE||200!==r.status)throw new Error("Failed to load SVG using XHR.");e._loadSvgSourceUsingString(r.response)},r.onerror=function(){return e.emit("error",e)},r.open("GET",this.imageUrl,!0),r.send()},e.prototype._loadSvgSourceUsingString=function t(r){var i=(0,n.getSvgSize)(r),o=i.width,s=i.height;if(!o||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(o*this.sourceScale),this.realHeight=Math.round(s*this.sourceScale),this._updateDimensions();var a=document.createElement("canvas");a.width=this.realWidth,a.height=this.realHeight,a._pixiId="canvas_"+(0,n.uid)(),a.getContext("2d").drawImage(this.source,0,0,o,s,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=a,e.addToCache(this,a._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function t(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function t(){this.imageUrl&&(delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function t(){this.emit("dispose",this)},e.prototype.updateSourceImage=function t(e){this.source.src=e,this.loadSource(this.source)},e.fromImage=function t(r,i,o,s){var a=n.BaseTextureCache[r];if(!a){var u=new Image;void 0===i&&0!==r.indexOf("data:")?u.crossOrigin=(0,l.default)(r):i&&(u.crossOrigin="string"==typeof i?i:"anonymous"),(a=new e(u,o)).imageUrl=r,s&&(a.sourceScale=s),a.resolution=(0,n.getResolutionOfUrl)(r),u.src=r,e.addToCache(a,r)}return a},e.fromCanvas=function t(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";r._pixiId||(r._pixiId=o+"_"+(0,n.uid)());var s=n.BaseTextureCache[r._pixiId];return s||(s=new e(r,i),e.addToCache(s,r._pixiId)),s},e.from=function t(r,i,o){if("string"==typeof r)return e.fromImage(r,void 0,i,o);if(r instanceof HTMLImageElement){var s=r.src,a=n.BaseTextureCache[s];return a||((a=new e(r,i)).imageUrl=s,o&&(a.sourceScale=o),a.resolution=(0,n.getResolutionOfUrl)(s),e.addToCache(a,s)),a}return r instanceof HTMLCanvasElement?e.fromCanvas(r,i):r},e.addToCache=function t(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),n.BaseTextureCache[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),n.BaseTextureCache[r]=e)},e.removeFromCache=function t(e){if("string"==typeof e){var r=n.BaseTextureCache[e];if(r){var i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete n.BaseTextureCache[e],r}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete n.BaseTextureCache[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},e}(a.default);r.default=g},"VideoBaseTexture.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=c(e("./BaseTexture")),s=e("../utils"),a=e("../ticker"),u=e("../const"),l,h=c(e("../utils/determineCrossOrigin"));function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(r,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(d(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var o=f(this,t.call(this,r,n));return o.width=r.videoWidth,o.height=r.videoHeight,o._autoUpdate=!0,o._isAutoUpdating=!1,o.autoPlay=i,o.update=o.update.bind(o),o._onCanPlay=o._onCanPlay.bind(o),r.addEventListener("play",o._onPlayStart.bind(o)),r.addEventListener("pause",o._onPlayStop.bind(o)),o.hasLoaded=!1,o.__loaded=!1,o._isSourceReady()?o._onCanPlay():(r.addEventListener("canplay",o._onCanPlay),r.addEventListener("canplaythrough",o._onCanPlay)),o}return p(e,t),e.prototype._isSourcePlaying=function t(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},e.prototype._isSourceReady=function t(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function t(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(a.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function t(){this._isAutoUpdating&&(a.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function t(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function e(){this._isAutoUpdating&&a.shared.remove(this.update,this),this.source&&this.source._pixiId&&(o.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function t(r,n,i){r._pixiId||(r._pixiId="video_"+(0,s.uid)());var a=s.BaseTextureCache[r._pixiId];return a||(a=new e(r,n,i),o.default.addToCache(a,r._pixiId)),a},e.fromUrl=function t(r,n,i,o){var s=document.createElement("video");s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline","");var a=Array.isArray(r)?r[0].src||r[0]:r.src||r;if(void 0===i&&0!==a.indexOf("data:")?s.crossOrigin=(0,h.default)(a):i&&(s.crossOrigin="string"==typeof i?i:"anonymous"),Array.isArray(r))for(var u=0;u<r.length;++u)s.appendChild(g(r[u].src||r[u],r[u].mime));else s.appendChild(g(a,r.mime));return s.load(),e.fromVideo(s,n,o)},n(e,[{key:"autoUpdate",get:function t(){return this._autoUpdate},set:function t(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isAutoUpdating?(a.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(a.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(o.default);function g(t,e){if(!e){var r=t.split("?").shift().toLowerCase();e="video/"+r.substr(r.lastIndexOf(".")+1)}var n=document.createElement("source");return n.src=t,n.type=e,n}r.default=v,v.fromUrls=v.fromUrl},"TextureUvs.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=o(e("../math/GroupD8"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(){s(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function t(e,r,n){var o=r.width,s=r.height;if(n){var a=e.width/2/o,u=e.height/2/s,l=e.x/o+a,h=e.y/s+u;n=i.default.add(n,i.default.NW),this.x0=l+a*i.default.uX(n),this.y0=h+u*i.default.uY(n),n=i.default.add(n,2),this.x1=l+a*i.default.uX(n),this.y1=h+u*i.default.uY(n),n=i.default.add(n,2),this.x2=l+a*i.default.uX(n),this.y2=h+u*i.default.uY(n),n=i.default.add(n,2),this.x3=l+a*i.default.uX(n),this.y3=h+u*i.default.uY(n)}else this.x0=e.x/o,this.y0=e.y/s,this.x1=(e.x+e.width)/o,this.y1=e.y/s,this.x2=(e.x+e.width)/o,this.y2=(e.y+e.height)/s,this.x3=e.x/o,this.y3=(e.y+e.height)/s;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)},t}();r.default=a},"RenderTexture.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=a(e("./BaseRenderTexture")),o,s;function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(r,n){u(this,e);var o=null;if(!(r instanceof i.default)){var s=arguments[1],a=arguments[2],h=arguments[3],c=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+a+") instead of the ctor directly."),o=arguments[0],n=null,r=new i.default(s,a,h,c)}var d=l(this,t.call(this,r,n));return d.legacyRenderer=o,d.valid=!0,d._updateUvs(),d}return h(e,t),e.prototype.resize=function t(e,r,n){e=Math.ceil(e),r=Math.ceil(r),this.valid=e>0&&r>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=r,n||this.baseTexture.resize(e,r),this._updateUvs()},e.create=function t(r,n,o,s){return new e(new i.default(r,n,o,s))},e}(a(e("./Texture")).default);r.default=c},"BaseRenderTexture.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=a(e("./BaseTexture")),o,s=a(e("../settings"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments[2],o=arguments[3];u(this,e);var a=l(this,t.call(this,null,i));return a.resolution=o||s.default.RESOLUTION,a.width=Math.ceil(r),a.height=Math.ceil(n),a.realWidth=a.width*a.resolution,a.realHeight=a.height*a.resolution,a.scaleMode=void 0!==i?i:s.default.SCALE_MODE,a.hasLoaded=!0,a._glRenderTargets={},a._canvasRenderTarget=null,a.valid=!1,a}return h(e,t),e.prototype.resize=function t(e,r){e=Math.ceil(e),r=Math.ceil(r),e===this.width&&r===this.height||(this.valid=e>0&&r>0,this.width=e,this.height=r,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function e(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(i.default);r.default=c},"TextureMatrix.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=s(e("../math/Matrix"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=new o.default,l=function(){function t(e,r){a(this,t),this._texture=e,this.mapCoord=new o.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===r?.5:r}return t.prototype.multiplyUvs=function t(e,r){void 0===r&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var o=e[i],s=e[i+1];r[i]=o*n.a+s*n.c+n.tx,r[i+1]=o*n.b+s*n.d+n.ty}return r},t.prototype.update=function t(e){var r=this._texture;if(!r||!r.valid)return!1;if(!e&&this._lastTextureID===r._updateID)return!1;this._lastTextureID=r._updateID;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,o=r.trim;o&&(u.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(u));var s=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/s.resolution,h=this.clampOffset;return a[0]=(r._frame.x+l+h)/s.width,a[1]=(r._frame.y+l+h)/s.height,a[2]=(r._frame.x+r._frame.width-l+h)/s.width,a[3]=(r._frame.y+r._frame.height-l+h)/s.height,this.uClampOffset[0]=h/s.realWidth,this.uClampOffset[1]=h/s.realHeight,!0},n(t,[{key:"texture",get:function t(){return this._texture},set:function t(e){this._texture=e,this._lastTextureID=-1}}]),t}();r.default=l},"Spritesheet.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=e("../"),o=e("../utils");function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s(this,t),this.baseTexture=e,this.textures={},this.animations={},this.data=r,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n(t,null,[{key:"BATCH_SIZE",get:function t(){return 1e3}}]),t.prototype._updateResolution=function t(e){var r=this.data.meta.scale,n=(0,o.getResolutionOfUrl)(e,null);return null===n&&(n=void 0!==r?parseFloat(r):1),1!==n&&(this.baseTexture.resolution=n,this.baseTexture.update()),n},t.prototype.parse=function e(r){this._batchIndex=0,this._callback=r,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function e(r){for(var n=r,o=t.BATCH_SIZE,s=this.baseTexture.sourceScale;n-r<o&&n<this._frameKeys.length;){var a=this._frameKeys[n],u=this._frames[a],l=u.frame;if(l){var h=null,c=null,d=!1!==u.trimmed&&u.sourceSize?u.sourceSize:u.frame,f=new i.Rectangle(0,0,Math.floor(d.w*s)/this.resolution,Math.floor(d.h*s)/this.resolution);h=u.rotated?new i.Rectangle(Math.floor(l.x*s)/this.resolution,Math.floor(l.y*s)/this.resolution,Math.floor(l.h*s)/this.resolution,Math.floor(l.w*s)/this.resolution):new i.Rectangle(Math.floor(l.x*s)/this.resolution,Math.floor(l.y*s)/this.resolution,Math.floor(l.w*s)/this.resolution,Math.floor(l.h*s)/this.resolution),!1!==u.trimmed&&u.spriteSourceSize&&(c=new i.Rectangle(Math.floor(u.spriteSourceSize.x*s)/this.resolution,Math.floor(u.spriteSourceSize.y*s)/this.resolution,Math.floor(l.w*s)/this.resolution,Math.floor(l.h*s)/this.resolution)),this.textures[a]=new i.Texture(this.baseTexture,h,f,c,u.rotated?2:0,u.anchor),i.Texture.addToCache(this.textures[a],a)}n++}},t.prototype._processAnimations=function t(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=e[r],i=Array.isArray(n),o=0,n=i?n:n[Symbol.iterator]();;){var s;if(i){if(o>=n.length)break;s=n[o++]}else{if((o=n.next()).done)break;s=o.value}var a=s;this.animations[r].push(this.textures[a])}}},t.prototype._parseComplete=function t(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function e(){var r=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){r._batchIndex*t.BATCH_SIZE<r._frameKeys.length?r._nextBatch():(r._processAnimations(),r._parseComplete())}),0)},t.prototype.destroy=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&this.baseTexture.destroy(),this.baseTexture=null},t}();r.default=a}},ticker:{"index.js":function t(e,r){"use strict";r.__esModule=!0,r.Ticker=r.shared=void 0;var n,i=o(e("./Ticker"));function o(t){return t&&t.__esModule?t:{default:t}}var s=new i.default;s.autoStart=!0,s.destroy=function(){},r.shared=s,r.Ticker=i.default},"Ticker.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=l(e("../settings")),s=e("../const"),a,u=l(e("./TickerListener"));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(){var e=this;h(this,t),this._head=new u.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/o.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function t(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function t(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function t(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,r,n))},t.prototype.addOnce=function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,r,n,!0))},t.prototype._addListener=function t(e){var r=this._head.next,n=this._head;if(r){for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this},t.prototype.remove=function t(e,r){for(var n=this._head.next;n;)n=n.match(e,r)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function t(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function t(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function t(){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),r=void 0;if(e>this.lastTime){(r=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(r=this._maxElapsedMS),this.deltaTime=r*o.default.TARGET_FPMS*this.speed;for(var n=this._head,i=n.next;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=e},n(t,[{key:"FPS",get:function t(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function t(){return 1e3/this._maxElapsedMS},set:function t(e){var r=Math.min(Math.max(0,e)/1e3,o.default.TARGET_FPMS);this._maxElapsedMS=1/r}}]),t}();r.default=c},"TickerListener.js":function t(e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,t),this.fn=e,this.context=r,this.priority=i,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function t(e,r){return r=r||null,this.fn===e&&this.context===r},t.prototype.emit=function t(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function t(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}();r.default=i}},renderers:{canvas:{"CanvasRenderer.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=v(e("../SystemRenderer")),o,s=v(e("./utils/CanvasMaskManager")),a,u=v(e("./utils/CanvasRenderTarget")),l,h=v(e("./utils/mapCanvasBlendModesToPixi")),c=e("../../utils"),d=e("../../const"),f,p=v(e("../../settings"));function v(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(r,n,i){g(this,e);var o=y(this,t.call(this,"Canvas",r,n,i));return o.type=d.RENDERER_TYPE.CANVAS,o.rootContext=o.view.getContext("2d",{alpha:o.transparent}),o.context=o.rootContext,o.refresh=!0,o.maskManager=new s.default(o),o.smoothProperty="imageSmoothingEnabled",o.rootContext.imageSmoothingEnabled||(o.rootContext.webkitImageSmoothingEnabled?o.smoothProperty="webkitImageSmoothingEnabled":o.rootContext.mozImageSmoothingEnabled?o.smoothProperty="mozImageSmoothingEnabled":o.rootContext.oImageSmoothingEnabled?o.smoothProperty="oImageSmoothingEnabled":o.rootContext.msImageSmoothingEnabled&&(o.smoothProperty="msImageSmoothingEnabled")),o.initPlugins(),o.blendModes=(0,h.default)(),o._activeBlendMode=null,o.renderingToScreen=!1,o.resize(o.options.width,o.options.height),o}return _(e,t),e.prototype.render=function t(e,r,n,i,o){if(this.view){this.renderingToScreen=!r,this.emit("prerender");var s=this.resolution;r?((r=r.baseTexture||r)._canvasRenderTarget||(r._canvasRenderTarget=new u.default(r.width,r.height,r.resolution),r.source=r._canvasRenderTarget.canvas,r.valid=!0),this.context=r._canvasRenderTarget.context,this.resolution=r._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(r||(this._lastObjectRendered=e),!o){var l=e.parent,h=this._tempDisplayObjectParent.transform.worldTransform;i?(i.copy(h),this._tempDisplayObjectParent.transform._worldID=-1):h.identity(),e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=l}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=d.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[d.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=a,e.renderCanvas(this),this.context=c,a.restore(),this.resolution=s,this.emit("postrender")}},e.prototype.clear=function t(e){var r=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(r.fillStyle=e,r.fillRect(0,0,this.width,this.height)):r.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function t(e){this._activeBlendMode!==e&&(this._activeBlendMode=e,this.context.globalCompositeOperation=this.blendModes[e])},e.prototype.destroy=function e(r){this.destroyPlugins(),t.prototype.destroy.call(this,r),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function e(r,n){t.prototype.resize.call(this,r,n),this.smoothProperty&&(this.rootContext[this.smoothProperty]=p.default.SCALE_MODE===d.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function t(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(i.default);r.default=m,c.pluginTarget.mixin(m)},utils:{"CanvasMaskManager.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("../../../const");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e){i(this,t),this.renderer=e}return t.prototype.pushMask=function t(e){var r=this.renderer;r.context.save();var n=e.alpha,i=e.transform.worldTransform,o=r.resolution;r.context.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),e._texture||(this.renderGraphicsShape(e),r.context.clip()),e.worldAlpha=n},t.prototype.renderGraphicsShape=function t(e){var r=this.renderer.context,i=e.graphicsData.length;if(0!==i){r.beginPath();for(var o=0;o<i;o++){var s=e.graphicsData[o],a=s.shape;if(s.type===n.SHAPES.POLY){var u=a.points,l=s.holes,h=void 0,c=void 0;r.moveTo(u[0],u[1]);for(var d=2;d<u.length;d+=2)r.lineTo(u[d],u[d+1]);if(u[0]===u[u.length-2]&&u[1]===u[u.length-1]&&r.closePath(),l.length>0){h=0;for(var f=0;f<u.length;f+=2)h+=u[f]*u[f+3]-u[f+1]*u[f+2];for(var p=0;p<l.length;p++){u=l[p].points,c=0;for(var v=0;v<u.length;v+=2)c+=u[v]*u[v+3]-u[v+1]*u[v+2];if(r.moveTo(u[0],u[1]),c*h<0)for(var g=2;g<u.length;g+=2)r.lineTo(u[g],u[g+1]);else for(var y=u.length-2;y>=2;y-=2)r.lineTo(u[y],u[y+1])}}}else if(s.type===n.SHAPES.RECT)r.rect(a.x,a.y,a.width,a.height),r.closePath();else if(s.type===n.SHAPES.CIRC)r.arc(a.x,a.y,a.radius,0,2*Math.PI),r.closePath();else if(s.type===n.SHAPES.ELIP){var _=2*a.width,m=2*a.height,b=a.x-_/2,x=a.y-m/2,T=.5522848,w=_/2*T,E=m/2*T,S=b+_,O=x+m,M=b+_/2,P=x+m/2;r.moveTo(b,P),r.bezierCurveTo(b,P-E,M-w,x,M,x),r.bezierCurveTo(M+w,x,S,P-E,S,P),r.bezierCurveTo(S,P+E,M+w,O,M,O),r.bezierCurveTo(M-w,O,b,P+E,b,P),r.closePath()}else if(s.type===n.SHAPES.RREC){var A=a.x,C=a.y,R=a.width,I=a.height,D=a.radius,L=Math.min(R,I)/2|0;D=D>L?L:D,r.moveTo(A,C+D),r.lineTo(A,C+I-D),r.quadraticCurveTo(A,C+I,A+D,C+I),r.lineTo(A+R-D,C+I),r.quadraticCurveTo(A+R,C+I,A+R,C+I-D),r.lineTo(A+R,C+D),r.quadraticCurveTo(A+R,C,A+R-D,C),r.lineTo(A+D,C),r.quadraticCurveTo(A,C,A,C+D),r.closePath()}}}},t.prototype.popMask=function t(e){e.context.restore(),e.invalidateBlendMode()},t.prototype.destroy=function t(){},t}();r.default=o},"CanvasRenderTarget.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=s(e("../../../settings"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(e,r,n){a(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||o.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function t(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function t(e,r){this.canvas.width=e*this.resolution,this.canvas.height=r*this.resolution},t.prototype.destroy=function t(){this.context=null,this.canvas=null},n(t,[{key:"width",get:function t(){return this.canvas.width},set:function t(e){this.canvas.width=e}},{key:"height",get:function t(){return this.canvas.height},set:function t(e){this.canvas.height=e}}]),t}();r.default=u},"mapCanvasBlendModesToPixi.js":function t(e,r){"use strict";r.__esModule=!0,r.default=a;var n=e("../../../const"),i,o=s(e("./canUseNewCanvasBlendModes"));function s(t){return t&&t.__esModule?t:{default:t}}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,o.default)()?(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="multiply",t[n.BLEND_MODES.SCREEN]="screen",t[n.BLEND_MODES.OVERLAY]="overlay",t[n.BLEND_MODES.DARKEN]="darken",t[n.BLEND_MODES.LIGHTEN]="lighten",t[n.BLEND_MODES.COLOR_DODGE]="color-dodge",t[n.BLEND_MODES.COLOR_BURN]="color-burn",t[n.BLEND_MODES.HARD_LIGHT]="hard-light",t[n.BLEND_MODES.SOFT_LIGHT]="soft-light",t[n.BLEND_MODES.DIFFERENCE]="difference",t[n.BLEND_MODES.EXCLUSION]="exclusion",t[n.BLEND_MODES.HUE]="hue",t[n.BLEND_MODES.SATURATION]="saturate",t[n.BLEND_MODES.COLOR]="color",t[n.BLEND_MODES.LUMINOSITY]="luminosity"):(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="source-over",t[n.BLEND_MODES.SCREEN]="source-over",t[n.BLEND_MODES.OVERLAY]="source-over",t[n.BLEND_MODES.DARKEN]="source-over",t[n.BLEND_MODES.LIGHTEN]="source-over",t[n.BLEND_MODES.COLOR_DODGE]="source-over",t[n.BLEND_MODES.COLOR_BURN]="source-over",t[n.BLEND_MODES.HARD_LIGHT]="source-over",t[n.BLEND_MODES.SOFT_LIGHT]="source-over",t[n.BLEND_MODES.DIFFERENCE]="source-over",t[n.BLEND_MODES.EXCLUSION]="source-over",t[n.BLEND_MODES.HUE]="source-over",t[n.BLEND_MODES.SATURATION]="source-over",t[n.BLEND_MODES.COLOR]="source-over",t[n.BLEND_MODES.LUMINOSITY]="source-over"),t[n.BLEND_MODES.NORMAL_NPM]=t[n.BLEND_MODES.NORMAL],t[n.BLEND_MODES.ADD_NPM]=t[n.BLEND_MODES.ADD],t[n.BLEND_MODES.SCREEN_NPM]=t[n.BLEND_MODES.SCREEN],t}},"canUseNewCanvasBlendModes.js":function t(e,r){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}function i(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}r.__esModule=!0,r.default=i}}},"SystemRenderer.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=e("../utils"),o=e("../math"),s=e("../const"),a,u=v(e("../settings")),l,h=v(e("../display/Container")),c,d=v(e("../textures/RenderTexture")),f,p=v(e("eventemitter3"));function v(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=new o.Matrix,b=function(t){function e(r,n,a,l){g(this,e);var c=y(this,t.call(this));return(0,i.sayHello)(r),"number"==typeof n&&(n=Object.assign({width:n,height:a||u.default.RENDER_OPTIONS.height},l)),n=Object.assign({},u.default.RENDER_OPTIONS,n),c.options=n,c.type=s.RENDERER_TYPE.UNKNOWN,c.screen=new o.Rectangle(0,0,n.width,n.height),c.view=n.view||document.createElement("canvas"),c.resolution=n.resolution||u.default.RESOLUTION,c.transparent=n.transparent,c.autoResize=n.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=n.preserveDrawingBuffer,c.clearBeforeRender=n.clearBeforeRender,c.roundPixels=n.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=n.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new h.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return _(e,t),e.prototype.resize=function t(e,r){this.screen.width=e,this.screen.height=r,this.view.width=e*this.resolution,this.view.height=r*this.resolution,this.autoResize&&(this.view.style.width=e+"px",this.view.style.height=r+"px")},e.prototype.generateTexture=function t(e,r,n,i){i=i||e.getLocalBounds();var o=d.default.create(0|i.width,0|i.height,r,n);return m.tx=-i.x,m.ty=-i.y,this.render(e,o,!1,m,!!e.parent),o},e.prototype.destroy=function t(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(e,[{key:"width",get:function t(){return this.view.width}},{key:"height",get:function t(){return this.view.height}},{key:"backgroundColor",get:function t(){return this._backgroundColor},set:function t(e){this._backgroundColor=e,this._backgroundColorString=(0,i.hex2string)(e),(0,i.hex2rgb)(e,this._backgroundColorRgba)}}]),e}(p.default);r.default=b},webgl:{utils:{"ObjectRenderer.js":function t(e,r){"use strict";var n,i;function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var l=function(t){function e(){return s(this,e),a(this,t.apply(this,arguments))}return u(e,t),e.prototype.start=function t(){},e.prototype.stop=function t(){this.flush()},e.prototype.flush=function t(){},e.prototype.render=function t(e){},e}(o(e("../managers/WebGLManager")).default);r.default=l},"RenderTarget.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("../../../math"),i=e("../../../const"),o,s=u(e("../../../settings")),a=e("pixi-gl-core");function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=function(){function t(e,r,o,u,h,c){l(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new n.Rectangle(0,0,1,1),this.resolution=h||s.default.RESOLUTION,this.projectionMatrix=new n.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new n.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==u?u:s.default.SCALE_MODE,this.root=c||!1,this.root?(this.frameBuffer=new a.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=a.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===i.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,o)}return t.prototype.clear=function t(e){var r=e||this.clearColor;this.frameBuffer.clear(r[0],r[1],r[2],r[3])},t.prototype.attachStencilBuffer=function t(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function t(e,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||this.destinationFrame},t.prototype.activate=function t(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(e.enable(e.SCISSOR_TEST),e.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):e.disable(e.SCISSOR_TEST),e.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function t(e,r){var n=this.projectionMatrix;r=r||e,n.identity(),this.root?(n.a=1/e.width*2,n.d=-1/e.height*2,n.tx=-1-r.x*n.a,n.ty=1-r.y*n.d):(n.a=1/e.width*2,n.d=1/e.height*2,n.tx=-1-r.x*n.a,n.ty=-1-r.y*n.d)},t.prototype.resize=function t(e,r){if(e|=0,r|=0,this.size.width!==e||this.size.height!==r){this.size.width=e,this.size.height=r,this.defaultFrame.width=e,this.defaultFrame.height=r,this.frameBuffer.resize(e*this.resolution,r*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}},t.prototype.destroy=function t(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();r.default=h},"Quad.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=a(e("pixi-gl-core")),o,s=a(e("../../../utils/createIndicesForQuads"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(e,r){u(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;n<4;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,s.default)(1),this.vertexBuffer=i.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new i.default.VertexArrayObject(e,r)}return t.prototype.initVao=function t(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function t(e,r){var n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this},t.prototype.upload=function t(){for(var e=0;e<4;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function t(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)},t}();r.default=l},"mapWebGLBlendModesToPixi.js":function t(e,r){"use strict";r.__esModule=!0,r.default=i;var n=e("../../../const");function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[n.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e}},"mapWebGLDrawModesToPixi.js":function t(e,r){"use strict";r.__esModule=!0,r.default=i;var n=e("../../../const");function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e}},"validateContext.js":function t(e,r){"use strict";function n(t){var e;t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}r.__esModule=!0,r.default=n},"checkMaxIfStatmentsInShader.js":function t(e,r){"use strict";r.__esModule=!0,r.default=a;var n,i=o(e("pixi-gl-core"));function o(t){return t&&t.__esModule?t:{default:t}}var s=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function a(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var n=document.createElement("canvas");n.width=1,n.height=1,e=i.default.createContext(n)}for(var o=e.createShader(e.FRAGMENT_SHADER);;){var a=s.replace(/%forloop%/gi,u(t));if(e.shaderSource(o,a),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS))break;t=t/2|0}return r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}function u(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}}},managers:{"WebGLManager.js":function t(e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function t(){},t.prototype.destroy=function t(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();r.default=i},"MaskManager.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=a(e("./WebGLManager")),o,s=a(e("../filters/spriteMask/SpriteMaskFilter"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(r){u(this,e);var n=l(this,t.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return h(e,t),e.prototype.pushMask=function t(e,r){if(r.texture)this.pushSpriteMask(e,r);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&r.isFastRect()){var n=r.worldTransform,i=Math.atan2(n.b,n.a);(i=Math.round(i*(180/Math.PI)))%90?this.pushStencilMask(r):this.pushScissorMask(e,r)}else this.pushStencilMask(r)},e.prototype.popMask=function t(e,r){r.texture?this.popSpriteMask(e,r):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,r):this.popStencilMask(e,r)},e.prototype.pushSpriteMask=function t(e,r){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new s.default(r)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=r;var i=e.filterArea;e.filterArea=r.getBounds(!0),this.renderer.filterManager.pushFilter(e,n),e.filterArea=i,this.alphaMaskIndex++},e.prototype.popSpriteMask=function t(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function t(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)},e.prototype.popStencilMask=function t(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function t(e,r){r.renderable=!0;var n=this.renderer._activeRenderTarget,i=r.getBounds();i.fit(n.size),r.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var o=this.renderer.resolution;this.renderer.gl.scissor(i.x*o,(n.root?n.size.height-i.y-i.height:i.y)*o,i.width*o,i.height*o),this.scissorRenderTarget=n,this.scissorData=r,this.scissor=!0},e.prototype.popScissorMask=function t(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)},e}(i.default);r.default=c},"StencilManager.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=o(e("./WebGLManager"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(t){function e(r){s(this,e);var n=a(this,t.call(this,r));return n.stencilMaskStack=null,n}return u(e,t),e.prototype.setMaskStack=function t(e){this.stencilMaskStack=e;var r=this.renderer.gl;0===e.length?r.disable(r.STENCIL_TEST):r.enable(r.STENCIL_TEST)},e.prototype.pushStencil=function t(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var r=this.renderer.gl,n=this.stencilMaskStack.length;0===n&&r.enable(r.STENCIL_TEST),this.stencilMaskStack.push(e),r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,n,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),this.renderer.plugins.graphics.render(e),this._useCurrent()},e.prototype.popStencil=function t(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,r=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(r),this._useCurrent())},e.prototype._useCurrent=function t(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},e.prototype._getBitwiseMask=function t(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function t(){i.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(i.default);r.default=l},"FilterManager.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=y(e("./WebGLManager")),o,s=y(e("../utils/RenderTarget")),a,u=y(e("../utils/Quad")),l=e("../../../math"),h,c=y(e("../../../Shader")),d,f=g(e("../filters/filterTransforms")),p,v=y(e("bit-twiddle"));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function y(t){return t&&t.__esModule?t:{default:t}}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var x=function(){function t(){b(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new l.Rectangle,this.destinationFrame=new l.Rectangle,this.filters=[]}return t.prototype.clear=function t(){this.filters=null,this.target=null,this.renderTarget=null},t}(),T="screen",w=function(t){function e(r){b(this,e);var n=_(this,t.call(this,r));return n.gl=n.renderer.gl,n.quad=new u.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n.managedFilters=[],n.renderer.on("prerender",n.onPrerender,n),n._screenWidth=r.view.width,n._screenHeight=r.view.height,n}return m(e,t),e.prototype.pushFilter=function t(e,r){var n=this.renderer,i=this.filterData;if(!i){i=this.renderer._activeRenderTarget.filterStack;var o=new x;o.sourceFrame=o.destinationFrame=this.renderer._activeRenderTarget.size,o.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=i={index:0,stack:[o]},this.filterData=i}var s=i.stack[++i.index],a=i.stack[0].destinationFrame;s||(s=i.stack[i.index]=new x);var u=e.filterArea&&0===e.filterArea.x&&0===e.filterArea.y&&e.filterArea.width===n.screen.width&&e.filterArea.height===n.screen.height,l=r[0].resolution,h=0|r[0].padding,c=u?n.screen:e.filterArea||e.getBounds(!0),d=s.sourceFrame,f=s.destinationFrame;d.x=(c.x*l|0)/l,d.y=(c.y*l|0)/l,d.width=(c.width*l|0)/l,d.height=(c.height*l|0)/l,u||(i.stack[0].renderTarget.transform||r[0].autoFit&&d.fit(a),d.pad(h)),f.width=d.width,f.height=d.height;var p=this.getPotRenderTarget(n.gl,d.width,d.height,l);s.target=e,s.filters=r,s.resolution=l,s.renderTarget=p,p.setFrame(f,d),n.bindRenderTarget(p),p.clear()},e.prototype.popFilter=function t(){var e=this.filterData,r=e.stack[e.index-1],n=e.stack[e.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var i=n.filters;if(1===i.length)i[0].apply(this,n.renderTarget,r.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var o=n.renderTarget,s=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);s.setFrame(n.destinationFrame,n.sourceFrame),s.clear();var a=0;for(a=0;a<i.length-1;++a){i[a].apply(this,o,s,!0,n);var u=o;o=s,s=u}i[a].apply(this,o,r.renderTarget,!1,n),this.freePotRenderTarget(o),this.freePotRenderTarget(s)}n.clear(),e.index--,0===e.index&&(this.filterData=null)},e.prototype.applyFilter=function t(e,r,n,i){var o=this.renderer,s=o.gl,a=e.glShaders[o.CONTEXT_UID];a||(e.glShaderKey?(a=this.shaderCache[e.glShaderKey])||(a=new c.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[o.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=a,this.managedFilters.push(e)):(a=e.glShaders[o.CONTEXT_UID]=new c.default(this.gl,e.vertexSrc,e.fragmentSrc),this.managedFilters.push(e)),o.bindVao(null),this.quad.initVao(a)),o.bindVao(this.quad.vao),o.bindRenderTarget(n),i&&(s.disable(s.SCISSOR_TEST),o.clear(),s.enable(s.SCISSOR_TEST)),n===o.maskManager.scissorRenderTarget&&o.maskManager.pushScissorMask(null,o.maskManager.scissorData),o.bindShader(a);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(a,e),o.state.setBlendMode(e.blendMode),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,r.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),s.bindTexture(s.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function t(e,r){var n=r.uniformData,i=r.uniforms,o=1,s=void 0;if(e.uniforms.filterArea){s=this.filterData.stack[this.filterData.index];var a=e.uniforms.filterArea;a[0]=s.renderTarget.size.width,a[1]=s.renderTarget.size.height,a[2]=s.sourceFrame.x,a[3]=s.sourceFrame.y,e.uniforms.filterArea=a}if(e.uniforms.filterClamp){s=s||this.filterData.stack[this.filterData.index];var u=e.uniforms.filterClamp;u[0]=0,u[1]=0,u[2]=(s.sourceFrame.width-1)/s.renderTarget.size.width,u[3]=(s.sourceFrame.height-1)/s.renderTarget.size.height,e.uniforms.filterClamp=u}for(var l in n)if(e.uniforms.data[l]){var h=n[l].type;if("sampler2d"===h&&0!==i[l]){if(i[l].baseTexture)e.uniforms[l]=this.renderer.bindTexture(i[l].baseTexture,o);else{e.uniforms[l]=o;var c=this.renderer.gl;this.renderer.boundTextures[o]=this.renderer.emptyTextures[o],c.activeTexture(c.TEXTURE0+o),i[l].texture.bind()}o++}else if("mat3"===h)void 0!==i[l].a?e.uniforms[l]=i[l].toArray(!0):e.uniforms[l]=i[l];else if("vec2"===h)if(void 0!==i[l].x){var d=e.uniforms[l]||new Float32Array(2);d[0]=i[l].x,d[1]=i[l].y,e.uniforms[l]=d}else e.uniforms[l]=i[l];else"float"===h?e.uniforms.data[l].value!==n[l]&&(e.uniforms[l]=i[l]):e.uniforms[l]=i[l]}},e.prototype.getRenderTarget=function t(e,r){var n=this.filterData.stack[this.filterData.index],i=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,r||n.resolution);return i.setFrame(n.destinationFrame,n.sourceFrame),i},e.prototype.returnRenderTarget=function t(e){this.freePotRenderTarget(e)},e.prototype.calculateScreenSpaceMatrix=function t(e){var r=this.filterData.stack[this.filterData.index];return f.calculateScreenSpaceMatrix(e,r.sourceFrame,r.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function t(e){var r=this.filterData.stack[this.filterData.index];return f.calculateNormalizedScreenSpaceMatrix(e,r.sourceFrame,r.renderTarget.size,r.destinationFrame)},e.prototype.calculateSpriteMatrix=function t(e,r){var n=this.filterData.stack[this.filterData.index];return f.calculateSpriteMatrix(e,n.sourceFrame,n.renderTarget.size,r)},e.prototype.destroy=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.renderer,n=this.managedFilters;r.off("prerender",this.onPrerender,this);for(var i=0;i<n.length;i++)e||n[i].glShaders[r.CONTEXT_UID].destroy(),delete n[i].glShaders[r.CONTEXT_UID];this.shaderCache={},e?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function t(e,r,n,i){var o="screen";n*=i,(r*=i)===this._screenWidth&&n===this._screenHeight||(o=(65535&(r=v.default.nextPow2(r)))<<16|65535&(n=v.default.nextPow2(n))),this.pool[o]||(this.pool[o]=[]);var a=this.pool[o].pop();if(!a){var u=this.renderer.boundTextures[0];e.activeTexture(e.TEXTURE0),a=new s.default(e,r,n,null,1),e.bindTexture(e.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)}return a.resolution=i,a.defaultFrame.width=a.size.width=r/i,a.defaultFrame.height=a.size.height=n/i,a.filterPoolKey=o,a},e.prototype.emptyPool=function t(){for(var e in this.pool){var r=this.pool[e];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function t(e){this.pool[e.filterPoolKey].push(e)},e.prototype.onPrerender=function t(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var e=this.pool.screen;if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0);this.pool.screen=[]}},e}(i.default);r.default=w}},"WebGLRenderer.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=R(e("../SystemRenderer")),o,s=R(e("./managers/MaskManager")),a,u=R(e("./managers/StencilManager")),l,h=R(e("./managers/FilterManager")),c,d=R(e("./utils/RenderTarget")),f,p=R(e("./utils/ObjectRenderer")),v,g=R(e("./TextureManager")),y,_=R(e("../../textures/BaseTexture")),m,b=R(e("./TextureGarbageCollector")),x,T=R(e("./WebGLState")),w,E=R(e("./utils/mapWebGLDrawModesToPixi")),S,O=R(e("./utils/validateContext")),M=e("../../utils"),P,A=R(e("pixi-gl-core")),C=e("../../const");function R(t){return t&&t.__esModule?t:{default:t}}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function L(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var j=0,k=function(t){function e(r,n,i){I(this,e);var o=D(this,t.call(this,"WebGL",r,n,i));return o.legacy=o.options.legacy,o.legacy&&(A.default.VertexArrayObject.FORCE_NATIVE=!0),o.type=C.RENDERER_TYPE.WEBGL,o.handleContextLost=o.handleContextLost.bind(o),o.handleContextRestored=o.handleContextRestored.bind(o),o.view.addEventListener("webglcontextlost",o.handleContextLost,!1),o.view.addEventListener("webglcontextrestored",o.handleContextRestored,!1),o._contextOptions={alpha:o.transparent,antialias:o.options.antialias,premultipliedAlpha:o.transparent&&"notMultiplied"!==o.transparent,stencil:!0,preserveDrawingBuffer:o.options.preserveDrawingBuffer,powerPreference:o.options.powerPreference},o._backgroundColorRgba[3]=o.transparent?0:1,o.maskManager=new s.default(o),o.stencilManager=new u.default(o),o.emptyRenderer=new p.default(o),o.currentRenderer=o.emptyRenderer,o.textureManager=null,o.filterManager=null,o.initPlugins(),o.options.context&&(0,O.default)(o.options.context),o.gl=o.options.context||A.default.createContext(o.view,o._contextOptions),o.CONTEXT_UID=j++,o.state=new T.default(o.gl),o.renderingToScreen=!0,o.boundTextures=null,o._activeShader=null,o._activeVao=null,o._activeRenderTarget=null,o._initContext(),o.drawModes=(0,E.default)(o.gl),o._nextTextureLocation=0,o.setBlendMode(0),o}return L(e,t),e.prototype._initContext=function t(){var e=this.gl;e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext();var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(r),this.emptyTextures=new Array(r),this._unknownBoundTextures=!1,this.textureManager=new g.default(this),this.filterManager=new h.default(this),this.textureGC=new b.default(this),this.state.resetToDefault(),this.rootRenderTarget=new d.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new A.default.GLTexture.fromData(e,null,1,1),i={_glTextures:{}};i._glTextures[this.CONTEXT_UID]={};for(var o=0;o<r;o++){var s=new _.default;s._glTextures[this.CONTEXT_UID]=n,this.boundTextures[o]=i,this.emptyTextures[o]=s,this.bindTexture(null,o)}this.emit("context",e),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function t(e,r,n,i,o){if(this.renderingToScreen=!r,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,r||(this._lastObjectRendered=e),!o){var s=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=s}this.bindRenderTexture(r,i),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function t(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},e.prototype.flush=function t(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function t(e,r){i.default.prototype.resize.call(this,e,r),this.rootRenderTarget.resize(e,r),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function t(e){this.state.setBlendMode(e)},e.prototype.clear=function t(e){this._activeRenderTarget.clear(e)},e.prototype.setTransform=function t(e){this._activeRenderTarget.transform=e},e.prototype.clearRenderTexture=function t(e,r){var n,i=e.baseTexture._glRenderTargets[this.CONTEXT_UID];return i&&i.clear(r),this},e.prototype.bindRenderTexture=function t(e,r){var n=void 0;if(e){var i=e.baseTexture;i._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(i,0),this.unbindTexture(i),(n=i._glRenderTargets[this.CONTEXT_UID]).setFrame(e.frame)}else n=this.rootRenderTarget;return n.transform=r,this.bindRenderTarget(n),this},e.prototype.bindRenderTarget=function t(e){return e!==this._activeRenderTarget&&(this._activeRenderTarget=e,e.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this},e.prototype.bindShader=function t(e,r){return this._activeShader!==e&&(this._activeShader=e,e.bind(),!1!==r&&(e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function t(e,r,n){if((e=(e=e||this.emptyTextures[r]).baseTexture||e).touched=this.textureGC.count,n)r=r||0;else{for(var i=0;i<this.boundTextures.length;i++)if(this.boundTextures[i]===e)return i;void 0===r&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,r=this.boundTextures.length-this._nextTextureLocation-1)}var o=this.gl,s=e._glTextures[this.CONTEXT_UID];return s?(this.boundTextures[r]=e,o.activeTexture(o.TEXTURE0+r),o.bindTexture(o.TEXTURE_2D,s.texture)):this.textureManager.updateTexture(e,r),r},e.prototype.unbindTexture=function t(e){var r=this.gl;if(e=e.baseTexture||e,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===this.emptyTextures[n]&&(r.activeTexture(r.TEXTURE0+n),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture))}for(var i=0;i<this.boundTextures.length;i++)this.boundTextures[i]===e&&(this.boundTextures[i]=this.emptyTextures[i],r.activeTexture(r.TEXTURE0+i),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function t(){return new A.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function t(e){return this._activeVao===e?this:(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e,this)},e.prototype.reset=function t(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.emptyTextures[e];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function t(e){e.preventDefault()},e.prototype.handleContextRestored=function t(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function e(r){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,r),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(i.default);r.default=k,M.pluginTarget.mixin(k)},filters:{spriteMask:{"SpriteMaskFilter.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=l(e("../Filter")),o=e("../../../../math"),s=e("path"),a,u=l(e("../../../../textures/TextureMatrix"));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(r){h(this,e);var n=new o.Matrix,i=c(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,i.maskSprite=r,i.maskMatrix=n,i}return d(e,t),e.prototype.apply=function t(e,r,n,i){var o=this.maskSprite,s=this.maskSprite.texture;s.valid&&(s.transform||(s.transform=new u.default(s,0)),s.transform.update(),this.uniforms.mask=s,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.transform.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.transform.uClampFrame,e.applyFilter(this,r,n,i))},e}(i.default);r.default=f}},"Filter.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=h(e("./extractUniformsFromSrc")),s=e("../../../utils"),a=e("../../../const"),u,l=h(e("../../../settings"));function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d={},f=function(){function t(e,r,n){for(var i in c(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=a.BLEND_MODES.NORMAL,this.uniformData=n||(0,o.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[i]=this.uniformData[i].value,this.uniformData[i].type&&(this.uniformData[i].type=this.uniformData[i].type.toLowerCase());this.glShaders={},d[this.vertexSrc+this.fragmentSrc]||(d[this.vertexSrc+this.fragmentSrc]=(0,s.uid)()),this.glShaderKey=d[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=l.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function t(e,r,n,i,o){e.applyFilter(this,r,n,i)},n(t,[{key:"blendMode",get:function t(){return this._blendMode},set:function t(e){this._blendMode=e}}],[{key:"defaultVertexSrc",get:function t(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function t(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();r.default=f},"extractUniformsFromSrc.js":function t(e,r){"use strict";var n,i;function o(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.default=a;var s=o(e("pixi-gl-core")).default.shader.defaultValue;function a(t,e,r){var n=u(t,r),i=u(e,r);return Object.assign(n,i)}function u(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<i.length;o++){var a=i[o].trim();if(a.indexOf("uniform")>-1){var u=a.split(" "),l=u[1],h=u[2],c=1;h.indexOf("[")>-1&&(n=h.split(/\[|]/),h=n[0],c*=Number(n[1])),h.match(e)||(r[h]={value:s(l,c),name:h,type:l})}}return r}},"filterTransforms.js":function t(e,r){"use strict";r.__esModule=!0,r.calculateScreenSpaceMatrix=i,r.calculateNormalizedScreenSpaceMatrix=o,r.calculateSpriteMatrix=s;var n=e("../../../math");function i(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n}function o(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n}function s(t,e,r,i){var o=i._texture.orig,s=t.set(r.width,0,0,r.height,e.x,e.y),a=i.worldTransform.copy(n.Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(i.anchor.x,i.anchor.y),s}}},"TextureManager.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("pixi-gl-core"),i=e("../../const"),o,s=u(e("./utils/RenderTarget")),a=e("../../utils");function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=function(){function t(e){l(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function t(){},t.prototype.getTexture=function t(){},t.prototype.updateTexture=function t(e,r){var o=this.gl,a=!!e._glRenderTargets;if(!e.hasLoaded)return null;var u=this.renderer.boundTextures;if(void 0===r){r=0;for(var l=0;l<u.length;++l)if(u[l]===e){r=l;break}}u[r]=e,o.activeTexture(o.TEXTURE0+r);var h=e._glTextures[this.renderer.CONTEXT_UID];if(h)a?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):h.upload(e.source);else{if(a){var c=new s.default(this.gl,e.width,e.height,e.scaleMode,e.resolution);c.resize(e.width,e.height),e._glRenderTargets[this.renderer.CONTEXT_UID]=c,h=c.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else(h=new n.GLTexture(this.gl,null,null,null,null)).bind(r),h.premultiplyAlpha=!0,h.upload(e.source);e._glTextures[this.renderer.CONTEXT_UID]=h,e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&h.enableMipmap(),e.wrapMode===i.WRAP_MODES.CLAMP?h.enableWrapClamp():e.wrapMode===i.WRAP_MODES.REPEAT?h.enableWrapRepeat():h.enableWrapMirrorRepeat()):h.enableWrapClamp(),e.scaleMode===i.SCALE_MODES.NEAREST?h.enableNearestScaling():h.enableLinearScaling()}return h},t.prototype.destroyTexture=function t(e,r){if((e=e.baseTexture||e).hasLoaded){var n=this.renderer,i=n.CONTEXT_UID,o=e._glTextures,s=e._glRenderTargets;if(o[i]&&(n.unbindTexture(e),o[i].destroy(),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this),delete o[i],!r)){var u=this._managedTextures.indexOf(e);-1!==u&&(0,a.removeItems)(this._managedTextures,u,1)}s&&s[i]&&(n._activeRenderTarget===s[i]&&n.bindRenderTarget(n.rootRenderTarget),s[i].destroy(),delete s[i])}},t.prototype.removeAll=function t(){for(var e=0;e<this._managedTextures.length;++e){var r=this._managedTextures[e];r._glTextures[this.renderer.CONTEXT_UID]&&delete r._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function t(){for(var e=0;e<this._managedTextures.length;++e){var r=this._managedTextures[e];this.destroyTexture(r,!0),r.off("update",this.updateTexture,this),r.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();r.default=h},"TextureGarbageCollector.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("../../const"),i,o=s(e("../../settings"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(e){a(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=o.default.GC_MAX_IDLE,this.checkCountMax=o.default.GC_MAX_CHECK_COUNT,this.mode=o.default.GC_MODE}return t.prototype.update=function t(){this.count++,this.mode!==n.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function t(){for(var e=this.renderer.textureManager,r=e._managedTextures,n=!1,i=0;i<r.length;i++){var o=r[i];!o._glRenderTargets&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),r[i]=null,n=!0)}if(n){for(var s=0,a=0;a<r.length;a++)null!==r[a]&&(r[s++]=r[a]);r.length=s}},t.prototype.unload=function t(e){var r=this.renderer.textureManager;e._texture&&e._texture._glRenderTargets&&r.destroyTexture(e._texture,!0);for(var n=e.children.length-1;n>=0;n--)this.unload(e.children[n])},t}();r.default=u},"WebGLState.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=o(e("./utils/mapWebGLBlendModesToPixi"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=0,u=1,l=2,h=3,c=4,d=function(){function t(e){s(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,i.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function t(){var e=this.stack[this.stackIndex];e||(e=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var r=0;r<this.activeState.length;r++)e[r]=this.activeState[r]},t.prototype.pop=function t(){var e=this.stack[--this.stackIndex];this.setState(e)},t.prototype.setState=function t(e){this.setBlend(e[0]),this.setDepthTest(e[1]),this.setFrontFace(e[2]),this.setCullFace(e[3]),this.setBlendMode(e[4])},t.prototype.setBlend=function t(e){e=e?1:0,this.activeState[0]!==e&&(this.activeState[0]=e,this.gl[e?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function t(e){if(e!==this.activeState[4]){this.activeState[4]=e;var r=this.blendModes[e];2===r.length?this.gl.blendFunc(r[0],r[1]):this.gl.blendFuncSeparate(r[0],r[1],r[2],r[3])}},t.prototype.setDepthTest=function t(e){e=e?1:0,this.activeState[1]!==e&&(this.activeState[1]=e,this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function t(e){e=e?1:0,this.activeState[3]!==e&&(this.activeState[3]=e,this.gl[e?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function t(e){e=e?1:0,this.activeState[2]!==e&&(this.activeState[2]=e,this.gl.frontFace(this.gl[e?"CW":"CCW"]))},t.prototype.resetAttributes=function t(){for(var e=0;e<this.attribState.tempAttribState.length;e++)this.attribState.tempAttribState[e]=0;for(var r=0;r<this.attribState.attribState.length;r++)this.attribState.attribState[r]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)},t.prototype.resetToDefault=function t(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var e=0;e<this.activeState.length;++e)this.activeState[e]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();r.default=d}}},"Shader.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("pixi-gl-core"),i,o=s(e("./settings"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function h(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}var c=function(t){function e(r,n,i,s,l){return a(this,e),u(this,t.call(this,r,h(n,l||o.default.PRECISION_VERTEX),h(i,l||o.default.PRECISION_FRAGMENT),void 0,s))}return l(e,t),e}(n.GLShader);r.default=c},text:{"Text.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=m(e("../sprites/Sprite")),s,a=m(e("../textures/Texture")),u=e("../math"),l=e("../utils"),h=e("../const"),c,d=m(e("../settings")),f,p=m(e("./TextStyle")),v,g=m(e("./TextMetrics")),y,_=m(e("../utils/trimCanvas"));function m(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function T(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var w={texture:!0,children:!1,baseTexture:!0},E=function(t){function e(r,n,i){b(this,e),(i=i||document.createElement("canvas")).width=3,i.height=3;var o=a.default.fromCanvas(i,d.default.SCALE_MODE,"text");o.orig=new u.Rectangle,o.trim=new u.Rectangle;var s=x(this,t.call(this,o));return a.default.addToCache(s._texture,s._texture.baseTexture.textureCacheIds[0]),s.canvas=i,s.context=s.canvas.getContext("2d"),s.resolution=d.default.RESOLUTION,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=r,s.style=n,s.localStyleID=-1,s}return T(e,t),e.prototype.updateText=function t(e){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!e){this._font=this._style.toFontString();var n=this.context,i=g.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),o=i.width,s=i.height,a=i.lines,u=i.lineHeight,l=i.lineWidths,h=i.maxLineWidth,c=i.fontProperties;this.canvas.width=Math.ceil((Math.max(1,o)+2*r.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,s)+2*r.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=r.stroke,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;var d=void 0,f=void 0;if(r.dropShadow){n.fillStyle=r.dropShadowColor,n.globalAlpha=r.dropShadowAlpha,n.shadowBlur=r.dropShadowBlur,r.dropShadowBlur>0&&(n.shadowColor=r.dropShadowColor);for(var p=Math.cos(r.dropShadowAngle)*r.dropShadowDistance,v=Math.sin(r.dropShadowAngle)*r.dropShadowDistance,y=0;y<a.length;y++)d=r.strokeThickness/2,f=r.strokeThickness/2+y*u+c.ascent,"right"===r.align?d+=h-l[y]:"center"===r.align&&(d+=(h-l[y])/2),r.fill&&(this.drawLetterSpacing(a[y],d+p+r.padding,f+v+r.padding),r.stroke&&r.strokeThickness&&(n.strokeStyle=r.dropShadowColor,this.drawLetterSpacing(a[y],d+p+r.padding,f+v+r.padding,!0),n.strokeStyle=r.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(r,a);for(var _=0;_<a.length;_++)d=r.strokeThickness/2,f=r.strokeThickness/2+_*u+c.ascent,"right"===r.align?d+=h-l[_]:"center"===r.align&&(d+=(h-l[_])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[_],d+r.padding,f+r.padding,!0),r.fill&&this.drawLetterSpacing(a[_],d+r.padding,f+r.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function t(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this._style,s=o.letterSpacing;if(0!==s)for(var a=String.prototype.split.call(e,""),u=r,l=0,h="",c=this.context.measureText(e).width,d=0;l<e.length;)h=a[l++],i?this.context.strokeText(h,u,n):this.context.fillText(h,u,n),u+=c-(d=this.context.measureText(e.substring(l)).width)+s,c=d;else i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n)},e.prototype.updateTexture=function t(){var e=this.canvas;if(this._style.trim){var r=(0,_.default)(e);r.data&&(e.width=r.width,e.height=r.height,this.context.putImageData(r.data,0,0))}var n=this._texture,i=this._style,o=i.trim?0:i.padding,s=n.baseTexture;s.hasLoaded=!0,s.resolution=this.resolution,s.realWidth=e.width,s.realHeight=e.height,s.width=e.width/this.resolution,s.height=e.height/this.resolution,n.trim.width=n._frame.width=e.width/this.resolution,n.trim.height=n._frame.height=e.height/this.resolution,n.trim.x=-o,n.trim.y=-o,n.orig.width=n._frame.width-2*o,n.orig.height=n._frame.height-2*o,this._onTextureUpdate(),s.emit("update",s),this.dirty=!1},e.prototype.renderWebGL=function e(r){this.resolution!==r.resolution&&(this.resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,r)},e.prototype._renderCanvas=function e(r){this.resolution!==r.resolution&&(this.resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,r)},e.prototype.getLocalBounds=function e(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function t(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function t(){this.dirty=!0},e.prototype._generateFillStyle=function t(e,r){if(!Array.isArray(e.fill))return e.fill;if(navigator.isCocoonJS)return e.fill[0];var n=void 0,i=void 0,o=void 0,s=void 0,a=this.canvas.width/this.resolution,u=this.canvas.height/this.resolution,l=e.fill.slice(),c=e.fillGradientStops.slice();if(!c.length)for(var d=l.length+1,f=1;f<d;++f)c.push(f/d);if(l.unshift(e.fill[0]),c.unshift(0),l.push(e.fill[e.fill.length-1]),c.push(1),e.fillGradientType===h.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,0,a/2,u),i=(l.length+1)*r.length,o=0;for(var p=0;p<r.length;p++){o+=1;for(var v=0;v<l.length;v++)s="number"==typeof c[v]?c[v]/r.length+p/r.length:o/i,n.addColorStop(s,l[v]),o++}}else{n=this.context.createLinearGradient(0,u/2,a,u/2),i=l.length+1,o=1;for(var g=0;g<l.length;g++)s="number"==typeof c[g]?c[g]:o/i,n.addColorStop(s,l[g]),o++}return n},e.prototype.destroy=function e(r){"boolean"==typeof r&&(r={children:r}),r=Object.assign({},w,r),t.prototype.destroy.call(this,r),this.context=null,this.canvas=null,this._style=null},n(e,[{key:"width",get:function t(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function t(e){this.updateText(!0);var r=(0,l.sign)(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}},{key:"height",get:function t(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function t(e){this.updateText(!0);var r=(0,l.sign)(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}},{key:"style",get:function t(){return this._style},set:function t(e){(e=e||{})instanceof p.default?this._style=e:this._style=new p.default(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function t(){return this._text},set:function t(e){e=String(""===e||null==e?" ":e),this._text!==e&&(this._text=e,this.dirty=!0)}}]),e}(o.default);r.default=E},"TextStyle.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=e("../const"),o=e("../utils");function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},u=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],l=function(){function t(e){s(this,t),this.styleID=0,this.reset(),f(this,e,e)}return t.prototype.clone=function e(){var r={};return f(r,this,a),new t(r)},t.prototype.reset=function t(){f(this,a,a)},t.prototype.toFontString=function t(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&u.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},n(t,[{key:"align",get:function t(){return this._align},set:function t(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function t(){return this._breakWords},set:function t(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function t(){return this._dropShadow},set:function t(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAlpha",get:function t(){return this._dropShadowAlpha},set:function t(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:"dropShadowAngle",get:function t(){return this._dropShadowAngle},set:function t(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function t(){return this._dropShadowBlur},set:function t(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function t(){return this._dropShadowColor},set:function t(e){var r=c(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}},{key:"dropShadowDistance",get:function t(){return this._dropShadowDistance},set:function t(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function t(){return this._fill},set:function t(e){var r=c(e);this._fill!==r&&(this._fill=r,this.styleID++)}},{key:"fillGradientType",get:function t(){return this._fillGradientType},set:function t(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fillGradientStops",get:function t(){return this._fillGradientStops},set:function t(e){d(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}},{key:"fontFamily",get:function t(){return this._fontFamily},set:function t(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function t(){return this._fontSize},set:function t(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function t(){return this._fontStyle},set:function t(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function t(){return this._fontVariant},set:function t(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function t(){return this._fontWeight},set:function t(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function t(){return this._letterSpacing},set:function t(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function t(){return this._lineHeight},set:function t(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"leading",get:function t(){return this._leading},set:function t(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:"lineJoin",get:function t(){return this._lineJoin},set:function t(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function t(){return this._miterLimit},set:function t(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function t(){return this._padding},set:function t(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function t(){return this._stroke},set:function t(e){var r=c(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}},{key:"strokeThickness",get:function t(){return this._strokeThickness},set:function t(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function t(){return this._textBaseline},set:function t(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"trim",get:function t(){return this._trim},set:function t(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:"whiteSpace",get:function t(){return this._whiteSpace},set:function t(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}},{key:"wordWrap",get:function t(){return this._wordWrap},set:function t(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function t(){return this._wordWrapWidth},set:function t(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}}]),t}();function h(t){return"number"==typeof t?(0,o.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function c(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=h(t[e]);return t}return h(t)}function d(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function f(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}r.default=l},"TextMetrics.js":function t(e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e,r,i,o,s,a,u,l,h){n(this,t),this.text=e,this.style=r,this.width=i,this.height=o,this.lines=s,this.lineWidths=a,this.lineHeight=u,this.maxLineWidth=l,this.fontProperties=h}return t.measureText=function e(r,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;i=null==i?n.wordWrap:i;var s=n.toFontString(),a=t.measureFont(s),u=o.getContext("2d");u.font=s;for(var l=i?t.wordWrap(r,n,o):r,h=l.split(/(?:\r\n|\r|\n)/),c=new Array(h.length),d=0,f=0;f<h.length;f++){var p=u.measureText(h[f]).width+(h[f].length-1)*n.letterSpacing;c[f]=p,d=Math.max(d,p)}var v=d+n.strokeThickness;n.dropShadow&&(v+=n.dropShadowDistance);var g=n.lineHeight||a.fontSize+n.strokeThickness,y=Math.max(g,a.fontSize+n.strokeThickness)+(h.length-1)*(g+n.leading);return n.dropShadow&&(y+=n.dropShadowDistance),new t(r,n,v,y,h,c,g+n.leading,d,a)},t.wordWrap=function e(r,n){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas,o=i.getContext("2d"),s=0,a="",u="",l={},h=n.letterSpacing,c=n.whiteSpace,d=t.collapseSpaces(c),f=t.collapseNewlines(c),p=!d,v=n.wordWrapWidth+h,g=t.tokenize(r),y=0;y<g.length;y++){var _=g[y];if(t.isNewline(_)){if(!f){u+=t.addLine(a),p=!d,a="",s=0;continue}_=" "}if(d){var m=t.isBreakingSpace(_),b=t.isBreakingSpace(a[a.length-1]);if(m&&b)continue}var x=t.getFromCache(_,h,l,o);if(x>v)if(""!==a&&(u+=t.addLine(a),a="",s=0),t.canBreakWords(_,n.breakWords))for(var T=_.split(""),w=0;w<T.length;w++){for(var E=T[w],S=1;T[w+S];){var O=T[w+S],M=E[E.length-1];if(t.canBreakChars(M,O,_,w,n.breakWords))break;E+=O,S++}w+=E.length-1;var P=t.getFromCache(E,h,l,o);P+s>v&&(u+=t.addLine(a),p=!1,a="",s=0),a+=E,s+=P}else{a.length>0&&(u+=t.addLine(a),a="",s=0);var A=y===g.length-1;u+=t.addLine(_,!A),p=!1,a="",s=0}else x+s>v&&(p=!1,u+=t.addLine(a),a="",s=0),(a.length>0||!t.isBreakingSpace(_)||p)&&(a+=_,s+=x)}return u+=t.addLine(a,!1)},t.addLine=function e(r){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r=t.trimRight(r),r=n?r+"\n":r},t.getFromCache=function t(e,r,n,i){var o=n[e];if(void 0===o){var s=e.length*r;o=i.measureText(e).width+s,n[e]=o}return o},t.collapseSpaces=function t(e){return"normal"===e||"pre-line"===e},t.collapseNewlines=function t(e){return"normal"===e},t.trimRight=function e(r){if("string"!=typeof r)return"";for(var n=r.length-1;n>=0;n--){var i=r[n];if(!t.isBreakingSpace(i))break;r=r.slice(0,-1)}return r},t.isNewline=function e(r){return"string"==typeof r&&t._newlines.indexOf(r.charCodeAt(0))>=0},t.isBreakingSpace=function e(r){return"string"==typeof r&&t._breakingSpaces.indexOf(r.charCodeAt(0))>=0},t.tokenize=function e(r){var n=[],i="";if("string"!=typeof r)return n;for(var o=0;o<r.length;o++){var s=r[o];t.isBreakingSpace(s)||t.isNewline(s)?(""!==i&&(n.push(i),i=""),n.push(s)):i+=s}return""!==i&&n.push(i),n},t.canBreakWords=function t(e,r){return r},t.canBreakChars=function t(e,r,n,i,o){return!0},t.measureFont=function e(r){if(t._fonts[r])return t._fonts[r];var n={},i=t._canvas,o=t._context;o.font=r;var s=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(o.measureText(s).width),u=Math.ceil(o.measureText(t.BASELINE_SYMBOL).width),l=2*u;u=u*t.BASELINE_MULTIPLIER|0,i.width=a,i.height=l,o.fillStyle="#f00",o.fillRect(0,0,a,l),o.font=r,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,u);var h=o.getImageData(0,0,a,l).data,c=h.length,d=4*a,f=0,p=0,v=!1;for(f=0;f<u;++f){for(var g=0;g<d;g+=4)if(255!==h[p+g]){v=!0;break}if(v)break;p+=d}for(n.ascent=u-f,p=c-d,v=!1,f=l;f>u;--f){for(var y=0;y<d;y+=4)if(255!==h[p+y]){v=!0;break}if(v)break;p-=d}return n.descent=f-u,n.fontSize=n.ascent+n.descent,t._fonts[r]=n,n},t.clearMetrics=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r?delete t._fonts[r]:t._fonts={}},t}();r.default=i;var o=document.createElement("canvas");o.width=o.height=10,i._canvas=o,i._context=o.getContext("2d"),i._fonts={},i.METRICS_STRING="|Éq",i.BASELINE_SYMBOL="M",i.BASELINE_MULTIPLIER=1.4,i._newlines=[10,13],i._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]}},graphics:{"Graphics.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=T(e("../display/Container")),o,s=T(e("../textures/RenderTexture")),a,u=T(e("../textures/Texture")),l,h=T(e("./GraphicsData")),c,d=T(e("../sprites/Sprite")),f=e("../math"),p=e("../utils"),v=e("../const"),g,y=T(e("../display/Bounds")),_,m=T(e("./utils/bezierCurveTo")),b,x=T(e("../renderers/canvas/CanvasRenderer"));function T(t){return t&&t.__esModule?t:{default:t}}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var O=void 0,M=new f.Matrix,P=new f.Point,A=new Float32Array(4),C=new Float32Array(4),R=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w(this,e);var n=E(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.lineAlignment=.5,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=v.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new y.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n._prevRectTint=null,n._prevRectFillColor=null,n}return S(e,t),e.prototype.clone=function t(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function t(e,r,n,i,o,s){var a=e-2*n+o,u=r-2*i+s,l=2*n-2*e,h=2*i-2*r,c=4*(a*a+u*u),d=4*(a*l+u*h),f=l*l+h*h,p=2*Math.sqrt(c+d+f),v=Math.sqrt(c),g=2*c*v,y=2*Math.sqrt(f),_=d/v;return(g*p+v*d*(p-y)+(4*f*c-d*d)*Math.log((2*v+_+p)/(_+y)))/(4*g)},e.prototype._bezierCurveLength=function t(e,r,n,i,o,s,a,u){for(var l=10,h=0,c=0,d=0,f=0,p=0,v=0,g=0,y=0,_=0,m=0,b=0,x=e,T=r,w=1;w<=l;++w)m=x-(y=(g=(v=(p=1-(c=w/l))*p)*p)*e+3*v*c*n+3*p*(d=c*c)*o+(f=d*c)*a),b=T-(_=g*r+3*v*c*i+3*p*d*s+f*u),x=y,T=_,h+=Math.sqrt(m*m+b*b);return h},e.prototype._segmentsCount=function t(r){var n=Math.ceil(r/e.CURVES.maxLength);return n<e.CURVES.minSegments?n=e.CURVES.minSegments:n>e.CURVES.maxSegments&&(n=e.CURVES.maxSegments),n},e.prototype.lineStyle=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=e,this.lineColor=r,this.lineAlpha=n,this.lineAlignment=i,this.currentPath)if(this.currentPath.shape.points.length){var o=new f.Polygon(this.currentPath.shape.points.slice(-2));o.closed=!1,this.drawShape(o)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function t(e,r){var n=new f.Polygon([e,r]);return n.closed=!1,this.drawShape(n),this},e.prototype.lineTo=function t(e,r){var n=this.currentPath.shape.points,i=n[n.length-2],o=n[n.length-1];return i===e&&o===r||(n.push(e,r),this.dirty++),this},e.prototype.quadraticCurveTo=function t(r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,a=0,u=0;0===s.length&&this.moveTo(0,0);for(var l=s[s.length-2],h=s[s.length-1],c=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(l,h,r,n,i,o)):20,d=1;d<=c;++d){var f=d/c;a=l+(r-l)*f,u=h+(n-h)*f,s.push(a+(r+(i-r)*f-a)*f,u+(n+(o-n)*f-u)*f)}return this.dirty++,this},e.prototype.bezierCurveTo=function t(r,n,i,o,s,a){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var u=this.currentPath.shape.points,l=u[u.length-2],h=u[u.length-1];u.length-=2;var c=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(l,h,r,n,i,o,s,a)):20;return(0,m.default)(l,h,r,n,i,o,s,a,c,u),this.dirty++,this},e.prototype.arcTo=function t(e,r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,r):this.moveTo(e,r);var s=this.currentPath.shape.points,a=s[s.length-2],u,l=s[s.length-1]-r,h=a-e,c=i-r,d=n-e,f=Math.abs(l*d-h*c);if(f<1e-8||0===o)s[s.length-2]===e&&s[s.length-1]===r||s.push(e,r);else{var p=l*l+h*h,v=c*c+d*d,g=l*c+h*d,y=o*Math.sqrt(p)/f,_=o*Math.sqrt(v)/f,m=y*g/p,b=_*g/v,x=y*d+_*h,T=y*c+_*l,w=h*(_+m),E=l*(_+m),S=d*(y+b),O=c*(y+b),M=Math.atan2(E-T,w-x),P=Math.atan2(O-T,S-x);this.arc(x+e,T+r,o,M,P,h*c>d*l)}return this.dirty++,this},e.prototype.arc=function t(r,n,i,o,s){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(o===s)return this;!a&&s<=o?s+=v.PI_2:a&&o<=s&&(o+=v.PI_2);var u=s-o,l=e.CURVES.adaptive?this._segmentsCount(Math.abs(u)*i):40*Math.ceil(Math.abs(u)/v.PI_2);if(0===u)return this;var h=r+Math.cos(o)*i,c=n+Math.sin(o)*i,d=this.currentPath?this.currentPath.shape.points:null;if(d){var f=Math.abs(d[d.length-2]-h),p=Math.abs(d[d.length-1]-c);f<.001&&p<.001||d.push(h,c)}else this.moveTo(h,c),d=this.currentPath.shape.points;for(var g=u/(2*l),y=2*g,_=Math.cos(g),m=Math.sin(g),b=l-1,x=b%1/b,T=0;T<=b;++T){var w=T+x*T,E=g+o+y*w,S=Math.cos(E),O=-Math.sin(E);d.push((_*S+m*O)*i+r,(_*-O+m*S)*i+n)}return this.dirty++,this},e.prototype.beginFill=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=e,this.fillAlpha=r,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function t(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function t(e,r,n,i){return this.drawShape(new f.Rectangle(e,r,n,i)),this},e.prototype.drawRoundedRect=function t(e,r,n,i,o){return this.drawShape(new f.RoundedRectangle(e,r,n,i,o)),this},e.prototype.drawCircle=function t(e,r,n){return this.drawShape(new f.Circle(e,r,n)),this},e.prototype.drawEllipse=function t(e,r,n,i){return this.drawShape(new f.Ellipse(e,r,n,i)),this},e.prototype.drawPolygon=function t(e){var r=e,n=!0;if(r instanceof f.Polygon&&(n=r.closed,r=r.points),!Array.isArray(r)){r=new Array(arguments.length);for(var i=0;i<r.length;++i)r[i]=arguments[i]}var o=new f.Polygon(r);return o.closed=n,this.drawShape(o),this},e.prototype.drawStar=function t(e,r,n,i,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;o=o||i/2;for(var a=-1*Math.PI/2+s,u=2*n,l=v.PI_2/u,h=[],c=0;c<u;c++){var d=c%2?o:i,f=c*l+a;h.push(e+d*Math.cos(f),r+d*Math.sin(f))}return this.drawPolygon(h)},e.prototype.clear=function t(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function t(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===v.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function t(e){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(e):(e.setObjectRenderer(e.plugins.graphics),e.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function t(e){var r=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new d.default(new u.default(u.default.WHITE)));var n=this._spriteRect,i=this.graphicsData[0].fillColor;if(16777215===this.tint)n.tint=i;else if(this.tint!==this._prevRectTint||i!==this._prevRectFillColor){var o=A,s=C;(0,p.hex2rgb)(i,o),(0,p.hex2rgb)(this.tint,s),o[0]*=s[0],o[1]*=s[1],o[2]*=s[2],n.tint=(0,p.rgb2hex)(o),this._prevRectTint=this.tint,this._prevRectFillColor=i}n.alpha=this.graphicsData[0].fillAlpha,n.worldAlpha=this.worldAlpha*n.alpha,n.blendMode=this.blendMode,n._texture._frame.width=r.width,n._texture._frame.height=r.height,n.transform.worldTransform=this.transform.worldTransform,n.anchor.set(-r.x/r.width,-r.y/r.height),n._onAnchorUpdate(),n._renderWebGL(e)},e.prototype._renderCanvas=function t(e){!0!==this.isMask&&e.plugins.graphics.render(this)},e.prototype._calculateBounds=function t(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var e=this._localBounds;this._bounds.addFrame(this.transform,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.containsPoint=function t(e){this.worldTransform.applyInverse(e,P);for(var r=this.graphicsData,n=0;n<r.length;++n){var i=r[n];if(i.fill&&(i.shape&&i.shape.contains(P.x,P.y))){var o=!1;if(i.holes)for(var s=0;s<i.holes.length;s++){var a;if(i.holes[s].contains(P.x,P.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateLocalBounds=function t(){var e=1/0,r=-1/0,n=1/0,i=-1/0;if(this.graphicsData.length)for(var o=0,s=0,a=0,u=0,l=0,h=0;h<this.graphicsData.length;h++){var c=this.graphicsData[h],d=c.type,f,p,g=c.lineWidth*c.lineAlignment;if(o=c.shape,d===v.SHAPES.RECT||d===v.SHAPES.RREC)s=o.x-g,a=o.y-g,e=s<e?s:e,r=s+(u=o.width+2*g)>r?s+u:r,n=a<n?a:n,i=a+(l=o.height+2*g)>i?a+l:i;else if(d===v.SHAPES.CIRC)s=o.x,a=o.y,e=s-(u=o.radius+g)<e?s-u:e,r=s+u>r?s+u:r,n=a-(l=o.radius+g)<n?a-l:n,i=a+l>i?a+l:i;else if(d===v.SHAPES.ELIP)s=o.x,a=o.y,e=s-(u=o.width+g)<e?s-u:e,r=s+u>r?s+u:r,n=a-(l=o.height+g)<n?a-l:n,i=a+l>i?a+l:i;else for(var y=o.points,_=0,m=0,b=0,x=0,T=0,w=0,E=0,S=0,O=0;O+2<y.length;O+=2)s=y[O],a=y[O+1],_=y[O+2],m=y[O+3],b=Math.abs(_-s),x=Math.abs(m-a),l=2*g,(u=Math.sqrt(b*b+x*x))<1e-9||(e=(E=(_+s)/2)-(T=(l/u*x+b)/2)<e?E-T:e,r=E+T>r?E+T:r,n=(S=(m+a)/2)-(w=(l/u*b+x)/2)<n?S-w:n,i=S+w>i?S+w:i)}else e=0,r=0,n=0,i=0;var M=this.boundsPadding;this._localBounds.minX=e-M,this._localBounds.maxX=r+M,this._localBounds.minY=n-M,this._localBounds.maxY=i+M},e.prototype.drawShape=function t(e){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var r=new h.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,e,this.lineAlignment);return this.graphicsData.push(r),r.type===v.SHAPES.POLY&&(r.shape.closed=r.shape.closed,this.currentPath=r),this.dirty++,r},e.prototype.generateCanvasTexture=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalBounds(),i=s.default.create(n.width,n.height,e,r);O||(O=new x.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(M),M.invert(),M.tx-=n.x,M.ty-=n.y,O.render(this,i,!0,M);var o=u.default.fromCanvas(i.baseTexture._canvasRenderTarget.canvas,e,"graphics");return o.baseTexture.resolution=r,o.baseTexture.update(),o},e.prototype.closePath=function t(){var e=this.currentPath;return e&&e.shape&&e.shape.close(),this},e.prototype.addHole=function t(){var e=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(e.shape),this.currentPath=null,this},e.prototype.destroy=function e(r){t.prototype.destroy.call(this,r);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();for(var i in this._webGL)for(var o=0;o<this._webGL[i].data.length;++o)this._webGL[i].data[o].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(i.default);r.default=R,R._SPRITE_TEXTURE=null,R.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},"GraphicsData.js":function t(e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e,r,i,o,s,a,u,l,h){n(this,t),this.lineWidth=e,this.lineAlignment=h,this.nativeLines=u,this.lineColor=r,this.lineAlpha=i,this._lineTint=r,this.fillColor=o,this.fillAlpha=s,this._fillTint=o,this.fill=a,this.holes=[],this.shape=l,this.type=l.type}return t.prototype.clone=function e(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},t.prototype.addHole=function t(e){this.holes.push(e)},t.prototype.destroy=function t(){this.shape=null,this.holes=null},t}();r.default=i},utils:{"bezierCurveTo.js":function t(e,r){"use strict";function n(t,e,r,n,i,o,s,a,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],h=0,c=0,d=0,f=0,p=0;l.push(t,e);for(var v=1,g=0;v<=u;++v)d=(c=(h=1-(g=v/u))*h)*h,p=(f=g*g)*g,l.push(d*t+3*c*g*r+3*h*f*i+p*s,d*e+3*c*g*n+3*h*f*o+p*a);return l}r.__esModule=!0,r.default=n}},webgl:{"GraphicsRenderer.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("../../utils"),i=e("../../const"),o,s=x(e("../../renderers/webgl/utils/ObjectRenderer")),a,u=x(e("../../renderers/webgl/WebGLRenderer")),l,h=x(e("./WebGLGraphicsData")),c,d=x(e("./shaders/PrimitiveShader")),f,p=x(e("./utils/buildPoly")),v,g=x(e("./utils/buildRectangle")),y,_=x(e("./utils/buildRoundedRectangle")),m,b=x(e("./utils/buildCircle"));function x(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var S=function(t){function e(r){T(this,e);var n=w(this,t.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return E(e,t),e.prototype.onContextChange=function t(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new d.default(this.gl)},e.prototype.destroy=function t(){s.default.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},e.prototype.render=function t(e){var r=this.renderer,i=r.gl,o=void 0,s=e._webGL[this.CONTEXT_UID];s&&e.dirty===s.dirty||(this.updateGraphics(e),s=e._webGL[this.CONTEXT_UID]);var a=this.primitiveShader;r.bindShader(a),r.state.setBlendMode(e.blendMode);for(var u=0,l=s.data.length;u<l;u++){var h=(o=s.data[u]).shader;r.bindShader(h),h.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),h.uniforms.tint=(0,n.hex2rgb)(e.tint),h.uniforms.alpha=e.worldAlpha,r.bindVao(o.vao),o.nativeLines?i.drawArrays(i.LINES,0,o.points.length/6):o.vao.draw(i.TRIANGLE_STRIP,o.indices.length)}},e.prototype.updateGraphics=function t(e){var r=this.renderer.gl,n=e._webGL[this.CONTEXT_UID];if(n||(n=e._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:r,clearDirty:-1,dirty:-1}),n.dirty=e.dirty,e.clearDirty!==n.clearDirty){n.clearDirty=e.clearDirty;for(var o=0;o<n.data.length;o++)this.graphicsDataPool.push(n.data[o]);n.data.length=0,n.lastIndex=0}for(var s=void 0,a=void 0,u=n.lastIndex;u<e.graphicsData.length;u++){var l=e.graphicsData[u];s=this.getWebGLData(n,0),l.nativeLines&&l.lineWidth&&(a=this.getWebGLData(n,0,!0),n.lastIndex++),l.type===i.SHAPES.POLY&&(0,p.default)(l,s,a),l.type===i.SHAPES.RECT?(0,g.default)(l,s,a):l.type===i.SHAPES.CIRC||l.type===i.SHAPES.ELIP?(0,b.default)(l,s,a):l.type===i.SHAPES.RREC&&(0,_.default)(l,s,a),n.lastIndex++}this.renderer.bindVao(null);for(var h=0;h<n.data.length;h++)(s=n.data[h]).dirty&&s.upload()},e.prototype.getWebGLData=function t(e,r,n){var i=e.data[e.data.length-1];return(!i||i.nativeLines!==n||i.points.length>32e4)&&((i=this.graphicsDataPool.pop()||new h.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=n,i.reset(r),e.data.push(i)),i.dirty=!0,i},e}(s.default);r.default=S,u.default.registerPlugin("graphics",S)},"WebGLGraphicsData.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=o(e("pixi-gl-core"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(e,r,n){s(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=i.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new i.default.VertexArrayObject(e,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function t(){this.points.length=0,this.indices.length=0},t.prototype.upload=function t(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function t(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();r.default=a},shaders:{"PrimitiveShader.js":function t(e,r){"use strict";var n,i;function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var l=function(t){function e(r){return s(this,e),a(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return u(e,t),e}(o(e("../../../Shader")).default);r.default=l}},utils:{"buildPoly.js":function t(e,r){"use strict";r.__esModule=!0,r.default=l;var n,i=u(e("./buildLine")),o=e("../../../utils"),s,a=u(e("earcut"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e,r){t.points=t.shape.points.slice();var n=t.points;if(t.fill&&n.length>=6){for(var s=[],u=t.holes,l=0;l<u.length;l++){var h=u[l];s.push(n.length/2),n=n.concat(h.points)}var c=e.points,d=e.indices,f=n.length/2,p=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,g=p[0]*v,y=p[1]*v,_=p[2]*v,m=(0,a.default)(n,s,2);if(!m)return;for(var b=c.length/6,x=0;x<m.length;x+=3)d.push(m[x]+b),d.push(m[x]+b),d.push(m[x+1]+b),d.push(m[x+2]+b),d.push(m[x+2]+b);for(var T=0;T<f;T++)c.push(n[2*T],n[2*T+1],g,y,_,v)}t.lineWidth>0&&(0,i.default)(t,e,r)}},"buildLine.js":function t(e,r){"use strict";r.__esModule=!0,r.default=function(t,e,r){t.nativeLines?s(t,r):o(t,e)};var n=e("../../../math"),i=e("../../../utils");function o(t,e){var r=t.points;if(0!==r.length){var o=new n.Point(r[0],r[1]),s=new n.Point(r[r.length-2],r[r.length-1]);if(o.x===s.x&&o.y===s.y){(r=r.slice()).pop(),r.pop();var a=(s=new n.Point(r[r.length-2],r[r.length-1])).x+.5*(o.x-s.x),u=s.y+.5*(o.y-s.y);r.unshift(a,u),r.push(a,u)}var l=e.points,h=e.indices,c=r.length/2,d=r.length,f=l.length/6,p=t.lineWidth/2,v=(0,i.hex2rgb)(t.lineColor),g=t.lineAlpha,y=v[0]*g,_=v[1]*g,m=v[2]*g,b=r[0],x=r[1],T=r[2],w=r[3],E=0,S=0,O=-(x-w),M=b-T,P=0,A=0,C=0,R=0,I=Math.sqrt(O*O+M*M);O/=I,M/=I,O*=p,M*=p;var D=t.lineAlignment,L=2*(1-D),j=2*D;l.push(b-O*L,x-M*L,y,_,m,g),l.push(b+O*j,x+M*j,y,_,m,g);for(var k=1;k<c-1;++k){b=r[2*(k-1)],x=r[2*(k-1)+1],T=r[2*k],w=r[2*k+1],E=r[2*(k+1)],S=r[2*(k+1)+1],O=-(x-w),M=b-T,O/=I=Math.sqrt(O*O+M*M),M/=I,O*=p,M*=p,P=-(w-S),A=T-E,P/=I=Math.sqrt(P*P+A*A),A/=I;var N=-M+x-(-M+w),B=-O+T-(-O+b),F=(-O+b)*(-M+w)-(-O+T)*(-M+x),U=-(A*=p)+S-(-A+w),X=-(P*=p)+T-(-P+E),G=(-P+E)*(-A+w)-(-P+T)*(-A+S),H=N*X-U*B;if(Math.abs(H)<.1)H+=10.1,l.push(T-O*L,w-M*L,y,_,m,g),l.push(T+O*j,w+M*j,y,_,m,g);else{var W=(B*G-X*F)/H,V=(U*F-N*G)/H,Y;(W-T)*(W-T)+(V-w)*(V-w)>196*p*p?(C=O-P,R=M-A,C/=I=Math.sqrt(C*C+R*R),R/=I,C*=p,R*=p,l.push(T-C*L,w-R*L),l.push(y,_,m,g),l.push(T+C*j,w+R*j),l.push(y,_,m,g),l.push(T-C*j*L,w-R*L),l.push(y,_,m,g),d++):(l.push(T+(W-T)*L,w+(V-w)*L),l.push(y,_,m,g),l.push(T-(W-T)*j,w-(V-w)*j),l.push(y,_,m,g))}}b=r[2*(c-2)],x=r[2*(c-2)+1],T=r[2*(c-1)],O=-(x-(w=r[2*(c-1)+1])),M=b-T,O/=I=Math.sqrt(O*O+M*M),M/=I,O*=p,M*=p,l.push(T-O*L,w-M*L),l.push(y,_,m,g),l.push(T+O*j,w+M*j),l.push(y,_,m,g),h.push(f);for(var z=0;z<d;++z)h.push(f++);h.push(f-1)}}function s(t,e){var r=0,n=t.points;if(0!==n.length){var o=e.points,s=n.length/2,a=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,l=a[0]*u,h=a[1]*u,c=a[2]*u;for(r=1;r<s;r++){var d=n[2*(r-1)],f=n[2*(r-1)+1],p=n[2*r],v=n[2*r+1];o.push(d,f),o.push(l,h,c,u),o.push(p,v),o.push(l,h,c,u)}}}},"buildRectangle.js":function t(e,r){"use strict";r.__esModule=!0,r.default=a;var n,i=s(e("./buildLine")),o=e("../../../utils");function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){var n=t.shape,s=n.x,a=n.y,u=n.width,l=n.height;if(t.fill){var h=(0,o.hex2rgb)(t.fillColor),c=t.fillAlpha,d=h[0]*c,f=h[1]*c,p=h[2]*c,v=e.points,g=e.indices,y=v.length/6;v.push(s,a),v.push(d,f,p,c),v.push(s+u,a),v.push(d,f,p,c),v.push(s,a+l),v.push(d,f,p,c),v.push(s+u,a+l),v.push(d,f,p,c),g.push(y,y,y+1,y+2,y+3,y+3)}if(t.lineWidth){var _=t.points;t.points=[s,a,s+u,a,s+u,a+l,s,a+l,s,a],(0,i.default)(t,e,r),t.points=_}}},"buildRoundedRectangle.js":function t(e,r){"use strict";r.__esModule=!0,r.default=l;var n,i=u(e("earcut")),o,s=u(e("./buildLine")),a=e("../../../utils");function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e,r){var n=t.shape,o=n.x,u=n.y,l=n.width,h=n.height,d=n.radius,f=[];if(f.push(o+d,u),c(o+l-d,u,o+l,u,o+l,u+d,f),c(o+l,u+h-d,o+l,u+h,o+l-d,u+h,f),c(o+d,u+h,o,u+h,o,u+h-d,f),c(o,u+d,o,u,o+d+1e-10,u,f),t.fill){for(var p=(0,a.hex2rgb)(t.fillColor),v=t.fillAlpha,g=p[0]*v,y=p[1]*v,_=p[2]*v,m=e.points,b=e.indices,x=m.length/6,T=(0,i.default)(f,null,2),w=0,E=T.length;w<E;w+=3)b.push(T[w]+x),b.push(T[w]+x),b.push(T[w+1]+x),b.push(T[w+2]+x),b.push(T[w+2]+x);for(var S=0,O=f.length;S<O;S++)m.push(f[S],f[++S],g,y,_,v)}if(t.lineWidth){var M=t.points;t.points=f,(0,s.default)(t,e,r),t.points=M}}function h(t,e,r){var n;return t+(e-t)*r}function c(t,e,r,n,i,o){for(var s,a=20,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=0,c=0,d=0,f=0,p=0,v=0,g=0,y=0;g<=a;++g)l=h(t,r,y=g/a),c=h(e,n,y),d=h(r,i,y),f=h(n,o,y),p=h(l,d,y),v=h(c,f,y),u.push(p,v);return u}},"buildCircle.js":function t(e,r){"use strict";r.__esModule=!0,r.default=u;var n,i=a(e("./buildLine")),o=e("../../../const"),s=e("../../../utils");function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e,r){var n=t.shape,a=n.x,u=n.y,l=void 0,h=void 0;if(t.type===o.SHAPES.CIRC?(l=n.radius,h=n.radius):(l=n.width,h=n.height),0!==l&&0!==h){var c=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),d=2*Math.PI/c;if(t.fill){var f=(0,s.hex2rgb)(t.fillColor),p=t.fillAlpha,v=f[0]*p,g=f[1]*p,y=f[2]*p,_=e.points,m=e.indices,b=_.length/6;m.push(b);for(var x=0;x<c+1;x++)_.push(a,u,v,g,y,p),_.push(a+Math.sin(d*x)*l,u+Math.cos(d*x)*h,v,g,y,p),m.push(b++,b++);m.push(b-1)}if(t.lineWidth){var T=t.points;t.points=[];for(var w=0;w<c;w++)t.points.push(a+Math.sin(d*-w)*l,u+Math.cos(d*-w)*h);t.points.push(t.points[0],t.points[1]),(0,i.default)(t,e,r),t.points=T}}}}}},canvas:{"CanvasGraphicsRenderer.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=s(e("../../renderers/canvas/CanvasRenderer")),o=e("../../const");function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(e){a(this,t),this.renderer=e}return t.prototype.render=function t(e){var r=this.renderer,n=r.context,i=e.worldAlpha,s=e.transform.worldTransform,a=r.resolution;n.setTransform(s.a*a,s.b*a,s.c*a,s.d*a,s.tx*a,s.ty*a),e.canvasTintDirty===e.dirty&&e._prevTint===e.tint||this.updateGraphicsTint(e),r.setBlendMode(e.blendMode);for(var u=0;u<e.graphicsData.length;u++){var l=e.graphicsData[u],h=l.shape,c=l._fillTint,d=l._lineTint;if(n.lineWidth=l.lineWidth,l.type===o.SHAPES.POLY){n.beginPath();var f=h.points,p=l.holes,v=void 0,g=void 0,y=void 0,_=void 0;n.moveTo(f[0],f[1]);for(var m=2;m<f.length;m+=2)n.lineTo(f[m],f[m+1]);if(h.closed&&n.closePath(),p.length>0){v=0,y=f[0],_=f[1];for(var b=2;b+2<f.length;b+=2)v+=(f[b]-y)*(f[b+3]-_)-(f[b+2]-y)*(f[b+1]-_);for(var x=0;x<p.length;x++)if(f=p[x].points){g=0,y=f[0],_=f[1];for(var T=2;T+2<f.length;T+=2)g+=(f[T]-y)*(f[T+3]-_)-(f[T+2]-y)*(f[T+1]-_);if(g*v<0){n.moveTo(f[0],f[1]);for(var w=2;w<f.length;w+=2)n.lineTo(f[w],f[w+1])}else{n.moveTo(f[f.length-2],f[f.length-1]);for(var E=f.length-4;E>=0;E-=2)n.lineTo(f[E],f[E+1])}p[x].close&&n.closePath()}}l.fill&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.stroke())}else if(l.type===o.SHAPES.RECT)(l.fillColor||0===l.fillColor)&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fillRect(h.x,h.y,h.width,h.height)),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.strokeRect(h.x,h.y,h.width,h.height));else if(l.type===o.SHAPES.CIRC)n.beginPath(),n.arc(h.x,h.y,h.radius,0,2*Math.PI),n.closePath(),l.fill&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.stroke());else if(l.type===o.SHAPES.ELIP){var S=2*h.width,O=2*h.height,M=h.x-S/2,P=h.y-O/2;n.beginPath();var A=.5522848,C=S/2*A,R=O/2*A,I=M+S,D=P+O,L=M+S/2,j=P+O/2;n.moveTo(M,j),n.bezierCurveTo(M,j-R,L-C,P,L,P),n.bezierCurveTo(L+C,P,I,j-R,I,j),n.bezierCurveTo(I,j+R,L+C,D,L,D),n.bezierCurveTo(L-C,D,M,j+R,M,j),n.closePath(),l.fill&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.stroke())}else if(l.type===o.SHAPES.RREC){var k=h.x,N=h.y,B=h.width,F=h.height,U=h.radius,X=Math.min(B,F)/2|0;U=U>X?X:U,n.beginPath(),n.moveTo(k,N+U),n.lineTo(k,N+F-U),n.quadraticCurveTo(k,N+F,k+U,N+F),n.lineTo(k+B-U,N+F),n.quadraticCurveTo(k+B,N+F,k+B,N+F-U),n.lineTo(k+B,N+U),n.quadraticCurveTo(k+B,N,k+B-U,N),n.lineTo(k+U,N),n.quadraticCurveTo(k,N,k,N+U),n.closePath(),(l.fillColor||0===l.fillColor)&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.stroke())}}},t.prototype.updateGraphicsTint=function t(e){e._prevTint=e.tint,e.canvasTintDirty=e.dirty;for(var r=(e.tint>>16&255)/255,n=(e.tint>>8&255)/255,i=(255&e.tint)/255,o=0;o<e.graphicsData.length;++o){var s=e.graphicsData[o],a=0|s.fillColor,u=0|s.lineColor;s._fillTint=((a>>16&255)/255*r*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*i*255,s._lineTint=((u>>16&255)/255*r*255<<16)+((u>>8&255)/255*n*255<<8)+(255&u)/255*i*255}},t.prototype.renderPolygon=function t(e,r,n){n.moveTo(e[0],e[1]);for(var i=1;i<e.length/2;++i)n.lineTo(e[2*i],e[2*i+1]);r&&n.closePath()},t.prototype.destroy=function t(){this.renderer=null},t}();r.default=u,i.default.registerPlugin("graphics",u)}}},"Application.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=e("./autoDetectRenderer"),o,s=c(e("./display/Container")),a=e("./ticker"),u,l=c(e("./settings")),h=e("./const");function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function(){function t(e,r,n,o,u){d(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:r||l.default.RENDER_OPTIONS.height,forceCanvas:!!o,sharedTicker:!!u},n)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,i.autoDetectRenderer)(e),this.stage=new s.default,this._ticker=null,this.ticker=e.sharedTicker?a.shared:new a.Ticker,e.autoStart&&this.start()}return t.prototype.render=function t(){this.renderer.render(this.stage)},t.prototype.stop=function t(){this._ticker.stop()},t.prototype.start=function t(){this._ticker.start()},t.prototype.destroy=function t(e,r){if(this._ticker){var n=this._ticker;this.ticker=null,n.destroy()}this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null,this._options=null},n(t,[{key:"ticker",set:function t(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,h.UPDATE_PRIORITY.LOW)},get:function t(){return this._ticker}},{key:"view",get:function t(){return this.renderer.view}},{key:"screen",get:function t(){return this.renderer.screen}}]),t}();r.default=f},"autoDetectRenderer.js":function t(e,r){"use strict";r.__esModule=!0,r.autoDetectRenderer=c;var n,i=h(e("./utils")),o,s=l(e("./renderers/canvas/CanvasRenderer")),a,u=l(e("./renderers/webgl/WebGLRenderer"));function l(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function c(t,e,r,n){var o=t&&t.forceCanvas;return void 0!==n&&(o=n),!o&&i.isWebGLSupported()?new u.default(t,e,r):new s.default(t,e,r)}}},"deprecation.js":function t(e,r){"use strict";r.__esModule=!0,r.default=o;var n={};function i(t){if(!n[t]){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),n[t]=!0}}function o(t){var e=t.mesh,r=t.particles,n=t.extras,o=t.filters,s=t.prepare,a=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function t(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function t(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function e(){return i("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function e(){return i("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function t(){return i("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function t(){return i("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function t(){return i("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function t(){return i("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),n.AnimatedSprite}},TilingSprite:{get:function t(){return i("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),n.TilingSprite}},BitmapText:{get:function t(){return i("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),n.BitmapText}},blendModes:{get:function e(){return i("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function e(){return i("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function e(){return i("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function e(){return i("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function e(){return i("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function e(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function e(){return i("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function e(){return i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function e(r){i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=r}},FILTER_RESOLUTION:{get:function e(){return i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function e(r){i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=r}},RESOLUTION:{get:function e(){return i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function e(r){i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=r}},MIPMAP_TEXTURES:{get:function e(){return i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function e(r){i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=r}},SPRITE_BATCH_SIZE:{get:function e(){return i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function e(r){i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=r}},SPRITE_MAX_TEXTURES:{get:function e(){return i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function e(r){i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=r}},RETINA_PREFIX:{get:function e(){return i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function e(r){i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=r}},DEFAULT_RENDER_OPTIONS:{get:function e(){return i("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var l=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],h=function e(r){var n=l[r];Object.defineProperty(t[n.parent],"DEFAULT",{get:function e(){return i("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]},set:function e(r){i("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]=r}})},c=0;c<l.length;c++)h(c);Object.defineProperties(t.settings,{PRECISION:{get:function e(){return i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function e(r){i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=r}}}),n.AnimatedSprite&&Object.defineProperties(n,{MovieClip:{get:function t(){return i("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),n.AnimatedSprite}}}),n&&Object.defineProperties(n,{TextureTransform:{get:function e(){return i("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}}),t.DisplayObject.prototype.generateTexture=function t(e,r,n){return i("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),e.generateTexture(this,r,n)},t.Graphics.prototype.generateTexture=function t(e,r){return i("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(e,r)},t.GroupD8.isSwapWidthHeight=function e(r){return i("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(r)},t.RenderTexture.prototype.render=function t(e,r,n,o){this.legacyRenderer.render(e,this,n,r,!o),i("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function t(e){return i("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(e)},t.RenderTexture.prototype.getBase64=function t(e){return i("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(e)},t.RenderTexture.prototype.getCanvas=function t(e){return i("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(e)},t.RenderTexture.prototype.getPixels=function t(e){return i("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(e)},t.Sprite.prototype.setTexture=function t(e){this.texture=e,i("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},n.BitmapText&&(n.BitmapText.prototype.setText=function t(e){this.text=e,i("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),t.Text.prototype.setText=function t(e){this.text=e,i("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function e(r){return i("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(r)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function e(){return i("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function e(){return i("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function e(){return i("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function t(e){this.style=e,i("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function e(r){return i("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(r)},t.Text.getFontStyle=function e(r){return i("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(r=r||{})instanceof t.TextStyle||(r=new t.TextStyle(r)),r.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function t(){i("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var e="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+e+" "+this._fontFamily},set:function t(e){i("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),e.indexOf("italic")>1?this._fontStyle="italic":e.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",e.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var r=e.split(" "),n=-1;this._fontSize=26;for(var o=0;o<r.length;++o)if(r[o].match(/(px|pt|em|%)/)){n=o,this._fontSize=r[o];break}this._fontWeight="normal";for(var s=0;s<n;++s)if(r[s].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=r[s];break}if(n>-1&&n<r.length-1){this._fontFamily="";for(var a=n+1;a<r.length;++a)this._fontFamily+=r[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function t(e){this.frame=e,i("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function e(r,n){t.Texture.addToCache(r,n),i("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function e(r){return i("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(r),t.Texture.removeFromCache(r)},Object.defineProperties(o,{AbstractFilter:{get:function e(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function e(){return i("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function t(){return i("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return i("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return i("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var d=!0;if(Object.defineProperty(t.utils,"_saidHello",{set:function t(e){e&&(i("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),d=e},get:function t(){return d}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function t(e,r){return i("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),e&&this.registerFindHook(e),r&&this.registerUploadHook(r),this}),s.canvas&&Object.defineProperty(s.canvas,"UPLOADS_PER_FRAME",{set:function t(){i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function t(){return i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),s.webgl&&Object.defineProperty(s.webgl,"UPLOADS_PER_FRAME",{set:function t(){i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function t(){return i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),a.Loader){var f=a.Resource,p=a.Loader;Object.defineProperties(f.prototype,{isJson:{get:function t(){return i("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===f.TYPE.JSON}},isXml:{get:function t(){return i("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===f.TYPE.XML}},isImage:{get:function t(){return i("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===f.TYPE.IMAGE}},isAudio:{get:function t(){return i("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===f.TYPE.AUDIO}},isVideo:{get:function t(){return i("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===f.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function t(){return i("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function t(){return i("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function t(e){i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=e},get:function t(){return i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function t(e){i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=e},get:function t(){return i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function t(e){i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=e},get:function t(){return i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}},accessibility:{"index.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("./accessibleTarget");Object.defineProperty(r,"accessibleTarget",{enumerable:!0,get:function t(){return o(n).default}});var i=e("./AccessibilityManager");function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"AccessibilityManager",{enumerable:!0,get:function t(){return o(i).default}})},"accessibleTarget.js":function t(e,r){"use strict";r.__esModule=!0,r.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},"AccessibilityManager.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=h(e("../core")),o,s=l(e("ismobilejs")),a,u=l(e("./accessibleTarget"));function l(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.utils.mixins.delayMixin(i.DisplayObject.prototype,u.default);var d=9,f=100,p=0,v=0,g=2,y=1,_=-1e3,m=-1e3,b=2,x=function(){function t(e){c(this,t),!s.default.tablet&&!s.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=f+"px",r.style.height=f+"px",r.style.position="absolute",r.style.top=p+"px",r.style.left=v+"px",r.style.zIndex=g,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function t(){var e=this,r=document.createElement("button");r.style.width="1px",r.style.height="1px",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.style.zIndex=2,r.style.backgroundColor="#FF0000",r.title="HOOK DIV",r.addEventListener("focus",(function(){e.isMobileAccessabillity=!0,e.activate(),document.body.removeChild(r)})),document.body.appendChild(r)},t.prototype.activate=function t(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function t(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function t(e){if(e.visible){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var r=e.children,n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function t(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.width/this.renderer.width,n=e.height/this.renderer.height,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var a=this.children[s];if(a.renderId!==this.renderId)a._accessibleActive=!1,i.utils.removeItems(this.children,s,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,s--,0===this.children.length&&this.deactivate();else{o=a._accessibleDiv;var u=a.hitArea,l=a.worldTransform;a.hitArea?(o.style.left=(l.tx+u.x*l.a)*r+"px",o.style.top=(l.ty+u.y*l.d)*n+"px",o.style.width=u.width*l.a*r+"px",o.style.height=u.height*l.d*n+"px"):(u=a.getBounds(),this.capHitArea(u),o.style.left=u.x*r+"px",o.style.top=u.y*n+"px",o.style.width=u.width*r+"px",o.style.height=u.height*n+"px",o.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(o.title=a.accessibleTitle),o.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&o.setAttribute("aria-label",a.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function t(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},t.prototype.addChild=function t(e){var r=this.pool.pop();r||((r=document.createElement("button")).style.width=f+"px",r.style.height=f+"px",r.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=g,r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),e.accessibleTitle&&null!==e.accessibleTitle?r.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(r.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&r.setAttribute("aria-label",e.accessibleHint),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function t(e){var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"click",r.eventData)},t.prototype._onFocus=function t(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"mouseover",r.eventData)},t.prototype._onFocusOut=function t(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"mouseout",r.eventData)},t.prototype._onKeyDown=function t(e){9===e.keyCode&&this.activate()},t.prototype._onMouseMove=function t(e){0===e.movementX&&0===e.movementY||this.deactivate()},t.prototype.destroy=function t(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();r.default=x,i.WebGLRenderer.registerPlugin("accessibility",x),i.CanvasRenderer.registerPlugin("accessibility",x)}},extract:{"index.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("./webgl/WebGLExtract");Object.defineProperty(r,"webgl",{enumerable:!0,get:function t(){return o(n).default}});var i=e("./canvas/CanvasExtract");function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"canvas",{enumerable:!0,get:function t(){return o(i).default}})},webgl:{"WebGLExtract.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=o(e("../../core"));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=new i.Rectangle,u=4,l=function(){function t(e){s(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function t(e){var t=new Image;return t.src=this.base64(e),t},t.prototype.base64=function t(e){return this.canvas(e).toDataURL()},t.prototype.canvas=function t(e){var r=this.renderer,n=void 0,o=void 0,s=void 0,u=!1,l=void 0,h=!1;e&&(e instanceof i.RenderTexture?l=e:(l=this.renderer.generateTexture(e),h=!0)),l?(o=(n=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=l.frame,u=!1):(o=(n=this.renderer.rootRenderTarget).resolution,u=!0,(s=a).width=n.size.width,s.height=n.size.height);var c=Math.floor(s.width*o+1e-4),d=Math.floor(s.height*o+1e-4),f=new i.CanvasRenderTarget(c,d,1);if(n){r.bindRenderTarget(n);var p=new Uint8Array(4*c*d),v=r.gl;v.readPixels(s.x*o,s.y*o,c,d,v.RGBA,v.UNSIGNED_BYTE,p);var g=f.context.getImageData(0,0,c,d);g.data.set(p),f.context.putImageData(g,0,0),u&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-d))}return h&&l.destroy(!0),f.canvas},t.prototype.pixels=function t(e){var r=this.renderer,n=void 0,o=void 0,s=void 0,u=void 0,l=!1;e&&(e instanceof i.RenderTexture?u=e:(u=this.renderer.generateTexture(e),l=!0)),u?(o=(n=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=u.frame):(o=(n=this.renderer.rootRenderTarget).resolution,(s=a).width=n.size.width,s.height=n.size.height);var h=s.width*o,c=s.height*o,d=new Uint8Array(4*h*c);if(n){r.bindRenderTarget(n);var f=r.gl;f.readPixels(s.x*o,s.y*o,h,c,f.RGBA,f.UNSIGNED_BYTE,d)}return l&&u.destroy(!0),d},t.prototype.destroy=function t(){this.renderer.extract=null,this.renderer=null},t}();r.default=l,i.WebGLRenderer.registerPlugin("extract",l)}},canvas:{"CanvasExtract.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=o(e("../../core"));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=new i.Rectangle,u=function(){function t(e){s(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function t(e){var t=new Image;return t.src=this.base64(e),t},t.prototype.base64=function t(e){return this.canvas(e).toDataURL()},t.prototype.canvas=function t(e){var r=this.renderer,n=void 0,o=void 0,s=void 0,u=void 0;e&&(u=e instanceof i.RenderTexture?e:r.generateTexture(e)),u?(n=u.baseTexture._canvasRenderTarget.context,o=u.baseTexture._canvasRenderTarget.resolution,s=u.frame):(n=r.rootContext,o=r.resolution,(s=a).width=this.renderer.width,s.height=this.renderer.height);var l=Math.floor(s.width*o+1e-4),h=Math.floor(s.height*o+1e-4),c=new i.CanvasRenderTarget(l,h,1),d=n.getImageData(s.x*o,s.y*o,l,h);return c.context.putImageData(d,0,0),c.canvas},t.prototype.pixels=function t(e){var r=this.renderer,n=void 0,o=void 0,s=void 0,u=void 0;return e&&(u=e instanceof i.RenderTexture?e:r.generateTexture(e)),u?(n=u.baseTexture._canvasRenderTarget.context,o=u.baseTexture._canvasRenderTarget.resolution,s=u.frame):(n=r.rootContext,(s=a).width=r.width,s.height=r.height),n.getImageData(0,0,s.width*o,s.height*o).data},t.prototype.destroy=function t(){this.renderer.extract=null,this.renderer=null},t}();r.default=u,i.CanvasRenderer.registerPlugin("extract",u)}}},extras:{"index.js":function t(e,r){"use strict";r.__esModule=!0,r.BitmapText=r.TilingSpriteRenderer=r.TilingSprite=r.AnimatedSprite=void 0;var n=e("./AnimatedSprite");Object.defineProperty(r,"AnimatedSprite",{enumerable:!0,get:function t(){return a(n).default}});var i=e("./TilingSprite");Object.defineProperty(r,"TilingSprite",{enumerable:!0,get:function t(){return a(i).default}});var o=e("./webgl/TilingSpriteRenderer");Object.defineProperty(r,"TilingSpriteRenderer",{enumerable:!0,get:function t(){return a(o).default}});var s=e("./BitmapText");function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"BitmapText",{enumerable:!0,get:function t(){return a(s).default}}),e("./cacheAsBitmap"),e("./getChildByName"),e("./getGlobalPosition")},"AnimatedSprite.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=s(e("../core"));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(r,n){a(this,e);var i=u(this,t.call(this,r[0]instanceof o.Texture?r[0]:r[0].texture));return i._textures=null,i._durations=null,i.textures=r,i._autoUpdate=!1!==n,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i.playing=!1,i}return l(e,t),e.prototype.stop=function t(){this.playing&&(this.playing=!1,this._autoUpdate&&o.ticker.shared.remove(this.update,this))},e.prototype.play=function t(){this.playing||(this.playing=!0,this._autoUpdate&&o.ticker.shared.add(this.update,this,o.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function t(e){this.stop();var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function t(e){var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function t(e){var r=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function t(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function e(r){this.stop(),t.prototype.destroy.call(this,r)},e.fromFrames=function t(r){for(var n=[],i=0;i<r.length;++i)n.push(o.Texture.fromFrame(r[i]));return new e(n)},e.fromImages=function t(r){for(var n=[],i=0;i<r.length;++i)n.push(o.Texture.fromImage(r[i]));return new e(n)},n(e,[{key:"totalFrames",get:function t(){return this._textures.length}},{key:"textures",get:function t(){return this._textures},set:function t(e){if(e[0]instanceof o.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function t(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}}]),e}(o.Sprite);r.default=h},"TilingSprite.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=l(e("../core")),s,a=u(e("../core/sprites/canvas/CanvasTinter"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=new o.Point,p=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;h(this,e);var s=c(this,t.call(this,r));return s.tileTransform=new o.TransformStatic,s._width=n,s._height=i,s._canvasPattern=null,s.uvTransform=r.transform||new o.TextureMatrix(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return d(e,t),e.prototype._onTextureUpdate=function t(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function t(e){var r=this._texture;r&&r.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function t(e){var r=this._texture;if(r.baseTexture.hasLoaded){var n=e.context,i=this.worldTransform,s=e.resolution,u=2===r.rotate,l=r.baseTexture,h=l.resolution,c=this.tilePosition.x/this.tileScale.x%r.orig.width*h,d=this.tilePosition.y/this.tileScale.y%r.orig.height*h;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var f=new o.CanvasRenderTarget(r.orig.width,r.orig.height,h);if(16777215!==this.tint)this.tintedTexture=a.default.getTintedTexture(this,this.tint),f.context.drawImage(this.tintedTexture,0,0);else{var p=r._frame.x*h,v=r._frame.y*h,g=r._frame.width*h,y=r._frame.height*h,_=(r.trim?r.trim.width:r.orig.width)*h,m=(r.trim?r.trim.height:r.orig.height)*h,b=(r.trim?r.trim.x:0)*h,x=(r.trim?r.trim.y:0)*h;u?(f.context.rotate(-Math.PI/2),f.context.translate(-m,0),f.context.drawImage(l.source,p,v,g,y,-x,b,m,_)):f.context.drawImage(l.source,p,v,g,y,b,x,_,m)}this.cachedTint=this.tint,this._canvasPattern=f.context.createPattern(f.canvas,"repeat")}n.globalAlpha=this.worldAlpha,n.setTransform(i.a*s,i.b*s,i.c*s,i.d*s,i.tx*s,i.ty*s),e.setBlendMode(this.blendMode),n.fillStyle=this._canvasPattern,n.scale(this.tileScale.x/h,this.tileScale.y/h);var T=this.anchor.x*-this._width*h,w=this.anchor.y*-this._height*h;this.uvRespectAnchor?(n.translate(c,d),n.fillRect(-c+T,-d+w,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h)):(n.translate(c+T,d+w),n.fillRect(-c,-d,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h))}},e.prototype._calculateBounds=function t(){var e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)},e.prototype.getLocalBounds=function e(r){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function t(e){this.worldTransform.applyInverse(e,f);var r=this._width,n=this._height,i=-r*this.anchor._x;if(f.x>=i&&f.x<i+r){var o=-n*this.anchor._y;if(f.y>=o&&f.y<o+n)return!0}return!1},e.prototype.destroy=function e(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvTransform=null},e.from=function t(r,n,i){return new e(o.Texture.from(r),n,i)},e.fromFrame=function t(r,n,i){var s=o.utils.TextureCache[r];if(!s)throw new Error('The frameId "'+r+'" does not exist in the texture cache '+this);return new e(s,n,i)},e.fromImage=function t(r,n,i,s,a){return new e(o.Texture.fromImage(r,s,a),n,i)},n(e,[{key:"clampMargin",get:function t(){return this.uvTransform.clampMargin},set:function t(e){this.uvTransform.clampMargin=e,this.uvTransform.update(!0)}},{key:"tileScale",get:function t(){return this.tileTransform.scale},set:function t(e){this.tileTransform.scale.copy(e)}},{key:"tilePosition",get:function t(){return this.tileTransform.position},set:function t(e){this.tileTransform.position.copy(e)}},{key:"width",get:function t(){return this._width},set:function t(e){this._width=e}},{key:"height",get:function t(){return this._height},set:function t(e){this._height=e}}]),e}(o.Sprite);r.default=p},webgl:{"TilingSpriteRenderer.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=a(e("../../core")),o=e("../../core/const"),s=e("path");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=new i.Matrix,d=function(t){function e(r){u(this,e);var n=l(this,t.call(this,r));return n.shader=null,n.simpleShader=null,n.quad=null,n}return h(e,t),e.prototype.onContextChange=function t(){var e=this.renderer.gl;this.shader=new i.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new i.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new i.Quad(e,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function t(e){var r=this.renderer,n=this.quad;r.bindVao(n.vao);var s=n.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((s=n.uvs)[0]=s[6]=-e.anchor.x,s[1]=s[3]=-e.anchor.y,s[2]=s[4]=1-e.anchor.x,s[5]=s[7]=1-e.anchor.y),n.upload();var a=e._texture,u=a.baseTexture,l=e.tileTransform.localTransform,h=e.uvTransform,d=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;d&&(u._glTextures[r.CONTEXT_UID]?d=u.wrapMode!==o.WRAP_MODES.CLAMP:u.wrapMode===o.WRAP_MODES.CLAMP&&(u.wrapMode=o.WRAP_MODES.REPEAT));var f=d?this.simpleShader:this.shader;r.bindShader(f);var p=a.width,v=a.height,g=e._width,y=e._height;c.set(l.a*p/g,l.b*p/y,l.c*v/g,l.d*v/y,l.tx/g,l.ty/y),c.invert(),d?c.prepend(h.mapCoord):(f.uniforms.uMapCoord=h.mapCoord.toArray(!0),f.uniforms.uClampFrame=h.uClampFrame,f.uniforms.uClampOffset=h.uClampOffset),f.uniforms.uTransform=c.toArray(!0),f.uniforms.uColor=i.utils.premultiplyTintToRgba(e.tint,e.worldAlpha,f.uniforms.uColor,u.premultipliedAlpha),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=r.bindTexture(a),r.setBlendMode(i.utils.correctBlendMode(e.blendMode,u.premultipliedAlpha)),n.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(i.ObjectRenderer);r.default=d,i.WebGLRenderer.registerPlugin("tilingSprite",d)}},"BitmapText.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=d(e("../core")),s,a=c(e("../core/math/ObservablePoint")),u=e("../core/utils"),l,h=c(e("../core/settings"));function c(t){return t&&t.__esModule?t:{default:t}}function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,e);var i=p(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},i.font=n.font,i._text=r,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new a.default((function(){i.dirty=!0}),i,0,0),i.dirty=!1,i.updateText(),i}return v(e,t),e.prototype.updateText=function t(){for(var r=e.fonts[this._font.name],n=this._font.size/r.size,i=new o.Point,s=[],a=[],u=this.text.replace(/(?:\r\n|\r)/g,"\n"),l=u.length,h=this._maxWidth*r.size/this._font.size,c=null,d=0,f=0,p=0,v=-1,g=0,y=0,_=0,m=0;m<l;m++){var b=u.charCodeAt(m),x=u.charAt(m);if(/(?:\s)/.test(x)&&(v=m,g=d),"\r"!==x&&"\n"!==x){var T=r.chars[b];T&&(c&&T.kerning[c]&&(i.x+=T.kerning[c]),s.push({texture:T.texture,line:p,charCode:b,position:new o.Point(i.x+T.xOffset+this._letterSpacing/2,i.y+T.yOffset)}),i.x+=T.xAdvance+this._letterSpacing,d=i.x,_=Math.max(_,T.yOffset+T.texture.height),c=b,-1!==v&&h>0&&i.x>h&&(++y,o.utils.removeItems(s,1+v-y,1+m-v),m=v,v=-1,a.push(g),f=Math.max(f,g),p++,i.x=0,i.y+=r.lineHeight,c=null))}else a.push(d),f=Math.max(f,d),++p,++y,i.x=0,i.y+=r.lineHeight,c=null}var w=u.charAt(u.length-1);"\r"!==w&&"\n"!==w&&(/(?:\s)/.test(w)&&(d=g),a.push(d),f=Math.max(f,d));for(var E=[],S=0;S<=p;S++){var O=0;"right"===this._font.align?O=f-a[S]:"center"===this._font.align&&(O=(f-a[S])/2),E.push(O)}for(var M=s.length,P=this.tint,A=0;A<M;A++){var C=this._glyphs[A];C?C.texture=s[A].texture:(C=new o.Sprite(s[A].texture),this._glyphs.push(C)),C.position.x=(s[A].position.x+E[s[A].line])*n,C.position.y=s[A].position.y*n,C.scale.x=C.scale.y=n,C.tint=P,C.parent||this.addChild(C)}for(var R=M;R<this._glyphs.length;++R)this.removeChild(this._glyphs[R]);if(this._textWidth=f*n,this._textHeight=(i.y+r.lineHeight)*n,0!==this.anchor.x||0!==this.anchor.y)for(var I=0;I<M;I++)this._glyphs[I].x-=this._textWidth*this.anchor.x,this._glyphs[I].y-=this._textHeight*this.anchor.y;this._maxLineHeight=_*n},e.prototype.updateTransform=function t(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function e(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function t(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function t(r,n){var i={},s=r.getElementsByTagName("info")[0],a=r.getElementsByTagName("common")[0],l=r.getElementsByTagName("page"),c=(0,u.getResolutionOfUrl)(l[0].getAttribute("file"),h.default.RESOLUTION),d={};i.font=s.getAttribute("face"),i.size=parseInt(s.getAttribute("size"),10),i.lineHeight=parseInt(a.getAttribute("lineHeight"),10)/c,i.chars={},n instanceof o.Texture&&(n=[n]);for(var f=0;f<l.length;f++){var p=l[f].getAttribute("id"),v=l[f].getAttribute("file");d[p]=n instanceof Array?n[f]:n[v]}for(var g=r.getElementsByTagName("char"),y=0;y<g.length;y++){var _=g[y],m=parseInt(_.getAttribute("id"),10),b=_.getAttribute("page")||0,x=new o.Rectangle(parseInt(_.getAttribute("x"),10)/c+d[b].frame.x/c,parseInt(_.getAttribute("y"),10)/c+d[b].frame.y/c,parseInt(_.getAttribute("width"),10)/c,parseInt(_.getAttribute("height"),10)/c);i.chars[m]={xOffset:parseInt(_.getAttribute("xoffset"),10)/c,yOffset:parseInt(_.getAttribute("yoffset"),10)/c,xAdvance:parseInt(_.getAttribute("xadvance"),10)/c,kerning:{},texture:new o.Texture(d[b].baseTexture,x),page:b}}for(var T=r.getElementsByTagName("kerning"),w=0;w<T.length;w++){var E=T[w],S=parseInt(E.getAttribute("first"),10)/c,O=parseInt(E.getAttribute("second"),10)/c,M=parseInt(E.getAttribute("amount"),10)/c;i.chars[O]&&(i.chars[O].kerning[S]=M)}return e.fonts[i.font]=i,i},n(e,[{key:"tint",get:function t(){return this._font.tint},set:function t(e){this._font.tint="number"==typeof e&&e>=0?e:16777215,this.dirty=!0}},{key:"align",get:function t(){return this._font.align},set:function t(e){this._font.align=e||"left",this.dirty=!0}},{key:"anchor",get:function t(){return this._anchor},set:function t(e){"number"==typeof e?this._anchor.set(e):this._anchor.copy(e)}},{key:"font",get:function t(){return this._font},set:function t(r){r&&("string"==typeof r?(r=r.split(" "),this._font.name=1===r.length?r[0]:r.slice(1).join(" "),this._font.size=r.length>=2?parseInt(r[0],10):e.fonts[this._font.name].size):(this._font.name=r.name,this._font.size="number"==typeof r.size?r.size:parseInt(r.size,10)),this.dirty=!0)}},{key:"text",get:function t(){return this._text},set:function t(e){e=e.toString()||" ",this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"maxWidth",get:function t(){return this._maxWidth},set:function t(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}},{key:"maxLineHeight",get:function t(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function t(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function t(){return this._letterSpacing},set:function t(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}},{key:"textHeight",get:function t(){return this.validate(),this._textHeight}}]),e}(o.Container);r.default=g,g.fonts={}},"cacheAsBitmap.js":function t(e){"use strict";var r,n=h(e("../core")),i,o=l(e("../core/textures/Texture")),s,a=l(e("../core/textures/BaseTexture")),u=e("../core/utils");function l(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d=n.DisplayObject,f=new n.Matrix;d.prototype._cacheAsBitmap=!1,d.prototype._cacheData=!1;var p=function t(){c(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(d.prototype,{cacheAsBitmap:{get:function t(){return this._cacheAsBitmap},set:function t(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var r=void 0;e?(this._cacheData||(this._cacheData=new p),(r=this._cacheData).originalRenderWebGL=this.renderWebGL,r.originalRenderCanvas=this.renderCanvas,r.originalUpdateTransform=this.updateTransform,r.originalCalculateBounds=this.calculateBounds,r.originalGetLocalBounds=this.getLocalBounds,r.originalDestroy=this.destroy,r.originalContainsPoint=this.containsPoint,r.originalMask=this._mask,r.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((r=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=r.originalRenderWebGL,this.renderCanvas=r.originalRenderCanvas,this.calculateBounds=r.originalCalculateBounds,this.getLocalBounds=r.originalGetLocalBounds,this.destroy=r.originalDestroy,this.updateTransform=r.originalUpdateTransform,this.containsPoint=r.originalContainsPoint,this._mask=r.originalMask,this.filterArea=r.originalFilterArea)}}}}),d.prototype._renderCachedWebGL=function t(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(e))},d.prototype._initCachedDisplayObject=function t(e){if(!this._cacheData||!this._cacheData.sprite){var r=this.alpha;this.alpha=1,e.currentRenderer.flush();var i=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var s=this._filters[0].padding;i.pad(s)}i.ceil(n.settings.RESOLUTION);var l=e._activeRenderTarget,h=e.filterManager.filterStack,c=n.RenderTexture.create(i.width,i.height),d="cacheAsBitmap_"+(0,u.uid)();this._cacheData.textureCacheId=d,a.default.addToCache(c.baseTexture,d),o.default.addToCache(c,d);var p=f;p.tx=-i.x,p.ty=-i.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,e.render(this,c,!0,p,!0),e.bindRenderTarget(l),e.filterManager.filterStack=h,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var v=new n.Sprite(c);v.transform.worldTransform=this.transform.worldTransform,v.anchor.x=-i.x/i.width,v.anchor.y=-i.y/i.height,v.alpha=r,v._bounds=this._bounds,this._cacheData.sprite=v,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=v.containsPoint.bind(v)}},d.prototype._renderCachedCanvas=function t(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},d.prototype._initCachedDisplayObjectCanvas=function t(e){if(!this._cacheData||!this._cacheData.sprite){var r=this.getLocalBounds(),i=this.alpha;this.alpha=1;var s=e.context;r.ceil(n.settings.RESOLUTION);var l=n.RenderTexture.create(r.width,r.height),h="cacheAsBitmap_"+(0,u.uid)();this._cacheData.textureCacheId=h,a.default.addToCache(l.baseTexture,h),o.default.addToCache(l,h);var c=f;this.transform.localTransform.copy(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,l,!0,c,!1),e.context=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var d=new n.Sprite(l);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-r.x/r.width,d.anchor.y=-r.y/r.height,d.alpha=i,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)}},d.prototype._calculateCachedBounds=function t(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},d.prototype._getCachedLocalBounds=function t(){return this._cacheData.sprite.getLocalBounds()},d.prototype._destroyCachedDisplayObject=function t(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,a.default.removeFromCache(this._cacheData.textureCacheId),o.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},d.prototype._cacheAsBitmapDestroy=function t(e){this.cacheAsBitmap=!1,this.destroy(e)}},"getChildByName.js":function t(e){"use strict";var r,n=i(e("../core"));function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function t(e){for(var r=0;r<this.children.length;r++)if(this.children[r].name===e)return this.children[r];return null}},"getGlobalPosition.js":function t(e){"use strict";var r,n=i(e("../core"));function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}n.DisplayObject.prototype.getGlobalPosition=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n.Point,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e}}},filters:{"index.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("./fxaa/FXAAFilter");Object.defineProperty(r,"FXAAFilter",{enumerable:!0,get:function t(){return c(n).default}});var i=e("./noise/NoiseFilter");Object.defineProperty(r,"NoiseFilter",{enumerable:!0,get:function t(){return c(i).default}});var o=e("./displacement/DisplacementFilter");Object.defineProperty(r,"DisplacementFilter",{enumerable:!0,get:function t(){return c(o).default}});var s=e("./blur/BlurFilter");Object.defineProperty(r,"BlurFilter",{enumerable:!0,get:function t(){return c(s).default}});var a=e("./blur/BlurXFilter");Object.defineProperty(r,"BlurXFilter",{enumerable:!0,get:function t(){return c(a).default}});var u=e("./blur/BlurYFilter");Object.defineProperty(r,"BlurYFilter",{enumerable:!0,get:function t(){return c(u).default}});var l=e("./colormatrix/ColorMatrixFilter");Object.defineProperty(r,"ColorMatrixFilter",{enumerable:!0,get:function t(){return c(l).default}});var h=e("./alpha/AlphaFilter");function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"AlphaFilter",{enumerable:!0,get:function t(){return c(h).default}})},fxaa:{"FXAAFilter.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=s(e("../../core")),o=e("path");function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return a(this,e),u(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return l(e,t),e}(i.Filter);r.default=h}},noise:{"NoiseFilter.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=a(e("../../core")),s=e("path");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();u(this,e);var i=l(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=r,i.seed=n,i}return h(e,t),n(e,[{key:"noise",get:function t(){return this.uniforms.uNoise},set:function t(e){this.uniforms.uNoise=e}},{key:"seed",get:function t(){return this.uniforms.uSeed},set:function t(e){this.uniforms.uSeed=e}}]),e}(o.Filter);r.default=c}},displacement:{"DisplacementFilter.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=a(e("../../core")),s=e("path");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(r,n){u(this,e);var i=new o.Matrix;r.renderable=!1;var s=l(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=r,s.maskMatrix=i,s.uniforms.mapSampler=r._texture,s.uniforms.filterMatrix=i,s.uniforms.scale={x:1,y:1},null==n&&(n=20),s.scale=new o.Point(n,n),s}return h(e,t),e.prototype.apply=function t(e,r,n){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,e.applyFilter(this,r,n)},n(e,[{key:"map",get:function t(){return this.uniforms.mapSampler},set:function t(e){this.uniforms.mapSampler=e}}]),e}(o.Filter);r.default=c}},blur:{"BlurFilter.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=c(e("../../core")),s,a=h(e("./BlurXFilter")),u,l=h(e("./BlurYFilter"));function h(t){return t&&t.__esModule?t:{default:t}}function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(r,n,i,s){d(this,e);var u=f(this,t.call(this));return u.blurXFilter=new a.default(r,n,i,s),u.blurYFilter=new l.default(r,n,i,s),u.padding=0,u.resolution=i||o.settings.RESOLUTION,u.quality=n||4,u.blur=r||8,u}return p(e,t),e.prototype.apply=function t(e,r,n){var i=e.getRenderTarget(!0);this.blurXFilter.apply(e,r,i,!0),this.blurYFilter.apply(e,i,n,!1),e.returnRenderTarget(i)},n(e,[{key:"blur",get:function t(){return this.blurXFilter.blur},set:function t(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function t(){return this.blurXFilter.quality},set:function t(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function t(){return this.blurXFilter.blur},set:function t(e){this.blurXFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function t(){return this.blurYFilter.blur},set:function t(e){this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function t(){return this.blurYFilter._blendMode},set:function t(e){this.blurYFilter._blendMode=e}}]),e}(o.Filter);r.default=v},"BlurXFilter.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=f(e("../../core")),s,a=d(e("./generateBlurVertSource")),u,l=d(e("./generateBlurFragSource")),h,c=d(e("./getMaxBlurKernelSize"));function d(t){return t&&t.__esModule?t:{default:t}}function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(t){function e(r,n,i,s){p(this,e),s=s||5;var u=(0,a.default)(s,!0),h=(0,l.default)(s),c=v(this,t.call(this,u,h));return c.resolution=i||o.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return g(e,t),e.prototype.apply=function t(e,r,n,i){if(this.firstRun){var o=e.renderer.gl,s=(0,c.default)(o);this.vertexSrc=(0,a.default)(s,!0),this.fragmentSrc=(0,l.default)(s),this.firstRun=!1}if(this.uniforms.strength=1/n.size.width*(n.size.width/r.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,r,n,i);else{for(var u=e.getRenderTarget(!0),h=r,d=u,f=0;f<this.passes-1;f++){e.applyFilter(this,h,d,!0);var p=d;d=h,h=p}e.applyFilter(this,h,n,i),e.returnRenderTarget(u)}},n(e,[{key:"blur",get:function t(){return this.strength},set:function t(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function t(){return this._quality},set:function t(e){this._quality=e,this.passes=e}}]),e}(o.Filter);r.default=y},"generateBlurVertSource.js":function t(e,r){"use strict";r.__esModule=!0,r.default=i;var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n");function i(t,e){var r=Math.ceil(t/2),i=n,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a);o+=u=u.replace("%sampleIndex%",a-(r-1)+".0"),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)}},"generateBlurFragSource.js":function t(e,r){"use strict";r.__esModule=!0,r.default=o;var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function o(t){for(var e=n[t],r=e.length,o=i,s="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",u=void 0,l=0;l<t;l++){var h=a.replace("%index%",l);u=l,l>=r&&(u=t-l-1),s+=h=h.replace("%value%",e[u]),s+="\n"}return o=(o=o.replace("%blur%",s)).replace("%size%",t)}},"getMaxBlurKernelSize.js":function t(e,r){"use strict";function n(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}r.__esModule=!0,r.default=n},"BlurYFilter.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=f(e("../../core")),s,a=d(e("./generateBlurVertSource")),u,l=d(e("./generateBlurFragSource")),h,c=d(e("./getMaxBlurKernelSize"));function d(t){return t&&t.__esModule?t:{default:t}}function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(t){function e(r,n,i,s){p(this,e),s=s||5;var u=(0,a.default)(s,!1),h=(0,l.default)(s),c=v(this,t.call(this,u,h));return c.resolution=i||o.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return g(e,t),e.prototype.apply=function t(e,r,n,i){if(this.firstRun){var o=e.renderer.gl,s=(0,c.default)(o);this.vertexSrc=(0,a.default)(s,!1),this.fragmentSrc=(0,l.default)(s),this.firstRun=!1}if(this.uniforms.strength=1/n.size.height*(n.size.height/r.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,r,n,i);else{for(var u=e.getRenderTarget(!0),h=r,d=u,f=0;f<this.passes-1;f++){e.applyFilter(this,h,d,!0);var p=d;d=h,h=p}e.applyFilter(this,h,n,i),e.returnRenderTarget(u)}},n(e,[{key:"blur",get:function t(){return this.strength},set:function t(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function t(){return this._quality},set:function t(e){this._quality=e,this.passes=e}}]),e}(o.Filter);r.default=y}},colormatrix:{"ColorMatrixFilter.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=a(e("../../core")),s=e("path");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){u(this,e);var r=l(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return h(e,t),e.prototype._loadMatrix=function t(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n},e.prototype._multiply=function t(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e},e.prototype._colorMatrix=function t(e){var r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},e.prototype.brightness=function t(e,r){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.greyscale=function t(e,r){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.blackAndWhite=function t(e){var r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.hue=function t(e,r){e=(e||0)/180*Math.PI;var n=Math.cos(e),i=Math.sin(e),o,s=1/3,a=(0,Math.sqrt)(s),u,l,h,c,d,f,p,v,g,y=[n+(1-n)*s,s*(1-n)-a*i,s*(1-n)+a*i,0,0,s*(1-n)+a*i,n+s*(1-n),s*(1-n)-a*i,0,0,s*(1-n)-a*i,s*(1-n)+a*i,n+s*(1-n),0,0,0,0,0,1,0];this._loadMatrix(y,r)},e.prototype.contrast=function t(e,r){var n=(e||0)+1,i=-.5*(n-1),o=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(o,r)},e.prototype.saturate=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments[1],n=2*e/3+1,i=-.5*(n-1),o=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(o,r)},e.prototype.desaturate=function t(){this.saturate(-1)},e.prototype.negative=function t(e){var r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.sepia=function t(e){var r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.technicolor=function t(e){var r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.polaroid=function t(e){var r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.toBGR=function t(e){var r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.kodachrome=function t(e){var r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.browni=function t(e){var r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.vintage=function t(e){var r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.colorTone=function t(e,r,n,i,o){var s=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,u=(255&n)/255,l=((i=i||3375104)>>16&255)/255,h=(i>>8&255)/255,c=(255&i)/255,d=[.3,.59,.11,0,0,s,a,u,e=e||.2,0,l,h,c,r=r||.15,0,s-l,a-h,u-c,0,0];this._loadMatrix(d,o)},e.prototype.night=function t(e,r){var n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.predator=function t(e,r){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.lsd=function t(e){var r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.reset=function t(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)},n(e,[{key:"matrix",get:function t(){return this.uniforms.m},set:function t(e){this.uniforms.m=e}},{key:"alpha",get:function t(){return this.uniforms.uAlpha},set:function t(e){this.uniforms.uAlpha=e}}]),e}(o.Filter);r.default=c,c.prototype.grayscale=c.prototype.greyscale}},alpha:{"AlphaFilter.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=a(e("../../core")),s=e("path");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;u(this,e);var n=l(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return n.alpha=r,n.glShaderKey="alpha",n}return h(e,t),n(e,[{key:"alpha",get:function t(){return this.uniforms.uAlpha},set:function t(e){this.uniforms.uAlpha=e}}]),e}(o.Filter);r.default=c}}},interaction:{"index.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("./InteractionData");Object.defineProperty(r,"InteractionData",{enumerable:!0,get:function t(){return u(n).default}});var i=e("./InteractionManager");Object.defineProperty(r,"InteractionManager",{enumerable:!0,get:function t(){return u(i).default}});var o=e("./interactiveTarget");Object.defineProperty(r,"interactiveTarget",{enumerable:!0,get:function t(){return u(o).default}});var s=e("./InteractionTrackingData");Object.defineProperty(r,"InteractionTrackingData",{enumerable:!0,get:function t(){return u(s).default}});var a=e("./InteractionEvent");function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"InteractionEvent",{enumerable:!0,get:function t(){return u(a).default}})},"InteractionData.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=s(e("../core"));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){a(this,t),this.global=new o.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function t(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function t(e){e.isPrimary&&(this.isPrimary=!0),this.button=e.button,this.buttons=Number.isInteger(e.buttons)?e.buttons:e.which,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY,this.pointerType=e.pointerType,this.pressure=e.pressure,this.rotationAngle=e.rotationAngle,this.twist=e.twist||0,this.tangentialPressure=e.tangentialPressure||0},t.prototype.reset=function t(){this.isPrimary=!1},n(t,[{key:"pointerId",get:function t(){return this.identifier}}]),t}();r.default=u},"InteractionManager.js":function t(e,r){"use strict";r.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i,o=y(e("../core")),s,a=g(e("./InteractionData")),u,l=g(e("./InteractionEvent")),h,c=g(e("./InteractionTrackingData")),d,f=g(e("eventemitter3")),p,v=g(e("./interactiveTarget"));function g(t){return t&&t.__esModule?t:{default:t}}function y(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}o.utils.mixins.delayMixin(o.DisplayObject.prototype,v.default);var x=1,T={target:null,data:{global:null}},w=function(t){function e(r,n){_(this,e);var i=m(this,t.call(this));return n=n||{},i.renderer=r,i.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new a.default,i.mouse.identifier=x,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[x]=i.mouse,i.interactionDataPool=[],i.eventData=new l.default,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i._tempPoint=new o.Point,i.resolution=1,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return b(e,t),e.prototype.hitTest=function t(e,r){return T.target=null,T.data.global=e,r||(r=this.renderer._lastObjectRendered),this.processInteractive(T,r,null,!0),T.target},e.prototype.setTargetElement=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=e,this.resolution=r,this.addEvents()},e.prototype.addEvents=function t(){this.interactionDOMElement&&(o.ticker.shared.add(this.update,this,o.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function t(){this.interactionDOMElement&&(o.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function t(e){if(this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var r in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&"touch"!==n.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function t(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var r=this.cursorStyles[e];if(r)switch(void 0===r?"undefined":n(r)){case"string":this.interactionDOMElement.style.cursor=r;break;case"function":r(e);break;case"object":Object.assign(this.interactionDOMElement.style,r)}else"string"!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},e.prototype.dispatchEvent=function t(e,r,n){n.stopped||(n.currentTarget=e,n.type=r,e.emit(r,n),e[r]&&e[r](n))},e.prototype.mapPositionToPoint=function t(e,r,n){var i=void 0;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var o=navigator.isCocoonJS?this.resolution:1/this.resolution;e.x=(r-i.left)*(this.interactionDOMElement.width/i.width)*o,e.y=(n-i.top)*(this.interactionDOMElement.height/i.height)*o},e.prototype.processInteractive=function t(e,r,n,i,o){if(!r||!r.visible)return!1;var s=e.data.global,a=!1,u=o=r.interactive||o,l=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(s,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(i=!1,l=!1)),u=!1):r._mask&&i&&(r._mask.containsPoint(s)||(i=!1,l=!1)),l&&r.interactiveChildren&&r.children)for(var h=r.children,c=h.length-1;c>=0;c--){var d=h[c],f=this.processInteractive(e,d,n,i,u);if(f){if(!d.parent)continue;u=!1,f&&(e.target&&(i=!1),a=!0)}}return o&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(s)&&(a=!0),r.interactive&&(a&&!e.target&&(e.target=r),n&&n(e,r,!!a))),a},e.prototype.onPointerDown=function t(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&e.preventDefault();for(var n=r.length,i=0;i<n;i++){var o=r[i],s=this.getInteractionDataForPointerId(o),a=this.configureInteractionEventForDOMEvent(this.eventData,o,s);if(a.data.originalEvent=e,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===o.pointerType)this.emit("touchstart",a);else if("mouse"===o.pointerType||"pen"===o.pointerType){var u=2===o.button;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function t(e,r,n){var i=e.data,o=e.data.identifier;if(n)if(r.trackedPointers[o]||(r.trackedPointers[o]=new c.default(o)),this.dispatchEvent(r,"pointerdown",e),"touch"===i.pointerType)this.dispatchEvent(r,"touchstart",e);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;s?r.trackedPointers[o].rightDown=!0:r.trackedPointers[o].leftDown=!0,this.dispatchEvent(r,s?"rightdown":"mousedown",e)}},e.prototype.onPointerComplete=function t(e,r,n){for(var i=this.normalizeToPointerData(e),o=i.length,s=e.target!==this.interactionDOMElement?"outside":"",a=0;a<o;a++){var u=i[a],l=this.getInteractionDataForPointerId(u),h=this.configureInteractionEventForDOMEvent(this.eventData,u,l);if(h.data.originalEvent=e,this.processInteractive(h,this.renderer._lastObjectRendered,n,r||!s),this.emit(r?"pointercancel":"pointerup"+s,h),"mouse"===u.pointerType||"pen"===u.pointerType){var c=2===u.button;this.emit(c?"rightup"+s:"mouseup"+s,h)}else"touch"===u.pointerType&&(this.emit(r?"touchcancel":"touchend"+s,h),this.releaseInteractionDataForPointerId(u.pointerId,l))}},e.prototype.onPointerCancel=function t(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function t(e,r){var n=e.data,i=e.data.identifier;void 0!==r.trackedPointers[i]&&(delete r.trackedPointers[i],this.dispatchEvent(r,"pointercancel",e),"touch"===n.pointerType&&this.dispatchEvent(r,"touchcancel",e))},e.prototype.onPointerUp=function t(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},e.prototype.processPointerUp=function t(e,r,n){var i=e.data,o=e.data.identifier,s=r.trackedPointers[o],a="touch"===i.pointerType,u="mouse"===i.pointerType||"pen"===i.pointerType,l=!1;if(u){var h=2===i.button,d=c.default.FLAGS,f=h?d.RIGHT_DOWN:d.LEFT_DOWN,p=void 0!==s&&s.flags&f;n?(this.dispatchEvent(r,h?"rightup":"mouseup",e),p&&(this.dispatchEvent(r,h?"rightclick":"click",e),l=!0)):p&&this.dispatchEvent(r,h?"rightupoutside":"mouseupoutside",e),s&&(h?s.rightDown=!1:s.leftDown=!1)}n?(this.dispatchEvent(r,"pointerup",e),a&&this.dispatchEvent(r,"touchend",e),s&&(u&&!l||this.dispatchEvent(r,"pointertap",e),a&&(this.dispatchEvent(r,"tap",e),s.over=!1))):s&&(this.dispatchEvent(r,"pointerupoutside",e),a&&this.dispatchEvent(r,"touchendoutside",e)),s&&s.none&&delete r.trackedPointers[o]},e.prototype.onPointerMove=function t(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);"mouse"!==r[0].pointerType&&"pen"!==r[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=r.length,i=0;i<n;i++){var o=r[i],s=this.getInteractionDataForPointerId(o),a=this.configureInteractionEventForDOMEvent(this.eventData,o,s);a.data.originalEvent=e;var u="touch"!==o.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,u),this.emit("pointermove",a),"touch"===o.pointerType&&this.emit("touchmove",a),"mouse"!==o.pointerType&&"pen"!==o.pointerType||this.emit("mousemove",a)}"mouse"===r[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function t(e,r,n){var i=e.data,o="touch"===i.pointerType,s="mouse"===i.pointerType||"pen"===i.pointerType;s&&this.processPointerOverOut(e,r,n),this.moveWhenInside&&!n||(this.dispatchEvent(r,"pointermove",e),o&&this.dispatchEvent(r,"touchmove",e),s&&this.dispatchEvent(r,"mousemove",e))},e.prototype.onPointerOut=function t(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r,n=this.normalizeToPointerData(e)[0];"mouse"===n.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,i);o.data.originalEvent=n,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),"mouse"===n.pointerType||"pen"===n.pointerType?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function t(e,r,n){var i=e.data,o=e.data.identifier,s="mouse"===i.pointerType||"pen"===i.pointerType,a=r.trackedPointers[o];n&&!a&&(a=r.trackedPointers[o]=new c.default(o)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(r,"pointerover",e),s&&this.dispatchEvent(r,"mouseover",e)),s&&null===this.cursor&&(this.cursor=r.cursor)):a.over&&(a.over=!1,this.dispatchEvent(r,"pointerout",this.eventData),s&&this.dispatchEvent(r,"mouseout",e),a.none&&delete r.trackedPointers[o]))},e.prototype.onPointerOver=function t(e){var r,n=this.normalizeToPointerData(e)[0],i=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,i);o.data.originalEvent=n,"mouse"===n.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mouseover",o)},e.prototype.getInteractionDataForPointerId=function t(e){var r=e.pointerId,n=void 0;return r===x||"mouse"===e.pointerType?n=this.mouse:this.activeInteractionData[r]?n=this.activeInteractionData[r]:((n=this.interactionDataPool.pop()||new a.default).identifier=r,this.activeInteractionData[r]=n),n.copyEvent(e),n},e.prototype.releaseInteractionDataForPointerId=function t(e){var r=this.activeInteractionData[e];r&&(delete this.activeInteractionData[e],r.reset(),this.interactionDataPool.push(r))},e.prototype.configureInteractionEventForDOMEvent=function t(e,r,n){return e.data=n,this.mapPositionToPoint(n.global,r.clientX,r.clientY),navigator.isCocoonJS&&"touch"===r.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),"touch"===r.pointerType&&(r.globalX=n.global.x,r.globalY=n.global.y),n.originalEvent=r,e.reset(),e},e.prototype.normalizeToPointerData=function t(e){var r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,i=e.changedTouches.length;n<i;n++){var o=e.changedTouches[n];void 0===o.button&&(o.button=e.touches.length?1:0),void 0===o.buttons&&(o.buttons=e.touches.length?1:0),void 0===o.isPrimary&&(o.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===o.width&&(o.width=o.radiusX||1),void 0===o.height&&(o.height=o.radiusY||1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="touch"),void 0===o.pointerId&&(o.pointerId=o.identifier||0),void 0===o.pressure&&(o.pressure=o.force||.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),void 0===o.layerX&&(o.layerX=o.offsetX=o.clientX),void 0===o.layerY&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,r.push(o)}else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent?r.push(e):(void 0===e.isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=x),void 0===e.pressure&&(e.pressure=.5),void 0===e.twist&&(e.twist=0),void 0===e.tangentialPressure&&(e.tangentialPressure=0),e.isNormalized=!0,r.push(e));return r},e.prototype.destroy=function t(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(f.default);r.default=w,o.WebGLRenderer.registerPlugin("interaction",w),o.CanvasRenderer.registerPlugin("interaction",w)},"InteractionEvent.js":function t(e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(){n(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function t(){this.stopped=!0},t.prototype.reset=function t(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();r.default=i},"InteractionTrackingData.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e){i(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function t(e,r){this._flags=r?this._flags|e:this._flags&~e},n(t,[{key:"pointerId",get:function t(){return this._pointerId}},{key:"flags",get:function t(){return this._flags},set:function t(e){this._flags=e}},{key:"none",get:function t(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function t(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function t(e){this._doSet(this.constructor.FLAGS.OVER,e)}},{key:"rightDown",get:function t(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function t(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)}},{key:"leftDown",get:function t(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function t(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)}}]),t}();r.default=o,o.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},"interactiveTarget.js":function t(e,r){"use strict";r.__esModule=!0,r.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}}},loaders:{"index.js":function t(e,r,t){"use strict";r.__esModule=!0,r.shared=r.Resource=r.textureParser=r.getResourcePath=r.spritesheetParser=r.parseBitmapFontData=r.bitmapFontParser=r.Loader=void 0;var n=e("./bitmapFontParser");Object.defineProperty(r,"bitmapFontParser",{enumerable:!0,get:function t(){return c(n).default}}),Object.defineProperty(r,"parseBitmapFontData",{enumerable:!0,get:function t(){return n.parse}});var i=e("./spritesheetParser");Object.defineProperty(r,"spritesheetParser",{enumerable:!0,get:function t(){return c(i).default}}),Object.defineProperty(r,"getResourcePath",{enumerable:!0,get:function t(){return i.getResourcePath}});var o=e("./textureParser");Object.defineProperty(r,"textureParser",{enumerable:!0,get:function t(){return c(o).default}});var s=e("resource-loader");Object.defineProperty(r,"Resource",{enumerable:!0,get:function t(){return s.Resource}});var a,u=c(e("../core/Application")),l,h=c(e("./loader"));function c(t){return t&&t.__esModule?t:{default:t}}r.Loader=h.default;var d=new h.default;d.destroy=function(){},r.shared=d;var f=u.default.prototype;f._loader=null,Object.defineProperty(f,"loader",{get:function t(){if(!this._loader){var e=this._options.sharedLoader;this._loader=e?d:new h.default}return this._loader}}),f._parentDestroy=f.destroy,f.destroy=function t(e,r){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(e,r)}},"bitmapFontParser.js":function t(e,r){"use strict";r.__esModule=!0,r.parse=u,r.default=function(){return function t(e,r){if(e.data&&e.type===o.Resource.TYPE.XML)if(0!==e.data.getElementsByTagName("page").length&&0!==e.data.getElementsByTagName("info").length&&null!==e.data.getElementsByTagName("info")[0].getAttribute("face")){var n=e.isDataUrl?"":i.dirname(e.url);e.isDataUrl&&("."===n&&(n=""),this.baseUrl&&n&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/")),(n=n.replace(this.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/");for(var s=e.data.getElementsByTagName("page"),a={},l=function t(n){a[n.metadata.pageFile]=n.texture,Object.keys(a).length===s.length&&(u(e,a),r())},h=0;h<s.length;++h){var c=s[h].getAttribute("file"),d=n+c,f=!1;for(var p in this.resources){var v=this.resources[p];if(v.url===d){v.metadata.pageFile=c,v.texture?l(v):v.onAfterMiddleware.add(l),f=!0;break}}if(!f){var g={crossOrigin:e.crossOrigin,loadType:o.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},e.metadata.imageMetadata),parentResource:e};this.add(d,g,l)}}}else r();else r()}};var n,i=a(e("path")),o=e("resource-loader"),s=e("../extras");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){t.bitmapFont=s.BitmapText.registerFont(t.data,e)}},"spritesheetParser.js":function t(e,r){"use strict";r.__esModule=!0,r.default=function(){return function t(e,r){var i=e.name+"_image";if(e.data&&e.type===n.Resource.TYPE.JSON&&e.data.frames&&!this.resources[i]){var o={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},a=u(e,this.baseUrl);this.add(i,a,o,(function t(n){if(n.error)r(n.error);else{var i=new s.Spritesheet(n.texture.baseTexture,e.data,e.url);i.parse((function(){e.spritesheet=i,e.textures=i.textures,r()}))}}))}else r()}},r.getResourcePath=u;var n=e("resource-loader"),i,o=a(e("url")),s=e("../core");function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){return t.isDataUrl?t.data.meta.image:o.default.resolve(t.url.replace(e,""),t.data.meta.image)}},"textureParser.js":function t(e,r){"use strict";r.__esModule=!0,r.default=function(){return function t(e,r){e.data&&e.type===n.Resource.TYPE.IMAGE&&(e.texture=o.default.fromLoader(e.data,e.url,e.name)),r()}};var n=e("resource-loader"),i,o=s(e("../core/textures/Texture"));function s(t){return t&&t.__esModule?t:{default:t}}},"loader.js":function t(e,r,t){"use strict";r.__esModule=!0;var n,i=p(e("resource-loader")),o=e("resource-loader/lib/middlewares/parsing/blob"),s,a=p(e("eventemitter3")),u,l=p(e("./textureParser")),h,c=p(e("./spritesheetParser")),d,f=p(e("./bitmapFontParser"));function p(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _=function(t){function e(r,n){v(this,e);var i=g(this,t.call(this,r,n));a.default.call(i);for(var o=0;o<e._pixiMiddleware.length;++o)i.use(e._pixiMiddleware[o]());return i.onStart.add((function(t){return i.emit("start",t)})),i.onProgress.add((function(t,e){return i.emit("progress",t,e)})),i.onError.add((function(t,e,r){return i.emit("error",t,e,r)})),i.onLoad.add((function(t,e){return i.emit("load",t,e)})),i.onComplete.add((function(t,e){return i.emit("complete",t,e)})),i}return y(e,t),e.addPixiMiddleware=function t(r){e._pixiMiddleware.push(r)},e.prototype.destroy=function t(){this.removeAllListeners(),this.reset()},e}(i.default);for(var m in r.default=_,a.default.prototype)_.prototype[m]=a.default.prototype[m];_._pixiMiddleware=[o.blobMiddlewareFactory,l.default,c.default,f.default];var b=i.default.Resource;b.setExtensionXhrType("fnt",b.XHR_RESPONSE_TYPE.DOCUMENT)}},mesh:{"index.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("./Mesh");Object.defineProperty(r,"Mesh",{enumerable:!0,get:function t(){return l(n).default}});var i=e("./webgl/MeshRenderer");Object.defineProperty(r,"MeshRenderer",{enumerable:!0,get:function t(){return l(i).default}});var o=e("./canvas/CanvasMeshRenderer");Object.defineProperty(r,"CanvasMeshRenderer",{enumerable:!0,get:function t(){return l(o).default}});var s=e("./Plane");Object.defineProperty(r,"Plane",{enumerable:!0,get:function t(){return l(s).default}});var a=e("./NineSlicePlane");Object.defineProperty(r,"NineSlicePlane",{enumerable:!0,get:function t(){return l(a).default}});var u=e("./Rope");function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"Rope",{enumerable:!0,get:function t(){return l(u).default}})},"Mesh.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=l(e("../core")),s,a=u(e("../core/textures/Texture"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=new o.Point,p=new o.Polygon,v=function(t){function e(r,n,i,s,u){h(this,e);var l=c(this,t.call(this));return l._texture=r||a.default.EMPTY,l.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),l.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),l.indices=s||new Uint16Array([0,1,3,2]),l.dirty=0,l.indexDirty=0,l.vertexDirty=0,l.autoUpdate=!0,l.blendMode=o.BLEND_MODES.NORMAL,l.canvasPadding=o.settings.MESH_CANVAS_PADDING,l.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,l.shader=null,l.tintRgb=new Float32Array([1,1,1]),l._glDatas={},l._uvTransform=new o.TextureMatrix(l._texture),l.uploadUvTransform=!1,l.pluginName="mesh",l}return d(e,t),e.prototype._renderWebGL=function t(e){this.refresh(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function t(e){this.refresh(),e.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function t(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function t(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function t(e){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(e)&&this._refresh()},e.prototype._refresh=function t(){},e.prototype._calculateBounds=function t(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function t(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,f);for(var n=this.vertices,i=p.points,o=this.indices,s=this.indices.length,a=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,u=0;u+2<s;u+=a){var l=2*o[u],h=2*o[u+1],c=2*o[u+2];if(i[0]=n[l],i[1]=n[l+1],i[2]=n[h],i[3]=n[h+1],i[4]=n[c],i[5]=n[c+1],p.contains(f.x,f.y))return!0}return!1},e.prototype.destroy=function e(r){for(var n in this._glDatas){var i=this._glDatas[n];i.destroy?i.destroy():(i.vertexBuffer&&(i.vertexBuffer.destroy(),i.vertexBuffer=null),i.indexBuffer&&(i.indexBuffer.destroy(),i.indexBuffer=null),i.uvBuffer&&(i.uvBuffer.destroy(),i.uvBuffer=null),i.vao&&(i.vao.destroy(),i.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,r)},n(e,[{key:"texture",get:function t(){return this._texture},set:function t(e){this._texture!==e&&(this._texture=e,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function t(){return o.utils.rgb2hex(this.tintRgb)},set:function t(e){this.tintRgb=o.utils.hex2rgb(e,this.tintRgb)}}]),e}(o.Container);r.default=v,v.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},webgl:{"MeshRenderer.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=c(e("../../core")),o,s=h(e("pixi-gl-core")),a,u=h(e("../Mesh")),l=e("path");function h(t){return t&&t.__esModule?t:{default:t}}function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=i.Matrix.IDENTITY,g=function(t){function e(r){d(this,e);var n=f(this,t.call(this,r));return n.shader=null,n}return p(e,t),e.prototype.onContextChange=function t(){var e=this.renderer.gl;this.shader=new i.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function t(e){var r=this.renderer,n=r.gl,o=e._texture;if(o.valid){var a=e._glDatas[r.CONTEXT_UID];a||(r.bindVao(null),(a={shader:this.shader,vertexBuffer:s.default.GLBuffer.createVertexBuffer(n,e.vertices,n.STREAM_DRAW),uvBuffer:s.default.GLBuffer.createVertexBuffer(n,e.uvs,n.STREAM_DRAW),indexBuffer:s.default.GLBuffer.createIndexBuffer(n,e.indices,n.STATIC_DRAW),vao:null,dirty:e.dirty,indexDirty:e.indexDirty,vertexDirty:e.vertexDirty}).vao=new s.default.VertexArrayObject(n).addIndex(a.indexBuffer).addAttribute(a.vertexBuffer,a.shader.attributes.aVertexPosition,n.FLOAT,!1,8,0).addAttribute(a.uvBuffer,a.shader.attributes.aTextureCoord,n.FLOAT,!1,8,0),e._glDatas[r.CONTEXT_UID]=a),r.bindVao(a.vao),e.dirty!==a.dirty&&(a.dirty=e.dirty,a.uvBuffer.upload(e.uvs)),e.indexDirty!==a.indexDirty&&(a.indexDirty=e.indexDirty,a.indexBuffer.upload(e.indices)),e.vertexDirty!==a.vertexDirty&&(a.vertexDirty=e.vertexDirty,a.vertexBuffer.upload(e.vertices)),r.bindShader(a.shader),a.shader.uniforms.uSampler=r.bindTexture(o),r.state.setBlendMode(i.utils.correctBlendMode(e.blendMode,o.baseTexture.premultipliedAlpha)),a.shader.uniforms.uTransform&&(e.uploadUvTransform?a.shader.uniforms.uTransform=e._uvTransform.mapCoord.toArray(!0):a.shader.uniforms.uTransform=v.toArray(!0)),a.shader.uniforms.translationMatrix=e.worldTransform.toArray(!0),a.shader.uniforms.uColor=i.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,a.shader.uniforms.uColor,o.baseTexture.premultipliedAlpha);var l=e.drawMode===u.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;a.vao.draw(l,e.indices.length,0)}},e}(i.ObjectRenderer);r.default=g,i.WebGLRenderer.registerPlugin("mesh",g)}},canvas:{"CanvasMeshRenderer.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=u(e("../../core")),o,s=a(e("../Mesh"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=function(){function t(e){l(this,t),this.renderer=e}return t.prototype.render=function t(e){var r=this.renderer,n=r.context,i=e.worldTransform,o=r.resolution;r.roundPixels?n.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o|0,i.ty*o|0):n.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),r.context.globalAlpha=e.worldAlpha,r.setBlendMode(e.blendMode),e.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(e):this._renderTriangles(e)},t.prototype._renderTriangleMesh=function t(e){for(var r=e.vertices.length/2,n=0;n<r-2;n++){var i=2*n;this._renderDrawTriangle(e,i,i+2,i+4)}},t.prototype._renderTriangles=function t(e){for(var r=e.indices,n=r.length,i=0;i<n;i+=3){var o=2*r[i],s=2*r[i+1],a=2*r[i+2];this._renderDrawTriangle(e,o,s,a)}},t.prototype._renderDrawTriangle=function t(e,r,n,i){var o=this.renderer.context,s=e.uvs,a=e.vertices,u=e._texture;if(u.valid){var l=u.baseTexture,h=l.source,c=l.width,d=l.height,f=void 0,p=void 0,v=void 0,g=void 0,y=void 0,_=void 0;if(e.uploadUvTransform){var m=e._uvTransform.mapCoord;f=(s[r]*m.a+s[r+1]*m.c+m.tx)*l.width,p=(s[n]*m.a+s[n+1]*m.c+m.tx)*l.width,v=(s[i]*m.a+s[i+1]*m.c+m.tx)*l.width,g=(s[r]*m.b+s[r+1]*m.d+m.ty)*l.height,y=(s[n]*m.b+s[n+1]*m.d+m.ty)*l.height,_=(s[i]*m.b+s[i+1]*m.d+m.ty)*l.height}else f=s[r]*l.width,p=s[n]*l.width,v=s[i]*l.width,g=s[r+1]*l.height,y=s[n+1]*l.height,_=s[i+1]*l.height;var b=a[r],x=a[n],T=a[i],w=a[r+1],E=a[n+1],S=a[i+1],O=e.canvasPadding/this.renderer.resolution;if(O>0){var M=O/Math.abs(e.worldTransform.a),P=O/Math.abs(e.worldTransform.d),A=(b+x+T)/3,C=(w+E+S)/3,R=b-A,I=w-C,D=Math.sqrt(R*R+I*I);b=A+R/D*(D+M),w=C+I/D*(D+P),I=E-C,x=A+(R=x-A)/(D=Math.sqrt(R*R+I*I))*(D+M),E=C+I/D*(D+P),I=S-C,T=A+(R=T-A)/(D=Math.sqrt(R*R+I*I))*(D+M),S=C+I/D*(D+P)}o.save(),o.beginPath(),o.moveTo(b,w),o.lineTo(x,E),o.lineTo(T,S),o.closePath(),o.clip();var L=f*y+g*v+p*_-y*v-g*p-f*_,j=b*y+g*T+x*_-y*T-g*x-b*_,k=f*x+b*v+p*T-x*v-b*p-f*T,N=f*y*T+g*x*v+b*p*_-b*y*v-g*p*T-f*x*_,B=w*y+g*S+E*_-y*S-g*E-w*_,F=f*E+w*v+p*S-E*v-w*p-f*S,U=f*y*S+g*E*v+w*p*_-w*y*v-g*p*S-f*E*_;o.transform(j/L,B/L,k/L,F/L,N/L,U/L),o.drawImage(h,0,0,c*l.resolution,d*l.resolution,0,0,c,d),o.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function t(e){var r=this.renderer.context,n=e.vertices,i=n.length/2;r.beginPath();for(var o=1;o<i-2;++o){var s=2*o,a=n[s],u=n[s+1],l=n[s+2],h=n[s+3],c=n[s+4],d=n[s+5];r.moveTo(a,u),r.lineTo(l,h),r.lineTo(c,d)}r.fillStyle="#FF0000",r.fill(),r.closePath()},t.prototype.destroy=function t(){this.renderer=null},t}();r.default=h,i.CanvasRenderer.registerPlugin("mesh",h)}},"Plane.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=o(e("./Mesh"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(t){function e(r,n,o){s(this,e);var u=a(this,t.call(this,r));return u._ready=!0,u.verticesX=n||10,u.verticesY=o||10,u.drawMode=i.default.DRAW_MODES.TRIANGLES,u.refresh(),u}return u(e,t),e.prototype._refresh=function t(){for(var e=this._texture,r=this.verticesX*this.verticesY,n=[],i=[],o=[],s=[],a=this.verticesX-1,u=this.verticesY-1,l=e.width/a,h=e.height/u,c=0;c<r;c++){var d=c%this.verticesX,f=c/this.verticesX|0;n.push(d*l,f*h),o.push(d/a,f/u)}for(var p=a*u,v=0;v<p;v++){var g=v%a,y=v/a|0,_=y*this.verticesX+g,m=y*this.verticesX+g+1,b=(y+1)*this.verticesX+g,x=(y+1)*this.verticesX+g+1;s.push(_,m,b),s.push(m,x,b)}this.vertices=new Float32Array(n),this.uvs=new Float32Array(o),this.colors=new Float32Array(i),this.indices=new Uint16Array(s),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function t(){i.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(i.default);r.default=l},"NineSlicePlane.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=u(e("./Plane")),s,a=u(e("../core/sprites/canvas/CanvasTinter"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=10,f=function(t){function e(r,n,i,o,s){l(this,e);var a=h(this,t.call(this,r,4,4));return a._origWidth=r.orig.width,a._origHeight=r.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=void 0!==n?n:d,a._rightWidth=void 0!==o?o:d,a._topHeight=void 0!==i?i:d,a._bottomHeight=void 0!==s?s:d,a._cachedTint=16777215,a._tintedTexture=null,a._canvasUvs=null,a.refresh(!0),a}return c(e,t),e.prototype.updateHorizontalVertices=function t(){var e=this.vertices,r=this._topHeight+this._bottomHeight,n=this._height>r?1:this._height/r;e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height},e.prototype.updateVerticalVertices=function t(){var e=this.vertices,r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r;e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width},e.prototype._renderCanvas=function t(e){var r=e.context,n=this.worldTransform,i=e.resolution,o=16777215!==this.tint,s=this._texture;o&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=a.default.getTintedTexture(this,this.tint));var u=o?this._tintedTexture:s.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var l=this.vertices,h=this._canvasUvs,c=o?0:s.frame.x,d=o?0:s.frame.y,f=c+s.frame.width,p=d+s.frame.height;h[0]=c,h[1]=c+this._leftWidth,h[2]=f-this._rightWidth,h[3]=f,h[4]=d,h[5]=d+this._topHeight,h[6]=p-this._bottomHeight,h[7]=p;for(var v=0;v<8;v++)h[v]*=s.baseTexture.resolution;r.globalAlpha=this.worldAlpha,e.setBlendMode(this.blendMode),e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i);for(var g=0;g<3;g++)for(var y=0;y<3;y++){var _=2*y+8*g,m=Math.max(1,h[y+1]-h[y]),b=Math.max(1,h[g+5]-h[g+4]),x=Math.max(1,l[_+10]-l[_]),T=Math.max(1,l[_+11]-l[_+1]);r.drawImage(u,h[y],h[g+4],m,b,l[_],l[_+1],x,T)}},e.prototype._refresh=function e(){t.prototype._refresh.call(this);var r=this.uvs,n=this._texture;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var i=1/this._origWidth,o=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=i*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-i*this._rightWidth,r[9]=r[11]=r[13]=r[15]=o*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},n(e,[{key:"width",get:function t(){return this._width},set:function t(e){this._width=e,this._refresh()}},{key:"height",get:function t(){return this._height},set:function t(e){this._height=e,this._refresh()}},{key:"leftWidth",get:function t(){return this._leftWidth},set:function t(e){this._leftWidth=e,this._refresh()}},{key:"rightWidth",get:function t(){return this._rightWidth},set:function t(e){this._rightWidth=e,this._refresh()}},{key:"topHeight",get:function t(){return this._topHeight},set:function t(e){this._topHeight=e,this._refresh()}},{key:"bottomHeight",get:function t(){return this._bottomHeight},set:function t(e){this._bottomHeight=e,this._refresh()}}]),e}(o.default);r.default=f},"Rope.js":function t(e,r){"use strict";var n,i;function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var l=function(t){function e(r,n){s(this,e);var i=a(this,t.call(this,r));return i.points=n,i.vertices=new Float32Array(4*n.length),i.uvs=new Float32Array(4*n.length),i.colors=new Float32Array(2*n.length),i.indices=new Uint16Array(2*n.length),i.autoUpdate=!0,i.refresh(),i}return u(e,t),e.prototype._refresh=function t(){var e=this.points;if(!(e.length<1)&&this._texture._uvs){this.vertices.length/4!==e.length&&(this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length));var r=this.uvs,n=this.indices,i=this.colors;r[0]=0,r[1]=0,r[2]=0,r[3]=1,i[0]=1,i[1]=1,n[0]=0,n[1]=1;for(var o=e.length,s=1;s<o;s++){var a=4*s,u=s/(o-1);r[a]=u,r[a+1]=0,r[a+2]=u,r[a+3]=1,i[a=2*s]=1,i[a+1]=1,n[a=2*s]=a,n[a+1]=a+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function t(){var e=this.points;if(!(e.length<1))for(var r=e[0],n=void 0,i=0,o=0,s=this.vertices,a=e.length,u=0;u<a;u++){var l=e[u],h=4*u;o=-((n=u<e.length-1?e[u+1]:l).x-r.x),i=n.y-r.y;var c=10*(1-u/(a-1));c>1&&(c=1);var d=Math.sqrt(i*i+o*o),f=this._texture.height/2;i/=d,o/=d,i*=f,o*=f,s[h]=l.x+i,s[h+1]=l.y+o,s[h+2]=l.x-i,s[h+3]=l.y-o,r=l}},e.prototype.updateTransform=function t(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(o(e("./Mesh")).default);r.default=l}},particles:{"index.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("./ParticleContainer");Object.defineProperty(r,"ParticleContainer",{enumerable:!0,get:function t(){return o(n).default}});var i=e("./webgl/ParticleRenderer");function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"ParticleRenderer",{enumerable:!0,get:function t(){return o(i).default}})},"ParticleContainer.js":function t(e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=a(e("../core")),s=e("../core/utils");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];u(this,e);var a=l(this,t.call(this)),h=16384;return i>16384&&(i=16384),i>r&&(i=r),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=i,a._glBuffers={},a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=o.BLEND_MODES.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return h(e,t),e.prototype.setProperties=function t(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},e.prototype.updateTransform=function t(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function t(e){var r=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",(function(){return r.onChildrenChange(0)}))),e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},e.prototype.onChildrenChange=function t(e){for(var r=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID},e.prototype.renderCanvas=function t(e){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var r=e.context,n=this.worldTransform,i=!0,o=0,s=0,a=0,u=0;e.setBlendMode(this.blendMode),r.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var h=this.children[l];if(h.visible){var c=h._texture.frame;if(r.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)i&&(r.setTransform(n.a,n.b,n.c,n.d,n.tx*e.resolution,n.ty*e.resolution),i=!1),o=h.anchor.x*(-c.width*h.scale.x)+h.position.x+.5,s=h.anchor.y*(-c.height*h.scale.y)+h.position.y+.5,a=c.width*h.scale.x,u=c.height*h.scale.y;else{i||(i=!0),h.displayObjectUpdateTransform();var d=h.worldTransform;e.roundPixels?r.setTransform(d.a,d.b,d.c,d.d,d.tx*e.resolution|0,d.ty*e.resolution|0):r.setTransform(d.a,d.b,d.c,d.d,d.tx*e.resolution,d.ty*e.resolution),o=h.anchor.x*-c.width+.5,s=h.anchor.y*-c.height+.5,a=c.width,u=c.height}var f=h._texture.baseTexture.resolution;r.drawImage(h._texture.baseTexture.source,c.x*f,c.y*f,c.width*f,c.height*f,o*e.resolution,s*e.resolution,a*e.resolution,u*e.resolution)}}}},e.prototype.destroy=function e(r){if(t.prototype.destroy.call(this,r),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},n(e,[{key:"tint",get:function t(){return this._tint},set:function t(e){this._tint=e,(0,s.hex2rgb)(e,this.tintRgb)}}]),e}(o.Container);r.default=c},webgl:{"ParticleRenderer.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=c(e("../../core")),o,s=h(e("./ParticleShader")),a,u=h(e("./ParticleBuffer")),l=e("../../core/utils");function h(t){return t&&t.__esModule?t:{default:t}}function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(r){d(this,e);var n=f(this,t.call(this,r));return n.shader=null,n.indexBuffer=null,n.properties=null,n.tempMatrix=new i.Matrix,n.CONTEXT_UID=0,n}return p(e,t),e.prototype.onContextChange=function t(){var e=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new s.default(e),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function t(){this.renderer.bindShader(this.shader)},e.prototype.render=function t(e){var r=e.children,n=e._maxSize,o=e._batchSize,s=this.renderer,a=r.length;if(0!==a){a>n&&(a=n);var u=e._glBuffers[s.CONTEXT_UID];u||(u=e._glBuffers[s.CONTEXT_UID]=this.generateBuffers(e));var l=r[0]._texture.baseTexture;this.renderer.setBlendMode(i.utils.correctBlendMode(e.blendMode,l.premultipliedAlpha));var h=s.gl,c=e.worldTransform.copy(this.tempMatrix);c.prepend(s._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=c.toArray(!0),this.shader.uniforms.uColor=i.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,l.premultipliedAlpha),this.shader.uniforms.uSampler=s.bindTexture(l);for(var d=!1,f=0,p=0;f<a;f+=o,p+=1){var v=a-f;if(v>o&&(v=o),p>=u.length){if(!e.autoResize)break;u.push(this._generateOneMoreBuffer(e))}var g=u[p];g.uploadDynamic(r,f,v);var y=e._bufferUpdateIDs[p]||0;(d=d||g._updateID<y)&&(g._updateID=e._updateID,g.uploadStatic(r,f,v)),s.bindVao(g.vao),g.vao.draw(h.TRIANGLES,6*v)}}},e.prototype.generateBuffers=function t(e){for(var r=this.renderer.gl,n=[],i=e._maxSize,o=e._batchSize,s=e._properties,a=0;a<i;a+=o)n.push(new u.default(r,this.properties,s,o));return n},e.prototype._generateOneMoreBuffer=function t(e){var r=this.renderer.gl,n=e._batchSize,i=e._properties;return new u.default(r,this.properties,i,n)},e.prototype.uploadVertices=function t(e,r,n,i,o,s){for(var a=0,u=0,l=0,h=0,c=0;c<n;++c){var d=e[r+c],f=d._texture,p=d.scale.x,v=d.scale.y,g=f.trim,y=f.orig;g?(a=(u=g.x-d.anchor.x*y.width)+g.width,l=(h=g.y-d.anchor.y*y.height)+g.height):(a=y.width*(1-d.anchor.x),u=y.width*-d.anchor.x,l=y.height*(1-d.anchor.y),h=y.height*-d.anchor.y),i[s]=u*p,i[s+1]=h*v,i[s+o]=a*p,i[s+o+1]=h*v,i[s+2*o]=a*p,i[s+2*o+1]=l*v,i[s+3*o]=u*p,i[s+3*o+1]=l*v,s+=4*o}},e.prototype.uploadPosition=function t(e,r,n,i,o,s){for(var a=0;a<n;a++){var u=e[r+a].position;i[s]=u.x,i[s+1]=u.y,i[s+o]=u.x,i[s+o+1]=u.y,i[s+2*o]=u.x,i[s+2*o+1]=u.y,i[s+3*o]=u.x,i[s+3*o+1]=u.y,s+=4*o}},e.prototype.uploadRotation=function t(e,r,n,i,o,s){for(var a=0;a<n;a++){var u=e[r+a].rotation;i[s]=u,i[s+o]=u,i[s+2*o]=u,i[s+3*o]=u,s+=4*o}},e.prototype.uploadUvs=function t(e,r,n,i,o,s){for(var a=0;a<n;++a){var u=e[r+a]._texture._uvs;u?(i[s]=u.x0,i[s+1]=u.y0,i[s+o]=u.x1,i[s+o+1]=u.y1,i[s+2*o]=u.x2,i[s+2*o+1]=u.y2,i[s+3*o]=u.x3,i[s+3*o+1]=u.y3,s+=4*o):(i[s]=0,i[s+1]=0,i[s+o]=0,i[s+o+1]=0,i[s+2*o]=0,i[s+2*o+1]=0,i[s+3*o]=0,i[s+3*o+1]=0,s+=4*o)}},e.prototype.uploadTint=function t(e,r,n,i,o,s){for(var a=0;a<n;++a){var u=e[r+a],h=u._texture.baseTexture.premultipliedAlpha,c=u.alpha,d=c<1&&h?(0,l.premultiplyTint)(u._tintRGB,c):u._tintRGB+(255*c<<24);i[s]=d,i[s+o]=d,i[s+2*o]=d,i[s+3*o]=d,s+=4*o}},e.prototype.destroy=function e(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(i.ObjectRenderer);r.default=v,i.WebGLRenderer.registerPlugin("particle",v)},"ParticleShader.js":function t(e,r){"use strict";var n,i;function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var l=function(t){function e(r){return s(this,e),a(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return u(e,t),e}(o(e("../../core/Shader")).default);r.default=l},"ParticleBuffer.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=a(e("pixi-gl-core")),o,s=a(e("../../core/utils/createIndicesForQuads"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(e,r,n,i){u(this,t),this.gl=e,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<r.length;++o){var s=r[o];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,unsignedByte:s.unsignedByte,offset:s.offset},n[o]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function t(){var e=this.gl,r=0;this.indices=(0,s.default)(this.size),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var o=this.dynamicProperties[n];o.offset=r,r+=o.size,this.dynamicStride+=o.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=i.default.GLBuffer.createVertexBuffer(e,a,e.STREAM_DRAW);var u=0;this.staticStride=0;for(var l=0;l<this.staticProperties.length;++l){var h=this.staticProperties[l];h.offset=u,u+=h.size,this.staticStride+=h.size}var c=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(c),this.staticDataUint32=new Uint32Array(c),this.staticBuffer=i.default.GLBuffer.createVertexBuffer(e,c,e.STATIC_DRAW),this.vao=new i.default.VertexArrayObject(e).addIndex(this.indexBuffer);for(var d=0;d<this.dynamicProperties.length;++d){var f=this.dynamicProperties[d];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,e.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,e.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var p=0;p<this.staticProperties.length;++p){var v=this.staticProperties[p];v.unsignedByte?this.vao.addAttribute(this.staticBuffer,v.attribute,e.UNSIGNED_BYTE,!0,4*this.staticStride,4*v.offset):this.vao.addAttribute(this.staticBuffer,v.attribute,e.FLOAT,!1,4*this.staticStride,4*v.offset)}},t.prototype.uploadDynamic=function t(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(e,r,n,o.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function t(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(e,r,n,o.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer.upload()},t.prototype.destroy=function t(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();r.default=l}}},prepare:{"index.js":function t(e,r){"use strict";r.__esModule=!0;var n=e("./webgl/WebGLPrepare");Object.defineProperty(r,"webgl",{enumerable:!0,get:function t(){return u(n).default}});var i=e("./canvas/CanvasPrepare");Object.defineProperty(r,"canvas",{enumerable:!0,get:function t(){return u(i).default}});var o=e("./BasePrepare");Object.defineProperty(r,"BasePrepare",{enumerable:!0,get:function t(){return u(o).default}});var s=e("./limiters/CountLimiter");Object.defineProperty(r,"CountLimiter",{enumerable:!0,get:function t(){return u(s).default}});var a=e("./limiters/TimeLimiter");function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"TimeLimiter",{enumerable:!0,get:function t(){return u(a).default}})},webgl:{"WebGLPrepare.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=u(e("../../core")),o,s;function a(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(r){l(this,e);var n=h(this,t.call(this,r));return n.uploadHookHelper=n.renderer,n.registerFindHook(v),n.registerUploadHook(f),n.registerUploadHook(p),n}return c(e,t),e}(a(e("../BasePrepare")).default);function f(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function p(t,e){return e instanceof i.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function v(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}r.default=d,i.WebGLRenderer.registerPlugin("prepare",d)}},"BasePrepare.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=u(e("../core")),o,s=a(e("./limiters/CountLimiter"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var c=function(){function t(e){var r=this;l(this,t),this.limiter=new s.default(i.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(y),this.registerFindHook(_),this.registerFindHook(d),this.registerFindHook(f),this.registerFindHook(p),this.registerUploadHook(v),this.registerUploadHook(g)}return t.prototype.upload=function t(e,r){"function"==typeof e&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,h.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):r&&r()},t.prototype.tick=function t(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function t(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed)for(var n=0,o=this.uploadHooks.length;n<o;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}r||this.queue.shift()}if(this.queue.length)h.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var a=0,u=s.length;a<u;a++)s[a]()}},t.prototype.registerFindHook=function t(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function t(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function t(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof i.Container)for(var o=e.children.length-1;o>=0;o--)this.add(e.children[o]);return this},t.prototype.destroy=function t(){this.ticking&&h.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function d(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof i.Texture){var o=t._textures[n].baseTexture;-1===e.indexOf(o)&&(e.push(o),r=!0)}return r}function f(t,e){return t instanceof i.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function p(t,e){if(t._texture&&t._texture instanceof i.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function v(t,e){return e instanceof i.Text&&(e.updateText(!0),!0)}function g(t,e){if(e instanceof i.TextStyle){var r=e.toFontString();return i.TextMetrics.measureFont(r),!0}return!1}function y(t,e){if(t instanceof i.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function _(t,e){return t instanceof i.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}r.default=c},limiters:{"CountLimiter.js":function t(e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function t(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function t(){return this.itemsLeft-- >0},t}();r.default=i},"TimeLimiter.js":function t(e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function t(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function t(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();r.default=i}},canvas:{"CanvasPrepare.js":function t(e,r){"use strict";r.__esModule=!0;var n,i=u(e("../../core")),o,s=a(e("../BasePrepare"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=16,f=function(t){function e(r){l(this,e);var n=h(this,t.call(this,r));return n.uploadHookHelper=n,n.canvas=document.createElement("canvas"),n.canvas.width=d,n.canvas.height=d,n.ctx=n.canvas.getContext("2d"),n.registerUploadHook(p),n}return c(e,t),e.prototype.destroy=function e(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(s.default);function p(t,e){if(e instanceof i.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),o=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}r.default=f,i.CanvasRenderer.registerPlugin("prepare",f)}}}}},"mini-signals":{"package.json":function t(e,r,t){t.exports={name:"mini-signals",version:"1.2.0",main:"lib/mini-signals.js"}},lib:{"mini-signals.js":function t(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return n(t,[{key:"detach",value:function t(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){i(this,t),this._head=this._tail=void 0}return n(t,[{key:"handlers",value:function t(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n}},{key:"has",value:function t(e){if(!(e instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function t(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function t(e){var r=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(e,!1,r))}},{key:"once",value:function t(e){var r=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(e,!0,r))}},{key:"detach",value:function t(e){if(!(e instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)}},{key:"detachAll",value:function t(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),t}();a.MiniSignalBinding=o,r.default=a,t.exports=r.default}}},"parse-uri":{"package.json":function t(e,r,t){t.exports={name:"parse-uri",version:"1.0.0",main:"./index.js"}},"index.js":function t(e,r,t){"use strict";t.exports=function t(e,r){r=r||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=n.parser[r.strictMode?"strict":"loose"].exec(e),o={},s=14;s--;)o[n.key[s]]=i[s]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,(function(t,e,r){e&&(o[n.q.name][e]=r)})),o}}},"meteor-node-stubs":{deps:{"punycode.js":function t(e){e("punycode/")},"querystring.js":function t(e){e("querystring-es3/")},"path.js":function t(e){e("path-browserify")},"url.js":function t(e){e("url/")},"process.js":function t(e){e("process/browser.js")}},node_modules:{punycode:{"package.json":function t(e,r,t){t.exports={name:"punycode",version:"1.4.1",main:"punycode.js"}},"punycode.js":function t(r,n,t){!function(r){var i="object"==typeof n&&n&&!n.nodeType&&n,o="object"==typeof t&&t&&!t.nodeType&&t,s="object"==typeof e&&e;s.global!==s&&s.window!==s&&s.self!==s||(r=s);var a,u=2147483647,l=36,h=1,c=26,d=38,f=700,p=72,v=128,g="-",y=/^xn--/,_=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-h,T=Math.floor,w=String.fromCharCode,E;function S(t){throw new RangeError(b[t])}function O(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function M(t,e){var r=t.split("@"),n="",i,o;return r.length>1&&(n=r[0]+"@",t=r[1]),n+O((t=t.replace(m,".")).split("."),e).join(".")}function P(t){for(var e=[],r=0,n=t.length,i,o;r<n;)(i=t.charCodeAt(r++))>=55296&&i<=56319&&r<n?56320==(64512&(o=t.charCodeAt(r++)))?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),r--):e.push(i);return e}function A(t){return O(t,(function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)})).join("")}function C(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l}function R(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function I(t,e,r){var n=0;for(t=r?T(t/f):t>>1,t+=T(t/e);t>x*c>>1;n+=l)t=T(t/x);return T(n+(x+1)*t/(t+d))}function D(t){var e=[],r=t.length,n,i=0,o=v,s=p,a,d,f,y,_,m,b,x,w;for((a=t.lastIndexOf(g))<0&&(a=0),d=0;d<a;++d)t.charCodeAt(d)>=128&&S("not-basic"),e.push(t.charCodeAt(d));for(f=a>0?a+1:0;f<r;){for(y=i,_=1,m=l;f>=r&&S("invalid-input"),((b=C(t.charCodeAt(f++)))>=l||b>T((u-i)/_))&&S("overflow"),i+=b*_,!(b<(x=m<=s?h:m>=s+c?c:m-s));m+=l)_>T(u/(w=l-x))&&S("overflow"),_*=w;s=I(i-y,n=e.length+1,0==y),T(i/n)>u-o&&S("overflow"),o+=T(i/n),i%=n,e.splice(i++,0,o)}return A(e)}function L(t){var e,r,n,i,o,s,a,d,f,y,_,m=[],b,x,E,O;for(b=(t=P(t)).length,e=v,r=0,o=p,s=0;s<b;++s)(_=t[s])<128&&m.push(w(_));for(n=i=m.length,i&&m.push(g);n<b;){for(a=u,s=0;s<b;++s)(_=t[s])>=e&&_<a&&(a=_);for(a-e>T((u-r)/(x=n+1))&&S("overflow"),r+=(a-e)*x,e=a,s=0;s<b;++s)if((_=t[s])<e&&++r>u&&S("overflow"),_==e){for(d=r,f=l;!(d<(y=f<=o?h:f>=o+c?c:f-o));f+=l)O=d-y,E=l-y,m.push(w(R(y+O%E,0))),d=T(O/E);m.push(w(R(d,0))),o=I(r,x,n==i),r=0,++n}++r,++e}return m.join("")}function j(t){return M(t,(function(t){return y.test(t)?D(t.slice(4).toLowerCase()):t}))}function k(t){return M(t,(function(t){return _.test(t)?"xn--"+L(t):t}))}if(a={version:"1.4.1",ucs2:{decode:P,encode:A},decode:D,encode:L,toASCII:k,toUnicode:j},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return a}));else if(i&&o)if(t.exports==i)o.exports=a;else for(E in a)a.hasOwnProperty(E)&&(i[E]=a[E]);else r.punycode=a}(this)}},"querystring-es3":{"package.json":function t(e,r,t){t.exports={name:"querystring-es3",version:"0.2.1"}},"index.js":function t(e,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},"decode.js":function t(e,r,t){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var h=0;h<l;++h){var c=t[h].replace(a,"%20"),d=c.indexOf(r),f,p,v,g;d>=0?(f=c.substr(0,d),p=c.substr(d+1)):(f=c,p=""),v=decodeURIComponent(f),g=decodeURIComponent(p),n(s,v)?i(s[v])?s[v].push(g):s[v]=[s[v],g]:s[v]=g}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},"encode.js":function t(e,r,t){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),(function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],(function(t){return a+encodeURIComponent(n(t))})).join(e):a+encodeURIComponent(n(t[s]))})).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}}},"path-browserify":{"package.json":function t(e,r,t){t.exports={name:"path-browserify",version:"0.0.0",main:"index.js"}},"index.js":function t(e,r){function n(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};function s(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}r.resolve=function(){for(var t="",e=!1,r=arguments.length-1;r>=-1&&!e;r--){var i=r>=0?arguments[r]:process.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,e="/"===i.charAt(0))}return(e?"/":"")+(t=n(s(t.split("/"),(function(t){return!!t})),!e).join("/"))||"."},r.normalize=function(t){var e=r.isAbsolute(t),i="/"===a(t,-1);return(t=n(s(t.split("/"),(function(t){return!!t})),!e).join("/"))||e||(t="."),t&&i&&(t+="/"),(e?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(s(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},r.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var i=n(t.split("/")),o=n(e.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}for(var l=[],u=a;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(a))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}},url:{"package.json":function t(e,r,t){t.exports={name:"url",version:"0.11.0",main:"./url.js"}},"url.js":function t(e,r,t){"use strict";var n=e("punycode"),i=e("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=x,r.resolve=w,r.resolveObject=E,r.format=T,r.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(h),d=["%","/","?",";","#"].concat(c),f=["/","?","#"],p=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=e("querystring");function x(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}function T(t){return i.isString(t)&&(t=x(t)),t instanceof o?t.format():o.prototype.format.call(t)}function w(t,e){return x(t,!1,!0).resolve(e)}function E(t,e){return t?x(t,!1,!0).resolveObject(e):e}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(a),h=/\\/g;l[0]=l[0].replace(h,"/");var p=t=l.join(a);if(p=p.trim(),!r&&1===t.split("#").length){var x=u.exec(p);if(x)return this.path=p,this.href=p,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var T=s.exec(p);if(T){var w=(T=T[0]).toLowerCase();this.protocol=w,p=p.substr(T.length)}if(r||T||p.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===p.substr(0,2);!E||T&&_[T]||(p=p.substr(2),this.slashes=!0)}if(!_[T]&&(E||T&&!m[T])){for(var S=-1,O=0,M,P;O<f.length;O++){var A;-1!==(A=p.indexOf(f[O]))&&(-1===S||A<S)&&(S=A)}-1!==(P=-1===S?p.lastIndexOf("@"):p.lastIndexOf("@",S))&&(M=p.slice(0,P),p=p.slice(P+1),this.auth=decodeURIComponent(M)),S=-1;for(var O=0;O<d.length;O++){var A;-1!==(A=p.indexOf(d[O]))&&(-1===S||A<S)&&(S=A)}-1===S&&(S=p.length),this.host=p.slice(0,S),p=p.slice(S),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var R=this.hostname.split(/\./),O=0,I=R.length;O<I;O++){var D=R[O];if(D&&!D.match(v)){for(var L="",j=0,k=D.length;j<k;j++)D.charCodeAt(j)>127?L+="x":L+=D[j];if(!L.match(v)){var N=R.slice(0,O),B=R.slice(O+1),F=D.match(g);F&&(N.push(F[1]),B.unshift(F[2])),B.length&&(p="/"+B.join(".")+p),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+U,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==p[0]&&(p="/"+p))}if(!y[w])for(var O=0,I=c.length;O<I;O++){var G=c[O];if(-1!==p.indexOf(G)){var H=encodeURIComponent(G);H===G&&(H=escape(G)),p=p.split(G).join(H)}}var W=p.indexOf("#");-1!==W&&(this.hash=p.substr(W),p=p.slice(0,W));var V=p.indexOf("?");if(-1!==V?(this.search=p.substr(V),this.query=p.substr(V+1),e&&(this.query=b.parse(this.query)),p=p.slice(0,V)):e&&(this.search="",this.query={}),p&&(this.pathname=p),m[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",Y=this.search||"";this.path=U+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(x(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var h=u[l];"protocol"!==h&&(r[h]=t[h])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var f=c[d];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||_[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",g=r.search||"";r.path=v+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||y||r.host&&t.pathname,T=x,w=r.pathname&&r.pathname.split("/")||[],p=t.pathname&&t.pathname.split("/")||[],E=r.protocol&&!m[r.protocol];if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(""===p[0]||""===w[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){var S;if(E)r.hostname=r.host=w.shift(),(S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=S.shift(),r.host=r.hostname=S.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=w.slice(-1)[0],M=(r.host||t.host||w.length>1)&&("."===O||".."===O)||""===O,P=0,A=w.length;A>=0;A--)"."===(O=w[A])?w.splice(A,1):".."===O?(w.splice(A,1),P++):P&&(w.splice(A,1),P--);if(!x&&!T)for(;P--;P)w.unshift("..");!x||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),M&&"/"!==w.join("/").substr(-1)&&w.push("");var C=""===w[0]||w[0]&&"/"===w[0].charAt(0),S;E&&(r.hostname=r.host=C?"":w.length?w.shift():"",(S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=S.shift(),r.host=r.hostname=S.shift()));return(x=x||r.host&&w.length)&&!C&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},node_modules:{punycode:{"package.json":function t(e,r,t){t.exports={name:"punycode",version:"1.3.2",main:"punycode.js"}},"punycode.js":function t(r,n,t){!function(r){var i="object"==typeof n&&n&&!n.nodeType&&n,o="object"==typeof t&&t&&!t.nodeType&&t,s="object"==typeof e&&e;s.global!==s&&s.window!==s&&s.self!==s||(r=s);var a,u=2147483647,l=36,h=1,c=26,d=38,f=700,p=72,v=128,g="-",y=/^xn--/,_=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-h,T=Math.floor,w=String.fromCharCode,E;function S(t){throw RangeError(b[t])}function O(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function M(t,e){var r=t.split("@"),n="",i,o;return r.length>1&&(n=r[0]+"@",t=r[1]),n+O((t=t.replace(m,".")).split("."),e).join(".")}function P(t){for(var e=[],r=0,n=t.length,i,o;r<n;)(i=t.charCodeAt(r++))>=55296&&i<=56319&&r<n?56320==(64512&(o=t.charCodeAt(r++)))?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),r--):e.push(i);return e}function A(t){return O(t,(function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)})).join("")}function C(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l}function R(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function I(t,e,r){var n=0;for(t=r?T(t/f):t>>1,t+=T(t/e);t>x*c>>1;n+=l)t=T(t/x);return T(n+(x+1)*t/(t+d))}function D(t){var e=[],r=t.length,n,i=0,o=v,s=p,a,d,f,y,_,m,b,x,w;for((a=t.lastIndexOf(g))<0&&(a=0),d=0;d<a;++d)t.charCodeAt(d)>=128&&S("not-basic"),e.push(t.charCodeAt(d));for(f=a>0?a+1:0;f<r;){for(y=i,_=1,m=l;f>=r&&S("invalid-input"),((b=C(t.charCodeAt(f++)))>=l||b>T((u-i)/_))&&S("overflow"),i+=b*_,!(b<(x=m<=s?h:m>=s+c?c:m-s));m+=l)_>T(u/(w=l-x))&&S("overflow"),_*=w;s=I(i-y,n=e.length+1,0==y),T(i/n)>u-o&&S("overflow"),o+=T(i/n),i%=n,e.splice(i++,0,o)}return A(e)}function L(t){var e,r,n,i,o,s,a,d,f,y,_,m=[],b,x,E,O;for(b=(t=P(t)).length,e=v,r=0,o=p,s=0;s<b;++s)(_=t[s])<128&&m.push(w(_));for(n=i=m.length,i&&m.push(g);n<b;){for(a=u,s=0;s<b;++s)(_=t[s])>=e&&_<a&&(a=_);for(a-e>T((u-r)/(x=n+1))&&S("overflow"),r+=(a-e)*x,e=a,s=0;s<b;++s)if((_=t[s])<e&&++r>u&&S("overflow"),_==e){for(d=r,f=l;!(d<(y=f<=o?h:f>=o+c?c:f-o));f+=l)O=d-y,E=l-y,m.push(w(R(y+O%E,0))),d=T(O/E);m.push(w(R(d,0))),o=I(r,x,n==i),r=0,++n}++r,++e}return m.join("")}function j(t){return M(t,(function(t){return y.test(t)?D(t.slice(4).toLowerCase()):t}))}function k(t){return M(t,(function(t){return _.test(t)?"xn--"+L(t):t}))}if(a={version:"1.3.2",ucs2:{decode:P,encode:A},decode:D,encode:L,toASCII:k,toUnicode:j},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return a}));else if(i&&o)if(t.exports==i)o.exports=a;else for(E in a)a.hasOwnProperty(E)&&(i[E]=a[E]);else r.punycode=a}(this)}}},"util.js":function t(e,r,t){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}}},querystring:{"package.json":function t(e,r,t){t.exports={name:"querystring",version:"0.2.0"}},"index.js":function t(e,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},"decode.js":function t(e,r,t){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=t.length;a>0&&u>a&&(u=a);for(var l=0;l<u;++l){var h=t[l].replace(s,"%20"),c=h.indexOf(r),d,f,p,v;c>=0?(d=h.substr(0,c),f=h.substr(c+1)):(d=h,f=""),p=decodeURIComponent(d),v=decodeURIComponent(f),n(o,p)?Array.isArray(o[p])?o[p].push(v):o[p]=[o[p],v]:o[p]=v}return o}},"encode.js":function t(e,r,t){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(i){var o=encodeURIComponent(n(i))+r;return Array.isArray(t[i])?t[i].map((function(t){return o+encodeURIComponent(n(t))})).join(e):o+encodeURIComponent(n(t[i]))})).join(e):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(t)):""}}},process:{"browser.js":function t(e,r,t){var n=t.exports={},i,o;function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function l(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var h=[],c=!1,d,f=-1;function p(){c&&d&&(c=!1,d.length?h=d.concat(h):f=-1,h.length&&v())}function v(){if(!c){var t=u(p);c=!0;for(var e=h.length;e;){for(d=h,h=[];++f<e;)d&&d[f].run();f=-1,e=h.length}d=null,c=!1,l(t)}}function g(t,e){this.fun=t,this.array=e}function y(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new g(t,e)),1!==h.length||c||u(v)},g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}}},"package.json":function t(e,r,t){t.exports={name:"meteor-node-stubs",version:"0.2.11",main:"index.js"}},"index.js":function t(e,r,t){var i=e("./map.json"),o={};Object.keys(i).forEach((function(e){if("string"==typeof i[e]){var n=t.id.split("/");n.pop(),n.push("node_modules",i[e]),r[e]=o[e+".js"]=n.join("/")}else r[e]=i[e],o[e+".js"]=function(){}})),"function"==typeof n&&n({"..":{node_modules:o}})},"map.json":function t(e,r,t){t.exports={assert:"assert/",buffer:"buffer/",child_process:null,cluster:null,console:"console-browserify",constants:"constants-browserify",crypto:"../wrappers/crypto.js",dgram:null,dns:null,domain:"domain-browser",events:"events/",fs:null,http:"http-browserify",https:"https-browserify",module:"../wrappers/module.js",net:null,os:"os-browserify/browser.js",path:"path-browserify",process:"process/browser.js",punycode:"punycode/",querystring:"querystring-es3/",readline:null,repl:null,stream:"stream-browserify",_stream_duplex:"readable-stream/duplex.js",_stream_passthrough:"readable-stream/passthrough.js",_stream_readable:"readable-stream/readable.js",_stream_transform:"readable-stream/transform.js",_stream_writable:"readable-stream/writable.js",string_decoder:"string_decoder/",sys:"util/util.js",timers:"timers-browserify",tls:null,tty:"tty-browserify",url:"url/",util:"util/util.js",vm:"vm-browserify",zlib:"browserify-zlib"}}},ismobilejs:{"package.json":function t(e,r,t){t.exports={name:"ismobilejs",version:"0.5.2",browser:"./dist/isMobile.min.js",main:"./src/isMobile.js"}},dist:{"isMobile.min.js":function t(e,r,t){!function(e){var r=/iPhone/i,n=/iPod/i,i=/iPad/i,o=/\bAndroid(?:.+)Mobile\b/i,s=/Android/i,a=/\bAndroid(?:.+)SD4930UR\b/i,u=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,l=/Windows Phone/i,h=/\bWindows(?:.+)ARM\b/i,c=/BlackBerry/i,d=/BB10/i,f=/Opera Mini/i,p=/\b(CriOS|Chrome)(?:.+)Mobile/i,v=/Mobile(?:.+)Firefox\b/i;function g(t,e){return t.test(e)}function y(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),y=e.split("[FBAN");void 0!==y[1]&&(e=y[0]),void 0!==(y=e.split("Twitter"))[1]&&(e=y[0]);var _={apple:{phone:g(r,e)&&!g(l,e),ipod:g(n,e),tablet:!g(r,e)&&g(i,e)&&!g(l,e),device:(g(r,e)||g(n,e)||g(i,e))&&!g(l,e)},amazon:{phone:g(a,e),tablet:!g(a,e)&&g(u,e),device:g(a,e)||g(u,e)},android:{phone:!g(l,e)&&g(a,e)||!g(l,e)&&g(o,e),tablet:!g(l,e)&&!g(a,e)&&!g(o,e)&&(g(u,e)||g(s,e)),device:!g(l,e)&&(g(a,e)||g(u,e)||g(o,e)||g(s,e))||g(/\bokhttp\b/i,e)},windows:{phone:g(l,e),tablet:g(h,e),device:g(l,e)||g(h,e)},other:{blackberry:g(c,e),blackberry10:g(d,e),opera:g(f,e),firefox:g(v,e),chrome:g(p,e),device:g(c,e)||g(d,e)||g(f,e)||g(v,e)||g(p,e)}};return _.any=_.apple.device||_.android.device||_.windows.device||_.other.device,_.phone=_.apple.phone||_.android.phone||_.windows.phone,_.tablet=_.apple.tablet||_.android.tablet||_.windows.tablet,_}void 0!==t&&t.exports&&"undefined"==typeof window?t.exports=y:void 0!==t&&t.exports&&"undefined"!=typeof window?(t.exports=y(),t.exports.isMobile=y):"function"==typeof define&&define.amd?define([],e.isMobile=y()):e.isMobile=y()}(this)}}},"pixi-gl-core":{"package.json":function t(e,r,t){t.exports={name:"pixi-gl-core",version:"1.1.4",main:"./src/index.js"}},src:{"index.js":function t(e,r,t){var n={createContext:e("./createContext"),setVertexAttribArrays:e("./setVertexAttribArrays"),GLBuffer:e("./GLBuffer"),GLFramebuffer:e("./GLFramebuffer"),GLShader:e("./GLShader"),GLTexture:e("./GLTexture"),VertexArrayObject:e("./VertexArrayObject"),shader:e("./shader")};void 0!==t&&t.exports&&(t.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},"createContext.js":function t(e,r,t){var n=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r};t.exports=n},"setVertexAttribArrays.js":function t(e,r,t){var n=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}};t.exports=n},"GLBuffer.js":function t(e,r,t){var n=new ArrayBuffer(0),i=function(t,e,r,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=n,r&&this.upload(r),this._updateID=0};i.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},i.prototype.bind=function(){var t;this.gl.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(t,e,r){return new i(t,t.ARRAY_BUFFER,e,r)},i.createIndexBuffer=function(t,e,r){return new i(t,t.ELEMENT_ARRAY_BUFFER,e,r)},i.create=function(t,e,r,n){return new i(t,e,r,n)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=i},"GLFramebuffer.js":function t(e,r,t){var n=e("./GLTexture"),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var s=n.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},i.createFloat32=function(t,e,r,o){var s=new n.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},t.exports=i},"GLTexture.js":function t(e,r,t){var n=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var i=!1;n.prototype.uploadData=function(t,e,r){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!i){var o;if(!n.getExtension("OES_texture_float"))throw new Error("floating point textures not available");i=!0}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},n.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){var t;this.gl.deleteTexture(this.texture)},n.fromSource=function(t,e,r){var i=new n(t);return i.premultiplyAlpha=r||!1,i.upload(e),i},n.fromData=function(t,e,r,i){var o=new n(t);return o.uploadData(e,r,i),o},t.exports=n},"GLShader.js":function t(e,r,t){var n=e("./shader/compileProgram"),i=e("./shader/extractAttributes"),o=e("./shader/extractUniforms"),s=e("./shader/setPrecision"),a=e("./shader/generateUniformAccessObject"),u=function(t,e,r,u,l){this.gl=t,u&&(e=s(e,u),r=s(r,u)),this.program=n(t,e,r,l),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){var t;this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},shader:{"compileProgram.js":function t(e,r,t){var n=function(t,e,r,n){var o=i(t,t.VERTEX_SHADER,e),s=i(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,s),n)for(var u in n)t.bindAttribLocation(a,n[u],u);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(o),t.deleteShader(s),a},i=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};t.exports=n},"extractAttributes.js":function t(e,r,t){var n=e("./mapType"),i=e("./mapSize"),o=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<o;a++){var u=t.getActiveAttrib(e,a),l=n(t,u.type);r[u.name]={type:l,size:i(l),location:t.getAttribLocation(e,u.name),pointer:s}}return r},s=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};t.exports=o},"mapType.js":function t(e,r,t){var n=function(t,e){if(!i){var r=Object.keys(o);i={};for(var n=0;n<r.length;++n){var s=r[n];i[t[s]]=o[s]}}return i[e]},i=null,o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=n},"mapSize.js":function t(e,r,t){var n=function(t){return i[t]},i={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=n},"extractUniforms.js":function t(e,r,t){var n=e("./mapType"),i=e("./defaultValue"),o=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]/,""),l=n(t,a.type);r[u]={type:l,size:a.size,location:t.getUniformLocation(e,u),value:i(l,a.size)}}return r};t.exports=o},"defaultValue.js":function t(e,r,t){var n=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return i(2*e);case"bvec3":return i(3*e);case"bvec4":return i(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},i=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};t.exports=n},"setPrecision.js":function t(e,r,t){var n=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t};t.exports=n},"generateUniformAccessObject.js":function t(e,r,t){var n=function(t,e){var r={data:{}};r.gl=t;for(var n=Object.keys(e),o=0;o<n.length;o++){var s=n[o],l=s.split("."),h=l[l.length-1],c=u(l,r),d=e[s];c.data[h]=d,c.gl=t,Object.defineProperty(c,h,{get:i(h),set:a(h,d)})}return r},i=function(t){return function(){return this.data[t].value}},o={float:function t(e,r,n){e.uniform1f(r,n)},vec2:function t(e,r,n){e.uniform2f(r,n[0],n[1])},vec3:function t(e,r,n){e.uniform3f(r,n[0],n[1],n[2])},vec4:function t(e,r,n){e.uniform4f(r,n[0],n[1],n[2],n[3])},int:function t(e,r,n){e.uniform1i(r,n)},ivec2:function t(e,r,n){e.uniform2i(r,n[0],n[1])},ivec3:function t(e,r,n){e.uniform3i(r,n[0],n[1],n[2])},ivec4:function t(e,r,n){e.uniform4i(r,n[0],n[1],n[2],n[3])},bool:function t(e,r,n){e.uniform1i(r,n)},bvec2:function t(e,r,n){e.uniform2i(r,n[0],n[1])},bvec3:function t(e,r,n){e.uniform3i(r,n[0],n[1],n[2])},bvec4:function t(e,r,n){e.uniform4i(r,n[0],n[1],n[2],n[3])},mat2:function t(e,r,n){e.uniformMatrix2fv(r,!1,n)},mat3:function t(e,r,n){e.uniformMatrix3fv(r,!1,n)},mat4:function t(e,r,n){e.uniformMatrix4fv(r,!1,n)},sampler2D:function t(e,r,n){e.uniform1i(r,n)}},s={float:function t(e,r,n){e.uniform1fv(r,n)},vec2:function t(e,r,n){e.uniform2fv(r,n)},vec3:function t(e,r,n){e.uniform3fv(r,n)},vec4:function t(e,r,n){e.uniform4fv(r,n)},int:function t(e,r,n){e.uniform1iv(r,n)},ivec2:function t(e,r,n){e.uniform2iv(r,n)},ivec3:function t(e,r,n){e.uniform3iv(r,n)},ivec4:function t(e,r,n){e.uniform4iv(r,n)},bool:function t(e,r,n){e.uniform1iv(r,n)},bvec2:function t(e,r,n){e.uniform2iv(r,n)},bvec3:function t(e,r,n){e.uniform3iv(r,n)},bvec4:function t(e,r,n){e.uniform4iv(r,n)},sampler2D:function t(e,r,n){e.uniform1iv(r,n)}};function a(t,e){return function(r){this.data[t].value=r;var n=this.data[t].location;1===e.size?o[e.type](this.gl,n,r):s[e.type](this.gl,n,r)}}function u(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}t.exports=n},"index.js":function t(e,r,t){t.exports={compileProgram:e("./compileProgram"),defaultValue:e("./defaultValue"),extractAttributes:e("./extractAttributes"),extractUniforms:e("./extractUniforms"),generateUniformAccessObject:e("./generateUniformAccessObject"),setPrecision:e("./setPrecision"),mapSize:e("./mapSize"),mapType:e("./mapType")}}},"VertexArrayObject.js":function t(e,r,t){var n=e("./setVertexAttribArrays");function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return n(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}}}},eventemitter3:{"package.json":function t(e,r,t){t.exports={name:"eventemitter3",version:"2.0.3",main:"index.js"}},"index.js":function t(e,r,t){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),a.prototype.eventNames=function t(){var e=[],r,o;if(0===this._eventsCount)return e;for(o in r=this._events)n.call(r,o)&&e.push(i?o.slice(1):o);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e},a.prototype.listeners=function t(e,r){var n=i?i+e:e,o=this._events[n];if(r)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var s=0,a=o.length,u=new Array(a);s<a;s++)u[s]=o[s].fn;return u},a.prototype.emit=function t(e,r,n,o,s,a){var u=i?i+e:e;if(!this._events[u])return!1;var l=this._events[u],h=arguments.length,c,d;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,r),!0;case 3:return l.fn.call(l.context,r,n),!0;case 4:return l.fn.call(l.context,r,n,o),!0;case 5:return l.fn.call(l.context,r,n,o,s),!0;case 6:return l.fn.call(l.context,r,n,o,s,a),!0}for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];l.fn.apply(l.context,c)}else{var f=l.length,p;for(d=0;d<f;d++)switch(l[d].once&&this.removeListener(e,l[d].fn,void 0,!0),h){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,r);break;case 3:l[d].fn.call(l[d].context,r,n);break;case 4:l[d].fn.call(l[d].context,r,n,o);break;default:if(!c)for(p=1,c=new Array(h-1);p<h;p++)c[p-1]=arguments[p];l[d].fn.apply(l[d].context,c)}}return!0},a.prototype.on=function t(e,r,n){var o=new s(r,n||this),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function t(e,r,n){var o=new s(r,n||this,!0),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function t(e,r,n,s){var a=i?i+e:e;if(!this._events[a])return this;if(!r)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var u=this._events[a];if(u.fn)u.fn!==r||s&&!u.once||n&&u.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var l=0,h=[],c=u.length;l<c;l++)(u[l].fn!==r||s&&!u[l].once||n&&u[l].context!==n)&&h.push(u[l]);h.length?this._events[a]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function t(e){var r;return e?(r=i?i+e:e,this._events[r]&&(0==--this._eventsCount?this._events=new o:delete this._events[r])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function t(){return this},a.prefixed=i,a.EventEmitter=a,void 0!==t&&(t.exports=a)}},earcut:{"package.json":function t(e,r,t){t.exports={name:"earcut",version:"2.2.2",main:"src/earcut.js"}},src:{"earcut.js":function t(e,r,t){"use strict";function n(t,e,r){r=r||2;var n=e&&e.length,o=n?e[0]*r:t.length,a=i(t,0,o,r,!0),u=[],l,h,d,f,p,v,g;if(!a||a.next===a.prev)return u;if(n&&(a=c(t,e,a,r)),t.length>80*r){l=d=t[0],h=f=t[1];for(var y=r;y<o;y+=r)(p=t[y])<l&&(l=p),(v=t[y+1])<h&&(h=v),p>d&&(d=p),v>f&&(f=v);g=0!==(g=Math.max(d-l,f-h))?1/g:0}return s(a,u,r,l,h,g),u}function i(t,e,r,n,i){var o,s;if(i===L(t,e,r,n)>0)for(o=e;o<r;o+=n)s=R(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=R(o,t[o],t[o+1],s);return s&&w(s,s.next)&&(I(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r=t,n;do{if(n=!1,r.steiner||!w(r,r.next)&&0!==T(r.prev,r,r.next))r=r.next;else{if(I(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function s(t,e,r,n,i,c,d){if(t){!d&&c&&g(t,n,i,c);for(var f=t,p,v;t.prev!==t.next;)if(p=t.prev,v=t.next,c?u(t,n,i,c):a(t))e.push(p.i/r),e.push(t.i/r),e.push(v.i/r),I(t),t=v.next,f=v.next;else if((t=v)===f){d?1===d?s(t=l(o(t),e,r),e,r,n,i,c,2):2===d&&h(t,e,r,n,i,c):s(o(t),e,r,n,i,c,1);break}}}function a(t){var e=t.prev,r=t,n=t.next;if(T(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(b(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&T(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,s=t.next;if(T(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,l=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,h=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=_(a,u,e,r,n),d=_(l,h,e,r,n),f=t.prevZ,p=t.nextZ;f&&f.z>=c&&p&&p.z<=d;){if(f!==t.prev&&f!==t.next&&b(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&T(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==t.prev&&p!==t.next&&b(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&T(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&b(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&T(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=d;){if(p!==t.prev&&p!==t.next&&b(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&T(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function l(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!w(i,s)&&E(i,n,n.next,s)&&P(i,s)&&P(s,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(s.i/r),I(n),I(n.next),n=t=s),n=n.next}while(n!==t);return o(n)}function h(t,e,r,n,i,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&x(u,l)){var h=C(u,l);return u=o(u,u.next),h=o(h,h.next),s(u,e,r,n,i,a),void s(h,e,r,n,i,a)}l=l.next}u=u.next}while(u!==t)}function c(t,e,r,n){var s=[],a,u,l,h,c;for(a=0,u=e.length;a<u;a++)(c=i(t,l=e[a]*n,h=a<u-1?e[a+1]*n:t.length,n,!1))===c.next&&(c.steiner=!0),s.push(m(c));for(s.sort(d),a=0;a<s.length;a++)f(s[a],r),r=o(r,r.next);return r}function d(t,e){return t.x-e.x}function f(t,e){if(e=p(t,e)){var r=C(e,t);o(e,e.next),o(r,r.next)}}function p(t,e){var r=e,n=t.x,i=t.y,o=-1/0,s;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o){if(o=a,a===n){if(i===r.y)return r;if(i===r.next.y)return r.next}s=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!s)return null;if(n===o)return s;var u=s,l=s.x,h=s.y,c=1/0,d;r=s;do{n>=r.x&&r.x>=l&&n!==r.x&&b(i<h?n:o,i,l,h,i<h?o:n,i,r.x,r.y)&&(d=Math.abs(i-r.y)/(n-r.x),P(r,t)&&(d<c||d===c&&(r.x>s.x||r.x===s.x&&v(s,r)))&&(s=r,c=d)),r=r.next}while(r!==u);return s}function v(t,e){return T(t.prev,t,e.prev)<0&&T(e.next,t,t.next)<0}function g(t,e,r,n){var i=t;do{null===i.z&&(i.z=_(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,y(i)}function y(t){var e,r,n,i,o,s,a,u,l=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<l&&(a++,n=n.nextZ);e++);for(u=l;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(s>1);return t}function _(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function m(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function b(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function x(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!M(t,e)&&(P(t,e)&&P(e,t)&&A(t,e)&&(T(t.prev,t,e.prev)||T(t,e.prev,e))||w(t,e)&&T(t.prev,t,t.next)>0&&T(e.prev,e,e.next)>0)}function T(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function E(t,e,r,n){var i=O(T(t,e,r)),o=O(T(t,e,n)),s=O(T(r,n,t)),a=O(T(r,n,e));return i!==o&&s!==a||(!(0!==i||!S(t,r,e))||(!(0!==o||!S(t,n,e))||(!(0!==s||!S(r,t,n))||!(0!==a||!S(r,e,n)))))}function S(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function O(t){return t>0?1:t<0?-1:0}function M(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&E(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function P(t,e){return T(t.prev,t,t.next)<0?T(t,e,t.next)>=0&&T(t,t.prev,e)>=0:T(t,e,t.prev)<0||T(t,t.next,e)<0}function A(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}function C(t,e){var r=new D(t.i,t.x,t.y),n=new D(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function R(t,e,r,n){var i=new D(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function I(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function D(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=n,t.exports.default=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(L(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,h=a<u-1?e[a+1]*r:t.length;s-=Math.abs(L(t,l,h,r))}var c=0;for(a=0;a<n.length;a+=3){var d=n[a]*r,f=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}}}},"bit-twiddle":{"package.json":function t(e,r,t){t.exports={name:"bit-twiddle",version:"1.0.2",main:"twiddle.js"}},"twiddle.js":function t(e,r){"use strict";var n=32;function i(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1<<31,r.sign=function(t){return(t>0)-(t<0)},r.abs=function(t){var e=t>>31;return(t^e)-e},r.min=function(t,e){return e^(t^e)&-(t<e)},r.max=function(t,e){return t^(t^e)&-(t<e)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},r.countTrailingZeros=i,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var o=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(o),r.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},r.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},r.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},r.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},r.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},r.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}}},"object-assign":{"package.json":function t(e,r,t){t.exports={name:"object-assign",version:"4.1.1"}},"index.js":function t(e,r,t){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function a(){try{if(!Object.assign)return!1;var t=new String("abc"),e;if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var r={},n=0;n<10;n++)r["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(r).map((function(t){return r[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}t.exports=a()?Object.assign:function(t,e){for(var r,a=s(t),u,l=1;l<arguments.length;l++){for(var h in r=Object(arguments[l]))i.call(r,h)&&(a[h]=r[h]);if(n){u=n(r);for(var c=0;c<u.length;c++)o.call(r,u[c])&&(a[u[c]]=r[u[c]])}}return a}}},"remove-array-items":{"package.json":function t(e,r,t){t.exports={name:"remove-array-items",version:"1.1.1",main:"index.js"}},"index.js":function t(e,r,t){"use strict";t.exports=function t(e,r,n){var i,o=e.length;if(!(r>=o||0===n)){var s=o-(n=r+n>o?o-r:n);for(i=r;i<s;++i)e[i]=e[i+n];e.length=s}}}},"resource-loader":{"package.json":function t(e,r,t){t.exports={name:"resource-loader",version:"2.2.4",main:"./lib/index.js"}},lib:{"index.js":function t(e,r,t){"use strict";var n=e("./Loader").Loader,i=e("./Resource").Resource,o=e("./async"),s=e("./b64");n.Resource=i,n.async=o,n.encodeBinary=s,n.base64=s,t.exports=n,t.exports.Loader=n,t.exports.default=n},"Loader.js":function t(e,r){"use strict";r.__esModule=!0,r.Loader=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o,s=f(e("mini-signals")),a,u=f(e("parse-uri")),l,h=d(e("./async")),c=e("./Resource");function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var v=100,g=/(#[\w-]+)?$/,y=r.Loader=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;p(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=h.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new s.default,this.onError=new s.default,this.onLoad=new s.default,this.onStart=new s.default,this.onComplete=new s.default;for(var i=0;i<t._defaultBeforeMiddleware.length;++i)this.pre(t._defaultBeforeMiddleware[i]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}return t.prototype.add=function t(e,r,i,o){if(Array.isArray(e)){for(var s=0;s<e.length;++s)this.add(e[s]);return this}if("object"===(void 0===e?"undefined":n(e))&&(o=r||e.callback||e.onComplete,i=e,r=e.url,e=e.name||e.key||e.url),"string"!=typeof r&&(o=i,i=r,r=e),"string"!=typeof r)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(o=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new c.Resource(e,r,i),"function"==typeof o&&this.resources[e].onAfterMiddleware.once(o),this.loading){for(var a=i.parentResource,u=[],l=0;l<a.children.length;++l)a.children[l].isComplete||u.push(a.children[l]);var h,d=a.progressChunk*(u.length+1)/(u.length+2);a.children.push(this.resources[e]),a.progressChunk=d;for(var f=0;f<u.length;++f)u[f].progressChunk=d;this.resources[e].progressChunk=d}return this._queue.push(this.resources[e]),this},t.prototype.pre=function t(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function t(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function t(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort()}return this.resources={},this},t.prototype.load=function t(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r,n=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function t(e){var r=(0,u.default)(e,{strictMode:!0}),n=void 0;if(n=r.protocol||!r.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var i=g.exec(n)[0];-1!==(n=n.substr(0,n.length-i.length)).indexOf("?")?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function t(e,r){var n=this;e._dequeue=r,h.eachSeries(this._beforeMiddleware,(function(t,r){t.call(n,e,(function(){r(e.isComplete?{}:null)}))}),(function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())}),!0)},t.prototype._onStart=function t(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function t(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function t(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),h.eachSeries(this._afterMiddleware,(function(t,n){t.call(r,e,n)}),(function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(100,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()}),!0)},i(t,[{key:"concurrency",get:function t(){return this._queue.concurrency},set:function t(e){this._queue.concurrency=e}}]),t}();y._defaultBeforeMiddleware=[],y._defaultAfterMiddleware=[],y.pre=function t(e){return y._defaultBeforeMiddleware.push(e),y},y.use=function t(e){return y._defaultAfterMiddleware.push(e),y}},"async.js":function t(e,r){"use strict";function n(){}function i(t,e,r,n){var i=0,o=t.length;!function s(a){a||i===o?r&&r(a):n?setTimeout((function(){e(t[i++],s)}),1):e(t[i++],s)}()}function o(t){return function e(){if(null===t)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,arguments)}}function s(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function t(e,r){s(e,!1,r)},kill:function t(){r=0,i.drain=n,i.started=!1,i._tasks=[]},unshift:function t(e,r){s(e,!0,r)},process:function e(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var n=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),t(n.data,o(a(n)))}},length:function t(){return i._tasks.length},running:function t(){return r},idle:function t(){return i._tasks.length+r===0},pause:function t(){!0!==i.paused&&(i.paused=!0)},resume:function t(){if(!1!==i.paused){i.paused=!1;for(var e=1;e<=i.concurrency;e++)i.process()}}};function s(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var o={data:t,callback:"function"==typeof r?r:n};e?i._tasks.unshift(o):i._tasks.push(o),setTimeout((function(){return i.process()}),1)}}function a(t){return function e(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}r.__esModule=!0,r.eachSeries=i,r.queue=s},"Resource.js":function t(e,r,t){"use strict";r.__esModule=!0,r.Resource=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i,o=u(e("parse-uri")),s,a=u(e("mini-signals"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),c=null,d=0,f=200,p=204,v=1223,g=2;function y(){}var _=r.Resource=function(){function t(e,r,n){if(l(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=y,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new a.default,this.onProgress=new a.default,this.onComplete=new a.default,this.onAfterMiddleware=new a.default}return t.setExtensionLoadType=function e(r,n){m(t._loadTypeMap,r,n)},t.setExtensionXhrType=function e(r,n){m(t._xhrTypeMap,r,n)},t.prototype.complete=function t(){this._clearEvents(),this._finish()},t.prototype.abort=function e(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function e(r){var n=this;if(!this.isLoading)if(this.isComplete)r&&setTimeout((function(){return r(n)}),1);else switch(r&&this.onComplete.once(r),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function t(e){return 0!=(this._flags&e)},t.prototype._setFlag=function t(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function t(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function e(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function t(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function t(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},t.prototype._loadXhr=function e(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,!0),r.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?r.responseType=t.XHR_RESPONSE_TYPE.TEXT:r.responseType=this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},t.prototype._loadXdr=function t(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout((function(){return e.send()}),1)},t.prototype._createSource=function t(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function t(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function t(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function t(){this.abort("Load timed out.")},t.prototype._xhrOnError=function t(){var e=this.xhr;this.abort(b(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function t(){var e=this.xhr;this.abort(b(e)+" Request timed out.")},t.prototype._xhrOnAbort=function t(){var e=this.xhr;this.abort(b(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function e(){var r=this.xhr,n="",i=void 0===r.status?200:r.status,o;if(""!==r.responseType&&"text"!==r.responseType&&void 0!==r.responseType||(n=r.responseText),0===i&&(n.length>0||r.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2===(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(u){return void this.abort("Error trying to parse loaded json: "+u)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var s=new DOMParser;this.data=s.parseFromString(n,"text/xml")}else{var a=document.createElement("div");a.innerHTML=n,this.data=a}this.type=t.TYPE.XML}catch(u){return void this.abort("Error trying to parse loaded xml: "+u)}else this.data=r.response||n;this.complete()}else this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL)},t.prototype._determineCrossOrigin=function t(e,r){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";r=r||window.location,c||(c=document.createElement("a")),c.href=e;var n=!(e=(0,o.default)(c.href,{strictMode:!0})).port&&""===r.port||e.port===r.port,i=e.protocol?e.protocol+":":"";return e.host===r.hostname&&n&&i===r.protocol?"":"anonymous"},t.prototype._determineXhrType=function e(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function e(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function t(){var e=this.url,r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),o=e.indexOf("#"),s=Math.min(i>-1?i:e.length,o>-1?o:e.length);r=(e=e.substring(0,s)).substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function e(r){switch(r){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n(t,[{key:"isDataUrl",get:function e(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function e(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function e(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function m(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function b(t){return t.toString().replace("object ","")}_.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},_.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},_.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},_.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},_._loadTypeMap={gif:_.LOAD_TYPE.IMAGE,png:_.LOAD_TYPE.IMAGE,bmp:_.LOAD_TYPE.IMAGE,jpg:_.LOAD_TYPE.IMAGE,jpeg:_.LOAD_TYPE.IMAGE,tif:_.LOAD_TYPE.IMAGE,tiff:_.LOAD_TYPE.IMAGE,webp:_.LOAD_TYPE.IMAGE,tga:_.LOAD_TYPE.IMAGE,svg:_.LOAD_TYPE.IMAGE,"svg+xml":_.LOAD_TYPE.IMAGE,mp3:_.LOAD_TYPE.AUDIO,ogg:_.LOAD_TYPE.AUDIO,wav:_.LOAD_TYPE.AUDIO,mp4:_.LOAD_TYPE.VIDEO,webm:_.LOAD_TYPE.VIDEO},_._xhrTypeMap={xhtml:_.XHR_RESPONSE_TYPE.DOCUMENT,html:_.XHR_RESPONSE_TYPE.DOCUMENT,htm:_.XHR_RESPONSE_TYPE.DOCUMENT,xml:_.XHR_RESPONSE_TYPE.DOCUMENT,tmx:_.XHR_RESPONSE_TYPE.DOCUMENT,svg:_.XHR_RESPONSE_TYPE.DOCUMENT,tsx:_.XHR_RESPONSE_TYPE.DOCUMENT,gif:_.XHR_RESPONSE_TYPE.BLOB,png:_.XHR_RESPONSE_TYPE.BLOB,bmp:_.XHR_RESPONSE_TYPE.BLOB,jpg:_.XHR_RESPONSE_TYPE.BLOB,jpeg:_.XHR_RESPONSE_TYPE.BLOB,tif:_.XHR_RESPONSE_TYPE.BLOB,tiff:_.XHR_RESPONSE_TYPE.BLOB,webp:_.XHR_RESPONSE_TYPE.BLOB,tga:_.XHR_RESPONSE_TYPE.BLOB,json:_.XHR_RESPONSE_TYPE.JSON,text:_.XHR_RESPONSE_TYPE.TEXT,txt:_.XHR_RESPONSE_TYPE.TEXT,ttf:_.XHR_RESPONSE_TYPE.BUFFER,otf:_.XHR_RESPONSE_TYPE.BUFFER},_.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",void 0!==t&&(t.exports.default=_)},"b64.js":function t(e,r,t){"use strict";r.__esModule=!0,r.encodeBinary=i;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],o=[0,0,0,0],s=0;s<i.length;++s)r<t.length?i[s]=255&t.charCodeAt(r++):i[s]=0;var a;switch(o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2],r-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var u=0;u<o.length;++u)e+=n.charAt(o[u])}return e}void 0!==t&&(t.exports.default=i)},middlewares:{parsing:{"blob.js":function t(e,r){"use strict";r.__esModule=!0,r.blobMiddlewareFactory=s;var n=e("../../Resource"),i=e("../../b64"),o=window.URL||window.webkitURL;function s(){return function t(e,r){if(e.data){if(e.xhr&&e.xhrType===n.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var s=o.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=s,e.type=n.Resource.TYPE.IMAGE,void(e.data.onload=function(){o.revokeObjectURL(s),e.data.onload=null,r()})}}else{var a=e.xhr.getResponseHeader("content-type");if(a&&0===a.indexOf("image"))return e.data=new Image,e.data.src="data:"+a+";base64,"+(0,i.encodeBinary)(e.xhr.responseText),e.type=n.Resource.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,r()})}r()}else r()}}}}}}},"pixi-packer-parser":{"package.json":function t(e,r,t){t.exports={name:"pixi-packer-parser",version:"2.0.0",main:"index.js"}},"index.js":function t(e,r,t){"use strict";var n=e("resource-loader").Resource;function i(t){var e=t.split("/");return e.pop(),e.join("/")}function o(t,e){var r=t;this.done=function(){0===--r&&e()}}t.exports=function(t){return function(e,r){if(!e.data||e.type!==n.TYPE.JSON||!e.data.meta||"pixi-packer"!==e.data.meta.type)return r();if(e.data.meta.version>1)throw new Error("pixi-packer manifest version "+e.data.meta.version+" not supported");var s=this,a={crossOrigin:e.crossOrigin,loadType:n.LOAD_TYPE.IMAGE,parentResource:e},u,l=i(e.url.replace(s.baseUrl,"")),h=e.data.resolution;e.data.spritesheets.length&&100===s.progress&&(s.progress=0);var c=new o(e.data.spritesheets.length,r);e.data.spritesheets.forEach((function(e){var r=e.image,n=l+"/"+e.image;s.add(r,n,a,(function(r){r.texture.baseTexture.resolution=h,r.texture.baseTexture.update(),r.textures={},e.sprites.forEach((function(e){var n=new t.Rectangle(e.position.x/h,e.position.y/h,e.dimension.w/h,e.dimension.h/h),i;i=Number(t.VERSION.charAt(0))>=4?new t.Rectangle(0,0,e.dimension.w/h,e.dimension.h/h):n.clone();var o=null;e.trim&&(Number(t.VERSION.charAt(0))>=4?(o=new t.Rectangle(e.trim.x/h,e.trim.y/h,e.trim.w/h,e.trim.h/h),n.width=e.trim.w/h,n.height=e.trim.h/h):(o=new t.Rectangle(e.trim.x/h,e.trim.y/h,n.width,n.height),i.width=e.trim.w/h,i.height=e.trim.h/h)),r.textures[e.name]=new t.Texture(r.texture.baseTexture,n,i,o,!1),t.utils.TextureCache[e.name]=r.textures[e.name]})),c.done()}))}))}}}},"@babel":{runtime:{"package.json":function t(e,r,t){t.exports={author:{name:"Sebastian McKenzie",email:"sebmck@gmail.com"},bugs:{url:"https://github.com/babel/babel/issues"},bundleDependencies:!1,dependencies:{"regenerator-runtime":"^0.13.4"},deprecated:!1,description:"babel's modular runtime helpers",devDependencies:{"@babel/helpers":"^7.9.6"},gitHead:"9c2846bcacc75aa931ea9d556950c2113765d43d",homepage:"https://babeljs.io/docs/en/next/babel-runtime",license:"MIT",name:"@babel/runtime",publishConfig:{access:"public"},repository:{type:"git",url:"git+https://github.com/babel/babel.git",directory:"packages/babel-runtime"},version:"7.9.6"}},helpers:{"objectSpread2.js":function t(e,r,t){var n=e("./defineProperty");function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}t.exports=o},"defineProperty.js":function t(e,r,t){function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}t.exports=n}}}}}},{extensions:[".js",".json",".html",".less",".css"]});var o=i("/node_modules/meteor/modules/client.js");Package._define("modules",o,{meteorInstall:n})}();

Package._define("modern-browsers");

Package._define("babel-compiler");

Package._define("ecmascript");

Package._define("ecmascript-runtime");

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,o=Package.meteor.meteorEnv,t,a,r=(0,Package.modules.meteorInstall)({node_modules:{meteor:{"babel-runtime":{"babel-runtime.js":function e(n){try{var o=n("@babel/runtime/package.json").version}catch(t){throw new Error(["","The @babel/runtime npm package could not be found in your node_modules ","directory. Please run the following command to install it:","","  meteor npm install --save @babel/runtime",""].join("\n"))}(parseInt(o,10)<7||0===o.indexOf("7.0.0-beta.")&&parseInt(o.split(".").pop(),10)<56)&&console.error(["The version of @babel/runtime installed in your node_modules directory ","("+o+") is out of date. Please upgrade it by running ","","  meteor npm install --save @babel/runtime@latest","","in your application directory.",""].join("\n"))}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/babel-runtime/babel-runtime.js");Package._define("babel-runtime",r)}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,o=Package.meteor.meteorEnv,t,r,i=(0,Package.modules.meteorInstall)({node_modules:{meteor:{promise:{"modern.js":function e(){r=n.Promise},"client.js":function e(n){n("./extensions.js"),n("meteor-promise").makeCompatible(r)},"extensions.js":function n(){var o=r.prototype,t=Object.prototype.hasOwnProperty;o.done=function(n,o){var t=this;arguments.length>0&&(t=this.then.apply(this,arguments)),t.then(null,(function(n){e._setImmediate((function(){throw n}))}))},t.call(o,"finally")||(o.finally=function(e){var n=!1,o;return this.then((function(n){return o=n,e()}),(function(t){return n=!0,o=t,e()})).then((function(){if(n)throw o;return o}))})},node_modules:{"meteor-promise":{"package.json":function e(n,o,e){e.exports={name:"meteor-promise",version:"0.8.7",browser:"promise_client.js",main:"promise_server.js"}},"promise_client.js":function n(o,t){function r(e){throw e}t.makeCompatible=function(n){var o=n.prototype.then;n.prototype.then=function(n,t){return"object"==typeof e&&"function"==typeof e.bindEnvironment?o.call(this,n&&e.bindEnvironment(n,r),t&&e.bindEnvironment(t,r)):o.call(this,n,t)}}}}}}}}},{extensions:[".js",".json"]});i("/node_modules/meteor/promise/modern.js");var s=i("/node_modules/meteor/promise/client.js");Package._define("promise",s,{Promise:r})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,s=Package.meteor.meteorEnv,t=Package.modules.meteorInstall,a=Package.promise.Promise,n,r,c=t({node_modules:{meteor:{fetch:{"modern.js":function e(s,t){t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/fetch/modern.js");Package._define("fetch",c,{fetch:n})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,o=Package.promise.Promise,c=Package.fetch.fetch,i,u=r({node_modules:{meteor:{"dynamic-import":{"client.js":function n(t,r,n){var o=n.constructor,i=t("./cache.js"),u=t("meteor/modules").meteorInstall;function a(e){var n=[""],t=Object.create(null);function r(e){e&&"object"==typeof e?Object.keys(e).forEach((function(t){n.push(t),r(e[t]),n.pop()})):"string"==typeof e&&(t[n.join("/")]=e)}return r(e),t}function s(e,n,t){return function(){return(t&&t.eval||eval)("("+n+")\n//# sourceURL="+e).apply(this,arguments)}}o.prototype.dynamicImport=function(e){var n=this;return n.prefetch(e).then((function(){return v(n,e)}))},u.fetch=function(e){var n=Object.create(null),r=Object.create(null),o=t("./dynamic-versions.js"),c;function u(t,r){m(n,t,s(t,r,e[t].options))}function f(e){m(c=c||Object.create(null),e,1)}return Object.keys(e).forEach((function(e){var n=o.get(e);n?r[e]=n:f(e)})),i.checkMany(r).then((function(e){return Object.keys(e).forEach((function(n){var t=e[n];t?u(n,t):f(n)})),c&&d(c).then((function(e){var n=Object.create(null),t=a(e);Object.keys(t).forEach((function(e){var r=t[e];u(e,r);var c=o.get(e);c&&(n[e]={version:c,source:r})})),i.setMany(n)}))})).then((function(){return n}))};var f=null;r.setSecretKey=function(e){f=e};var l=t("./common.js").fetchURL;function d(n){var t=e.absoluteUrl(l);return f&&(t+="key="+f),c(t,{method:"POST",body:JSON.stringify(n)}).then((function(e){if(!e.ok)throw e;return e.json()}))}function m(e,n,t){var r=n.split("/"),o=r.length-1;r.forEach((function(n,r){n&&(e=e[n]=e[n]||(r<o?Object.create(null):t))}))}function v(e,n){var t;return e.link(n,{"*":function(e){t=e}}),Object.defineProperty(t,"__esModule",{value:!0,enumerable:!1}),t}},"cache.js":function n(t,r,n){var c,i=e.isClient&&!e.isCordova&&e.isProduction;function u(){return"undefined"!=typeof indexedDB?indexedDB:"undefined"!=typeof webkitIndexedDB?webkitIndexedDB:"undefined"!=typeof mozIndexedDB?mozIndexedDB:"undefined"!=typeof OIndexedDB?OIndexedDB:"undefined"!=typeof msIndexedDB?msIndexedDB:void 0}function a(e){return(c=c||new o((function(e,n){var t=u();if(!t)throw new Error("IndexedDB not available");var r=t.open("MeteorDynamicImportCache",2);r.onupgradeneeded=function(e){var n=e.target.result;Array.from(n.objectStoreNames).forEach(n.deleteObjectStore,n),Object.keys(s).forEach((function(e){n.createObjectStore(e,s[e])}))},r.onerror=f(n,"indexedDB.open"),r.onsuccess=function(n){e(n.target.result)}}))).then(e,(function(n){return e(null)}))}var s={sourcesByVersion:{keyPath:"version"}};function f(e,n){return function(t){return e(new Error("IndexedDB failure in "+n+" "+JSON.stringify(t.target))),!0}}var l=0;r.checkMany=function(e){var n=Object.keys(e),t=Object.create(null);return n.forEach((function(e){t[e]=null})),i?a((function(r){if(!r)return t;var c,i=r.transaction(["sourcesByVersion"],"readonly").objectStore("sourcesByVersion");function u(){return--l,t}return++l,o.all(n.map((function(n){return new o((function(r,o){var c=e[n];if(c){var u=i.get(c);u.onerror=f(o,"sourcesByVersion.get"),u.onsuccess=function(e){var o=e.target.result;o&&(t[n]=o.source),r()}}else r()}))}))).then(u,u)})):o.resolve(t)};var d=Object.create(null);function m(){if(l>0)return m.timer=setTimeout(m,100);m.timer=null;var e=d;return d=Object.create(null),a((function(n){if(n){var t,r=n.transaction(["sourcesByVersion"],"readwrite").objectStore("sourcesByVersion");return o.all(Object.keys(e).map((function(n){var t=e[n];return new o((function(e,n){var o=r.put({version:t.version,source:t.source});o.onerror=f(n,"sourcesByVersion.put"),o.onsuccess=e}))})))}}))}r.setMany=function(e){i&&(Object.assign(d,e),m.timer||(m.timer=setTimeout(m,100)))}},"common.js":function e(n,t){t.fetchURL="/__meteor__/dynamic-import/fetch"},"dynamic-versions.js":function e(t,r,e){var c={};function i(e){var n=[""],t=[];function r(e){e&&"object"==typeof e?Object.keys(e).forEach((function(t){n.push(t),r(e[t]),n.pop()})):"string"==typeof e&&t.push(n.join("/"))}return r(e),t}function u(n){function t(n,r){o.all(n.splice(0,r).map((function(n){return e.prefetch(n)}))).then((function(){n.length>0&&setTimeout((function(){t(n,r)}),0)}))}Package.appcache&&t(i(c),50)}r.get=function(e){var n=c,t=null;return e.split("/").some((function(e){return e&&(n=n[e]||n[e.replace(":","_")]),!n||("string"==typeof n?(t=n,!0):void 0)})),t},n.addEventListener?n.addEventListener("load",u,!1):n.attachEvent&&n.attachEvent("onload",u)}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/dynamic-import/client.js");Package._define("dynamic-import",u)}();

Package._define("es5-shim");

!function(){var t=Package.meteor.Meteor,n=Package.meteor.global,e=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.promise.Promise,o,s=r({node_modules:{meteor:{"ecmascript-runtime-client":{"modern.js":function t(n){try{n("core-js/modules/es.object.get-own-property-descriptors")}catch(e){throw new Error(["The core-js npm package could not be found in your node_modules ","directory. Please run the following command to install it:","","  meteor npm install --save core-js",""].join("\n"))}n("core-js/modules/es.object.is"),n("core-js/modules/es.function.name"),n("core-js/modules/es.number.is-finite"),n("core-js/modules/es.number.is-nan"),n("core-js/modules/es.array.flat"),n("core-js/modules/es.array.flat-map"),n("core-js/modules/es.object.from-entries"),n("core-js/modules/es.string.pad-start"),n("core-js/modules/es.string.pad-end"),n("core-js/modules/es.string.trim-start"),n("core-js/modules/es.string.trim-end"),n("core-js/modules/es.symbol.async-iterator")},node_modules:{"core-js":{modules:{"es.object.get-own-property-descriptors.js":function t(n){var e=n("../internals/export"),r=n("../internals/descriptors"),i=n("../internals/own-keys"),o=n("../internals/to-indexed-object"),s=n("../internals/object-get-own-property-descriptor"),a=n("../internals/create-property");e({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function t(n){for(var e=o(n),r=s.f,c=i(e),l={},u=0,f,p;c.length>u;)void 0!==(p=r(e,f=c[u++]))&&a(l,f,p);return l}})},"es.object.is.js":function t(n){var e,r;n("../internals/export")({target:"Object",stat:!0},{is:n("../internals/same-value")})},"es.function.name.js":function t(n){var e=n("../internals/descriptors"),r=n("../internals/object-define-property").f,i=Function.prototype,o=i.toString,s=/^\s*function ([^ (]*)/,a="name";!e||a in i||r(i,a,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},"es.number.is-finite.js":function t(n){var e,r;n("../internals/export")({target:"Number",stat:!0},{isFinite:n("../internals/number-is-finite")})},"es.number.is-nan.js":function t(n){var e;n("../internals/export")({target:"Number",stat:!0},{isNaN:function t(n){return n!=n}})},"es.array.flat.js":function t(n){"use strict";var e=n("../internals/export"),r=n("../internals/flatten-into-array"),i=n("../internals/to-object"),o=n("../internals/to-length"),s=n("../internals/to-integer"),a=n("../internals/array-species-create");e({target:"Array",proto:!0},{flat:function t(){var n=arguments.length?arguments[0]:void 0,e=i(this),c=o(e.length),l=a(e,0);return l.length=r(l,e,e,c,0,void 0===n?1:s(n)),l}})},"es.array.flat-map.js":function t(n){"use strict";var e=n("../internals/export"),r=n("../internals/flatten-into-array"),i=n("../internals/to-object"),o=n("../internals/to-length"),s=n("../internals/a-function"),a=n("../internals/array-species-create");e({target:"Array",proto:!0},{flatMap:function t(n){var e=i(this),c=o(e.length),l;return s(n),(l=a(e,0)).length=r(l,e,e,c,0,1,n,arguments.length>1?arguments[1]:void 0),l}})},"es.object.from-entries.js":function t(n){var e=n("../internals/export"),r=n("../internals/iterate"),i=n("../internals/create-property");e({target:"Object",stat:!0},{fromEntries:function t(n){var e={};return r(n,(function(t,n){i(e,t,n)}),void 0,!0),e}})},"es.string.pad-start.js":function t(n){"use strict";var e=n("../internals/export"),r=n("../internals/string-pad").start,i;e({target:"String",proto:!0,forced:n("../internals/webkit-string-pad-bug")},{padStart:function t(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}})},"es.string.pad-end.js":function t(n){"use strict";var e=n("../internals/export"),r=n("../internals/string-pad").end,i;e({target:"String",proto:!0,forced:n("../internals/webkit-string-pad-bug")},{padEnd:function t(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}})},"es.string.trim-start.js":function t(n){"use strict";var e=n("../internals/export"),r=n("../internals/string-trim").start,i,o=n("../internals/forced-string-trim-method")("trimStart"),s=o?function t(){return r(this)}:"".trimStart;e({target:"String",proto:!0,forced:o},{trimStart:s,trimLeft:s})},"es.string.trim-end.js":function t(n){"use strict";var e=n("../internals/export"),r=n("../internals/string-trim").end,i,o=n("../internals/forced-string-trim-method")("trimEnd"),s=o?function t(){return r(this)}:"".trimEnd;e({target:"String",proto:!0,forced:o},{trimEnd:s,trimRight:s})},"es.symbol.async-iterator.js":function t(n){var e;n("../internals/define-well-known-symbol")("asyncIterator")}},internals:{"export.js":function t(n,e,t){var r=n("../internals/global"),i=n("../internals/object-get-own-property-descriptor").f,o=n("../internals/hide"),s=n("../internals/redefine"),a=n("../internals/set-global"),c=n("../internals/copy-constructor-properties"),l=n("../internals/is-forced");t.exports=function(t,n){var e=t.target,u=t.global,f=t.stat,p,d,g,j,b,y;if(d=u?r:f?r[e]||a(e,{}):(r[e]||{}).prototype)for(g in n){if(b=n[g],j=t.noTargetGet?(y=i(d,g))&&y.value:d[g],!(p=l(u?g:e+(f?".":"#")+g,t.forced))&&void 0!==j){if(typeof b==typeof j)continue;c(b,j)}(t.sham||j&&j.sham)&&o(b,"sham",!0),s(d,g,b,t)}}},"global.js":function t(e,r,t){var i="object",o=function(t){return t&&t.Math==Math&&t};t.exports=o(typeof globalThis==i&&globalThis)||o(typeof window==i&&window)||o(typeof self==i&&self)||o(typeof n==i&&n)||Function("return this")()},"object-get-own-property-descriptor.js":function t(n,e){var r=n("../internals/descriptors"),i=n("../internals/object-property-is-enumerable"),o=n("../internals/create-property-descriptor"),s=n("../internals/to-indexed-object"),a=n("../internals/to-primitive"),c=n("../internals/has"),l=n("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;e.f=r?u:function t(n,e){if(n=s(n),e=a(e,!0),l)try{return u(n,e)}catch(r){}if(c(n,e))return o(!i.f.call(n,e),n[e])}},"descriptors.js":function t(n,e,t){var r=n("../internals/fails");t.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"fails.js":function t(n,e,t){t.exports=function(t){try{return!!t()}catch(n){return!0}}},"object-property-is-enumerable.js":function t(n,e){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function t(n){var e=i(this,n);return!!e&&e.enumerable}:r},"create-property-descriptor.js":function t(n,e,t){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},"to-indexed-object.js":function t(n,e,t){var r=n("../internals/indexed-object"),i=n("../internals/require-object-coercible");t.exports=function(t){return r(i(t))}},"indexed-object.js":function t(n,e,t){var r=n("../internals/fails"),i=n("../internals/classof-raw"),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},"classof-raw.js":function t(n,e,t){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},"require-object-coercible.js":function t(n,e,t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},"to-primitive.js":function t(n,e,t){var r=n("../internals/is-object");t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"is-object.js":function t(n,e,t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"has.js":function t(n,e,t){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},"ie8-dom-define.js":function t(n,e,t){var r=n("../internals/descriptors"),i=n("../internals/fails"),o=n("../internals/document-create-element");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"document-create-element.js":function t(n,e,t){var r=n("../internals/global"),i=n("../internals/is-object"),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},"hide.js":function t(n,e,t){var r=n("../internals/descriptors"),i=n("../internals/object-define-property"),o=n("../internals/create-property-descriptor");t.exports=r?function(t,n,e){return i.f(t,n,o(1,e))}:function(t,n,e){return t[n]=e,t}},"object-define-property.js":function t(n,e){var r=n("../internals/descriptors"),i=n("../internals/ie8-dom-define"),o=n("../internals/an-object"),s=n("../internals/to-primitive"),a=Object.defineProperty;e.f=r?a:function t(n,e,r){if(o(n),e=s(e,!0),o(r),i)try{return a(n,e,r)}catch(c){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(n[e]=r.value),n}},"an-object.js":function t(n,e,t){var r=n("../internals/is-object");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"redefine.js":function t(n,e,t){var r=n("../internals/global"),i=n("../internals/shared"),o=n("../internals/hide"),s=n("../internals/has"),a=n("../internals/set-global"),c=n("../internals/function-to-string"),l=n("../internals/internal-state"),u=l.get,f=l.enforce,p=String(c).split("toString");i("inspectSource",(function(t){return c.call(t)})),(t.exports=function(t,n,e,i){var c=!!i&&!!i.unsafe,l=!!i&&!!i.enumerable,u=!!i&&!!i.noTargetGet;"function"==typeof e&&("string"!=typeof n||s(e,"name")||o(e,"name",n),f(e).source=p.join("string"==typeof n?n:"")),t!==r?(c?!u&&t[n]&&(l=!0):delete t[n],l?t[n]=e:o(t,n,e)):l?t[n]=e:a(n,e)})(Function.prototype,"toString",(function t(){return"function"==typeof this&&u(this).source||c.call(this)}))},"shared.js":function t(n,e,t){var r=n("../internals/global"),i=n("../internals/set-global"),o=n("../internals/is-pure"),s="__core-js_shared__",a=r[s]||i(s,{});(t.exports=function(t,n){return a[t]||(a[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.2.1",mode:o?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"set-global.js":function t(n,e,t){var r=n("../internals/global"),i=n("../internals/hide");t.exports=function(t,n){try{i(r,t,n)}catch(e){r[t]=n}return n}},"is-pure.js":function t(n,e,t){t.exports=!1},"function-to-string.js":function t(n,e,t){var r=n("../internals/shared");t.exports=r("native-function-to-string",Function.toString)},"internal-state.js":function t(n,e,t){var r=n("../internals/native-weak-map"),i=n("../internals/global"),o=n("../internals/is-object"),s=n("../internals/hide"),a=n("../internals/has"),c=n("../internals/shared-key"),l=n("../internals/hidden-keys"),u=i.WeakMap,f,p,d,g=function(t){return d(t)?p(t):f(t,{})},j=function(t){return function(n){var e;if(!o(n)||(e=p(n)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return e}};if(r){var b=new u,y=b.get,m=b.has,v=b.set;f=function(t,n){return v.call(b,t,n),n},p=function(t){return y.call(b,t)||{}},d=function(t){return m.call(b,t)}}else{var h=c("state");l[h]=!0,f=function(t,n){return s(t,h,n),n},p=function(t){return a(t,h)?t[h]:{}},d=function(t){return a(t,h)}}t.exports={set:f,get:p,has:d,enforce:g,getterFor:j}},"native-weak-map.js":function t(n,e,t){var r=n("../internals/global"),i=n("../internals/function-to-string"),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i.call(o))},"shared-key.js":function t(n,e,t){var r=n("../internals/shared"),i=n("../internals/uid"),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},"uid.js":function t(n,e,t){var r=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+i).toString(36)}},"hidden-keys.js":function t(n,e,t){t.exports={}},"copy-constructor-properties.js":function t(n,e,t){var r=n("../internals/has"),i=n("../internals/own-keys"),o=n("../internals/object-get-own-property-descriptor"),s=n("../internals/object-define-property");t.exports=function(t,n){for(var e=i(n),a=s.f,c=o.f,l=0;l<e.length;l++){var u=e[l];r(t,u)||a(t,u,c(n,u))}}},"own-keys.js":function t(n,e,t){var r=n("../internals/get-built-in"),i=n("../internals/object-get-own-property-names"),o=n("../internals/object-get-own-property-symbols"),s=n("../internals/an-object");t.exports=r("Reflect","ownKeys")||function t(n){var e=i.f(s(n)),r=o.f;return r?e.concat(r(n)):e}},"get-built-in.js":function t(n,e,t){var r=n("../internals/path"),i=n("../internals/global"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,n){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][n]||i[t]&&i[t][n]}},"path.js":function t(n,e,t){t.exports=n("../internals/global")},"object-get-own-property-names.js":function t(n,e){var r=n("../internals/object-keys-internal"),i,o=n("../internals/enum-bug-keys").concat("length","prototype");e.f=Object.getOwnPropertyNames||function t(n){return r(n,o)}},"object-keys-internal.js":function t(n,e,t){var r=n("../internals/has"),i=n("../internals/to-indexed-object"),o=n("../internals/array-includes").indexOf,s=n("../internals/hidden-keys");t.exports=function(t,n){var e=i(t),a=0,c=[],l;for(l in e)!r(s,l)&&r(e,l)&&c.push(l);for(;n.length>a;)r(e,l=n[a++])&&(~o(c,l)||c.push(l));return c}},"array-includes.js":function t(n,e,t){var r=n("../internals/to-indexed-object"),i=n("../internals/to-length"),o=n("../internals/to-absolute-index"),s=function(t){return function(n,e,s){var a=r(n),c=i(a.length),l=o(s,c),u;if(t&&e!=e){for(;c>l;)if((u=a[l++])!=u)return!0}else for(;c>l;l++)if((t||l in a)&&a[l]===e)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},"to-length.js":function t(n,e,t){var r=n("../internals/to-integer"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"to-integer.js":function t(n,e,t){var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},"to-absolute-index.js":function t(n,e,t){var r=n("../internals/to-integer"),i=Math.max,o=Math.min;t.exports=function(t,n){var e=r(t);return e<0?i(e+n,0):o(e,n)}},"enum-bug-keys.js":function t(n,e,t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"object-get-own-property-symbols.js":function t(n,e){e.f=Object.getOwnPropertySymbols},"is-forced.js":function t(n,e,t){var r=n("../internals/fails"),i=/#|\.prototype\./,o=function(t,n){var e=a[s(t)];return e==l||e!=c&&("function"==typeof n?r(n):!!n)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},"create-property.js":function t(n,e,t){"use strict";var r=n("../internals/to-primitive"),i=n("../internals/object-define-property"),o=n("../internals/create-property-descriptor");t.exports=function(t,n,e){var s=r(n);s in t?i.f(t,s,o(0,e)):t[s]=e}},"same-value.js":function t(n,e,t){t.exports=Object.is||function t(n,e){return n===e?0!==n||1/n==1/e:n!=n&&e!=e}},"number-is-finite.js":function t(n,e,t){var r,i=n("../internals/global").isFinite;t.exports=Number.isFinite||function t(n){return"number"==typeof n&&i(n)}},"flatten-into-array.js":function t(n,e,t){"use strict";var r=n("../internals/is-array"),i=n("../internals/to-length"),o=n("../internals/bind-context"),s=function(t,n,e,a,c,l,u,f){for(var p=c,d=0,g=!!u&&o(u,f,3),j;d<a;){if(d in e){if(j=g?g(e[d],d,n):e[d],l>0&&r(j))p=s(t,n,j,i(j.length),p,l-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[p]=j}p++}d++}return p};t.exports=s},"is-array.js":function t(n,e,t){var r=n("../internals/classof-raw");t.exports=Array.isArray||function t(n){return"Array"==r(n)}},"bind-context.js":function t(n,e,t){var r=n("../internals/a-function");t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 0:return function(){return t.call(n)};case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}}},"a-function.js":function t(n,e,t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"to-object.js":function t(n,e,t){var r=n("../internals/require-object-coercible");t.exports=function(t){return Object(r(t))}},"array-species-create.js":function t(n,e,t){var r=n("../internals/is-object"),i=n("../internals/is-array"),o,s=n("../internals/well-known-symbol")("species");t.exports=function(t,n){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)?r(e)&&null===(e=e[s])&&(e=void 0):e=void 0),new(void 0===e?Array:e)(0===n?0:n)}},"well-known-symbol.js":function t(n,e,t){var r=n("../internals/global"),i=n("../internals/shared"),o=n("../internals/uid"),s=n("../internals/native-symbol"),a=r.Symbol,c=i("wks");t.exports=function(t){return c[t]||(c[t]=s&&a[t]||(s?a:o)("Symbol."+t))}},"native-symbol.js":function t(n,e,t){var r=n("../internals/fails");t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"iterate.js":function t(n,e,t){var r=n("../internals/an-object"),i=n("../internals/is-array-iterator-method"),o=n("../internals/to-length"),s=n("../internals/bind-context"),a=n("../internals/get-iterator-method"),c=n("../internals/call-with-safe-iteration-closing"),l=function(t,n){this.stopped=t,this.result=n},u;(t.exports=function(t,n,e,u,f){var p=s(n,e,u?2:1),d,g,j,b,y,m;if(f)d=t;else{if("function"!=typeof(g=a(t)))throw TypeError("Target is not iterable");if(i(g)){for(j=0,b=o(t.length);b>j;j++)if((y=u?p(r(m=t[j])[0],m[1]):p(t[j]))&&y instanceof l)return y;return new l(!1)}d=g.call(t)}for(;!(m=d.next()).done;)if((y=c(d,p,m.value,u))&&y instanceof l)return y;return new l(!1)}).stop=function(t){return new l(!0,t)}},"is-array-iterator-method.js":function t(n,e,t){var r=n("../internals/well-known-symbol"),i=n("../internals/iterators"),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},"iterators.js":function t(n,e,t){t.exports={}},"get-iterator-method.js":function t(n,e,t){var r=n("../internals/classof"),i=n("../internals/iterators"),o,s=n("../internals/well-known-symbol")("iterator");t.exports=function(t){if(null!=t)return t[s]||t["@@iterator"]||i[r(t)]}},"classof.js":function t(n,e,t){var r=n("../internals/classof-raw"),i,o=n("../internals/well-known-symbol")("toStringTag"),s="Arguments"==r(function(){return arguments}()),a=function(t,n){try{return t[n]}catch(e){}};t.exports=function(t){var n,e,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=a(n=Object(t),o))?e:s?r(n):"Object"==(i=r(n))&&"function"==typeof n.callee?"Arguments":i}},"call-with-safe-iteration-closing.js":function t(n,e,t){var r=n("../internals/an-object");t.exports=function(t,n,e,i){try{return i?n(r(e)[0],e[1]):n(e)}catch(s){var o=t.return;throw void 0!==o&&r(o.call(t)),s}}},"string-pad.js":function t(n,e,t){var r=n("../internals/to-length"),i=n("../internals/string-repeat"),o=n("../internals/require-object-coercible"),s=Math.ceil,a=function(t){return function(n,e,a){var c=String(o(n)),l=c.length,u=void 0===a?" ":String(a),f=r(e),p,d;return f<=l||""==u?c:(p=f-l,(d=i.call(u,s(p/u.length))).length>p&&(d=d.slice(0,p)),t?c+d:d+c)}};t.exports={start:a(!1),end:a(!0)}},"string-repeat.js":function t(n,e,t){"use strict";var r=n("../internals/to-integer"),i=n("../internals/require-object-coercible");t.exports="".repeat||function t(n){var e=String(i(this)),o="",s=r(n);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(o+=e);return o}},"webkit-string-pad-bug.js":function t(n,e,t){var r=n("../internals/user-agent");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},"user-agent.js":function t(n,e,t){var r=n("../internals/get-built-in");t.exports=r("navigator","userAgent")||""},"string-trim.js":function t(n,e,t){var r=n("../internals/require-object-coercible"),i,o="["+n("../internals/whitespaces")+"]",s=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),c=function(t){return function(n){var e=String(r(n));return 1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(a,"")),e}};t.exports={start:c(1),end:c(2),trim:c(3)}},"whitespaces.js":function t(n,e,t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"forced-string-trim-method.js":function t(n,e,t){var r=n("../internals/fails"),i=n("../internals/whitespaces"),o="​᠎";t.exports=function(t){return r((function(){return!!i[t]()||o[t]()!=o||i[t].name!==t}))}},"define-well-known-symbol.js":function t(n,e,t){var r=n("../internals/path"),i=n("../internals/has"),o=n("../internals/wrapped-well-known-symbol"),s=n("../internals/object-define-property").f;t.exports=function(t){var n=r.Symbol||(r.Symbol={});i(n,t)||s(n,t,{value:o.f(t)})}},"wrapped-well-known-symbol.js":function t(n,e){e.f=n("../internals/well-known-symbol")}}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/ecmascript-runtime-client/modern.js");Package._define("ecmascript-runtime-client",s)}();

!function(){var t=Package.meteor.Meteor,n=Package.meteor.global,e=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.promise.Promise,o,s,a,u;r({node_modules:{meteor:{tracker:{"tracker.js":function n(){function e(t){o.currentComputation=t,o.active=!!t}function r(){return void 0!==t?t._debug:"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}}function i(n){void 0!==t&&t._suppressed_log_expected()&&t._suppress_log(n-1)}function a(t,n){if(p)throw n;var e=["Exception from Tracker "+t+" function:"];if(n.stack&&n.message&&n.name){var o=n.stack.indexOf(n.message);if(o<0||o>n.name.length+2){var s=n.name+": "+n.message;e.push(s)}}e.push(n.stack),i(e.length);for(var a=0;a<e.length;a++)r()(e[a])}function u(n){return void 0===t||t.isClient?n:function(){var e=arguments;t._noYieldsAllowed((function(){n.apply(null,e)}))}}s=o={},o.active=!1,o.currentComputation=null;var c=1,h=[],l=!1,d=!1,f=!1,p=!1,v=[];function _(){l||(void 0!==t?t._setImmediate(o._runFlush):setTimeout(o._runFlush,0),l=!0)}var m=!1;o.Computation=class t{constructor(t,n,e){if(!m)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");m=!1,this.stopped=!1,this.invalidated=!1,this.firstRun=!0,this._id=c++,this._onInvalidateCallbacks=[],this._onStopCallbacks=[],this._parent=n,this._func=t,this._onError=e,this._recomputing=!1;var r=!0;try{this._compute(),r=!1}finally{this.firstRun=!1,r&&this.stop()}}onInvalidate(t){if("function"!=typeof t)throw new Error("onInvalidate requires a function");this.invalidated?o.nonreactive(()=>{u(t)(this)}):this._onInvalidateCallbacks.push(t)}onStop(t){if("function"!=typeof t)throw new Error("onStop requires a function");this.stopped?o.nonreactive(()=>{u(t)(this)}):this._onStopCallbacks.push(t)}invalidate(){if(!this.invalidated){this._recomputing||this.stopped||(_(),h.push(this)),this.invalidated=!0;for(var t=0,n;n=this._onInvalidateCallbacks[t];t++)o.nonreactive(()=>{u(n)(this)});this._onInvalidateCallbacks=[]}}stop(){if(!this.stopped){this.stopped=!0,this.invalidate();for(var t=0,n;n=this._onStopCallbacks[t];t++)o.nonreactive(()=>{u(n)(this)});this._onStopCallbacks=[]}}_compute(){this.invalidated=!1;var t=o.currentComputation;e(this);var n=f;f=!0;try{u(this._func)(this)}finally{e(t),f=n}}_needsRecompute(){return this.invalidated&&!this.stopped}_recompute(){this._recomputing=!0;try{if(this._needsRecompute())try{this._compute()}catch(t){this._onError?this._onError(t):a("recompute",t)}}finally{this._recomputing=!1}}flush(){this._recomputing||this._recompute()}run(){this.invalidate(),this.flush()}},o.Dependency=class t{constructor(){this._dependentsById=Object.create(null)}depend(t){if(!t){if(!o.active)return!1;t=o.currentComputation}var n=t._id;return!(n in this._dependentsById)&&(this._dependentsById[n]=t,t.onInvalidate(()=>{delete this._dependentsById[n]}),!0)}changed(){for(var t in this._dependentsById)this._dependentsById[t].invalidate()}hasDependents(){for(var t in this._dependentsById)return!0;return!1}},o.flush=function(t){o._runFlush({finishSynchronously:!0,throwFirstError:t&&t._throwFirstError})},o.inFlush=function(){return d},o._runFlush=function(t){if(o.inFlush())throw new Error("Can't call Tracker.flush while flushing");if(f)throw new Error("Can't flush inside Tracker.autorun");d=!0,l=!0,p=!!(t=t||{}).throwFirstError;var n=0,e=!1;try{for(;h.length||v.length;){for(;h.length;){var r=h.shift();if(r._recompute(),r._needsRecompute()&&h.unshift(r),!t.finishSynchronously&&++n>1e3)return void(e=!0)}if(v.length){var i=v.shift();try{i()}catch(s){a("afterFlush",s)}}}e=!0}finally{if(e||(d=!1,o._runFlush({finishSynchronously:t.finishSynchronously,throwFirstError:!1})),l=!1,d=!1,h.length||v.length){if(t.finishSynchronously)throw new Error("still have more to do?");setTimeout(_,10)}}},o.autorun=function(t,n){if("function"!=typeof t)throw new Error("Tracker.autorun requires a function argument");n=n||{},m=!0;var e=new o.Computation(t,o.currentComputation,n.onError);return o.active&&o.onInvalidate((function(){e.stop()})),e},o.nonreactive=function(t){var n=o.currentComputation;e(null);try{return t()}finally{e(n)}},o.onInvalidate=function(t){if(!o.active)throw new Error("Tracker.onInvalidate requires a currentComputation");o.currentComputation.onInvalidate(t)},o.afterFlush=function(t){v.push(t),_()}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/tracker/tracker.js"),Package._define("tracker",{Tracker:o,Deps:s})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.tracker.Tracker,a=Package.tracker.Deps,i;(function(){(i=function(e,t){if(!(this instanceof i))return new i(e,t);this.curValue=e,this.equalsFunc=t,this.dep=new n.Dependency})._isEqual=function(e,t){var r=e,n;return e===t&&(!e||"number"==typeof e||"boolean"==typeof e||"string"==typeof e)},i.prototype.get=function(){return n.active&&this.dep.depend(),this.curValue},i.prototype.set=function(e){var t=this.curValue;(this.equalsFunc||i._isEqual)(t,e)||(this.curValue=e,this.dep.changed())},i.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},i.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),Package._define("reactive-var",{ReactiveVar:i})}();

Package._define("standard-minifier-css");

Package._define("standard-minifier-js");

Package._define("shell-server");

Package._define("less");

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,t=Package.modules.meteorInstall,l=Package.promise.Promise,a,s,o=t({node_modules:{meteor:{base64:{"base64.js":function e(n,r,e){e.export({Base64:()=>i});const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=Object.create(null),a=e=>t.charAt(e),s=e=>"="===e?-1:l[e];for(let h=0;h<t.length;h++)l[a(h)]=h;const o=e=>{if("string"==typeof e){const n=e;e=c(n.length);for(let r=0;r<n.length;r++){const t=n.charCodeAt(r);if(t>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[r]=t}}const n=[];let r=null,t=null,l=null,s=null;for(let o=0;o<e.length;o++)switch(o%3){case 0:r=e[o]>>2&63,t=(3&e[o])<<4;break;case 1:t|=e[o]>>4&15,l=(15&e[o])<<2;break;case 2:l|=e[o]>>6&3,s=63&e[o],n.push(a(r)),n.push(a(t)),n.push(a(l)),n.push(a(s)),r=null,t=null,l=null,s=null}return null!=r&&(n.push(a(r)),n.push(a(t)),null==l?n.push("="):n.push(a(l)),null==s&&n.push("=")),n.join("")},c=e=>{if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){const n=[];for(let r=0;r<e;r++)n.push(0);return n.$Uint8ArrayPolyfill=!0,n}return new Uint8Array(new ArrayBuffer(e))},u=e=>{let n=Math.floor(3*e.length/4);"="==e.charAt(e.length-1)&&(n--,"="==e.charAt(e.length-2)&&n--);const r=c(n);let t=null,l=null,a=null,o=0;for(let c=0;c<e.length;c++){const n=e.charAt(c),u=s(n);switch(c%4){case 0:if(u<0)throw new Error("invalid base64 string");t=u<<2;break;case 1:if(u<0)throw new Error("invalid base64 string");t|=u>>4,r[o++]=t,l=(15&u)<<4;break;case 2:u>=0&&(l|=u>>2,r[o++]=l,a=(3&u)<<6);break;case 3:u>=0&&(r[o++]=a|u)}}return r},i={encode:o,decode:u,newBinary:c}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/base64/base64.js");Package._define("base64",o,{Base64:void 0})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.base64.Base64,a=Package.modules.meteorInstall,o=Package.promise.Promise,l,s,i=a({node_modules:{meteor:{ejson:{"ejson.js":function t(n,a,t){let o,l,s,i,u,c,f,O,y;t.export({EJSON:()=>m}),t.link("./utils",{isFunction(e){o=e},isObject(e){l=e},keysOf(e){s=e},lengthOf(e){i=e},hasOwn(e){u=e},convertMapToObject(e){c=e},isArguments(e){f=e},isInfOrNaN(e){O=e},handleError(e){y=e}},0);const m={},N=new Map;m.addType=(e,t)=>{if(N.has(e))throw new Error("Type ".concat(e," already present"));N.set(e,t)};const g=[{matchJSONValue:e=>u(e,"$date")&&1===i(e),matchObject:e=>e instanceof Date,toJSONValue:e=>({$date:e.getTime()}),fromJSONValue:e=>new Date(e.$date)},{matchJSONValue:e=>u(e,"$regexp")&&u(e,"$flags")&&2===i(e),matchObject:e=>e instanceof RegExp,toJSONValue:e=>({$regexp:e.source,$flags:e.flags}),fromJSONValue:e=>new RegExp(e.$regexp,e.$flags.slice(0,50).replace(/[^gimuy]/g,"").replace(/(.)(?=.*\1)/g,""))},{matchJSONValue:e=>u(e,"$InfNaN")&&1===i(e),matchObject:O,toJSONValue(e){let t;return{$InfNaN:t=Number.isNaN(e)?0:e===1/0?1:-1}},fromJSONValue:e=>e.$InfNaN/0},{matchJSONValue:e=>u(e,"$binary")&&1===i(e),matchObject:e=>"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&u(e,"$Uint8ArrayPolyfill"),toJSONValue:e=>({$binary:r.encode(e)}),fromJSONValue:e=>r.decode(e.$binary)},{matchJSONValue:e=>u(e,"$escape")&&1===i(e),matchObject(e){let t=!1;if(e){const n=i(e);1!==n&&2!==n||(t=g.some(t=>t.matchJSONValue(e)))}return t},toJSONValue(e){const t={};return s(e).forEach(n=>{t[n]=m.toJSONValue(e[n])}),{$escape:t}},fromJSONValue(e){const t={};return s(e.$escape).forEach(n=>{t[n]=m.fromJSONValue(e.$escape[n])}),t}},{matchJSONValue:e=>u(e,"$type")&&u(e,"$value")&&2===i(e),matchObject:e=>m._isCustomType(e),toJSONValue(t){const n=e._noYieldsAllowed(()=>t.toJSONValue());return{$type:t.typeName(),$value:n}},fromJSONValue(t){const n=t.$type;if(!N.has(n))throw new Error("Custom EJSON type ".concat(n," is not defined"));const r=N.get(n);return e._noYieldsAllowed(()=>r(t.$value))}}];m._isCustomType=e=>e&&o(e.toJSONValue)&&o(e.typeName)&&N.has(e.typeName()),m._getTypes=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?N:c(N)},m._getConverters=()=>g;const h=e=>{for(let t=0;t<g.length;t++){const n=g[t];if(n.matchObject(e))return n.toJSONValue(e)}},p=e=>{if(null===e)return null;const t=h(e);return void 0!==t?t:l(e)?(s(e).forEach(t=>{const n=e[t];if(!l(n)&&void 0!==n&&!O(n))return;const r=h(n);r?e[t]=r:p(n)}),e):e};m._adjustTypesToJSONValue=p,m.toJSONValue=e=>{const t=h(e);if(void 0!==t)return t;let n=e;return l(e)&&(n=m.clone(e),p(n)),n};const S=e=>{if(l(e)&&null!==e){const t=s(e);if(t.length<=2&&t.every(e=>"string"==typeof e&&"$"===e.substr(0,1)))for(let n=0;n<g.length;n++){const t=g[n];if(t.matchJSONValue(e))return t.fromJSONValue(e)}}return e},d=e=>{if(null===e)return null;const t=S(e);return t!==e?t:l(e)?(s(e).forEach(t=>{const n=e[t];if(l(n)){const r=S(n);if(n!==r)return void(e[t]=r);d(n)}}),e):e};m._adjustTypesFromJSONValue=d,m.fromJSONValue=e=>{let t=S(e);return t===e&&l(e)&&(t=m.clone(e),d(t)),t},m.stringify=y((e,n)=>{let r;const a=m.toJSONValue(e);if(n&&(n.canonical||n.indent)){let e;t.link("./stringify",{default(t){e=t}},1),r=e(a,n)}else r=JSON.stringify(a);return r}),m.parse=e=>{if("string"!=typeof e)throw new Error("EJSON.parse argument should be a string");return m.fromJSONValue(JSON.parse(e))},m.isBinary=e=>!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill),m.equals=(e,t,n)=>{let r;const a=!(!n||!n.keyOrderSensitive);if(e===t)return!0;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(!e||!t)return!1;if(!l(e)||!l(t))return!1;if(e instanceof Date&&t instanceof Date)return e.valueOf()===t.valueOf();if(m.isBinary(e)&&m.isBinary(t)){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if(o(e.equals))return e.equals(t,n);if(o(t.equals))return t.equals(e,n);if(e instanceof Array){if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(!m.equals(e[r],t[r],n))return!1;return!0}switch(m._isCustomType(e)+m._isCustomType(t)){case 1:return!1;case 2:return m.equals(m.toJSONValue(e),m.toJSONValue(t))}let i;const c=s(e),f=s(t);return a?(r=0,i=c.every(a=>!(r>=f.length)&&(a===f[r]&&(!!m.equals(e[a],t[f[r]],n)&&(r++,!0))))):(r=0,i=c.every(a=>!!u(t,a)&&(!!m.equals(e[a],t[a],n)&&(r++,!0)))),i&&r===f.length},m.clone=e=>{let t;if(!l(e))return e;if(null===e)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(m.isBinary(e)){t=m.newBinary(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}return Array.isArray(e)?e.map(m.clone):f(e)?Array.from(e).map(m.clone):o(e.clone)?e.clone():m._isCustomType(e)?m.fromJSONValue(m.clone(m.toJSONValue(e)),!0):(t={},s(e).forEach(n=>{t[n]=m.clone(e[n])}),t)},m.newBinary=r.newBinary},"stringify.js":function e(t,n,e){function r(e){return JSON.stringify(e)}const a=(e,t,n,o,l)=>{const s=t[e];switch(typeof s){case"string":return r(s);case"number":return isFinite(s)?String(s):"null";case"boolean":return String(s);case"object":{if(!s)return"null";const e=o+n,t=[];let i;if(Array.isArray(s)||{}.hasOwnProperty.call(s,"callee")){const r=s.length;for(let o=0;o<r;o+=1)t[o]=a(o,s,n,e,l)||"null";return i=0===t.length?"[]":e?"[\n"+e+t.join(",\n"+e)+"\n"+o+"]":"["+t.join(",")+"]"}let u=Object.keys(s);return l&&(u=u.sort()),u.forEach(o=>{(i=a(o,s,n,e,l))&&t.push(r(o)+(e?": ":":")+i)}),i=0===t.length?"{}":e?"{\n"+e+t.join(",\n"+e)+"\n"+o+"}":"{"+t.join(",")+"}"}}},o=(e,t)=>{const n=Object.assign({indent:"",canonical:!1},t);if(!0===n.indent)n.indent="  ";else if("number"==typeof n.indent){let e="";for(let t=0;t<n.indent;t++)e+=" ";n.indent=e}return a("",{"":e},n.indent,"",n.canonical)};e.exportDefault(o)},"utils.js":function e(t,n,e){e.export({isFunction:()=>r,isObject:()=>a,keysOf:()=>o,lengthOf:()=>l,hasOwn:()=>s,convertMapToObject:()=>i,isArguments:()=>u,isInfOrNaN:()=>c,checkError:()=>f,handleError:()=>O});const r=e=>"function"==typeof e,a=e=>"object"==typeof e,o=e=>Object.keys(e),l=e=>Object.keys(e).length,s=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i=e=>Array.from(e).reduce((e,t)=>{let[n,r]=t;return e[n]=r,e},{}),u=e=>null!=e&&s(e,"callee"),c=e=>Number.isNaN(e)||e===1/0||e===-1/0,f={maxStack:e=>new RegExp("Maximum call stack size exceeded","g").test(e)},O=e=>(function(){try{return e.apply(this,arguments)}catch(t){const e=f.maxStack(t.message);if(e)throw new Error("Converting circular structure to JSON");throw t}})}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/ejson/ejson.js");Package._define("ejson",i,{EJSON:l})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,d=Package.meteor.meteorEnv,o=Package.ejson.EJSON,r=Package.modules.meteorInstall,i=Package.promise.Promise,f,a,t=r({node_modules:{meteor:{"diff-sequence":{"diff.js":function n(d,r,n){n.export({DiffSequence:()=>i});const i={},f=Object.prototype.hasOwnProperty;function a(e){for(let n in Object(e))if(f.call(e,n))return!1;return!0}i.diffQueryChanges=function(e,n,d,o,r){e?i.diffQueryOrderedChanges(n,d,o,r):i.diffQueryUnorderedChanges(n,d,o,r)},i.diffQueryUnorderedChanges=function(e,n,d,r){var f=(r=r||{}).projectionFn||o.clone;if(d.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");n.forEach((function(n,r){var t=e.get(r);if(t){if(d.changed&&!o.equals(t,n)){var c=f(n),l=f(t),s=i.makeChangedFields(c,l);a(s)||d.changed(r,s)}}else if(d.added){var u=f(n);delete u._id,d.added(n._id,u)}})),d.removed&&e.forEach((function(e,o){n.has(o)||d.removed(o)}))},i.diffQueryOrderedChanges=function(n,d,r,t){var c=(t=t||{}).projectionFn||o.clone,l={};d.forEach((function(n){l[n._id]&&e._debug("Duplicate _id in new_results"),l[n._id]=!0}));var s={};n.forEach((function(n,d){n._id in s&&e._debug("Duplicate _id in old_results"),s[n._id]=d}));for(var u=[],h=0,g=d.length,_=new Array(g),v=new Array(g),m=function(e){return s[d[e]._id]},y=0;y<g;y++)if(void 0!==s[d[y]._id]){for(var O=h;O>0&&!(m(_[O-1])<m(y));)O--;v[y]=0===O?-1:_[O-1],_[O]=y,O+1>h&&(h=O+1)}for(var b=0===h?-1:_[h-1];b>=0;)u.push(b),b=v[b];u.reverse(),u.push(d.length),n.forEach((function(e){l[e._id]||r.removed&&r.removed(e._id)}));var j=0;u.forEach((function(e){for(var o=d[e]?d[e]._id:null,t,l,u,h,g,_=j;_<e;_++)l=d[_],f.call(s,l._id)?(t=n[s[l._id]],h=c(l),g=c(t),a(u=i.makeChangedFields(h,g))||r.changed&&r.changed(l._id,u),r.movedBefore&&r.movedBefore(l._id,o)):(delete(u=c(l))._id,r.addedBefore&&r.addedBefore(l._id,u,o),r.added&&r.added(l._id,u));o&&(l=d[e],t=n[s[l._id]],h=c(l),g=c(t),a(u=i.makeChangedFields(h,g))||r.changed&&r.changed(l._id,u)),j=e+1}))},i.diffObjects=function(e,n,d){Object.keys(e).forEach(o=>{const r=e[o];f.call(n,o)?d.both&&d.both(o,r,n[o]):d.leftOnly&&d.leftOnly(o,r)}),d.rightOnly&&Object.keys(n).forEach(o=>{const r=n[o];f.call(e,o)||d.rightOnly(o,r)})},i.diffMaps=function(e,n,d){e.forEach((function(e,o){n.has(o)?d.both&&d.both(o,e,n.get(o)):d.leftOnly&&d.leftOnly(o,e)})),d.rightOnly&&n.forEach((function(n,o){e.has(o)||d.rightOnly(o,n)}))},i.makeChangedFields=function(e,n){var d={};return i.diffObjects(n,e,{leftOnly:function(e,n){d[e]=void 0},rightOnly:function(e,n){d[e]=n},both:function(e,n,r){o.equals(n,r)||(d[e]=r)}}),d},i.applyChanges=function(e,n){Object.keys(n).forEach(d=>{const o=n[d];void 0===o?delete e[d]:e[d]=o})}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/diff-sequence/diff.js");Package._define("diff-sequence",t,{DiffSequence:void 0})}();

!function(){var t=Package.meteor.Meteor,n=Package.meteor.global,o=Package.meteor.meteorEnv,a,e,r,i=(0,Package.modules.meteorInstall)({node_modules:{meteor:{"geojson-utils":{"main.js":function t(n,o){o.GeoJSON=n("./geojson-utils.js")},"geojson-utils.js":function t(n,o,t){!function(){var n={};function o(t){for(var n=[],o=[],a=0;a<t[0].length;a++)n.push(t[0][a][1]),o.push(t[0][a][0]);return n=n.sort((function(t,n){return t-n})),o=o.sort((function(t,n){return t-n})),[[n[0],o[0]],[n[n.length-1],o[o.length-1]]]}function a(t,n,o){for(var a=[[0,0]],e=0;e<o.length;e++){for(var r=0;r<o[e].length;r++)a.push(o[e][r]);a.push([0,0])}for(var i=!1,e=0,r=a.length-1;e<a.length;r=e++)a[e][0]>n!=a[r][0]>n&&t<(a[r][1]-a[e][1])*(n-a[e][0])/(a[r][0]-a[e][0])+a[e][1]&&(i=!i);return i}void 0!==t&&t.exports&&(t.exports=n),n.lineStringsIntersect=function(t,n){for(var o=[],a=0;a<=t.coordinates.length-2;++a)for(var e=0;e<=n.coordinates.length-2;++e){var r={x:t.coordinates[a][1],y:t.coordinates[a][0]},i={x:t.coordinates[a+1][1],y:t.coordinates[a+1][0]},s={x:n.coordinates[e][1],y:n.coordinates[e][0]},c={x:n.coordinates[e+1][1],y:n.coordinates[e+1][0]},u,h,d=(c.y-s.y)*(i.x-r.x)-(c.x-s.x)*(i.y-r.y);if(0!=d){var l=((c.x-s.x)*(r.y-s.y)-(c.y-s.y)*(r.x-s.x))/d,g=((i.x-r.x)*(r.y-s.y)-(i.y-r.y)*(r.x-s.x))/d;0<=l&&l<=1&&0<=g&&g<=1&&o.push({type:"Point",coordinates:[r.x+l*(i.x-r.x),r.y+l*(i.y-r.y)]})}}return 0==o.length&&(o=!1),o},n.pointInBoundingBox=function(t,n){return!(t.coordinates[1]<n[0][0]||t.coordinates[1]>n[1][0]||t.coordinates[0]<n[0][1]||t.coordinates[0]>n[1][1])},n.pointInPolygon=function(t,e){for(var r="Polygon"==e.type?[e.coordinates]:e.coordinates,i=!1,s=0;s<r.length;s++)n.pointInBoundingBox(t,o(r[s]))&&(i=!0);if(!i)return!1;for(var c=!1,s=0;s<r.length;s++)a(t.coordinates[1],t.coordinates[0],r[s])&&(c=!0);return c},n.numberToRadius=function(t){return t*Math.PI/180},n.numberToDegree=function(t){return 180*t/Math.PI},n.drawCircle=function(t,o,a){for(var e=[o.coordinates[1],o.coordinates[0]],r=t/1e3/6371,i=[n.numberToRadius(e[0]),n.numberToRadius(e[1])],a=a||15,s=[[e[0],e[1]]],c=0;c<a;c++){var u=2*Math.PI*c/a,h=Math.asin(Math.sin(i[0])*Math.cos(r)+Math.cos(i[0])*Math.sin(r)*Math.cos(u)),d=i[1]+Math.atan2(Math.sin(u)*Math.sin(r)*Math.cos(i[0]),Math.cos(r)-Math.sin(i[0])*Math.sin(h));s[c]=[],s[c][1]=n.numberToDegree(h),s[c][0]=n.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},n.rectangleCentroid=function(t){var n=t.coordinates[0],o=n[0][0],a=n[0][1],e,r,i,s;return{type:"Point",coordinates:[o+(n[2][0]-o)/2,a+(n[2][1]-a)/2]}},n.pointDistance=function(t,o){var a=t.coordinates[0],e=t.coordinates[1],r=o.coordinates[0],i=o.coordinates[1],s=n.numberToRadius(i-e),c=n.numberToRadius(r-a),u=Math.pow(Math.sin(s/2),2)+Math.cos(n.numberToRadius(e))*Math.cos(n.numberToRadius(i))*Math.pow(Math.sin(c/2),2),h;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))*1e3},n.geometryWithinRadius=function(t,o,a){if("Point"==t.type)return n.pointDistance(t,o)<=a;if("LineString"==t.type||"Polygon"==t.type){var e={},r;for(var i in r="Polygon"==t.type?t.coordinates[0]:t.coordinates)if(e.coordinates=r[i],n.pointDistance(e,o)>a)return!1}return!0},n.area=function(t){for(var n=0,o=t.coordinates[0],a=o.length-1,e,r,i=0;i<o.length;a=i++){var e={x:o[i][1],y:o[i][0]},r={x:o[a][1],y:o[a][0]};n+=e.x*r.y,n-=e.y*r.x}return n/=2},n.centroid=function(t){for(var o,a=0,e=0,r=t.coordinates[0],i=r.length-1,s,c,u=0;u<r.length;i=u++){var s={x:r[u][1],y:r[u][0]},c={x:r[i][1],y:r[i][0]};a+=(s.x+c.x)*(o=s.x*c.y-c.x*s.y),e+=(s.y+c.y)*o}return{type:"Point",coordinates:[e/(o=6*n.area(t)),a/o]}},n.simplify=function(t,n){var o,a,e,r,i,s,c,u,h,d,l,g,M,y,f,x,m,p,v;n=n||20,t=t.map((function(t){return{lng:t.coordinates[0],lat:t.coordinates[1]}}));var P=Math.PI/180*.5,b=new Array,T=new Array,I=new Array;if(t.length<3)return t;for(o=t.length,d=360*n/(2*Math.PI*6378137),d*=d,e=0,T[0]=0,I[0]=o-1,a=1;a>0;)if(r=T[a-1],i=I[a-1],a--,i-r>1){for(l=t[i].lng()-t[r].lng(),g=t[i].lat()-t[r].lat(),Math.abs(l)>180&&(l=360-Math.abs(l)),M=(l*=Math.cos(P*(t[i].lat()+t[r].lat())))*l+g*g,s=r+1,c=r,h=-1;s<i;s++)y=t[s].lng()-t[r].lng(),f=t[s].lat()-t[r].lat(),Math.abs(y)>180&&(y=360-Math.abs(y)),x=(y*=Math.cos(P*(t[s].lat()+t[r].lat())))*y+f*f,m=t[s].lng()-t[i].lng(),p=t[s].lat()-t[i].lat(),Math.abs(m)>180&&(m=360-Math.abs(m)),(u=x>=M+(v=(m*=Math.cos(P*(t[s].lat()+t[i].lat())))*m+p*p)?v:v>=M+x?x:(y*g-f*l)*(y*g-f*l)/M)>h&&(c=s,h=u);h<d?(b[e]=r,e++):(T[++a-1]=c,I[a-1]=i,T[++a-1]=r,I[a-1]=c)}else b[e]=r,e++;b[e]=o-1,e++;for(var j=new Array,s=0;s<e;s++)j.push(t[b[s]]);return j.map((function(t){return{type:"Point",coordinates:[t.lng,t.lat]}}))},n.destinationPoint=function(t,o,a){a/=6371,o=n.numberToRadius(o);var e=n.numberToRadius(t.coordinates[0]),r=n.numberToRadius(t.coordinates[1]),i=Math.asin(Math.sin(e)*Math.cos(a)+Math.cos(e)*Math.sin(a)*Math.cos(o)),s=r+Math.atan2(Math.sin(o)*Math.sin(a)*Math.cos(e),Math.cos(a)-Math.sin(e)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[n.numberToDegree(i),n.numberToDegree(s)]}}}()}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/geojson-utils/main.js");Package._define("geojson-utils",i,{GeoJSON:void 0})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,i=Package.meteor.meteorEnv,r=Package.ejson.EJSON,a=Package.modules.meteorInstall,s=Package.promise.Promise,n,o,m=a({node_modules:{meteor:{"id-map":{"id-map.js":function e(t,i,e){e.export({IdMap:()=>s});const a=Object.prototype.hasOwnProperty;class s{constructor(e,t){this.clear(),this._idStringify=e||JSON.stringify,this._idParse=t||JSON.parse}get(e){var t=this._idStringify(e);return this._map[t]}set(e,t){var i=this._idStringify(e);this._map[i]=t}remove(e){var t=this._idStringify(e);delete this._map[t]}has(e){var t=this._idStringify(e);return a.call(this._map,t)}empty(){for(let e in this._map)return!1;return!0}clear(){this._map=Object.create(null)}forEach(e){for(var t=Object.keys(this._map),i=0;i<t.length;i++){var r;if(!1===e.call(null,this._map[t[i]],this._idParse(t[i])))return}}size(){return Object.keys(this._map).length}setDefault(e,t){var i=this._idStringify(e);return a.call(this._map,i)?this._map[i]:(this._map[i]=t,t)}clone(){var e=new s(this._idStringify,this._idParse);return this.forEach((function(t,i){e.set(i,r.clone(t))})),e}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/id-map/id-map.js");Package._define("id-map",m,{IdMap:n})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,o=Package.modules.meteorInstall,r=Package.promise.Promise,a,d,i,c=o({node_modules:{meteor:{random:{"main_client.js":function e(t,n,e){let o,r,a,d;e.export({Random:()=>i}),e.link("./BrowserRandomGenerator",{default(e){o=e}},0),e.link("./createAleaGenerator",{default(e){r=e}},1),e.link("./createRandom",{default(e){a=e}},2),d="undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new o:r();const i=a(d)},"AbstractRandomGenerator.js":function e(t,n,e){let o;e.export({default:()=>d}),e.link("meteor/meteor",{Meteor(e){o=e}},0);const r="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_";class d{fraction(){throw new Error("Unknown random generator type")}hexString(e){return this._randomString(e,"0123456789abcdef")}_randomString(e,t){let n="";for(let o=0;o<e;o++)n+=this.choice(t);return n}id(e){return void 0===e&&(e=17),this._randomString(e,r)}secret(e){return void 0===e&&(e=43),this._randomString(e,a)}choice(e){const t=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(t,1):e[t]}}},"AleaRandomGenerator.js":function e(t,n,e){let o;function r(e){function t(){let e=4022871197;const t=t=>{t=t.toString();for(let n=0;n<t.length;n++){let o=.02519603282416938*(e+=t.charCodeAt(n));o-=e=o>>>0,e=(o*=e)>>>0,e+=4294967296*(o-=e)}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}let n=0,o=0,r=0,a=1;0===e.length&&(e=[+new Date]);let d=t();n=d(" "),o=d(" "),r=d(" ");for(let c=0;c<e.length;c++)(n-=d(e[c]))<0&&(n+=1),(o-=d(e[c]))<0&&(o+=1),(r-=d(e[c]))<0&&(r+=1);d=null;const i=()=>{const e=2091639*n+2.3283064365386963e-10*a;return n=o,o=r,r=e-(a=0|e)};return i.uint32=()=>4294967296*i(),i.fract53=()=>i()+11102230246251565e-32*(2097152*i()|0),i.version="Alea 0.9",i.args=e,i}e.export({default:()=>a}),e.link("./AbstractRandomGenerator",{default(e){o=e}},0);class a extends o{constructor(){let{seeds:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(super(),!e)throw new Error("No seeds were provided for Alea PRNG");this.alea=r(e)}fraction(){return this.alea()}}},"BrowserRandomGenerator.js":function e(t,n,e){let o;e.export({default:()=>r}),e.link("./AbstractRandomGenerator",{default(e){o=e}},0);class r extends o{fraction(){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),2.3283064365386963e-10*e[0]}}},"createAleaGenerator.js":function e(t,n,e){let o;e.export({default:()=>i}),e.link("./AleaRandomGenerator",{default(e){o=e}},0);const r="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,a="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,d="undefined"!=typeof navigator&&navigator.userAgent||"";function i(){return new o({seeds:[new Date,r,a,d,Math.random()]})}},"createRandom.js":function e(t,n,e){let o,r;function a(e){return e.createWithSeeds=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No seeds were provided");return new o({seeds:t})},e.insecure=r(),e}e.export({default:()=>a}),e.link("./AleaRandomGenerator",{default(e){o=e}},0),e.link("./createAleaGenerator",{default(e){r=e}},1)}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/random/main_client.js");Package._define("random",c,{Random:void 0})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.ejson.EJSON,s=Package["id-map"].IdMap,n=Package.random.Random,a=Package.modules.meteorInstall,i=Package.promise.Promise,c,u,l,d=a({node_modules:{meteor:{"mongo-id":{"id.js":function e(t,r,e){let o,s;e.export({MongoID:()=>n}),e.link("meteor/ejson",{EJSON(e){o=e}},0),e.link("meteor/random",{Random(e){s=e}},1);const n={_looksLikeObjectID:e=>24===e.length&&e.match(/^[0-9a-f]*$/),ObjectID:class e{constructor(e){if(e){if(e=e.toLowerCase(),!n._looksLikeObjectID(e))throw new Error("Invalid hexadecimal string for creating an ObjectID");this._str=e}else this._str=s.hexString(24)}equals(e){return e instanceof n.ObjectID&&this.valueOf()===e.valueOf()}toString(){return'ObjectID("'.concat(this._str,'")')}clone(){return new n.ObjectID(this._str)}typeName(){return"oid"}getTimestamp(){return Number.parseInt(this._str.substr(0,8),16)}valueOf(){return this._str}toJSONValue(){return this.valueOf()}toHexString(){return this.valueOf()}}};o.addType("oid",e=>new n.ObjectID(e)),n.idStringify=e=>{if(e instanceof n.ObjectID)return e.valueOf();if("string"==typeof e)return""===e?e:e.startsWith("-")||e.startsWith("~")||n._looksLikeObjectID(e)||e.startsWith("{")?"-".concat(e):e;if(void 0===e)return"-";if("object"==typeof e&&null!==e)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~".concat(JSON.stringify(e))},n.idParse=e=>""===e?e:"-"===e?void 0:e.startsWith("-")?e.substr(1):e.startsWith("~")?JSON.parse(e.substr(1)):n._looksLikeObjectID(e)?new n.ObjectID(e):e}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/mongo-id/id.js");Package._define("mongo-id",d,{MongoID:void 0})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,i=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,s=Package.promise.Promise,n,h,o=r({node_modules:{meteor:{"ordered-dict":{"ordered_dict.js":function t(e,i,t){function r(t,e,i,r){return{key:t,value:e,next:i,prev:r}}t.export({OrderedDict:()=>s});class s{constructor(){this._dict=Object.create(null),this._first=null,this._last=null,this._size=0;for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];"function"==typeof e[0]?this._stringify=e.shift():this._stringify=function(t){return t},e.forEach(t=>this.putBefore(t[0],t[1],null))}_k(t){return" "+this._stringify(t)}empty(){return!this._first}size(){return this._size}_linkEltIn(t){t.next?(t.prev=t.next.prev,t.next.prev=t,t.prev&&(t.prev.next=t)):(t.prev=this._last,this._last&&(this._last.next=t),this._last=t),null!==this._first&&this._first!==t.next||(this._first=t)}_linkEltOut(t){t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next)}putBefore(t,e,i){if(this._dict[this._k(t)])throw new Error("Item "+t+" already present in OrderedDict");var s=r(t,e,i?this._dict[this._k(i)]:null);if(void 0===s.next)throw new Error("could not find item to put this one before");this._linkEltIn(s),this._dict[this._k(t)]=s,this._size++}append(t,e){this.putBefore(t,e,null)}remove(t){var e=this._dict[this._k(t)];if(void 0===e)throw new Error("Item "+t+" not present in OrderedDict");return this._linkEltOut(e),this._size--,delete this._dict[this._k(t)],e.value}get(t){if(this.has(t))return this._dict[this._k(t)].value}has(t){return Object.prototype.hasOwnProperty.call(this._dict,this._k(t))}forEach(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var i=0,r=this._first;null!==r;){var n;if(t.call(e,r.value,r.key,i)===s.BREAK)return;r=r.next,i++}}first(){if(!this.empty())return this._first.key}firstValue(){if(!this.empty())return this._first.value}last(){if(!this.empty())return this._last.key}lastValue(){if(!this.empty())return this._last.value}prev(t){if(this.has(t)){var e=this._dict[this._k(t)];if(e.prev)return e.prev.key}return null}next(t){if(this.has(t)){var e=this._dict[this._k(t)];if(e.next)return e.next.key}return null}moveBefore(t,e){var i=this._dict[this._k(t)],r=e?this._dict[this._k(e)]:null;if(void 0===i)throw new Error("Item to move is not present");if(void 0===r)throw new Error("Could not find element to move this one before");r!==i.next&&(this._linkEltOut(i),i.next=r,this._linkEltIn(i))}indexOf(t){var e=null;return this.forEach((i,r,n)=>{if(this._k(r)===this._k(t))return e=n,s.BREAK}),e}_checkRep(){Object.keys(this._dict).forEach(t=>{const e=this._dict[t];if(e.next===e)throw new Error("Next is a loop");if(e.prev===e)throw new Error("Prev is a loop")})}}s.BREAK={break:!0}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/ordered-dict/ordered_dict.js");Package._define("ordered-dict",o,{OrderedDict:void 0})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package["diff-sequence"].DiffSequence,o=Package.ejson.EJSON,i=Package["geojson-utils"].GeoJSON,s=Package["id-map"].IdMap,a=Package["mongo-id"].MongoID,c=Package["ordered-dict"].OrderedDict,l=Package.random.Random,d=Package.tracker.Tracker,u=Package.tracker.Deps,h=Package.modules.meteorInstall,f=Package.promise.Promise,p,m,y,_,g,b,v,w,E,$,j,O,A,k,I=h({node_modules:{meteor:{minimongo:{"minimongo_client.js":function e(t,r,e){e.link("./minimongo_common.js")},"common.js":function e(t,r,e){let n;e.export({hasOwn:()=>s,ELEMENT_OPERATORS:()=>a,compileDocumentSelector:()=>p,equalityElementMatcher:()=>v,expandArraysInBranches:()=>E,isIndexable:()=>k,isNumericKey:()=>I,isOperatorObject:()=>S,makeLookupFunction:()=>C,nothingMatcher:()=>P,pathsToTree:()=>q,populateDocumentWithQueryFields:()=>D,projectionDetails:()=>T,regexpElementMatcher:()=>U}),e.link("./local_collection.js",{default(e){n=e}},0);const s=Object.prototype.hasOwnProperty,a={$lt:M(e=>e<0),$gt:M(e=>e>0),$lte:M(e=>e<=0),$gte:M(e=>e>=0),$mod:{compileElementSelector(e){if(!Array.isArray(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");const t=e[0],r=e[1];return e=>"number"==typeof e&&e%t===r}},$in:{compileElementSelector(e){if(!Array.isArray(e))throw Error("$in needs an array");const t=e.map(e=>{if(e instanceof RegExp)return U(e);if(S(e))throw Error("cannot nest $ under $in");return v(e)});return e=>(void 0===e&&(e=null),t.some(t=>t(e)))}},$size:{dontExpandLeafArrays:!0,compileElementSelector(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return t=>Array.isArray(t)&&t.length===e}},$type:{dontIncludeLeafArrays:!0,compileElementSelector(e){if("string"==typeof e){const t={double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127};if(!s.call(t,e))throw Error("unknown string alias for $type: ".concat(e));e=t[e]}else{if("number"!=typeof e)throw Error("argument to $type is not a number or a string");if(0===e||e<-1||e>19&&127!==e)throw Error("Invalid numerical $type code: ".concat(e))}return t=>void 0!==t&&n._f._type(t)===e}},$bitsAllSet:{compileElementSelector(e){const t=$(e,"$bitsAllSet");return e=>{const r=j(e,t.length);return r&&t.every((e,t)=>(r[t]&e)===e)}}},$bitsAnySet:{compileElementSelector(e){const t=$(e,"$bitsAnySet");return e=>{const r=j(e,t.length);return r&&t.some((e,t)=>(~r[t]&e)!==e)}}},$bitsAllClear:{compileElementSelector(e){const t=$(e,"$bitsAllClear");return e=>{const r=j(e,t.length);return r&&t.every((e,t)=>!(r[t]&e))}}},$bitsAnyClear:{compileElementSelector(e){const t=$(e,"$bitsAnyClear");return e=>{const r=j(e,t.length);return r&&t.some((e,t)=>(r[t]&e)!==e)}}},$regex:{compileElementSelector(e,t){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");let r;if(void 0!==t.$options){if(/[^gim]/.test(t.$options))throw new Error("Only the i, m, and g regexp options are supported");const n=e instanceof RegExp?e.source:e;r=new RegExp(n,t.$options)}else r=e instanceof RegExp?e:new RegExp(e);return U(r)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector(e,t,r){if(!n._isPlainObject(e))throw Error("$elemMatch need an object");const o=!S(Object.keys(e).filter(e=>!s.call(c,e)).reduce((t,r)=>Object.assign(t,{[r]:e[r]}),{}),!0);let i;return i=o?p(e,r,{inElemMatch:!0}):m(e,r),e=>{if(!Array.isArray(e))return!1;for(let t=0;t<e.length;++t){const r=e[t];let n;if(o){if(!k(r))return!1;n=r}else n=[{value:r,dontIterate:!0}];if(i(n).result)return t}return!1}}}},c={$and:(e,t,r)=>u(f(e,t,r)),$or(e,t,r){const n=f(e,t,r);return 1===n.length?n[0]:e=>{const t=n.some(t=>t(e).result);return{result:t}}},$nor(e,t,r){const n=f(e,t,r);return e=>{const t=n.every(t=>!t(e).result);return{result:t}}},$where:(e,t)=>(t._recordPathUsed(""),t._hasWhere=!0,e instanceof Function||(e=Function("obj","return ".concat(e))),t=>({result:e.call(t,t)})),$comment:()=>()=>({result:!0})},l={$eq:e=>g(v(e)),$not:(e,t,r)=>A(m(e,r)),$ne:e=>A(g(v(e))),$nin:e=>A(g(a.$in.compileElementSelector(e))),$exists(e){const t=g(e=>void 0!==e);return e?t:A(t)},$options(e,t){if(!s.call(t,"$regex"))throw Error("$options needs a $regex");return w},$maxDistance(e,t){if(!t.$near)throw Error("$maxDistance needs a $near");return w},$all(e,t,r){if(!Array.isArray(e))throw Error("$all requires array");if(0===e.length)return P;const n=e.map(e=>{if(S(e))throw Error("no $ expressions in $all");return m(e,r)});return h(n)},$near(e,t,r,o){if(!o)throw Error("$near can't be inside another $ operator");let a,c,l;if(r._hasGeoQuery=!0,n._isPlainObject(e)&&s.call(e,"$geometry"))a=e.$maxDistance,c=e.$geometry,l=e=>e?e.type?"Point"===e.type?i.pointDistance(c,e):i.geometryWithinRadius(e,c,a)?0:a+1:i.pointDistance(c,{type:"Point",coordinates:B(e)}):null;else{if(a=t.$maxDistance,!k(e))throw Error("$near argument must be coordinate pair or GeoJSON");c=B(e),l=e=>k(e)?b(c,e):null}return e=>{const t={result:!1};return E(e).every(e=>{let n;if(!r._isUpdate){if("object"!=typeof e.value)return!0;if(null===(n=l(e.value))||n>a)return!0;if(void 0!==t.distance&&t.distance<=n)return!0}return t.result=!0,t.distance=n,e.arrayIndices?t.arrayIndices=e.arrayIndices:delete t.arrayIndices,!r._isUpdate}),t}}};function d(e){return 0===e.length?w:1===e.length?e[0]:t=>{const r={};return r.result=e.every(e=>{const n=e(t);return n.result&&void 0!==n.distance&&void 0===r.distance&&(r.distance=n.distance),n.result&&n.arrayIndices&&(r.arrayIndices=n.arrayIndices),n.result}),r.result||(delete r.distance,delete r.arrayIndices),r}}const u=d,h=d;function f(e,t,r){if(!Array.isArray(e)||0===e.length)throw Error("$and/$or/$nor must be nonempty array");return e.map(e=>{if(!n._isPlainObject(e))throw Error("$or/$and/$nor entries need to be full objects");return p(e,t,{inElemMatch:r})})}function p(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=Object.keys(e).map(n=>{const o=e[n];if("$"===n.substr(0,1)){if(!s.call(c,n))throw new Error("Unrecognized logical operator: ".concat(n));return t._isSimple=!1,c[n](o,t,r.inElemMatch)}if(r.inElemMatch||t._recordPathUsed(n),"function"==typeof o)return;const i=C(n),a=m(o,t,r.isRoot);return e=>a(i(e))}).filter(Boolean);return u(n)}function m(e,t,r){return e instanceof RegExp?(t._isSimple=!1,g(U(e))):S(e)?x(e,t,r):g(v(e))}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=>{const n=t.dontExpandLeafArrays?r:E(r,t.dontIncludeLeafArrays),o={};return o.result=n.some(t=>{let r=e(t.value);return"number"==typeof r&&(t.arrayIndices||(t.arrayIndices=[r]),r=!0),r&&t.arrayIndices&&(o.arrayIndices=t.arrayIndices),r}),o}}function b(e,t){const r=B(e),n=B(t);return Math.hypot(r[0]-n[0],r[1]-n[1])}function v(e){if(S(e))throw Error("Can't create equalityValueSelector for operator object");return null==e?e=>null==e:t=>n._f._equal(e,t)}function w(e){return{result:!0}}function E(e,t){const r=[];return e.forEach(e=>{const n=Array.isArray(e.value);t&&n&&!e.dontIterate||r.push({arrayIndices:e.arrayIndices,value:e.value}),n&&!e.dontIterate&&e.value.forEach((t,n)=>{r.push({arrayIndices:(e.arrayIndices||[]).concat(n),value:t})})}),r}function $(e,t){if(Number.isInteger(e)&&e>=0)return new Uint8Array(new Int32Array([e]).buffer);if(o.isBinary(e))return new Uint8Array(e.buffer);if(Array.isArray(e)&&e.every(e=>Number.isInteger(e)&&e>=0)){const t=new ArrayBuffer(1+(Math.max(...e)>>3)),r=new Uint8Array(t);return e.forEach(e=>{r[e>>3]|=1<<(7&e)}),r}throw Error("operand to ".concat(t," must be a numeric bitmask (representable as a ")+"non-negative 32-bit signed integer), a bindata bitmask or an array with bit positions (non-negative integers)")}function j(e,t){if(Number.isSafeInteger(e)){const r=new ArrayBuffer(Math.max(t,2*Uint32Array.BYTES_PER_ELEMENT));let n=new Uint32Array(r,0,2);return n[0]=e%4294967296|0,n[1]=e/4294967296|0,e<0&&(n=new Uint8Array(r,2)).forEach((e,t)=>{n[t]=255}),new Uint8Array(r)}return!!o.isBinary(e)&&new Uint8Array(e.buffer)}function O(e,t,r){Object.keys(e).forEach(e=>{if(e.length>t.length&&0===e.indexOf("".concat(t,"."))||t.length>e.length&&0===t.indexOf("".concat(e,".")))throw new Error("cannot infer query fields to set, both paths '".concat(e,"' and ")+"'".concat(t,"' are matched"));if(e===t)throw new Error("cannot infer query fields to set, path '".concat(t,"' is matched twice"))}),e[t]=r}function A(e){return t=>({result:!e(t).result})}function k(e){return Array.isArray(e)||n._isPlainObject(e)}function I(e){return/^[0-9]+$/.test(e)}function S(e,t){if(!n._isPlainObject(e))return!1;let r=void 0;return Object.keys(e).forEach(n=>{const o="$"===n.substr(0,1);if(void 0===r)r=o;else if(r!==o){if(!t)throw new Error("Inconsistent operator: ".concat(JSON.stringify(e)));r=!1}}),!!r}function M(e){return{compileElementSelector(t){if(Array.isArray(t))return()=>!1;void 0===t&&(t=null);const r=n._f._type(t);return o=>(void 0===o&&(o=null),n._f._type(o)===r&&e(n._f._cmp(o,t)))}}}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.split("."),o=r.length?r[0]:"",i=r.length>1&&C(r.slice(1).join("."),t),s=e=>(e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e);return function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Array.isArray(e)){if(!(I(o)&&o<e.length))return[];a=a.concat(+o,"x")}const c=e[o];if(!i)return[s({arrayIndices:a,dontIterate:Array.isArray(e)&&Array.isArray(c),value:c})];if(!k(c))return Array.isArray(e)?[]:[s({arrayIndices:a,value:void 0})];const l=[],d=e=>{l.push(...e)};return d(i(c,a)),!Array.isArray(c)||I(r[1])&&t.forSort||c.forEach((e,t)=>{n._isPlainObject(e)&&d(i(e,a.concat(t)))}),l}}function P(e){return{result:!1}}function x(e,t,r){const n=Object.keys(e).map(n=>{const o=e[n],i=["$lt","$lte","$gt","$gte"].includes(n)&&"number"==typeof o,c=["$ne","$eq"].includes(n)&&o!==Object(o),d=["$in","$nin"].includes(n)&&Array.isArray(o)&&!o.some(e=>e===Object(e));if(i||d||c||(t._isSimple=!1),s.call(l,n))return l[n](o,e,t,r);if(s.call(a,n)){const r=a[n];return g(r.compileElementSelector(o,e,t),r)}throw new Error("Unrecognized operator: ".concat(n))});return h(n)}function q(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.forEach(e=>{const o=e.split(".");let i=n;const a=o.slice(0,-1).every((t,n)=>{if(s.call(i,t)){if(i[t]!==Object(i[t])&&(i[t]=r(i[t],o.slice(0,n+1).join("."),e),i[t]!==Object(i[t])))return!1}else i[t]={};return i=i[t],!0});if(a){const n=o[o.length-1];s.call(i,n)?i[n]=r(i[n],e,e):i[n]=t(e)}}),n}function B(e){return Array.isArray(e)?e.slice():[e.x,e.y]}function F(e,t,r){r&&Object.getPrototypeOf(r)===Object.prototype?R(e,t,r):r instanceof RegExp||O(e,t,r)}function R(e,t,r){const n=Object.keys(r),o=n.filter(e=>"$"!==e[0]);if(o.length>0||!n.length){if(n.length!==o.length)throw new Error("unknown operator: ".concat(o[0]));N(r,t),O(e,t,r)}else Object.keys(r).forEach(n=>{const o=r[n];"$eq"===n?F(e,t,o):"$all"===n&&o.forEach(r=>F(e,t,r))})}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.getPrototypeOf(e)===Object.prototype?Object.keys(e).forEach(r=>{const n=e[r];"$and"===r?n.forEach(e=>D(e,t)):"$or"===r?1===n.length&&D(n[0],t):"$"!==r[0]&&F(t,r,n)}):n._selectorIsId(e)&&O(t,"_id",e),t}function T(e){let t=Object.keys(e).sort();1===t.length&&"_id"===t[0]||t.includes("_id")&&e._id||(t=t.filter(e=>"_id"!==e));let r=null;t.forEach(t=>{const n=!!e[t];if(null===r&&(r=n),r!==n)throw _("You cannot currently mix including and excluding fields.")});const n=q(t,e=>r,(e,t,r)=>{const n=r,o=t;throw _("both ".concat(n," and ").concat(o," found in fields option, ")+"using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{including:r,tree:n}}function U(e){return t=>t instanceof RegExp?t.toString()===e.toString():"string"==typeof t&&(e.lastIndex=0,e.test(t))}function Q(e,t){if(e.includes("."))throw new Error("The dotted field '".concat(e,"' in '").concat(t,".").concat(e," is not valid for storage."));if("$"===e[0])throw new Error("The dollar ($) prefixed field  '".concat(t,".").concat(e," is not valid for storage."))}function N(e,t){e&&Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).forEach(r=>{Q(r,t),N(e[r],t+"."+r)})}y={makeLookupFunction:C},_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&t.field&&(e+=" for field '".concat(t.field,"'"));const r=new Error(e);return r.name="MinimongoError",r}},"cursor.js":function e(t,r,e){let n,i;e.export({default:()=>s}),e.link("./local_collection.js",{default(e){n=e}},0),e.link("./common.js",{hasOwn(e){i=e}},1);class s{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.collection=e,this.sorter=null,this.matcher=new A.Matcher(t),n._selectorIsIdPerhapsAsObject(t)?this._selectorId=i.call(t,"_id")?t._id:t:(this._selectorId=void 0,(this.matcher.hasGeoQuery()||r.sort)&&(this.sorter=new A.Sorter(r.sort||[]))),this.skip=r.skip||0,this.limit=r.limit,this.fields=r.fields,this._projectionFn=n._compileProjection(this.fields||{}),this._transform=n.wrapTransform(r.transform),void 0!==d&&(this.reactive=void 0===r.reactive||r.reactive)}count(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.reactive&&this._depend({added:!0,removed:!0},!0),this._getRawObjects({ordered:!0,applySkipLimit:e}).length}fetch(){const e=[];return this.forEach(t=>{e.push(t)}),e}[Symbol.iterator](){this.reactive&&this._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0});let e=0;const t=this._getRawObjects({ordered:!0});return{next:()=>{if(e<t.length){let r=this._projectionFn(t[e++]);return this._transform&&(r=this._transform(r)),{value:r}}return{done:!0}}}}forEach(e,t){this.reactive&&this._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),this._getRawObjects({ordered:!0}).forEach((r,n)=>{r=this._projectionFn(r),this._transform&&(r=this._transform(r)),e.call(t,r,n,this)})}getTransform(){return this._transform}map(e,t){const r=[];return this.forEach((n,o)=>{r.push(e.call(t,n,o,this))}),r}observe(e){return n._observeFromObserveChanges(this,e)}observeChanges(e){const t=n._observeChangesCallbacksAreOrdered(e);if(!e._allow_unordered&&!t&&(this.skip||this.limit))throw new Error("Must use an ordered observe with skip or limit (i.e. 'addedBefore' for observeChanges or 'addedAt' for observe, instead of 'added').");if(this.fields&&(0===this.fields._id||!1===this.fields._id))throw Error("You may not observe a cursor with {fields: {_id: 0}}");const r=this.matcher.hasGeoQuery()&&t&&new n._IdMap,i={cursor:this,dirty:!1,distances:r,matcher:this.matcher,ordered:t,projectionFn:this._projectionFn,resultsSnapshot:null,sorter:t&&this.sorter};let s;this.reactive&&(s=this.collection.next_qid++,this.collection.queries[s]=i),i.results=this._getRawObjects({ordered:t,distances:i.distances}),this.collection.paused&&(i.resultsSnapshot=t?[]:new n._IdMap);const a=e=>{if(!e)return()=>{};const t=this;return function(){if(t.collection.paused)return;const r=arguments;t.collection._observeQueue.queueTask(()=>{e.apply(this,r)})}};i.added=a(e.added),i.changed=a(e.changed),i.removed=a(e.removed),t&&(i.addedBefore=a(e.addedBefore),i.movedBefore=a(e.movedBefore)),e._suppress_initial||this.collection.paused||i.results.forEach(e=>{const r=o.clone(e);delete r._id,t&&i.addedBefore(e._id,this._projectionFn(r),null),i.added(e._id,this._projectionFn(r))});const c=Object.assign(new n.ObserveHandle,{collection:this.collection,stop:()=>{this.reactive&&delete this.collection.queries[s]}});return this.reactive&&d.active&&d.onInvalidate(()=>{c.stop()}),this.collection._observeQueue.drain(),c}rewind(){}_depend(e,t){if(d.active){const r=new d.Dependency,n=r.changed.bind(r);r.depend();const o={_allow_unordered:t,_suppress_initial:!0};["added","addedBefore","changed","movedBefore","removed"].forEach(t=>{e[t]&&(o[t]=n)}),this.observeChanges(o)}}_getCollectionName(){return this.collection.name}_getRawObjects(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=!1!==e.applySkipLimit,r=e.ordered?[]:new n._IdMap;if(void 0!==this._selectorId){if(t&&this.skip)return r;const n=this.collection._docs.get(this._selectorId);return n&&(e.ordered?r.push(n):r.set(this._selectorId,n)),r}let o;return this.matcher.hasGeoQuery()&&e.ordered&&(e.distances?(o=e.distances).clear():o=new n._IdMap),this.collection._docs.forEach((n,i)=>{const s=this.matcher.documentMatches(n);return s.result&&(e.ordered?(r.push(n),o&&void 0!==s.distance&&o.set(i,s.distance)):r.set(i,n)),!t||(!this.limit||this.skip||this.sorter||r.length!==this.limit)}),e.ordered?(this.sorter&&r.sort(this.sorter.getComparator({distances:o})),t&&(this.limit||this.skip)?r.slice(this.skip,this.limit?this.limit+this.skip:r.length):r):r}_publishCursor(e){if(!Package.mongo)throw new Error("Can't publish from Minimongo without the `mongo` package.");if(!this.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");return Package.mongo.Mongo.Collection._publishCursor(this,e,this.collection.name)}}},"local_collection.js":function t(r,i,t){let u,h,f,p,m,y,g,b,v;t.link("@babel/runtime/helpers/objectSpread2",{default(e){u=e}},0),t.export({default:()=>w}),t.link("./cursor.js",{default(e){h=e}},0),t.link("./observe_handle.js",{default(e){f=e}},1),t.link("./common.js",{hasOwn(e){p=e},isIndexable(e){m=e},isNumericKey(e){y=e},isOperatorObject(e){g=e},populateDocumentWithQueryFields(e){b=e},projectionDetails(e){v=e}},2);class w{constructor(t){this.name=t,this._docs=new w._IdMap,this._observeQueue=new e._SynchronousQueue,this.next_qid=1,this.queries=Object.create(null),this._savedOriginals=null,this.paused=!1}find(e,t){return 0===arguments.length&&(e={}),new w.Cursor(this,e,t)}findOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 0===arguments.length&&(e={}),t.limit=1,this.find(e,t).fetch()[0]}insert(t,r){O(t=o.clone(t)),p.call(t,"_id")||(t._id=w._useOID?new a.ObjectID:l.id());const n=t._id;if(this._docs.has(n))throw _("Duplicate _id '".concat(n,"'"));this._saveOriginal(n,void 0),this._docs.set(n,t);const i=[];return Object.keys(this.queries).forEach(e=>{const r=this.queries[e];if(r.dirty)return;const o=r.matcher.documentMatches(t);o.result&&(r.distances&&void 0!==o.distance&&r.distances.set(n,o.distance),r.cursor.skip||r.cursor.limit?i.push(e):w._insertInResults(r,t))}),i.forEach(e=>{this.queries[e]&&this._recomputeResults(this.queries[e])}),this._observeQueue.drain(),r&&e.defer(()=>{r(null,n)}),n}pauseObservers(){this.paused||(this.paused=!0,Object.keys(this.queries).forEach(e=>{const t=this.queries[e];t.resultsSnapshot=o.clone(t.results)}))}remove(t,r){if(this.paused&&!this._savedOriginals&&o.equals(t,{})){const t=this._docs.size();return this._docs.clear(),Object.keys(this.queries).forEach(e=>{const t=this.queries[e];t.ordered?t.results=[]:t.results.clear()}),r&&e.defer(()=>{r(null,t)}),t}const n=new A.Matcher(t),i=[];this._eachPossiblyMatchingDoc(t,(e,t)=>{n.documentMatches(e).result&&i.push(t)});const s=[],a=[];for(let e=0;e<i.length;e++){const t=i[e],r=this._docs.get(t);Object.keys(this.queries).forEach(e=>{const t=this.queries[e];t.dirty||t.matcher.documentMatches(r).result&&(t.cursor.skip||t.cursor.limit?s.push(e):a.push({qid:e,doc:r}))}),this._saveOriginal(t,r),this._docs.remove(t)}a.forEach(e=>{const t=this.queries[e.qid];t&&(t.distances&&t.distances.remove(e.doc._id),w._removeFromResults(t,e.doc))}),s.forEach(e=>{const t=this.queries[e];t&&this._recomputeResults(t)}),this._observeQueue.drain();const c=i.length;return r&&e.defer(()=>{r(null,c)}),c}resumeObservers(){this.paused&&(this.paused=!1,Object.keys(this.queries).forEach(e=>{const t=this.queries[e];t.dirty?(t.dirty=!1,this._recomputeResults(t,t.resultsSnapshot)):w._diffQueryChanges(t.ordered,t.resultsSnapshot,t.results,t,{projectionFn:t.projectionFn}),t.resultsSnapshot=null}),this._observeQueue.drain())}retrieveOriginals(){if(!this._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");const e=this._savedOriginals;return this._savedOriginals=null,e}saveOriginals(){if(this._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");this._savedOriginals=new w._IdMap}update(t,r,n,i){!i&&n instanceof Function&&(i=n,n=null),n||(n={});const s=new A.Matcher(t,!0),a={},c=new w._IdMap,l=w._idsMatchedBySelector(t);Object.keys(this.queries).forEach(e=>{const t=this.queries[e];if((t.cursor.skip||t.cursor.limit)&&!this.paused){if(t.results instanceof w._IdMap)return void(a[e]=t.results.clone());if(!(t.results instanceof Array))throw new Error("Assertion failed: query.results not an array");const r=e=>{if(c.has(e._id))return c.get(e._id);const t=l&&!l.some(t=>o.equals(t,e._id))?e:o.clone(e);return c.set(e._id,t),t};a[e]=t.results.map(r)}});const d={};let u=0,h,f;if(this._eachPossiblyMatchingDoc(t,(e,t)=>{const o=s.documentMatches(e);return!(o.result&&(this._saveOriginal(t,e),this._modifyAndNotify(e,r,d,o.arrayIndices),++u,!n.multi))}),Object.keys(d).forEach(e=>{const t=this.queries[e];t&&this._recomputeResults(t,a[e])}),this._observeQueue.drain(),0===u&&n.upsert){const e=w._createUpsertDocument(t,r);!e._id&&n.insertedId&&(e._id=n.insertedId),h=this.insert(e),u=1}return n._returnObject?(f={numberAffected:u},void 0!==h&&(f.insertedId=h)):f=u,i&&e.defer(()=>{i(null,f)}),f}upsert(e,t,r,n){return n||"function"!=typeof r||(n=r,r={}),this.update(e,t,Object.assign({},r,{upsert:!0,_returnObject:!0}),n)}_eachPossiblyMatchingDoc(e,t){const r=w._idsMatchedBySelector(e);r?r.some(e=>{const r=this._docs.get(e);if(r)return!1===t(r,e)}):this._docs.forEach(t)}_modifyAndNotify(e,t,r,n){const i={};Object.keys(this.queries).forEach(t=>{const r=this.queries[t];r.dirty||(r.ordered?i[t]=r.matcher.documentMatches(e).result:i[t]=r.results.has(e._id))});const s=o.clone(e);w._modify(e,t,{arrayIndices:n}),Object.keys(this.queries).forEach(t=>{const n=this.queries[t];if(n.dirty)return;const o=n.matcher.documentMatches(e),a=o.result,c=i[t];a&&n.distances&&void 0!==o.distance&&n.distances.set(e._id,o.distance),n.cursor.skip||n.cursor.limit?(c||a)&&(r[t]=!0):c&&!a?w._removeFromResults(n,e):!c&&a?w._insertInResults(n,e):c&&a&&w._updateInResults(n,e,s)})}_recomputeResults(e,t){this.paused?e.dirty=!0:(this.paused||t||(t=e.results),e.distances&&e.distances.clear(),e.results=e.cursor._getRawObjects({distances:e.distances,ordered:e.ordered}),this.paused||w._diffQueryChanges(e.ordered,t,e.results,e,{projectionFn:e.projectionFn}))}_saveOriginal(e,t){this._savedOriginals&&(this._savedOriginals.has(e)||this._savedOriginals.set(e,o.clone(t)))}}w.Cursor=h,w.ObserveHandle=f,w._CachingChangeObserver=class e{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.callbacks&&w._observeChangesCallbacksAreOrdered(e.callbacks);if(p.call(e,"ordered")){if(this.ordered=e.ordered,e.callbacks&&e.ordered!==t)throw Error("ordered option doesn't match callbacks")}else{if(!e.callbacks)throw Error("must provide ordered or callbacks");this.ordered=t}const r=e.callbacks||{};this.ordered?(this.docs=new c(a.idStringify),this.applyChange={addedBefore:(e,t,n)=>{const i=u({},t);i._id=e,r.addedBefore&&r.addedBefore.call(this,e,o.clone(t),n),r.added&&r.added.call(this,e,o.clone(t)),this.docs.putBefore(e,i,n||null)},movedBefore:(e,t)=>{const n=this.docs.get(e);r.movedBefore&&r.movedBefore.call(this,e,t),this.docs.moveBefore(e,t||null)}}):(this.docs=new w._IdMap,this.applyChange={added:(e,t)=>{const n=u({},t);r.added&&r.added.call(this,e,o.clone(t)),n._id=e,this.docs.set(e,n)}}),this.applyChange.changed=(e,t)=>{const i=this.docs.get(e);if(!i)throw new Error("Unknown id for changed: ".concat(e));r.changed&&r.changed.call(this,e,o.clone(t)),n.applyChanges(i,t)},this.applyChange.removed=e=>{r.removed&&r.removed.call(this,e),this.docs.remove(e)}}},w._IdMap=class e extends s{constructor(){super(a.idStringify,a.idParse)}},w.wrapTransform=e=>{if(!e)return null;if(e.__wrappedTransform__)return e;const t=t=>{if(!p.call(t,"_id"))throw new Error("can only transform documents with _id");const r=t._id,n=d.nonreactive(()=>e(t));if(!w._isPlainObject(n))throw new Error("transform must return object");if(p.call(n,"_id")){if(!o.equals(n._id,r))throw new Error("transformed document can't have different _id")}else n._id=r;return n};return t.__wrappedTransform__=!0,t},w._binarySearch=(e,t,r)=>{let n=0,o=t.length;for(;o>0;){const i=Math.floor(o/2);e(r,t[n+i])>=0?(n+=i+1,o-=i+1):o=i}return n},w._checkSupportedProjection=e=>{if(e!==Object(e)||Array.isArray(e))throw _("fields option must be an object");Object.keys(e).forEach(t=>{if(t.split(".").includes("$"))throw _("Minimongo doesn't support $ operator in projections yet.");const r=e[t];if("object"==typeof r&&["$elemMatch","$meta","$slice"].some(e=>p.call(r,e)))throw _("Minimongo doesn't support operators in projections yet.");if(![1,0,!0,!1].includes(r))throw _("Projection values should be one of 1, 0, true, or false")})},w._compileProjection=e=>{w._checkSupportedProjection(e);const t=void 0===e._id||e._id,r=v(e),n=(e,t)=>{if(Array.isArray(e))return e.map(e=>n(e,t));const i=r.including?{}:o.clone(e);return Object.keys(t).forEach(s=>{if(!p.call(e,s))return;const a=t[s];a===Object(a)?e[s]===Object(e[s])&&(i[s]=n(e[s],a)):r.including?i[s]=o.clone(e[s]):delete i[s]}),i};return e=>{const o=n(e,r.tree);return t&&p.call(e,"_id")&&(o._id=e._id),!t&&p.call(o,"_id")&&delete o._id,o}},w._createUpsertDocument=(e,t)=>{const r=b(e),n=w._isModificationMod(t),o={};if(r._id&&(o._id=r._id,delete r._id),w._modify(o,{$set:r}),w._modify(o,t,{isInsert:!0}),n)return o;const i=Object.assign({},t);return o._id&&(i._id=o._id),i},w._diffObjects=(e,t,r)=>n.diffObjects(e,t,r),w._diffQueryChanges=(e,t,r,o,i)=>n.diffQueryChanges(e,t,r,o,i),w._diffQueryOrderedChanges=(e,t,r,o)=>n.diffQueryOrderedChanges(e,t,r,o),w._diffQueryUnorderedChanges=(e,t,r,o)=>n.diffQueryUnorderedChanges(e,t,r,o),w._findInOrderedResults=(e,t)=>{if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(let r=0;r<e.results.length;r++)if(e.results[r]===t)return r;throw Error("object missing from query")},w._idsMatchedBySelector=e=>{if(w._selectorIsId(e))return[e];if(!e)return null;if(p.call(e,"_id"))return w._selectorIsId(e._id)?[e._id]:e._id&&Array.isArray(e._id.$in)&&e._id.$in.length&&e._id.$in.every(w._selectorIsId)?e._id.$in:null;if(Array.isArray(e.$and))for(let t=0;t<e.$and.length;++t){const r=w._idsMatchedBySelector(e.$and[t]);if(r)return r}return null},w._insertInResults=(e,t)=>{const r=o.clone(t);if(delete r._id,e.ordered){if(e.sorter){const n=w._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,t);let o=e.results[n+1];o=o?o._id:null,e.addedBefore(t._id,e.projectionFn(r),o)}else e.addedBefore(t._id,e.projectionFn(r),null),e.results.push(t);e.added(t._id,e.projectionFn(r))}else e.added(t._id,e.projectionFn(r)),e.results.set(t._id,t)},w._insertInSortedList=(e,t,r)=>{if(0===t.length)return t.push(r),0;const n=w._binarySearch(e,t,r);return t.splice(n,0,r),n},w._isModificationMod=e=>{let t=!1,r=!1;if(Object.keys(e).forEach(e=>{"$"===e.substr(0,1)?t=!0:r=!0}),t&&r)throw new Error("Update parameter cannot have both modifier and non-modifier fields.");return t},w._isPlainObject=e=>e&&3===w._f._type(e),w._modify=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!w._isPlainObject(t))throw _("Modifier must be an object");t=o.clone(t);const n=g(t),i=n?o.clone(e):t;if(n){if(Object.keys(t).forEach(e=>{const n=r.isInsert&&"$setOnInsert"===e,o=E[n?"$set":e],s=t[e];if(!o)throw _("Invalid modifier specified ".concat(e));Object.keys(s).forEach(t=>{const n=s[t];if(""===t)throw _("An empty update path is not valid.");const a=t.split(".");if(!a.every(Boolean))throw _("The update path '".concat(t,"' contains an empty field name, ")+"which is not allowed.");const c=I(i,a,{arrayIndices:r.arrayIndices,forbidArray:"$rename"===e,noCreate:$[e]});o(c,a.pop(),n,t,i)})}),e._id&&!o.equals(e._id,i._id))throw _('After applying the update to the document {_id: "'.concat(e._id,'", ...},')+" the (immutable) field '_id' was found to have been altered to "+'_id: "'.concat(i._id,'"'))}else{if(e._id&&t._id&&!o.equals(e._id,t._id))throw _('The _id field cannot be changed from {_id: "'.concat(e._id,'"} to ')+'{_id: "'.concat(t._id,'"}'));O(t)}Object.keys(e).forEach(t=>{"_id"!==t&&delete e[t]}),Object.keys(i).forEach(t=>{e[t]=i[t]})},w._observeFromObserveChanges=(e,t)=>{const r=e.getTransform()||(e=>e);let i=!!t._suppress_initial,s;if(w._observeCallbacksAreOrdered(t)){const e=!t._no_indices;s={addedBefore(n,o,s){if(i||!t.addedAt&&!t.added)return;const a=r(Object.assign(o,{_id:n}));t.addedAt?t.addedAt(a,e?s?this.docs.indexOf(s):this.docs.size():-1,s):t.added(a)},changed(i,s){if(!t.changedAt&&!t.changed)return;let a=o.clone(this.docs.get(i));if(!a)throw new Error("Unknown id for changed: ".concat(i));const c=r(o.clone(a));n.applyChanges(a,s),t.changedAt?t.changedAt(r(a),c,e?this.docs.indexOf(i):-1):t.changed(r(a),c)},movedBefore(n,i){if(!t.movedTo)return;const s=e?this.docs.indexOf(n):-1;let a=e?i?this.docs.indexOf(i):this.docs.size():-1;a>s&&--a,t.movedTo(r(o.clone(this.docs.get(n))),s,a,i||null)},removed(n){if(!t.removedAt&&!t.removed)return;const o=r(this.docs.get(n));t.removedAt?t.removedAt(o,e?this.docs.indexOf(n):-1):t.removed(o)}}}else s={added(e,n){!i&&t.added&&t.added(r(Object.assign(n,{_id:e})))},changed(e,i){if(t.changed){const s=this.docs.get(e),a=o.clone(s);n.applyChanges(a,i),t.changed(r(a),r(o.clone(s)))}},removed(e){t.removed&&t.removed(r(this.docs.get(e)))}};const a=new w._CachingChangeObserver({callbacks:s});a.applyChange._fromObserve=!0;const c=e.observeChanges(a.applyChange,{nonMutatingCallbacks:!0});return i=!1,c},w._observeCallbacksAreOrdered=e=>{if(e.added&&e.addedAt)throw new Error("Please specify only one of added() and addedAt()");if(e.changed&&e.changedAt)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.changedAt||e.movedTo||e.removedAt)},w._observeChangesCallbacksAreOrdered=e=>{if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},w._removeFromResults=(e,t)=>{if(e.ordered){const r=w._findInOrderedResults(e,t);e.removed(t._id),e.results.splice(r,1)}else{const r=t._id;e.removed(t._id),e.results.remove(r)}},w._selectorIsId=e=>"number"==typeof e||"string"==typeof e||e instanceof a.ObjectID,w._selectorIsIdPerhapsAsObject=e=>w._selectorIsId(e)||w._selectorIsId(e&&e._id)&&1===Object.keys(e).length,w._updateInResults=(e,t,r)=>{if(!o.equals(t._id,r._id))throw new Error("Can't change a doc's _id while updating");const i=e.projectionFn,s=n.makeChangedFields(i(t),i(r));if(!e.ordered)return void(Object.keys(s).length&&(e.changed(t._id,s),e.results.set(t._id,t)));const a=w._findInOrderedResults(e,t);if(Object.keys(s).length&&e.changed(t._id,s),!e.sorter)return;e.results.splice(a,1);const c=w._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,t);if(a!==c){let r=e.results[c+1];r=r?r._id:null,e.movedBefore&&e.movedBefore(t._id,r)}};const E={$currentDate(e,t,r){if("object"==typeof r&&p.call(r,"$type")){if("date"!==r.$type)throw _("Minimongo does currently only support the date type in $currentDate modifiers",{field:t})}else if(!0!==r)throw _("Invalid $currentDate modifier",{field:t});e[t]=new Date},$min(e,t,r){if("number"!=typeof r)throw _("Modifier $min allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw _("Cannot apply $min modifier to non-number",{field:t});e[t]>r&&(e[t]=r)}else e[t]=r},$max(e,t,r){if("number"!=typeof r)throw _("Modifier $max allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw _("Cannot apply $max modifier to non-number",{field:t});e[t]<r&&(e[t]=r)}else e[t]=r},$inc(e,t,r){if("number"!=typeof r)throw _("Modifier $inc allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw _("Cannot apply $inc modifier to non-number",{field:t});e[t]+=r}else e[t]=r},$set(e,t,r){if(e!==Object(e)){const e=_("Cannot set property on non-object field",{field:t});throw e.setPropertyError=!0,e}if(null===e){const e=_("Cannot set property on null",{field:t});throw e.setPropertyError=!0,e}O(r),e[t]=r},$setOnInsert(e,t,r){},$unset(e,t,r){void 0!==e&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push(e,t,r){if(void 0===e[t]&&(e[t]=[]),!(e[t]instanceof Array))throw _("Cannot apply $push modifier to non-array",{field:t});if(!r||!r.$each)return O(r),void e[t].push(r);const n=r.$each;if(!(n instanceof Array))throw _("$each must be an array",{field:t});O(n);let o=void 0;if("$position"in r){if("number"!=typeof r.$position)throw _("$position must be a numeric value",{field:t});if(r.$position<0)throw _("$position in $push must be zero or positive",{field:t});o=r.$position}let i=void 0;if("$slice"in r){if("number"!=typeof r.$slice)throw _("$slice must be a numeric value",{field:t});i=r.$slice}let s=void 0;if(r.$sort){if(void 0===i)throw _("$sort requires $slice to be present",{field:t});s=new A.Sorter(r.$sort).getComparator(),n.forEach(e=>{if(3!==w._f._type(e))throw _("$push like modifiers using $sort require all elements to be objects",{field:t})})}if(void 0===o)n.forEach(r=>{e[t].push(r)});else{const r=[o,0];n.forEach(e=>{r.push(e)}),e[t].splice(...r)}s&&e[t].sort(s),void 0!==i&&(e[t]=0===i?[]:i<0?e[t].slice(i):e[t].slice(0,i))},$pushAll(e,t,r){if(!("object"==typeof r&&r instanceof Array))throw _("Modifier $pushAll/pullAll allowed for arrays only");O(r);const n=e[t];if(void 0===n)e[t]=r;else{if(!(n instanceof Array))throw _("Cannot apply $pushAll modifier to non-array",{field:t});n.push(...r)}},$addToSet(e,t,r){let n=!1;if("object"==typeof r){const e=Object.keys(r);"$each"===e[0]&&(n=!0)}const o=n?r.$each:[r];O(o);const i=e[t];if(void 0===i)e[t]=o;else{if(!(i instanceof Array))throw _("Cannot apply $addToSet modifier to non-array",{field:t});o.forEach(e=>{i.some(t=>w._f._equal(e,t))||i.push(e)})}},$pop(e,t,r){if(void 0===e)return;const n=e[t];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pop modifier to non-array",{field:t});"number"==typeof r&&r<0?n.splice(0,1):n.pop()}},$pull(e,t,r){if(void 0===e)return;const n=e[t];if(void 0===n)return;if(!(n instanceof Array))throw _("Cannot apply $pull/pullAll modifier to non-array",{field:t});let o;if(null==r||"object"!=typeof r||r instanceof Array)o=n.filter(e=>!w._f._equal(e,r));else{const e=new A.Matcher(r);o=n.filter(t=>!e.documentMatches(t).result)}e[t]=o},$pullAll(e,t,r){if(!("object"==typeof r&&r instanceof Array))throw _("Modifier $pushAll/pullAll allowed for arrays only",{field:t});if(void 0===e)return;const n=e[t];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pull/pullAll modifier to non-array",{field:t});e[t]=n.filter(e=>!r.some(t=>w._f._equal(e,t)))}},$rename(e,t,r,n,o){if(n===r)throw _("$rename source must differ from target",{field:t});if(null===e)throw _("$rename source field invalid",{field:t});if("string"!=typeof r)throw _("$rename target must be a string",{field:t});if(r.includes("\0"))throw _("The 'to' field for $rename cannot contain an embedded null byte",{field:t});if(void 0===e)return;const i=e[t];delete e[t];const s=r.split("."),a=I(o,s,{forbidArray:!0});if(null===a)throw _("$rename target field invalid",{field:t});a[s.pop()]=i},$bit(e,t,r){throw _("$bit is not supported",{field:t})},$v(){}},$={$pop:!0,$pull:!0,$pullAll:!0,$rename:!0,$unset:!0},j={$:"start with '$'",".":"contain '.'","\0":"contain null bytes"};function O(e){e&&"object"==typeof e&&JSON.stringify(e,(e,t)=>(k(e),t))}function k(e){let t;if("string"==typeof e&&(t=e.match(/^\$|\.|\0/)))throw _("Key ".concat(e," must not ").concat(j[t[0]]))}function I(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1;for(let o=0;o<t.length;o++){const i=o===t.length-1;let s=t[o];if(!m(e)){if(r.noCreate)return;const t=_("cannot use the part '".concat(s,"' to traverse ").concat(e));throw t.setPropertyError=!0,t}if(e instanceof Array){if(r.forbidArray)return null;if("$"===s){if(n)throw _("Too many positional (i.e. '$') elements");if(!r.arrayIndices||!r.arrayIndices.length)throw _("The positional operator did not find the match needed from the query");s=r.arrayIndices[0],n=!0}else{if(!y(s)){if(r.noCreate)return;throw _("can't append to array using string field name [".concat(s,"]"))}s=parseInt(s)}if(i&&(t[o]=s),r.noCreate&&s>=e.length)return;for(;e.length<s;)e.push(null);if(!i)if(e.length===s)e.push({});else if("object"!=typeof e[s])throw _("can't modify field '".concat(t[o+1],"' of list value ")+JSON.stringify(e[s]))}else if(k(s),!(s in e)){if(r.noCreate)return;i||(e[s]={})}if(i)return e;e=e[s]}}},"matcher.js":function e(t,r,e){var n;let i,s,c,l;e.export({default:()=>u}),e.link("./local_collection.js",{default(e){i=e}},0),e.link("./common.js",{compileDocumentSelector(e){s=e},hasOwn(e){c=e},nothingMatcher(e){l=e}},1);const d=(null===(n=Package["mongo-decimal"])||void 0===n?void 0:n.Decimal)||class e{};class u{constructor(e,t){this._paths={},this._hasGeoQuery=!1,this._hasWhere=!1,this._isSimple=!0,this._matchingDocument=void 0,this._selector=null,this._docMatcher=this._compileSelector(e),this._isUpdate=t}documentMatches(e){if(e!==Object(e))throw Error("documentMatches needs a document");return this._docMatcher(e)}hasGeoQuery(){return this._hasGeoQuery}hasWhere(){return this._hasWhere}isSimple(){return this._isSimple}_compileSelector(e){if(e instanceof Function)return this._isSimple=!1,this._selector=e,this._recordPathUsed(""),t=>({result:!!e.call(t)});if(i._selectorIsId(e))return this._selector={_id:e},this._recordPathUsed("_id"),t=>({result:o.equals(t._id,e)});if(!e||c.call(e,"_id")&&!e._id)return this._isSimple=!1,l;if(Array.isArray(e)||o.isBinary(e)||"boolean"==typeof e)throw new Error("Invalid selector: ".concat(e));return this._selector=o.clone(e),s(e,this,{isRoot:!0})}_getPaths(){return Object.keys(this._paths)}_recordPathUsed(e){this._paths[e]=!0}}i._f={_type:e=>"number"==typeof e?1:"string"==typeof e?2:"boolean"==typeof e?8:Array.isArray(e)?4:null===e?10:e instanceof RegExp?11:"function"==typeof e?13:e instanceof Date?9:o.isBinary(e)?5:e instanceof a.ObjectID?7:e instanceof d?1:3,_equal:(e,t)=>o.equals(e,t,{keyOrderSensitive:!0}),_typeorder:e=>[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e],_cmp(e,t){if(void 0===e)return void 0===t?0:-1;if(void 0===t)return 1;let r=i._f._type(e),n=i._f._type(t);const o=i._f._typeorder(r),s=i._f._typeorder(n);if(o!==s)return o<s?-1:1;if(r!==n)throw Error("Missing type coercion logic in _cmp");if(7===r&&(r=n=2,e=e.toHexString(),t=t.toHexString()),9===r&&(r=n=1,e=e.getTime(),t=t.getTime()),1===r)return e instanceof d?e.minus(t).toNumber():e-t;if(2===n)return e<t?-1:e===t?0:1;if(3===r){const r=e=>{const t=[];return Object.keys(e).forEach(r=>{t.push(r,e[r])}),t};return i._f._cmp(r(e),r(t))}if(4===r)for(let a=0;;a++){if(a===e.length)return a===t.length?0:-1;if(a===t.length)return 1;const r=i._f._cmp(e[a],t[a]);if(0!==r)return r}if(5===r){if(e.length!==t.length)return e.length-t.length;for(let r=0;r<e.length;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0}if(8===r)return e?t?0:1:t?-1:0;if(10===r)return 0;if(11===r)throw Error("Sorting not supported on regular expression");if(13===r)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}}},"minimongo_common.js":function e(t,r,e){let n,o,i;e.link("./local_collection.js",{default(e){n=e}},0),e.link("./matcher.js",{default(e){o=e}},1),e.link("./sorter.js",{default(e){i=e}},2),O=n,A={LocalCollection:n,Matcher:o,Sorter:i}},"observe_handle.js":function e(t,r,e){e.export({default:()=>n});class n{}},"sorter.js":function e(t,r,e){let n,o,i,s,a,c,l;e.export({default:()=>d}),e.link("./common.js",{ELEMENT_OPERATORS(e){n=e},equalityElementMatcher(e){o=e},expandArraysInBranches(e){i=e},hasOwn(e){s=e},isOperatorObject(e){a=e},makeLookupFunction(e){c=e},regexpElementMatcher(e){l=e}},0);class d{constructor(e){this._sortSpecParts=[],this._sortFunction=null;const t=(e,t)=>{if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: ".concat(e));this._sortSpecParts.push({ascending:t,lookup:c(e,{forSort:!0}),path:e})};if(e instanceof Array)e.forEach(e=>{"string"==typeof e?t(e,!0):t(e[0],"desc"!==e[1])});else if("object"==typeof e)Object.keys(e).forEach(r=>{t(r,e[r]>=0)});else{if("function"!=typeof e)throw Error("Bad sort specification: ".concat(JSON.stringify(e)));this._sortFunction=e}if(!this._sortFunction){if(this.affectedByModifier){const e={};this._sortSpecParts.forEach(t=>{e[t.path]=1}),this._selectorForAffectedByModifier=new A.Matcher(e)}this._keyComparator=u(this._sortSpecParts.map((e,t)=>this._keyFieldComparator(t)))}}getComparator(e){if(this._sortSpecParts.length||!e||!e.distances)return this._getBaseComparator();const t=e.distances;return(e,r)=>{if(!t.has(e._id))throw Error("Missing distance for ".concat(e._id));if(!t.has(r._id))throw Error("Missing distance for ".concat(r._id));return t.get(e._id)-t.get(r._id)}}_compareKeys(e,t){if(e.length!==this._sortSpecParts.length||t.length!==this._sortSpecParts.length)throw Error("Key has wrong length");return this._keyComparator(e,t)}_generateKeysFromDoc(e,t){if(0===this._sortSpecParts.length)throw new Error("can't generate keys without a spec");const r=e=>"".concat(e.join(","),",");let n=null;const o=this._sortSpecParts.map(t=>{let o=i(t.lookup(e),!0);o.length||(o=[{value:void 0}]);const a=Object.create(null);let c=!1;if(o.forEach(e=>{if(!e.arrayIndices){if(o.length>1)throw Error("multiple branches but no array used?");return void(a[""]=e.value)}c=!0;const t=r(e.arrayIndices);if(s.call(a,t))throw Error("duplicate path: ".concat(t));if(a[t]=e.value,n&&!s.call(n,t))throw Error("cannot index parallel arrays")}),n){if(!s.call(a,"")&&Object.keys(n).length!==Object.keys(a).length)throw Error("cannot index parallel arrays!")}else c&&(n={},Object.keys(a).forEach(e=>{n[e]=!0}));return a});if(n)Object.keys(n).forEach(e=>{const r=o.map(t=>{if(s.call(t,""))return t[""];if(!s.call(t,e))throw Error("missing path?");return t[e]});t(r)});else{const e=o.map(e=>{if(!s.call(e,""))throw Error("no value in sole key case?");return e[""]});t(e)}}_getBaseComparator(){return this._sortFunction?this._sortFunction:this._sortSpecParts.length?(e,t)=>{const r=this._getMinKeyFromDoc(e),n=this._getMinKeyFromDoc(t);return this._compareKeys(r,n)}:(e,t)=>0}_getMinKeyFromDoc(e){let t=null;return this._generateKeysFromDoc(e,e=>{null!==t?this._compareKeys(e,t)<0&&(t=e):t=e}),t}_getPaths(){return this._sortSpecParts.map(e=>e.path)}_keyFieldComparator(e){const t=!this._sortSpecParts[e].ascending;return(r,n)=>{const o=O._f._cmp(r[e],n[e]);return t?-o:o}}}function u(e){return(t,r)=>{for(let n=0;n<e.length;++n){const o=e[n](t,r);if(0!==o)return o}return 0}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/minimongo/minimongo_client.js");Package._define("minimongo",I,{LocalCollection:O,Minimongo:A,MinimongoTest:y,MinimongoError:_})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.ejson.EJSON,c=Package.modules.meteorInstall,a=Package.promise.Promise,o,s,i,l=c({node_modules:{meteor:{check:{"match.js":function e(n,c,e){let a;e.export({check:()=>i,Match:()=>l}),e.link("./isPlainObject",{isPlainObject(t){a=t}},0);const o=new t.EnvironmentVariable,s=Object.prototype.hasOwnProperty;function i(t,e){const n=o.getOrNullIfOutsideFiber();n&&n.checking(t);const r=b(t,e);if(r){const t=new l.Error(r.message);throw r.path&&(t.message+=" in field ".concat(r.path),t.path=r.path),t}}const l={Optional:function(t){return new u(t)},Maybe:function(t){return new h(t)},OneOf:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new f(e)},Any:["__any__"],Where:function(t){return new p(t)},ObjectIncluding:function(t){return new g(t)},ObjectWithValues:function(t){return new m(t)},Integer:["__integer__"],Error:t.makeErrorType("Match.Error",(function(e){this.message="Match error: ".concat(e),this.path="",this.sanitizedError=new t.Error(400,"Match failed")})),test:(t,e)=>!b(t,e),_failIfArgumentsAreNotAllChecked(t,e,n,r){const c=new O(n,r),a=o.withValue(c,()=>t.apply(e,n));return c.throwUnlessAllArgumentsHaveBeenChecked(),a}};class u{constructor(t){this.pattern=t}}class h{constructor(t){this.pattern=t}}class f{constructor(t){if(!t||0===t.length)throw new Error("Must provide at least one choice to Match.OneOf");this.choices=t}}class p{constructor(t){this.condition=t}}class g{constructor(t){this.pattern=t}}class m{constructor(t){this.pattern=t}}const y=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===t)return"null";if(e.onlyShowType)return typeof t;if("object"!=typeof t)return r.stringify(t);try{JSON.stringify(t)}catch(n){if("TypeError"===n.name)return typeof t}return r.stringify(t)},d=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[Function,"function"],[void 0,"undefined"]],b=(t,e)=>{if(e===l.Any)return!1;for(let a=0;a<d.length;++a)if(e===d[a][0])return typeof t!==d[a][1]&&{message:"Expected ".concat(d[a][1],", got ").concat(y(t,{onlyShowType:!0})),path:""};if(null===e)return null!==t&&{message:"Expected null, got ".concat(y(t)),path:""};if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return t!==e&&{message:"Expected ".concat(e,", got ").concat(y(t)),path:""};if(e===l.Integer)return("number"!=typeof t||(0|t)!==t)&&{message:"Expected Integer, got ".concat(y(t)),path:""};if(e===Object&&(e=l.ObjectIncluding({})),e instanceof Array){if(1!==e.length)return{message:"Bad pattern: arrays must have one type element ".concat(y(e)),path:""};if(!Array.isArray(t)&&!v(t))return{message:"Expected array, got ".concat(y(t)),path:""};for(let n=0,r=t.length;n<r;n++){const r=b(t[n],e[0]);if(r)return r.path=k(n,r.path),r}return!1}if(e instanceof p){let n;try{n=e.condition(t)}catch(O){if(!(O instanceof l.Error))throw O;return{message:O.message,path:O.path}}return!n&&{message:"Failed Match.Where validation",path:""}}if(e instanceof h?e=l.OneOf(void 0,null,e.pattern):e instanceof u&&(e=l.OneOf(void 0,e.pattern)),e instanceof f){for(let n=0;n<e.choices.length;++n){const r=b(t,e.choices[n]);if(!r)return!1}return{message:"Failed Match.OneOf, Match.Maybe or Match.Optional validation",path:""}}if(e instanceof Function)return!(t instanceof e)&&{message:"Expected ".concat(e.name||"particular constructor"),path:""};let n=!1,r;if(e instanceof g&&(n=!0,e=e.pattern),e instanceof m&&(n=!0,r=[e.pattern],e={}),"object"!=typeof e)return{message:"Bad pattern: unknown pattern type",path:""};if("object"!=typeof t)return{message:"Expected object, got ".concat(typeof t),path:""};if(null===t)return{message:"Expected object, got null",path:""};if(!a(t))return{message:"Expected plain object",path:""};const c=Object.create(null),o=Object.create(null);Object.keys(e).forEach(t=>{const n=e[t];n instanceof u||n instanceof h?o[t]=n.pattern:c[t]=n});for(let a in Object(t)){const e=t[a];if(s.call(c,a)){const t=b(e,c[a]);if(t)return t.path=k(a,t.path),t;delete c[a]}else if(s.call(o,a)){const t=b(e,o[a]);if(t)return t.path=k(a,t.path),t}else{if(!n)return{message:"Unknown key",path:a};if(r){const t=b(e,r[0]);if(t)return t.path=k(a,t.path),t}}}const i=Object.keys(c);return i.length?{message:"Missing key '".concat(i[0],"'"),path:""}:void 0};class O{constructor(t,e){this.args=[...t],this.args.reverse(),this.description=e}checking(t){this._checkingOneValue(t)||(Array.isArray(t)||v(t))&&Array.prototype.forEach.call(t,this._checkingOneValue.bind(this))}_checkingOneValue(t){for(let e=0;e<this.args.length;++e)if(t===this.args[e]||Number.isNaN(t)&&Number.isNaN(this.args[e]))return this.args.splice(e,1),!0;return!1}throwUnlessAllArgumentsHaveBeenChecked(){if(this.args.length>0)throw new Error("Did not check() all arguments during ".concat(this.description))}}const j=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],k=(t,e)=>("number"==typeof t||t.match(/^[0-9]+$/)?t="[".concat(t,"]"):(!t.match(/^[a-z_$][0-9a-z_$]*$/i)||j.indexOf(t)>=0)&&(t=JSON.stringify([t])),e&&"["!==e[0]?"".concat(t,".").concat(e):t+e),w=t=>"object"==typeof t&&null!==t,E=t=>w(t)&&"[object Arguments]"===Object.prototype.toString.call(t),v=E(function(){return arguments}())?E:t=>w(t)&&"function"==typeof t.callee},"isPlainObject.js":function t(e,n,t){t.export({isPlainObject:()=>l});const r={},c=r.toString,a=Object.prototype.hasOwnProperty,o=a.toString,s=o.call(Object),i=Object.getPrototypeOf,l=t=>{let e,n;return!(!t||"[object Object]"!==c.call(t))&&(!(e=i(t))||"function"==typeof(n=a.call(e,"constructor")&&e.constructor)&&o.call(n)===s)}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/check/match.js");Package._define("check",l,{check:o,Match:s})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,i=Package.random.Random,o=Package.modules.meteorInstall,m=Package.promise.Promise,s,n,a=o({node_modules:{meteor:{retry:{"retry.js":function t(r,o,t){t.export({Retry:()=>m});class m{constructor(){let{baseTimeout:e=1e3,exponent:t=2.2,maxTimeout:r=3e5,minTimeout:i=10,minCount:o=2,fuzz:m=.5}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.baseTimeout=e,this.exponent=t,this.maxTimeout=r,this.minTimeout=i,this.minCount=o,this.fuzz=m,this.retryTimer=null}clear(){this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null}_timeout(e){return e<this.minCount?this.minTimeout:Math.min(this.maxTimeout,this.baseTimeout*Math.pow(this.exponent,e))*(i.fraction()*this.fuzz+(1-this.fuzz/2));var t}retryLater(t,r){var i=this._timeout(t);return this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=e.setTimeout(r,i),i}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/retry/retry.js");Package._define("retry",a,{Retry:s})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package.modules.meteorInstall,a=Package.promise.Promise,i,r,c,s=o({node_modules:{meteor:{"callback-hook":{"hook.js":function n(t,o,n){n.export({Hook:()=>i});const a=Object.prototype.hasOwnProperty;class i{constructor(e){if(e=e||{},this.nextCallbackId=0,this.callbacks=Object.create(null),this.bindEnvironment=!0,!1===e.bindEnvironment&&(this.bindEnvironment=!1),e.exceptionHandler)this.exceptionHandler=e.exceptionHandler;else if(e.debugPrintExceptions){if("string"!=typeof e.debugPrintExceptions)throw new Error("Hook option debugPrintExceptions should be a string");this.exceptionHandler=e.debugPrintExceptions}}register(n){var t=this.exceptionHandler||function(e){throw e};n=this.bindEnvironment?e.bindEnvironment(n,t):r(n,t);var o=this.nextCallbackId++;return this.callbacks[o]=n,{callback:n,stop:()=>{delete this.callbacks[o]}}}each(n){e._nodeCodeMustBeInFiber();for(var t=Object.keys(this.callbacks),o=0;o<t.length;++o){var i=t[o],r;if(a.call(this.callbacks,i))if(!n(this.callbacks[i]))break}}}function r(n,t,o){if(!t||"string"==typeof t){var a=t||"callback of async function";t=function(n){e._debug("Exception in "+a,n)}}return function(){try{for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];var r=n.apply(o,a)}catch(c){t(c)}return r}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/callback-hook/hook.js");Package._define("callback-hook",s,{Hook:r})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,r=Package.check.check,n=Package.check.Match,s=Package.random.Random,i=Package.ejson.EJSON,o=Package.tracker.Tracker,l=Package.tracker.Deps,c=Package.retry.Retry,d=Package.modules.meteorInstall,u=Package.promise.Promise,m,h=d({node_modules:{meteor:{"ddp-common":{"namespace.js":function e(){m={}},"heartbeat.js":function t(){m.Heartbeat=class t{constructor(e){this.heartbeatInterval=e.heartbeatInterval,this.heartbeatTimeout=e.heartbeatTimeout,this._sendPing=e.sendPing,this._onTimeout=e.onTimeout,this._seenPacket=!1,this._heartbeatIntervalHandle=null,this._heartbeatTimeoutHandle=null}stop(){this._clearHeartbeatIntervalTimer(),this._clearHeartbeatTimeoutTimer()}start(){this.stop(),this._startHeartbeatIntervalTimer()}_startHeartbeatIntervalTimer(){this._heartbeatIntervalHandle=e.setInterval(()=>this._heartbeatIntervalFired(),this.heartbeatInterval)}_startHeartbeatTimeoutTimer(){this._heartbeatTimeoutHandle=e.setTimeout(()=>this._heartbeatTimeoutFired(),this.heartbeatTimeout)}_clearHeartbeatIntervalTimer(){this._heartbeatIntervalHandle&&(e.clearInterval(this._heartbeatIntervalHandle),this._heartbeatIntervalHandle=null)}_clearHeartbeatTimeoutTimer(){this._heartbeatTimeoutHandle&&(e.clearTimeout(this._heartbeatTimeoutHandle),this._heartbeatTimeoutHandle=null)}_heartbeatIntervalFired(){this._seenPacket||this._heartbeatTimeoutHandle||(this._sendPing(),this._startHeartbeatTimeoutTimer()),this._seenPacket=!1}_heartbeatTimeoutFired(){this._heartbeatTimeoutHandle=null,this._onTimeout()}messageReceived(){this._seenPacket=!0,this._heartbeatTimeoutHandle&&this._clearHeartbeatTimeoutTimer()}}},"utils.js":function t(a,r,t){"use strict";t.export({hasOwn:()=>n,slice:()=>s,keys:()=>o,isEmpty:()=>l,last:()=>c});const n=Object.prototype.hasOwnProperty,s=Array.prototype.slice;function o(e){return Object.keys(Object(e))}function l(e){if(null==e)return!0;if(Array.isArray(e)||"string"==typeof e)return 0===e.length;for(const t in e)if(n.call(e,t))return!1;return!0}function c(e,t,a){if(null!=e)return null==t||a?e[e.length-1]:s.call(e,Math.max(e.length-t,0))}m.SUPPORTED_DDP_VERSIONS=["1","pre2","pre1"],m.parseDDP=function(t){try{var a=JSON.parse(t)}catch(r){return e._debug("Discarding message with invalid JSON",t),null}return null===a||"object"!=typeof a?(e._debug("Discarding non-object DDP message",t),null):(n.call(a,"cleared")&&(n.call(a,"fields")||(a.fields={}),a.cleared.forEach(e=>{a.fields[e]=void 0}),delete a.cleared),["fields","params","result"].forEach(e=>{n.call(a,e)&&(a[e]=i._adjustTypesFromJSONValue(a[e]))}),a)},m.stringifyDDP=function(e){const t=i.clone(e);if(n.call(e,"fields")){const a=[];Object.keys(e.fields).forEach(r=>{const n=e.fields[r];void 0===n&&(a.push(r),delete t.fields[r])}),l(a)||(t.cleared=a),l(t.fields)&&delete t.fields}if(["fields","params","result"].forEach(e=>{n.call(t,e)&&(t[e]=i._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return JSON.stringify(t)}},"method_invocation.js":function e(){m.MethodInvocation=class e{constructor(e){this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null}unblock(){this._calledUnblock=!0,this._unblock()}setUserId(e){if(this._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");this.userId=e,this._setUserId(e)}}},"random_stream.js":function e(){function t(){return s.hexString(20)}m.RandomStream=class e{constructor(e){this.seed=[].concat(e.seed||t()),this.sequences=Object.create(null)}_sequence(e){var t=this,a=this.sequences[e]||null;if(null===a){for(var r=this.seed.concat(e),n=0;n<r.length;n++)"function"==typeof r[n]&&(r[n]=r[n]());this.sequences[e]=a=s.createWithSeeds.apply(null,r)}return a}},m.RandomStream.get=function(e,t){if(t||(t="default"),!e)return s.insecure;var a=e.randomStream;return a||(e.randomStream=a=new m.RandomStream({seed:e.randomSeed})),a._sequence(t)},m.makeRpcSeed=function(e,t){var a;return m.RandomStream.get(e,"/rpc/"+t).hexString(20)}}}}}},{extensions:[".js",".json"]});h("/node_modules/meteor/ddp-common/namespace.js"),h("/node_modules/meteor/ddp-common/heartbeat.js"),h("/node_modules/meteor/ddp-common/utils.js"),h("/node_modules/meteor/ddp-common/method_invocation.js"),h("/node_modules/meteor/ddp-common/random_stream.js"),Package._define("ddp-common",{DDPCommon:m})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,t=Package.meteor.meteorEnv,a=Package.modules.meteorInstall,n=Package.promise.Promise,r,i,l=a({node_modules:{meteor:{reload:{"reload.js":function o(t,a,o){o.export({Reload:()=>n});const n={};var r="Meteor_Reload",i={},l,d=null;try{(d=window.sessionStorage)?(d.setItem("__dummy__","1"),d.removeItem("__dummy__")):d=null}catch(m){d=null}n._getData=function(){return d&&d.getItem(r)},d&&(l=n._getData(),d.removeItem(r)),l||(l="{}");var s={};try{"object"!=typeof(s=JSON.parse(l))&&(e._debug("Got bad data on reload. Ignoring."),s={})}catch(f){e._debug("Got invalid JSON on reload. Ignoring.")}s.reload&&"object"==typeof s.data&&(i=s.data);var c=[];n._onMigrate=function(e,o){o||(o=e,e=void 0),c.push({name:e,callback:o})},n._migrationData=function(e){return i[e]};var u=function(e,o){e=e||function(){},o=o||{};for(var t={},a=c.slice(0),n=!0;a.length;){var r=a.shift(),i=r.callback(e,o);i[0]||(n=!1),i.length>1&&r.name&&(t[r.name]=i[1])}return n||o.immediateMigration?t:null};n._migrate=function(o,t){var a=u(o,t);if(null===a)return!1;try{var n=JSON.stringify({data:a,reload:!0})}catch(f){throw e._debug("Couldn't serialize data for migration",a),f}if(d)try{d.setItem(r,n)}catch(f){e._debug("Couldn't save data for migration to sessionStorage",f)}else e._debug("Browser does not support sessionStorage. Not saving migration state.");return!0},n._withFreshProvidersForTest=function(e){var o=c.slice(0);c=[];try{e()}finally{c=o}};var g=!1;n._reload=function(o){function t(){setTimeout(r,1)}function a(){window.location.hash||window.location.href.endsWith("#")?window.location.reload():window.location.replace(window.location.href)}function r(){n._migrate(t,o)&&(e.isCordova?WebAppLocalServer.switchToPendingVersion(()=>{a()}):a())}o=o||{},g||(g=!0,t())}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/reload/reload.js");Package._define("reload",l,{Reload:void 0})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.retry.Retry,o=Package.modules.meteorInstall,i=Package.promise.Promise,s,a,u=o({node_modules:{meteor:{"socket-stream-client":{"browser.js":function t(e,n,t){let r,o,i,s;t.link("@babel/runtime/helpers/objectSpread2",{default(t){r=t}},0),t.export({ClientStream:()=>u}),t.link("./urls.js",{toSockjsUrl(t){o=t},toWebsocketUrl(t){i=t}},0),t.link("./common.js",{StreamClientCommon(t){s=t}},1),t.link("./sockjs-0.3.4.js");class u extends s{constructor(t,e){super(e),this._initCommon(this.options),this.HEARTBEAT_TIMEOUT=1e5,this.rawUrl=t,this.socket=null,this.lastError=null,this.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",this._online.bind(this),!1),this._launchConnection()}send(t){this.currentStatus.connected&&this.socket.send(t)}_changeUrl(t){this.rawUrl=t}_connected(){this.connectionTimer&&(clearTimeout(this.connectionTimer),this.connectionTimer=null),this.currentStatus.connected||(this.currentStatus.status="connected",this.currentStatus.connected=!0,this.currentStatus.retryCount=0,this.statusChanged(),this.forEachCallback("reset",t=>{t()}))}_cleanup(t){this._clearConnectionAndHeartbeatTimers(),this.socket&&(this.socket.onmessage=this.socket.onclose=this.socket.onerror=this.socket.onheartbeat=()=>{},this.socket.close(),this.socket=null),this.forEachCallback("disconnect",e=>{e(t)})}_clearConnectionAndHeartbeatTimers(){this.connectionTimer&&(clearTimeout(this.connectionTimer),this.connectionTimer=null),this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null)}_heartbeat_timeout(){console.log("Connection timeout. No sockjs heartbeat received."),this._lostConnection(new this.ConnectionError("Heartbeat timed out"))}_heartbeat_received(){this._forcedToDisconnect||(this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.heartbeatTimer=setTimeout(this._heartbeat_timeout.bind(this),this.HEARTBEAT_TIMEOUT))}_sockjsProtocolsWhitelist(){var t=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],e;return navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent)||(t=["websocket"].concat(t)),t}_launchConnection(){this._cleanup();var t=r({protocols_whitelist:this._sockjsProtocolsWhitelist()},this.options._sockjsOptions);const e="function"==typeof a;this.socket=e?new a(o(this.rawUrl),void 0,t):new WebSocket(i(this.rawUrl)),this.socket.onopen=t=>{this.lastError=null,this._connected()},this.socket.onmessage=t=>{this.lastError=null,this._heartbeat_received(),this.currentStatus.connected&&this.forEachCallback("message",e=>{e(t.data)})},this.socket.onclose=()=>{this._lostConnection()},this.socket.onerror=t=>{const{lastError:e}=this;this.lastError=t,e||console.log("stream error",t,(new Date).toDateString())},this.socket.onheartbeat=()=>{this.lastError=null,this._heartbeat_received()},this.connectionTimer&&clearTimeout(this.connectionTimer),this.connectionTimer=setTimeout(()=>{this._lostConnection(new this.ConnectionError("DDP connection timed out"))},this.CONNECT_TIMEOUT)}}},"common.js":function t(e,n,t){let r,o;t.link("@babel/runtime/helpers/objectSpread2",{default(t){r=t}},0),t.export({StreamClientCommon:()=>s}),t.link("meteor/retry",{Retry(t){o=t}},0);const i=new Error("forced reconnect");class s{constructor(t){this.options=r({retry:!0},t||null),this.ConnectionError=t&&t.ConnectionError||Error}on(t,e){if("message"!==t&&"reset"!==t&&"disconnect"!==t)throw new Error("unknown event type: "+t);this.eventCallbacks[t]||(this.eventCallbacks[t]=[]),this.eventCallbacks[t].push(e)}forEachCallback(t,e){this.eventCallbacks[t]&&this.eventCallbacks[t].length&&this.eventCallbacks[t].forEach(e)}_initCommon(t){t=t||Object.create(null),this.CONNECT_TIMEOUT=t.connectTimeoutMs||1e4,this.eventCallbacks=Object.create(null),this._forcedToDisconnect=!1,this.currentStatus={status:"connecting",connected:!1,retryCount:0},Package.tracker&&(this.statusListeners=new Package.tracker.Tracker.Dependency),this.statusChanged=()=>{this.statusListeners&&this.statusListeners.changed()},this._retry=new o,this.connectionTimer=null}reconnect(t){(t=t||Object.create(null)).url&&this._changeUrl(t.url),t._sockjsOptions&&(this.options._sockjsOptions=t._sockjsOptions),this.currentStatus.connected?(t._force||t.url)&&this._lostConnection(i):("connecting"===this.currentStatus.status&&this._lostConnection(),this._retry.clear(),this.currentStatus.retryCount-=1,this._retryNow())}disconnect(t){t=t||Object.create(null),this._forcedToDisconnect||(t._permanent&&(this._forcedToDisconnect=!0),this._cleanup(),this._retry.clear(),this.currentStatus={status:t._permanent?"failed":"offline",connected:!1,retryCount:0},t._permanent&&t._error&&(this.currentStatus.reason=t._error),this.statusChanged())}_lostConnection(t){this._cleanup(t),this._retryLater(t)}_online(){"offline"!=this.currentStatus.status&&this.reconnect()}_retryLater(t){var e=0;this.options.retry||t===i?(e=this._retry.retryLater(this.currentStatus.retryCount,this._retryNow.bind(this)),this.currentStatus.status="waiting",this.currentStatus.retryTime=(new Date).getTime()+e):(this.currentStatus.status="failed",delete this.currentStatus.retryTime),this.currentStatus.connected=!1,this.statusChanged()}_retryNow(){this._forcedToDisconnect||(this.currentStatus.retryCount+=1,this.currentStatus.status="connecting",this.currentStatus.connected=!1,delete this.currentStatus.retryTime,this.statusChanged(),this._launchConnection())}status(){return this.statusListeners&&this.statusListeners.depend(),this.currentStatus}}},"sockjs-0.3.4.js":function t(e){a=function(){var t=document,e=window,n={},r=function(){};r.prototype.addEventListener=function(t,e){this._listeners||(this._listeners={}),t in this._listeners||(this._listeners[t]=[]);var r=this._listeners[t];-1===n.arrIndexOf(r,e)&&r.push(e)},r.prototype.removeEventListener=function(t,e){if(this._listeners&&t in this._listeners){var r=this._listeners[t],o=n.arrIndexOf(r,e);-1===o||(r.length>1?this._listeners[t]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[t])}},r.prototype.dispatchEvent=function(t){var e=t.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+e]&&this["on"+e].apply(this,n),this._listeners&&e in this._listeners)for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].apply(this,n)};var o=function(t,e){if(this.type=t,void 0!==e)for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n])};o.prototype.toString=function(){var t=[];for(var e in this)if(this.hasOwnProperty(e)){var n=this[e];"function"==typeof n&&(n="[function]"),t.push(e+"="+n)}return"SimpleEvent("+t.join(", ")+")"};var i=function(t){var e=this;this._events=t||[],this._listeners={}};i.prototype.emit=function(t){var e=this;if(e._verifyType(t),!e._nuked){var n=Array.prototype.slice.call(arguments,1);if(e["on"+t]&&e["on"+t].apply(e,n),t in e._listeners)for(var r=0;r<e._listeners[t].length;r++)e._listeners[t][r].apply(e,n)}},i.prototype.on=function(t,e){var n=this;this._verifyType(t),this._nuked||(t in this._listeners||(this._listeners[t]=[]),this._listeners[t].push(e))},i.prototype._verifyType=function(t){var e=this;-1===n.arrIndexOf(this._events,t)&&n.log("Event "+JSON.stringify(t)+" not listed "+JSON.stringify(this._events)+" in "+this)},i.prototype.nuke=function(){var t=this;this._nuked=!0;for(var e=0;e<this._events.length;e++)delete this[this._events[e]];this._listeners={}};var s="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(t,e){e=e||s.length;var n,r=[];for(n=0;n<t;n++)r.push(s.substr(Math.floor(Math.random()*e),1));return r.join("")},n.random_number=function(t){return Math.floor(Math.random()*t)},n.random_number_string=function(t){var e=(""+(t-1)).length,r;return(Array(e+1).join("0")+n.random_number(t)).slice(-e)},n.getOrigin=function(t){var e;return(t+="/").split("/").slice(0,3).join("/")},n.isSameOriginUrl=function(t,n){return n||(n=e.location.href),t.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(t,n){return n||(n=e.location.href),t.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(t){return/^[0-9.]*$/.test(t)?t:/^\[/.test(t)?t:/[.]/.test(t)?t.split(".").slice(1).join("."):t;var e},n.objectExtend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};var a="_jp";n.polluteGlobalNamespace=function(){"_jp"in e||(e._jp={})},n.closeFrame=function(t,e){return"c"+JSON.stringify([t,e])},n.userSetCode=function(t){return 1e3===t||t>=3e3&&t<=4999},n.countRTO=function(t){var e;return e=t>100?3*t:t+200},n.log=function(){e.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},n.flatUrl=function(t){return-1===t.indexOf("?")&&-1===t.indexOf("#")},n.amendUrl=function(e,r){var o;if(void 0===r)o=t.location;else{var i=/^([a-z0-9.+-]+:)/i.exec(r);if(i){var s=i[0].toLowerCase(),a=r.substring(s.length),u=/[a-z0-9\.-]+(:[0-9]+)?/.exec(a);if(u)var c=u[0]}if(!s||!c)throw new Error("relativeTo must be an absolute url");o={protocol:s,host:c}}if(!e)throw new Error("Wrong url for SockJS");if(!n.flatUrl(e))throw new Error("Only basic urls are supported in SockJS");0===e.indexOf("//")&&(e=o.protocol+e),0===e.indexOf("/")&&(e=o.protocol+"//"+o.host+e);var l=(e=e.replace(/[/]+$/,"")).split("/");return("http:"===l[0]&&/:80$/.test(l[2])||"https:"===l[0]&&/:443$/.test(l[2]))&&(l[2]=l[2].replace(/:(80|443)$/,"")),e=l.join("/")},n.arrIndexOf=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},n.arrSkip=function(t,e){var r=n.arrIndexOf(t,e),o;return-1===r?t.slice():t.slice(0,r).concat(t.slice(r+1))},n.isArray=Array.isArray||function(t){return{}.toString.call(t).indexOf("Array")>=0},n.delay=function(t,e){return"function"==typeof t&&(e=t,t=0),setTimeout(e,t)};var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\0":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","\t":"\\t","\n":"\\n","\v":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","\ufeff":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},l=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,f,h=JSON&&JSON.stringify||function(t){return u.lastIndex=0,u.test(t)&&(t=t.replace(u,(function(t){return c[t]}))),'"'+t+'"'},d=function(t){var e,n={},r=[];for(e=0;e<65536;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,(function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""})),t.lastIndex=0,n};n.quote=function(t){var e=h(t);return l.lastIndex=0,l.test(e)?(f||(f=d(l)),e.replace(l,(function(t){return f[t]}))):e};var p=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var t={},e=0;e<p.length;e++){var n=p[e];t[n]=k[n]&&k[n].enabled()}return t},n.detectProtocols=function(t,e,n){var r={},o=[];e||(e=p);for(var i=0;i<e.length;i++){var s=e[i];r[s]=t[s]}var a=function(t){var e=t.shift();r[e]?o.push(e):t.length>0&&a(t)};return!1!==n.websocket&&a(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?a(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?a(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var _="_sockjs_global";n.createHook=function(){var t="a"+n.random_string(8);if(!(_ in e)){var r={};e[_]=function(t){return t in r||(r[t]={id:t,del:function(){delete r[t]}}),r[t]}}return e[_](t)},n.attachMessage=function(t){n.attachEvent("message",t)},n.attachEvent=function(n,r){void 0!==e.addEventListener?e.addEventListener(n,r,!1):(t.attachEvent("on"+n,r),e.attachEvent("on"+n,r))},n.detachMessage=function(t){n.detachEvent("message",t)},n.detachEvent=function(n,r){void 0!==e.addEventListener?e.removeEventListener(n,r,!1):(t.detachEvent("on"+n,r),e.detachEvent("on"+n,r))};var m={},v=!1,b=function(){for(var t in m)m[t](),delete m[t]},y=function(){v||(v=!0,b())};n.attachEvent("unload",y),n.unload_add=function(t){var e=n.random_string(8);return m[e]=t,v&&n.delay(b),e},n.unload_del=function(t){t in m&&delete m[t]},n.createIframe=function(e,r){var o=t.createElement("iframe"),i,s,a=function(){clearTimeout(i);try{o.onload=null}catch(t){}o.onerror=null},u=function(){o&&(a(),setTimeout((function(){o&&o.parentNode.removeChild(o),o=null}),0),n.unload_del(s))},c=function(t){o&&(u(),r(t))},l=function(t,e){try{o&&o.contentWindow&&o.contentWindow.postMessage(t,e)}catch(n){}};return o.src=e,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout((function(){c("onload timeout")}),2e3)},t.body.appendChild(o),i=setTimeout((function(){c("timeout")}),15e3),s=n.unload_add(u),{post:l,cleanup:u,loaded:a}},n.createHtmlfile=function(t,r){var o=new ActiveXObject("htmlfile"),i,s,a,u=function(){clearTimeout(i)},c=function(){o&&(u(),n.unload_del(s),a.parentNode.removeChild(a),a=o=null,CollectGarbage())},l=function(t){o&&(c(),r(t))},f=function(t,e){try{a&&a.contentWindow&&a.contentWindow.postMessage(t,e)}catch(n){}};o.open(),o.write('<html><script>document.domain="'+document.domain+'";<\/script></html>'),o.close(),o.parentWindow._jp=e._jp;var h=o.createElement("div");return o.body.appendChild(h),a=o.createElement("iframe"),h.appendChild(a),a.src=t,i=setTimeout((function(){l("timeout")}),15e3),s=n.unload_add(c),{post:f,cleanup:c,loaded:u}};var g=function(){},w,C;(g.prototype=new i(["chunk","finish"]))._start=function(t,r,o,i){var s=this;try{s.xhr=new XMLHttpRequest}catch(u){}if(!s.xhr)try{s.xhr=new e.ActiveXObject("Microsoft.XMLHTTP")}catch(u){}(e.ActiveXObject||e.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),s.unload_ref=n.unload_add((function(){s._cleanup(!0)}));try{s.xhr.open(t,r,!0)}catch(c){return s.emit("finish",0,""),void s._cleanup()}if(i&&i.no_credentials||(s.xhr.withCredentials="true"),i&&i.headers)for(var a in i.headers)s.xhr.setRequestHeader(a,i.headers[a]);s.xhr.onreadystatechange=function(){if(s.xhr){var t=s.xhr;switch(t.readyState){case 3:try{var e=t.status,n=t.responseText}catch(t){}1223===e&&(e=204),n&&n.length>0&&s.emit("chunk",e,n);break;case 4:var e;1223===(e=t.status)&&(e=204),s.emit("finish",e,t.responseText),s._cleanup(!1)}}},s.xhr.send(o)},g.prototype._cleanup=function(t){var e=this;if(this.xhr){if(n.unload_del(this.unload_ref),this.xhr.onreadystatechange=function(){},t)try{this.xhr.abort()}catch(r){}this.unload_ref=this.xhr=null}},g.prototype.close=function(){var t=this;this.nuke(),this._cleanup(!0)},(n.XHRCorsObject=function(){var t=this,e=arguments;n.delay((function(){t._start.apply(t,e)}))}).prototype=new g,(n.XHRLocalObject=function(t,e,r){var o=this;n.delay((function(){o._start(t,e,r,{no_credentials:!0})}))}).prototype=new g;var S=n.XDRObject=function(t,e,r){var o=this;n.delay((function(){o._start(t,e,r)}))};S.prototype=new i(["chunk","finish"]),S.prototype._start=function(t,e,r){var o=this,i=new XDomainRequest;e+=(-1===e.indexOf("?")?"?":"&")+"t="+ +new Date;var s=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add((function(){o._cleanup(!0)}));try{o.xdr.open(t,e),o.xdr.send(r)}catch(a){s()}},S.prototype._cleanup=function(t){var e=this;if(this.xdr){if(n.unload_del(this.unload_ref),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(r){}this.unload_ref=this.xdr=null}},S.prototype.close=function(){var t=this;this.nuke(),this._cleanup(!0)},n.isXHRCorsCapable=function(){return e.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:e.XDomainRequest&&t.domain?2:X.enabled()?3:4};var k=function(t,e,r){if(!(this instanceof k))return new k(t,e,r);var o=this,i;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(o._options,r),o._base_url=n.amendUrl(t),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?i=o._options.protocols_whitelist:(i="string"==typeof e&&e.length>0?[e]:n.isArray(e)?e:null)&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.'),o._protocols=[],o.protocol=null,o.readyState=k.CONNECTING,o._ir=q(o._base_url),o._ir.onfinish=function(t,e){o._ir=null,t?(o._options.info&&(t=n.objectExtend(t,o._options.info)),o._options.rtt&&(e=o._options.rtt),o._applyInfo(t,e,i),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};k.prototype=new r,k.version="0.3.4",k.CONNECTING=0,k.OPEN=1,k.CLOSING=2,k.CLOSED=3,k.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},k.prototype._dispatchOpen=function(){var t=this;this.readyState===k.CONNECTING?(this._transport_tref&&(clearTimeout(this._transport_tref),this._transport_tref=null),this.readyState=k.OPEN,this.dispatchEvent(new o("open"))):this._didClose(1006,"Server lost session")},k.prototype._dispatchMessage=function(t){var e=this;this.readyState===k.OPEN&&this.dispatchEvent(new o("message",{data:t}))},k.prototype._dispatchHeartbeat=function(t){var e=this;this.readyState===k.OPEN&&this.dispatchEvent(new o("heartbeat",{}))},k.prototype._didClose=function(t,e,r){var i=this;if(i.readyState!==k.CONNECTING&&i.readyState!==k.OPEN&&i.readyState!==k.CLOSING)throw new Error("INVALID_STATE_ERR");i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var s=new o("close",{code:t,reason:e,wasClean:n.userSetCode(t)});if(!n.userSetCode(t)&&i.readyState===k.CONNECTING&&!r){if(i._try_next_protocol(s))return;s=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:s})}i.readyState=k.CLOSED,n.delay((function(){i.dispatchEvent(s)}))},k.prototype._didMessage=function(t){var e=this,n;switch(t.slice(0,1)){case"o":this._dispatchOpen();break;case"a":for(var r=JSON.parse(t.slice(1)||"[]"),o=0;o<r.length;o++)this._dispatchMessage(r[o]);break;case"m":var r=JSON.parse(t.slice(1)||"null");this._dispatchMessage(r);break;case"c":var r=JSON.parse(t.slice(1)||"[]");this._didClose(r[0],r[1]);break;case"h":this._dispatchHeartbeat()}},k.prototype._try_next_protocol=function(e){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+e),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(k[o]&&!0===k[o].need_body&&(!t.body||void 0!==t.readyState&&"complete"!==t.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",(function(){r._try_next_protocol()})),!0;if(k[o]&&k[o].enabled(r._options)){var i=k[o].roundTrips||1,s=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(s,(function(){r.readyState===k.CONNECTING&&r._didClose(2007,"Transport timeouted")}));var a=n.random_string(8),u=r._base_url+"/"+r._server+"/"+a;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new k[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},k.prototype.close=function(t,e){var r=this;if(t&&!n.userSetCode(t))throw new Error("INVALID_ACCESS_ERR");return(this.readyState===k.CONNECTING||this.readyState===k.OPEN)&&(this.readyState=k.CLOSING,this._didClose(t||1e3,e||"Normal closure"),!0)},k.prototype.send=function(t){var e=this;if(this.readyState===k.CONNECTING)throw new Error("INVALID_STATE_ERR");return this.readyState===k.OPEN&&this._transport.doSend(n.quote(""+t)),!0},k.prototype._applyInfo=function(e,r,o){var i=this;this._options.info=e,this._options.rtt=r,this._options.rto=n.countRTO(r),this._options.info.null_origin=!t.domain,e.base_url&&(this._base_url=n.amendUrl(e.base_url,this._base_url));var s=n.probeProtocols();this._protocols=n.detectProtocols(s,o,e),n.isSameOriginScheme(this._base_url)||2!==n.isXHRCorsCapable()||(this._protocols=["jsonp-polling"])};var O=k.websocket=function(t,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=t,o.url=i;var s=e.WebSocket||e.MozWebSocket;o.ws=new s(o.url),o.ws.onmessage=function(t){o.ri._didMessage(t.data)},o.unload_ref=n.unload_add((function(){o.ws.close()})),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};O.prototype.doSend=function(t){this.ws.send("["+t+"]")},O.prototype.doCleanup=function(){var t=this,e=this.ws;e&&(e.onmessage=e.onclose=null,e.close(),n.unload_del(this.unload_ref),this.unload_ref=this.ri=this.ws=null)},O.enabled=function(){return!(!e.WebSocket&&!e.MozWebSocket)},O.roundTrips=2;var x=function(){};x.prototype.send_constructor=function(t){var e=this;this.send_buffer=[],this.sender=t},x.prototype.doSend=function(t){var e=this;this.send_buffer.push(t),this.send_stop||this.send_schedule()},x.prototype.send_schedule_wait=function(){var t=this,e;t.send_stop=function(){t.send_stop=null,clearTimeout(e)},e=n.delay(25,(function(){t.send_stop=null,t.send_schedule()}))},x.prototype.send_schedule=function(){var t=this;if(t.send_buffer.length>0){var e="["+t.send_buffer.join(",")+"]";t.send_stop=t.sender(t.trans_url,e,(function(e,n){t.send_stop=null,!1===e?t.ri._didClose(1006,"Sending error "+n):t.send_schedule_wait()})),t.send_buffer=[]}},x.prototype.send_destructor=function(){var t=this;this._send_stop&&this._send_stop(),this._send_stop=null};var T=function(e,r,o){var i=this;if(!("_send_form"in this)){var s=this._send_form=t.createElement("form"),a;(a=this._send_area=t.createElement("textarea")).name="d",s.style.display="none",s.style.position="absolute",s.method="POST",s.enctype="application/x-www-form-urlencoded",s.acceptCharset="UTF-8",s.appendChild(a),t.body.appendChild(s)}var s=this._send_form,a=this._send_area,u="a"+n.random_string(8),c;s.target=u,s.action=e+"/jsonp_send?i="+u;try{c=t.createElement('<iframe name="'+u+'">')}catch(f){(c=t.createElement("iframe")).name=u}c.id=u,s.appendChild(c),c.style.display="none";try{a.value=r}catch(h){n.log("Your browser is seriously broken. Go home! "+h.message)}s.submit();var l=function(t){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,(function(){c.parentNode.removeChild(c),c=null})),a.value="",o(!0))};return c.onerror=c.onload=l,c.onreadystatechange=function(t){"complete"==c.readyState&&l()},l},E=function(t){return function(e,n,r){var o;return new t("POST",e+"/xhr_send",n).onfinish=function(t,e){r(200===t||204===t,"http status "+t)},function(t){r(!1,t)}}},j=function(e,r){var o,i=t.createElement("script"),s,a=function(t){s&&(s.parentNode.removeChild(s),s=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(t),r=null)},u=!1,c=null;if(i.id="a"+n.random_string(8),i.src=e,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(t){c||(c=setTimeout((function(){u||a(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))}),1e3))},i.onload=function(t){a(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(t){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){u=!0;try{i.onclick()}catch(e){}}i&&a(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},void 0===i.async&&t.attachEvent)if(/opera/i.test(navigator.userAgent))(s=t.createElement("script")).text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=s.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(f){}i.async=!0}void 0!==i.async&&(i.async=!0),o=setTimeout((function(){a(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))}),35e3);var l=t.getElementsByTagName("head")[0];return l.insertBefore(i,l.firstChild),s&&l.insertBefore(s,l.firstChild),a},N=k["jsonp-polling"]=function(t,e){n.polluteGlobalNamespace();var r=this;this.ri=t,this.trans_url=e,this.send_constructor(T),this._schedule_recv()};N.prototype=new x,N.prototype._schedule_recv=function(){var t=this,e=function(e){t._recv_stop=null,e&&(t._is_closing||t.ri._didMessage(e)),t._is_closing||t._schedule_recv()};t._recv_stop=M(t.trans_url+"/jsonp",j,e)},N.enabled=function(){return!0},N.need_body=!0,N.prototype.doCleanup=function(){var t=this;this._is_closing=!0,this._recv_stop&&this._recv_stop(),this.ri=this._recv_stop=null,this.send_destructor()};var M=function(t,r,o){var i="a"+n.random_string(6),s=t+"?c="+escape("_jp."+i),a=0,u,c=r(s,(function(t){switch(a){case 0:delete e._jp[i],o(t);break;case 1:o(t),a=2;break;case 2:delete e._jp[i]}})),l;return e._jp[i]=c,function(){e._jp[i]&&(a=1,e._jp[i](n.closeFrame(1e3,"JSONP user aborted read")))}},R=function(){};(R.prototype=new x).run=function(t,e,n,r,o){var i=this;this.ri=t,this.trans_url=e,this.send_constructor(E(o)),this.poll=new Q(t,r,e+n,o)},R.prototype.doCleanup=function(){var t=this;this.poll&&(this.poll.abort(),this.poll=null)};var P=k["xhr-streaming"]=function(t,e){this.run(t,e,"/xhr_streaming",rt,n.XHRCorsObject)};P.prototype=new R,P.enabled=function(){return e.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},P.roundTrips=2,P.need_body=!0;var I=k["xdr-streaming"]=function(t,e){this.run(t,e,"/xhr_streaming",rt,n.XDRObject)};I.prototype=new R,I.enabled=function(){return!!e.XDomainRequest},I.roundTrips=2;var L=k["xhr-polling"]=function(t,e){this.run(t,e,"/xhr",rt,n.XHRCorsObject)};L.prototype=new R,L.enabled=P.enabled,L.roundTrips=2;var A=k["xdr-polling"]=function(t,e){this.run(t,e,"/xhr",rt,n.XDRObject)};A.prototype=new R,A.enabled=I.enabled,A.roundTrips=2;var X=function(){},U;X.prototype.i_constructor=function(t,e,r){var o=this;o.ri=t,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=e;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,(function(t){o.ri._didClose(1006,"Unable to load an iframe ("+t+")")})),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},X.prototype.doCleanup=function(){var t=this;if(this.iframeObj){n.detachMessage(this.onmessage_cb);try{this.iframeObj.iframe.contentWindow&&this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessage_cb=this.iframeObj=null}},X.prototype.onmessage=function(t){var e=this;if(t.origin===this.origin){var n=t.data.slice(0,8),r=t.data.slice(8,9),o=t.data.slice(9);if(n===this.window_id)switch(r){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([k.version,this.protocol,this.trans_url,this.base_url]));break;case"t":this.ri._didMessage(o)}}},X.prototype.postMessage=function(t,e){var n=this;this.iframeObj.post(this.window_id+t+(e||""),this.origin)},X.prototype.doSend=function(t){this.postMessage("m",t)},X.enabled=function(){var t=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof e.postMessage||"object"==typeof e.postMessage)&&!t};var D=function(t,r){parent!==e?parent.postMessage(U+t+(r||""),"*"):n.log("Can't postMessage, no parent window.",t,r)},H=function(){};H.prototype._didClose=function(t,e){D("t",n.closeFrame(t,e))},H.prototype._didMessage=function(t){D("t",t)},H.prototype._doSend=function(t){this._transport.doSend(t)},H.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,k.bootstrap_iframe=function(){var r;U=t.location.hash.slice(1);var o=function(t){if(t.source===parent&&(void 0===n.parent_origin&&(n.parent_origin=t.origin),t.origin===n.parent_origin)){var o=t.data.slice(0,8),i=t.data.slice(8,9),s=t.data.slice(9);if(o===U)switch(i){case"s":var a=JSON.parse(s),u=a[0],c=a[1],l=a[2],f=a[3];if(u!==k.version&&n.log('Incompatibile SockJS! Main site uses: "'+u+'", the iframe: "'+k.version+'".'),!n.flatUrl(l)||!n.flatUrl(f))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(l)||!n.isSameOriginUrl(f))return void n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([e.location.href,l,f])+")");(r=new H)._transport=new H[c](r,l,f);break;case"m":r._doSend(s);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),D("s")};var J=function(t,e){var r=this;n.delay((function(){r.doXhr(t,e)}))};(J.prototype=new i(["finish"])).doXhr=function(t,e){var r=this,o=(new Date).getTime(),i=new e("GET",t+"/info?cb="+n.random_string(10)),s=n.delay(8e3,(function(){i.ontimeout()}));i.onfinish=function(t,e){if(clearTimeout(s),s=null,200===t){var n=(new Date).getTime()-o,i=JSON.parse(e);"object"!=typeof i&&(i={}),r.emit("finish",i,n)}else r.emit("finish")},i.ontimeout=function(){i.close(),r.emit("finish")}};var W=function(e){var r=this,o=function(){var t=new X;t.protocol="w-iframe-info-receiver";var n=function(e){if("string"==typeof e&&"m"===e.substr(0,1)){var n=JSON.parse(e.substr(1)),o=n[0],i=n[1];r.emit("finish",o,i)}else r.emit("finish");t.doCleanup(),t=null},o={_options:{},_didClose:n,_didMessage:n};t.i_constructor(o,e,e)};t.body?o():n.attachEvent("load",o)};W.prototype=new i(["finish"]);var G=function(){var t=this;n.delay((function(){t.emit("finish",{},2e3)}))};G.prototype=new i(["finish"]);var q=function(t){if(n.isSameOriginUrl(t))return new J(t,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new J(t,n.XHRLocalObject);case 2:return n.isSameOriginScheme(t)?new J(t,n.XDRObject):new G;case 3:return new W(t);default:return new G}},F;(H["w-iframe-info-receiver"]=function(t,e,r){var o;new J(r,n.XHRLocalObject).onfinish=function(e,n){t._didMessage("m"+JSON.stringify([e,n])),t._didClose()}}).prototype.doCleanup=function(){};var B=k["iframe-eventsource"]=function(){var t=this;t.protocol="w-iframe-eventsource",t.i_constructor.apply(t,arguments)},z;B.prototype=new X,B.enabled=function(){return"EventSource"in e&&X.enabled()},B.need_body=!0,B.roundTrips=3,(H["w-iframe-eventsource"]=function(t,e){this.run(t,e,"/eventsource",Z,n.XHRLocalObject)}).prototype=new R;var $=k["iframe-xhr-polling"]=function(){var t=this;t.protocol="w-iframe-xhr-polling",t.i_constructor.apply(t,arguments)},V;$.prototype=new X,$.enabled=function(){return e.XMLHttpRequest&&X.enabled()},$.need_body=!0,$.roundTrips=3,(H["w-iframe-xhr-polling"]=function(t,e){this.run(t,e,"/xhr",rt,n.XHRLocalObject)}).prototype=new R;var K=k["iframe-htmlfile"]=function(){var t=this;t.protocol="w-iframe-htmlfile",t.i_constructor.apply(t,arguments)},Y;K.prototype=new X,K.enabled=function(){return X.enabled()},K.need_body=!0,K.roundTrips=3,(H["w-iframe-htmlfile"]=function(t,e){this.run(t,e,"/htmlfile",nt,n.XHRLocalObject)}).prototype=new R;var Q=function(t,e,n,r){var o=this;this.ri=t,this.Receiver=e,this.recv_url=n,this.AjaxObject=r,this._scheduleRecv()};Q.prototype._scheduleRecv=function(){var t=this,e=t.poll=new t.Receiver(t.recv_url,t.AjaxObject),n=0;e.onmessage=function(e){n+=1,t.ri._didMessage(e.data)},e.onclose=function(n){t.poll=e=e.onmessage=e.onclose=null,t.poll_is_closing||("permanent"===n.reason?t.ri._didClose(1006,"Polling error ("+n.reason+")"):t._scheduleRecv())}},Q.prototype.abort=function(){var t=this;this.poll_is_closing=!0,this.poll&&this.poll.abort()};var Z=function(t){var e=this,r=new EventSource(t);r.onmessage=function(t){e.dispatchEvent(new o("message",{data:unescape(t.data)}))},e.es_close=r.onerror=function(t,i){var s=i?"user":2!==r.readyState?"network":"permanent";e.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,(function(){e.dispatchEvent(new o("close",{reason:s}))}))}},tt;Z.prototype=new r,Z.prototype.abort=function(){var t=this;this.es_close&&this.es_close({},!0)};var et=function(){if(void 0===tt)if("ActiveXObject"in e)try{tt=!!new ActiveXObject("htmlfile")}catch(t){}else tt=!1;return tt},nt=function(t){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),t+=(-1===t.indexOf("?")?"?":"&")+"c="+escape("_jp."+r.id);var i=et()?n.createHtmlfile:n.createIframe,s;e._jp[r.id]={start:function(){s.loaded()},message:function(t){r.dispatchEvent(new o("message",{data:t}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(t,n){s.cleanup(),r.iframe_close=s=null,delete e._jp[r.id],r.dispatchEvent(new o("close",{reason:n}))},s=i(t,(function(t){r.iframe_close({},"permanent")}))};nt.prototype=new r,nt.prototype.abort=function(){var t=this;this.iframe_close&&this.iframe_close({},"user")};var rt=function(t,e){var n=this,r=0;n.xo=new e("POST",t,null),n.xo.onchunk=function(t,e){if(200===t)for(;;){var i=e.slice(r),s=i.indexOf("\n");if(-1===s)break;r+=s+1;var a=i.slice(0,s);n.dispatchEvent(new o("message",{data:a}))}},n.xo.onfinish=function(t,e){n.xo.onchunk(t,e),n.xo=null;var r=200===t?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return rt.prototype=new r,rt.prototype.abort=function(){var t=this;this.xo&&(this.xo.close(),this.dispatchEvent(new o("close",{reason:"user"})),this.xo=null)},k.getUtils=function(){return n},k.getIframeTransport=function(){return X},k}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],(function(){return a}))},"urls.js":function e(n,r,e){function o(e,n,r){n||(n="http"),"sockjs"!==r&&e.startsWith("/")&&(e=t.absoluteUrl(e.substr(1)));var o=e.match(/^ddp(i?)\+sockjs:\/\//),i=e.match(/^http(s?):\/\//),s;if(o){var a=e.substr(o[0].length);s="i"===o[1]?n:n+"s";var u=a.indexOf("/"),c=-1===u?a:a.substr(0,u),l=-1===u?"":a.substr(u);return s+"://"+(c=c.replace(/\*/g,()=>Math.floor(10*Math.random())))+l}if(i){s=i[1]?n+"s":n;var f=e.substr(i[0].length);e=s+"://"+f}return-1!==e.indexOf("://")||e.startsWith("/")||(e=n+"://"+e),(e=t._relativeToSiteRootUrl(e)).endsWith("/")?e+r:e+"/"+r}function i(t){return o(t,"http","sockjs")}function s(t){return o(t,"ws","websocket")}e.export({toSockjsUrl:()=>i,toWebsocketUrl:()=>s})}}}}},{extensions:[".js",".json"]});Package._define("socket-stream-client")}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,s=Package.meteor.meteorEnv,n=Package.check.check,r=Package.check.Match,o=Package.random.Random,i=Package.ejson.EJSON,a=Package.tracker.Tracker,d=Package.tracker.Deps,c=Package.retry.Retry,l=Package["id-map"].IdMap,u=Package["callback-hook"].Hook,h=Package["ddp-common"].DDPCommon,_=Package.reload.Reload,m=Package["diff-sequence"].DiffSequence,g=Package["mongo-id"].MongoID,f=Package.modules.meteorInstall,p=Package.promise.Promise,v,b,k,D=f({node_modules:{meteor:{"ddp-client":{client:{"client.js":function e(t,s,e){e.link("../common/namespace.js",{DDP:"DDP"},0),e.link("../common/livedata_connection"),e.link("./client_convenience")},"client_convenience.js":function e(t,s,e){let n,r;e.link("../common/namespace.js",{DDP(e){n=e}},0),e.link("meteor/meteor",{Meteor(e){r=e}},1),r.refresh=()=>{};var o="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(o=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var i=new c;function a(e){if(r._debug(e),Package.reload){var t,s=(Package.reload.Reload._migrationData("livedata")||Object.create(null)).DDPVersionNegotiationFailures||0;++s,Package.reload.Reload._onMigrate("livedata",()=>[!0,{DDPVersionNegotiationFailures:s}]),i.retryLater(s,()=>{Package.reload.Reload._reload()})}}r.connection=n.connect(o,{onDDPVersionNegotiationFailure:a}),["subscribe","methods","call","apply","status","reconnect","disconnect"].forEach(e=>{r[e]=r.connection[e].bind(r.connection)}),r.default_connection=r.connection,r.connect=n.connect}},common:{"MethodInvoker.js":function e(t,s,e){e.export({default:()=>n});class n{constructor(e){this.methodId=e.methodId,this.sentMessage=!1,this._callback=e.callback,this._connection=e.connection,this._message=e.message,this._onResultReceived=e.onResultReceived||(()=>{}),this._wait=e.wait,this.noRetry=e.noRetry,this._methodResult=null,this._dataVisible=!1,this._connection._methodInvokers[this.methodId]=this}sendMessage(){if(this.gotResult())throw new Error("sendingMethod is called on method with result");this._dataVisible=!1,this.sentMessage=!0,this._wait&&(this._connection._methodsBlockingQuiescence[this.methodId]=!0),this._connection._send(this._message)}_maybeInvokeCallback(){this._methodResult&&this._dataVisible&&(this._callback(this._methodResult[0],this._methodResult[1]),delete this._connection._methodInvokers[this.methodId],this._connection._outstandingMethodFinished())}receiveResult(e,t){if(this.gotResult())throw new Error("Methods should only receive results once");this._methodResult=[e,t],this._onResultReceived(e,t),this._maybeInvokeCallback()}dataVisible(){this._dataVisible=!0,this._maybeInvokeCallback()}gotResult(){return!!this._methodResult}}},"livedata_connection.js":function e(t,s,e){let n,r,o,i,a,d,c,u,h,_,g,f,p,v,b;if(e.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),e.export({Connection:()=>M}),e.link("meteor/meteor",{Meteor(e){r=e}},0),e.link("meteor/ddp-common",{DDPCommon(e){o=e}},1),e.link("meteor/tracker",{Tracker(e){i=e}},2),e.link("meteor/ejson",{EJSON(e){a=e}},3),e.link("meteor/random",{Random(e){d=e}},4),e.link("meteor/callback-hook",{Hook(e){c=e}},5),e.link("meteor/mongo-id",{MongoID(e){u=e}},6),e.link("./namespace.js",{DDP(e){h=e}},7),e.link("./MethodInvoker.js",{default(e){_=e}},8),e.link("meteor/ddp-common/utils.js",{hasOwn(e){g=e},slice(e){f=e},keys(e){p=e},isEmpty(e){v=e},last(e){b=e}},9),r.isServer)var k=Npm.require("fibers"),D=Npm.require("fibers/future");class y extends l{constructor(){super(u.idStringify,u.idParse)}}class M{constructor(e,s){var a=this;if(this.options=s=n({onConnected(){},onDDPVersionNegotiationFailure(e){r._debug(e)},heartbeatInterval:17500,heartbeatTimeout:15e3,npmFayeOptions:Object.create(null),reloadWithOutstanding:!1,supportedDDPVersions:o.SUPPORTED_DDP_VERSIONS,retry:!0,respondToPings:!0,bufferedWritesInterval:5,bufferedWritesMaxAge:500},s),a.onReconnect=null,"object"==typeof e)a._stream=e;else{const{ClientStream:n}=t("meteor/socket-stream-client");a._stream=new n(e,{retry:s.retry,ConnectionError:h.ConnectionError,headers:s.headers,_sockjsOptions:s._sockjsOptions,_dontPrintErrors:s._dontPrintErrors,connectTimeoutMs:s.connectTimeoutMs,npmFayeOptions:s.npmFayeOptions})}a._lastSessionId=null,a._versionSuggestion=null,a._version=null,a._stores=Object.create(null),a._methodHandlers=Object.create(null),a._nextMethodId=1,a._supportedDDPVersions=s.supportedDDPVersions,a._heartbeatInterval=s.heartbeatInterval,a._heartbeatTimeout=s.heartbeatTimeout,a._methodInvokers=Object.create(null),a._outstandingMethodBlocks=[],a._documentsWrittenByStub=Object.create(null),a._serverDocuments=Object.create(null),a._afterUpdateCallbacks=[],a._messagesBufferedUntilQuiescence=[],a._methodsBlockingQuiescence=Object.create(null),a._subsBeingRevived=Object.create(null),a._resetStores=!1,a._updatesForUnknownStores=Object.create(null),a._retryMigrate=null,a.__flushBufferedWrites=r.bindEnvironment(a._flushBufferedWrites,"flushing DDP buffered writes",a),a._bufferedWrites=Object.create(null),a._bufferedWritesFlushAt=null,a._bufferedWritesFlushHandle=null,a._bufferedWritesInterval=s.bufferedWritesInterval,a._bufferedWritesMaxAge=s.bufferedWritesMaxAge,a._subscriptions=Object.create(null),a._userId=null,a._userIdDeps=new i.Dependency,r.isClient&&Package.reload&&!s.reloadWithOutstanding&&Package.reload.Reload._onMigrate(e=>{if(a._readyToMigrate())return[!0];if(a._retryMigrate)throw new Error("Two migrations in progress?");return a._retryMigrate=e,!1});var d=()=>{a._heartbeat&&(a._heartbeat.stop(),a._heartbeat=null)};r.isServer?(a._stream.on("message",r.bindEnvironment(this.onMessage.bind(this),"handling DDP message")),a._stream.on("reset",r.bindEnvironment(this.onReset.bind(this),"handling DDP reset")),a._stream.on("disconnect",r.bindEnvironment(d,"handling DDP disconnect"))):(a._stream.on("message",this.onMessage.bind(this)),a._stream.on("reset",this.onReset.bind(this)),a._stream.on("disconnect",d))}registerStore(e,t){var s=this;if(e in this._stores)return!1;var n=Object.create(null);["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals","getDoc","_getCollection"].forEach(e=>{n[e]=function(){if(t[e])return t[e](...arguments)}}),this._stores[e]=n;var r=this._updatesForUnknownStores[e];return r&&(n.beginUpdate(r.length,!1),r.forEach(e=>{n.update(e)}),n.endUpdate(),delete this._updatesForUnknownStores[e]),!0}subscribe(e){var t=this,s=f.call(arguments,1),n=Object.create(null),r,o;if(s.length){var c=s[s.length-1];"function"==typeof c?n.onReady=s.pop():c&&[c.onReady,c.onError,c.onStop].some(e=>"function"==typeof e)&&(n=s.pop())}p(t._subscriptions).some(n=>{const o=t._subscriptions[n];if(o.inactive&&o.name===e&&a.equals(o.params,s))return r=o}),r?(o=r.id,r.inactive=!1,n.onReady&&(r.ready?n.onReady():r.readyCallback=n.onReady),n.onError&&(r.errorCallback=n.onError),n.onStop&&(r.stopCallback=n.onStop)):(o=d.id(),t._subscriptions[o]={id:o,name:e,params:a.clone(s),inactive:!1,ready:!1,readyDeps:new i.Dependency,readyCallback:n.onReady,errorCallback:n.onError,stopCallback:n.onStop,connection:t,remove(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop(){this.connection._send({msg:"unsub",id:o}),this.remove(),n.onStop&&n.onStop()}},t._send({msg:"sub",id:o,name:e,params:s}));var l={stop(){g.call(t._subscriptions,o)&&t._subscriptions[o].stop()},ready(){if(!g.call(t._subscriptions,o))return!1;var e=t._subscriptions[o];return e.readyDeps.depend(),e.ready},subscriptionId:o};return i.active&&i.onInvalidate(e=>{g.call(t._subscriptions,o)&&(t._subscriptions[o].inactive=!0),i.afterFlush(()=>{g.call(t._subscriptions,o)&&t._subscriptions[o].inactive&&l.stop()})}),l}_subscribeAndWait(e,t,s){var n=this,r=new D,o=!1,i;return(t=t||[]).push({onReady(){o=!0,r.return()},onError(e){o?s&&s.onLateError&&s.onLateError(e):r.throw(e)}}),i=this.subscribe.apply(this,[e].concat(t)),r.wait(),i}methods(e){p(e).forEach(t=>{const s=e[t];if("function"!=typeof s)throw new Error("Method '"+t+"' must be a function");if(this._methodHandlers[t])throw new Error("A method named '"+t+"' is already defined");this._methodHandlers[t]=s})}call(e){var t=f.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var s=t.pop();return this.apply(e,t,s)}apply(e,t,s,n){var i=this;n||"function"!=typeof s||(n=s,s=Object.create(null)),s=s||Object.create(null),n&&(n=r.bindEnvironment(n,"delivering result of invoking '"+e+"'")),t=a.clone(t);var d=h._CurrentMethodInvocation.get(),c=d&&d.isSimulation,l=null,u=()=>(null===l&&(l=o.makeRpcSeed(d,e)),l),m=i._methodHandlers[e];if(m){var g=e=>{i.setUserId(e)},f=new o.MethodInvocation({isSimulation:!0,userId:i.userId(),setUserId:g,randomSeed:()=>u()});c||i._saveOriginals();try{var p=h._CurrentMethodInvocation.withValue(f,()=>r.isServer?r._noYieldsAllowed(()=>m.apply(f,a.clone(t))):m.apply(f,a.clone(t)))}catch(E){var k=E}}if(c){if(n)return void n(k,p);if(k)throw k;return p}const y=""+i._nextMethodId++;m&&i._retrieveAndStoreOriginals(y);var M={msg:"method",method:e,params:t,id:y};if(k){if(s.throwStubExceptions)throw k;k._expectedByTest||r._debug("Exception while simulating the effect of invoking '"+e+"'",k)}if(!n)if(r.isClient)n=t=>{t&&r._debug("Error invoking Method '"+e+"'",t)};else{var w=new D;n=w.resolver()}null!==l&&(M.randomSeed=l);var S=new _({methodId:y,callback:n,connection:i,onResultReceived:s.onResultReceived,wait:!!s.wait,message:M,noRetry:!!s.noRetry});return s.wait?i._outstandingMethodBlocks.push({wait:!0,methods:[S]}):((v(i._outstandingMethodBlocks)||b(i._outstandingMethodBlocks).wait)&&i._outstandingMethodBlocks.push({wait:!1,methods:[]}),b(i._outstandingMethodBlocks).methods.push(S)),1===i._outstandingMethodBlocks.length&&S.sendMessage(),w?w.wait():s.returnStubValue?p:void 0}_saveOriginals(){this._waitingForQuiescence()||this._flushBufferedWrites(),p(this._stores).forEach(e=>{this._stores[e].saveOriginals()})}_retrieveAndStoreOriginals(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var s=[];p(t._stores).forEach(n=>{var r=t._stores[n].retrieveOriginals();r&&r.forEach((r,o)=>{s.push({collection:n,id:o}),g.call(t._serverDocuments,n)||(t._serverDocuments[n]=new y);var i=t._serverDocuments[n].setDefault(o,Object.create(null));i.writtenByStubs?i.writtenByStubs[e]=!0:(i.document=r,i.flushCallbacks=[],i.writtenByStubs=Object.create(null),i.writtenByStubs[e]=!0)})}),v(s)||(t._documentsWrittenByStub[e]=s)}_unsubscribeAll(){p(this._subscriptions).forEach(e=>{const t=this._subscriptions[e];"meteor_autoupdate_clientVersions"!==t.name&&t.stop()})}_send(e){this._stream.send(o.stringifyDDP(e))}_lostConnection(e){this._stream._lostConnection(e)}status(){return this._stream.status(...arguments)}reconnect(){return this._stream.reconnect(...arguments)}disconnect(){return this._stream.disconnect(...arguments)}close(){return this._stream.disconnect({_permanent:!0})}userId(){return this._userIdDeps&&this._userIdDeps.depend(),this._userId}setUserId(e){this._userId!==e&&(this._userId=e,this._userIdDeps&&this._userIdDeps.changed())}_waitingForQuiescence(){return!v(this._subsBeingRevived)||!v(this._methodsBlockingQuiescence)}_anyMethodsAreOutstanding(){const e=this._methodInvokers;return p(e).some(t=>e[t].sentMessage)}_livedata_connected(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new o.Heartbeat({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout(){t._lostConnection(new h.ConnectionError("DDP heartbeat timed out"))},sendPing(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var s=t._lastSessionId===e.session;t._lastSessionId=e.session}if(!s){if(t._updatesForUnknownStores=Object.create(null),t._resetStores&&(t._documentsWrittenByStub=Object.create(null),t._serverDocuments=Object.create(null)),t._afterUpdateCallbacks=[],t._subsBeingRevived=Object.create(null),p(t._subscriptions).forEach(e=>{t._subscriptions[e].ready&&(t._subsBeingRevived[e]=!0)}),t._methodsBlockingQuiescence=Object.create(null),t._resetStores){const e=t._methodInvokers;p(e).forEach(s=>{const n=e[s];n.gotResult()?t._afterUpdateCallbacks.push((function(){return n.dataVisible(...arguments)})):n.sentMessage&&(t._methodsBlockingQuiescence[n.methodId]=!0)})}t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(p(t._stores).forEach(e=>{const s=t._stores[e];s.beginUpdate(0,!0),s.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks())}}_processOneDataMessage(e,t){const s=e.msg;"added"===s?this._process_added(e,t):"changed"===s?this._process_changed(e,t):"removed"===s?this._process_removed(e,t):"ready"===s?this._process_ready(e,t):"updated"===s?this._process_updated(e,t):"nosub"===s||r._debug("discarding unknown livedata data message type",e)}_livedata_data(e){var t=this;if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],e.subs&&e.subs.forEach(e=>{delete t._subsBeingRevived[e]}),e.methods&&e.methods.forEach(e=>{delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;const s=t._messagesBufferedUntilQuiescence;p(s).forEach(e=>{t._processOneDataMessage(s[e],t._bufferedWrites)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,t._bufferedWrites);var s="added"===e.msg||"changed"===e.msg||"removed"===e.msg;if(0!==t._bufferedWritesInterval&&s){if(null===t._bufferedWritesFlushAt)t._bufferedWritesFlushAt=(new Date).valueOf()+t._bufferedWritesMaxAge;else if(t._bufferedWritesFlushAt<(new Date).valueOf())return void t._flushBufferedWrites();t._bufferedWritesFlushHandle&&clearTimeout(t._bufferedWritesFlushHandle),t._bufferedWritesFlushHandle=setTimeout(t.__flushBufferedWrites,t._bufferedWritesInterval)}else t._flushBufferedWrites()}_flushBufferedWrites(){var e=this;this._bufferedWritesFlushHandle&&(clearTimeout(this._bufferedWritesFlushHandle),this._bufferedWritesFlushHandle=null),this._bufferedWritesFlushAt=null;var t=this._bufferedWrites;this._bufferedWrites=Object.create(null),this._performWrites(t)}_performWrites(e){var t=this;!t._resetStores&&v(e)||(p(t._stores).forEach(s=>{t._stores[s].beginUpdate(g.call(e,s)?e[s].length:0,t._resetStores)}),t._resetStores=!1,p(e).forEach(s=>{const n=e[s];var r=t._stores[s];if(r)n.forEach(e=>{r.update(e)});else{const e=t._updatesForUnknownStores;g.call(e,s)||(e[s]=[]),e[s].push(...n)}}),p(t._stores).forEach(e=>{t._stores[e].endUpdate()})),t._runAfterUpdateCallbacks()}_runAfterUpdateCallbacks(){var e=this,t=this._afterUpdateCallbacks;this._afterUpdateCallbacks=[],t.forEach(e=>{e()})}_pushUpdate(e,t,s){g.call(e,t)||(e[t]=[]),e[t].push(s)}_getServerDoc(e,t){var s=this,n;return g.call(this._serverDocuments,e)&&this._serverDocuments[e].get(t)||null}_process_added(e,t){var s=this,n=u.idParse(e.id),r=this._getServerDoc(e.collection,n);if(r){var o=void 0!==r.document;if(r.document=e.fields||Object.create(null),r.document._id=n,this._resetStores){var i=this._stores[e.collection].getDoc(e.id);void 0!==i&&(e.fields=i),this._pushUpdate(t,e.collection,e)}else if(o)throw new Error("Server sent add for existing id: "+e.id)}else this._pushUpdate(t,e.collection,e)}_process_changed(e,t){var s=this,n=this._getServerDoc(e.collection,u.idParse(e.id));if(n){if(void 0===n.document)throw new Error("Server sent changed for nonexisting id: "+e.id);m.applyChanges(n.document,e.fields)}else this._pushUpdate(t,e.collection,e)}_process_removed(e,t){var s=this,n=this._getServerDoc(e.collection,u.idParse(e.id));if(n){if(void 0===n.document)throw new Error("Server sent removed for nonexisting id:"+e.id);n.document=void 0}else this._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})}_process_updated(e,t){var s=this;e.methods.forEach(e=>{const n=s._documentsWrittenByStub[e];p(n).forEach(r=>{const o=n[r],i=s._getServerDoc(o.collection,o.id);if(!i)throw new Error("Lost serverDoc for "+JSON.stringify(o));if(!i.writtenByStubs[e])throw new Error("Doc "+JSON.stringify(o)+" not written by  method "+e);delete i.writtenByStubs[e],v(i.writtenByStubs)&&(s._pushUpdate(t,o.collection,{msg:"replace",id:u.idStringify(o.id),replace:i.document}),i.flushCallbacks.forEach(e=>{e()}),s._serverDocuments[o.collection].remove(o.id))}),delete s._documentsWrittenByStub[e];const r=s._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);s._runWhenAllServerDocsAreFlushed((function(){return r.dataVisible(...arguments)}))})}_process_ready(e,t){var s=this;e.subs.forEach(e=>{s._runWhenAllServerDocsAreFlushed(()=>{var t=s._subscriptions[e];t&&(t.ready||(t.ready=!0,t.readyCallback&&t.readyCallback(),t.readyDeps.changed()))})})}_runWhenAllServerDocsAreFlushed(e){var t=this,s=()=>{t._afterUpdateCallbacks.push(e)},n=0,r=()=>{0===--n&&s()};p(t._serverDocuments).forEach(e=>{t._serverDocuments[e].forEach(e=>{const s=p(e.writtenByStubs).some(e=>{var s=t._methodInvokers[e];return s&&s.sentMessage});s&&(++n,e.flushCallbacks.push(r))})}),0===n&&s()}_livedata_nosub(e){var t=this;if(this._livedata_data(e),g.call(this._subscriptions,e.id)){var s=this._subscriptions[e.id].errorCallback,n=this._subscriptions[e.id].stopCallback;this._subscriptions[e.id].remove();var o=e=>e&&e.error&&new r.Error(e.error.error,e.error.reason,e.error.details);s&&e.error&&s(o(e)),n&&n(o(e))}}_livedata_result(e){var t=this;if(v(this._bufferedWrites)||this._flushBufferedWrites(),v(this._outstandingMethodBlocks))r._debug("Received method result but no methods outstanding");else{for(var s=this._outstandingMethodBlocks[0].methods,n,o=0;o<s.length&&(n=s[o]).methodId!==e.id;o++);n?(s.splice(o,1),g.call(e,"error")?n.receiveResult(new r.Error(e.error.error,e.error.reason,e.error.details)):n.receiveResult(void 0,e.result)):r._debug("Can't match method response to original method call",e)}}_outstandingMethodFinished(){var e=this;if(!this._anyMethodsAreOutstanding()){if(!v(this._outstandingMethodBlocks)){var t=this._outstandingMethodBlocks.shift();if(!v(t.methods))throw new Error("No methods outstanding but nonempty block: "+JSON.stringify(t));v(this._outstandingMethodBlocks)||this._sendOutstandingMethods()}this._maybeMigrate()}}_sendOutstandingMethods(){var e=this;v(this._outstandingMethodBlocks)||this._outstandingMethodBlocks[0].methods.forEach(e=>{e.sendMessage()})}_livedata_error(e){r._debug("Received error from server: ",e.reason),e.offendingMessage&&r._debug("For: ",e.offendingMessage)}_callOnReconnectAndSendAppropriateOutstandingMethods(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect&&e.onReconnect(),h._reconnectHook.each(t=>(t(e),!0)),!v(t)){if(v(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();b(e._outstandingMethodBlocks).wait||t[0].wait||(t[0].methods.forEach(t=>{b(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),t.forEach(t=>{e._outstandingMethodBlocks.push(t)})}}_readyToMigrate(){return v(this._methodInvokers)}_maybeMigrate(){var e=this;this._retryMigrate&&this._readyToMigrate()&&(this._retryMigrate(),this._retryMigrate=null)}onMessage(e){try{var t=o.parseDDP(e)}catch(n){return void r._debug("Exception while parsing DDP",n)}if(this._heartbeat&&this._heartbeat.messageReceived(),null!==t&&t.msg)if("connected"===t.msg)this._version=this._versionSuggestion,this._livedata_connected(t),this.options.onConnected();else if("failed"===t.msg)if(this._supportedDDPVersions.indexOf(t.version)>=0)this._versionSuggestion=t.version,this._stream.reconnect({_force:!0});else{var s="DDP version negotiation failed; server requested version "+t.version;this._stream.disconnect({_permanent:!0,_error:s}),this.options.onDDPVersionNegotiationFailure(s)}else"ping"===t.msg&&this.options.respondToPings?this._send({msg:"pong",id:t.id}):"pong"===t.msg||(["added","changed","removed","ready","updated"].includes(t.msg)?this._livedata_data(t):"nosub"===t.msg?this._livedata_nosub(t):"result"===t.msg?this._livedata_result(t):"error"===t.msg?this._livedata_error(t):r._debug("discarding unknown livedata message type",t));else t&&t.server_id||r._debug("discarding invalid livedata message",t)}onReset(){var e={msg:"connect"};if(this._lastSessionId&&(e.session=this._lastSessionId),e.version=this._versionSuggestion||this._supportedDDPVersions[0],this._versionSuggestion=e.version,e.support=this._supportedDDPVersions,this._send(e),this._outstandingMethodBlocks.length>0){const e=this._outstandingMethodBlocks[0].methods;this._outstandingMethodBlocks[0].methods=e.filter(e=>(e.sentMessage&&e.noRetry&&e.receiveResult(new r.Error("invocation-failed","Method invocation might have failed due to dropped connection. Failing because `noRetry` option was passed to Meteor.apply.")),!(e.sentMessage&&e.noRetry)))}this._outstandingMethodBlocks.length>0&&0===this._outstandingMethodBlocks[0].methods.length&&this._outstandingMethodBlocks.shift(),p(this._methodInvokers).forEach(e=>{this._methodInvokers[e].sentMessage=!1}),this._callOnReconnectAndSendAppropriateOutstandingMethods(),p(this._subscriptions).forEach(e=>{const t=this._subscriptions[e];this._send({msg:"sub",id:e,name:t.name,params:t.params})})}}},"namespace.js":function e(t,s,e){let n,r,o,i;e.export({DDP:()=>d}),e.link("meteor/ddp-common",{DDPCommon(e){n=e}},0),e.link("meteor/meteor",{Meteor(e){r=e}},1),e.link("meteor/ddp-common/utils.js",{keys(e){o=e}},2),e.link("./livedata_connection.js",{Connection(e){i=e}},3);const a=[],d={};function c(e){this.message=e}d._CurrentMethodInvocation=new r.EnvironmentVariable,d._CurrentPublicationInvocation=new r.EnvironmentVariable,d._CurrentInvocation=d._CurrentMethodInvocation,d.ConnectionError=r.makeErrorType("DDP.ConnectionError",c),d.ForcedReconnectError=r.makeErrorType("DDP.ForcedReconnectError",()=>{}),d.randomStream=e=>{var t=d._CurrentMethodInvocation.get();return n.RandomStream.get(t,e)},d.connect=(e,t)=>{var s=new i(e,t);return a.push(s),s},d._reconnectHook=new u({bindEnvironment:!1}),d.onReconnect=e=>d._reconnectHook.register(e),d._allSubscriptionsReady=()=>a.every(e=>o(e._subscriptions).every(t=>e._subscriptions[t].ready))}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/ddp-client/client/client.js");Package._define("ddp-client",D,{DDP:b})}();

!function(){var a=Package["ddp-client"].DDP;Package._define("ddp",{DDP:a})}();

Package._define("ddp-server");

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,n=Package.minimongo.LocalCollection,r=Package.minimongo.Minimongo,i=Package.check.check,c=Package.check.Match,s=Package.ejson.EJSON,l=Package["ddp-client"].DDP,a=Package.modules.meteorInstall,d=Package.promise.Promise,f,u;a({node_modules:{meteor:{"allow-deny":{"allow-deny.js":function t(){const o=Object.prototype.hasOwnProperty,r=(f={CollectionPrototype:{}}).CollectionPrototype;r.allow=function(e){h(this,"allow",e)},r.deny=function(e){h(this,"deny",e)},r._defineMutationMethods=function(t){const n=this;if(t=t||{},n._restricted=!1,n._insecure=void 0,n._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},n._name&&(n._prefix="/"+n._name+"/",n._connection&&(n._connection===e.server||e.isClient))){const r={};["insert","update","remove"].forEach(s=>{const l=n._prefix+s;if(t.useExisting){const t=e.isClient?"_methodHandlers":"method_handlers";if(n._connection[t]&&"function"==typeof n._connection[t][l])return}r[l]=function(){i(arguments,[c.Any]);const t=Array.from(arguments);try{let r=null;if("insert"!==s||o.call(t[0],"_id")||(r=n._makeNewID()),this.isSimulation)return null!==r&&(t[0]._id=r),n._collection[s].apply(n._collection,t);if("insert"!==s&&_(t[0],s),n._restricted){if(0===n._validators[s].allow.length)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+s+"'.");const o="_validated"+s.charAt(0).toUpperCase()+s.slice(1);return t.unshift(this.userId),"insert"===s&&t.push(r),n[o].apply(n,t)}if(n._isInsecure())return null!==r&&(t[0]._id=r),n._collection[s].apply(n._collection,t);throw new e.Error(403,"Access denied")}catch(r){throw"MongoError"===r.name||"MinimongoError"===r.name?new e.Error(409,r.toString()):r}}}),n._connection.methods(r)}},r._updateFetch=function(e){const t=this;if(!t._validators.fetchAllFields)if(e){const o=Object.create(null),n=e=>e&&e.forEach(e=>o[e]=1);n(t._validators.fetch),n(e),t._validators.fetch=Object.keys(o)}else t._validators.fetchAllFields=!0,t._validators.fetch=null},r._isInsecure=function(){const e=this;return void 0===this._insecure?!!Package.insecure:this._insecure},r._validatedInsert=function(t,o,n){const r=this;if(this._validators.insert.deny.some(e=>e(t,u(e,o,n))))throw new e.Error(403,"Access denied");if(this._validators.insert.allow.every(e=>!e(t,u(e,o,n))))throw new e.Error(403,"Access denied");null!==n&&(o._id=n),this._collection.insert.call(this._collection,o)},r._validatedUpdate=function(t,r,c,s){const l=this;if(i(c,Object),s=Object.assign(Object.create(null),s),!n._selectorIsIdPerhapsAsObject(r))throw new Error("validated update should be of a single ID");if(s.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");const f="Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.",u=Object.keys(c),h={};if(0===u.length)throw new e.Error(403,f);u.forEach(t=>{const n=c[t];if("$"!==t.charAt(0))throw new e.Error(403,f);if(!o.call(a,t))throw new e.Error(403,"Access denied. Operator "+t+" not allowed in a restricted collection.");Object.keys(n).forEach(e=>{-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),h[e]=!0})});const _=Object.keys(h),m={transform:null};l._validators.fetchAllFields||(m.fields={},l._validators.fetch.forEach(e=>{m.fields[e]=1}));const w=l._collection.findOne(r,m);if(!w)return 0;if(l._validators.update.deny.some(e=>{const o=d(e,w);return e(t,o,_,c)}))throw new e.Error(403,"Access denied");if(l._validators.update.allow.every(e=>{const o=d(e,w);return!e(t,o,_,c)}))throw new e.Error(403,"Access denied");return s._forbidReplace=!0,l._collection.update.call(l._collection,r,c,s)};const a={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};function d(e,t){return e.transform?e.transform(t):t}function u(e,t,o){let n=t;return e.transform&&(n=s.clone(t),null!==o&&(n._id=o),n=e.transform(n)),n}function h(e,t,r){const i=/^(?:insert|update|remove|fetch|transform)$/;if(Object.keys(r).forEach(e=>{if(!i.test(e))throw new Error(t+": Invalid key: "+e)}),e._restricted=!0,["insert","update","remove"].forEach(i=>{if(o.call(r,i)){if(!(r[i]instanceof Function))throw new Error(t+": Value for `"+i+"` must be a function");void 0===r.transform?r[i].transform=e._transform:r[i].transform=n.wrapTransform(r.transform),e._validators[i][t].push(r[i])}}),r.update||r.remove||r.fetch){if(r.fetch&&!(r.fetch instanceof Array))throw new Error(t+": Value for `fetch` must be an array");e._updateFetch(r.fetch)}}function _(t,o){if(!n._selectorIsIdPerhapsAsObject(t))throw new e.Error(403,"Not permitted. Untrusted code may only "+o+" documents by ID.")}function m(){var e;const t=(l._CurrentMethodInvocation||l._CurrentInvocation).get();return t&&t.isSimulation}r._validatedRemove=function(t,o){const n=this,r={transform:null};n._validators.fetchAllFields||(r.fields={},n._validators.fetch.forEach(e=>{r.fields[e]=1}));const i=n._collection.findOne(o,r);if(!i)return 0;if(n._validators.remove.deny.some(e=>e(t,d(e,i))))throw new e.Error(403,"Access denied");if(n._validators.remove.allow.every(e=>!e(t,d(e,i))))throw new e.Error(403,"Access denied");return n._collection.remove.call(n._collection,o)},r._callMutatorMethod=function t(o,n,r){!e.isClient||r||m()||(r=function(t){t&&e._debug(o+" failed: "+(t.reason||t.stack))});const i="update"===o||"remove"===o;i&&!m()&&_(n[0],o);const c=this._prefix+o;return this._connection.apply(c,n,{returnStubValue:!0},r)}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/allow-deny/allow-deny.js"),Package._define("allow-deny",{AllowDeny:f})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,t=Package.meteor.meteorEnv,n=Package["allow-deny"].AllowDeny,r=Package.random.Random,i=Package.ejson.EJSON,c=Package.minimongo.LocalCollection,l=Package.minimongo.Minimongo,s=Package["ddp-client"].DDP,a=Package.tracker.Tracker,d=Package.tracker.Deps,_=Package["diff-sequence"].DiffSequence,u=Package["mongo-id"].MongoID,h=Package.check.check,f=Package.check.Match,g=Package.modules.meteorInstall,m=Package.promise.Promise,p,v,w,C,b=g({node_modules:{meteor:{mongo:{"local_collection_driver.js":function e(o,t,e){e.export({LocalCollectionDriver:()=>n});const n=new class e{constructor(){this.noConnCollections=Object.create(null)}open(e,o){return e?o?(o._mongo_livedata_collections||(o._mongo_livedata_collections=Object.create(null)),r(e,o._mongo_livedata_collections)):r(e,this.noConnCollections):new c}};function r(e,o){return e in o?o[e]:o[e]=new c(e)}},"collection.js":function o(t,l,o){(function(o){let l;function a(e,o){return e&&function(t,n){t?e(t):e(t,"function"==typeof o?o(n):n)}}function d(e){if(e.length&&(void 0===e[e.length-1]||e[e.length-1]instanceof Function))return e.pop()}o.link("@babel/runtime/helpers/objectSpread2",{default(e){l=e}},0),(p={}).Collection=function o(n,i){if(n||null===n||(e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),n=null),null!==n&&"string"!=typeof n)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(i&&i.methods&&(i={connection:i}),i&&i.manager&&!i.connection&&(i.connection=i.manager),(i=l({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},i)).idGeneration){case"MONGO":this._makeNewID=function(){var e=n?s.randomStream("/collection/"+n):r.insecure;return new p.ObjectID(e.hexString(24))};break;case"STRING":default:this._makeNewID=function(){var e;return(n?s.randomStream("/collection/"+n):r.insecure).id()}}if(this._transform=c.wrapTransform(i.transform),n&&null!==i.connection?i.connection?this._connection=i.connection:e.isClient?this._connection=e.connection:this._connection=e.server:this._connection=null,!i._driver)if(n&&this._connection===e.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver)i._driver=MongoInternals.defaultRemoteCollectionDriver();else{const{LocalCollectionDriver:e}=t("./local_collection_driver.js");i._driver=e}if(this._collection=i._driver.open(n,this._connection),this._name=n,this._driver=i._driver,this._maybeSetUpReplication(n,i),!1!==i.defineMutationMethods)try{this._defineMutationMethods({useExisting:!0===i._suppressSameNameError})}catch(a){if(a.message==="A method named '/".concat(n,"/insert' is already defined"))throw new Error('There is already a collection named "'.concat(n,'"'));throw a}Package.autopublish&&!i._preventAutopublish&&this._connection&&this._connection.publish&&this._connection.publish(null,()=>this.find(),{is_auto:!0})},Object.assign(p.Collection.prototype,{_maybeSetUpReplication(e,o){let{_suppressSameNameError:t=!1}=o;const n=this;if(!n._connection||!n._connection.registerStore)return;const r=n._connection.registerStore(e,{beginUpdate(e,o){(e>1||o)&&n._collection.pauseObservers(),o&&n._collection.remove({})},update(e){var o=u.idParse(e.id),t=n._collection._docs.get(o);if("replace"!==e.msg)if("added"===e.msg){if(t)throw new Error("Expected not to find a document already present for an add");n._collection.insert(l({_id:o},e.fields))}else if("removed"===e.msg){if(!t)throw new Error("Expected to find a document already present for removed");n._collection.remove(o)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");{if(!t)throw new Error("Expected to find a document to change");const c=Object.keys(e.fields);if(c.length>0){var r={};c.forEach(o=>{const n=e.fields[o];i.equals(t[o],n)||(void 0===n?(r.$unset||(r.$unset={}),r.$unset[o]=1):(r.$set||(r.$set={}),r.$set[o]=n))}),Object.keys(r).length>0&&n._collection.update(o,r)}}}else{var c=e.replace;c?t?n._collection.update(o,c):n._collection.insert(c):t&&n._collection.remove(o)}},endUpdate(){n._collection.resumeObservers()},saveOriginals(){n._collection.saveOriginals()},retrieveOriginals:()=>n._collection.retrieveOriginals(),getDoc:e=>n.findOne(e),_getCollection:()=>n});if(!r){const o='There is already a collection named "'.concat(e,'"');if(!0!==t)throw new Error(o);console.warn?console.warn(o):console.log(o)}},_getFindSelector:e=>0==e.length?{}:e[0],_getFindOptions(e){var o=this;return e.length<2?{transform:this._transform}:(h(e[1],f.Optional(f.ObjectIncluding({fields:f.Optional(f.OneOf(Object,void 0)),sort:f.Optional(f.OneOf(Object,Array,Function,void 0)),limit:f.Optional(f.OneOf(Number,void 0)),skip:f.Optional(f.OneOf(Number,void 0))}))),l({transform:this._transform},e[1]))},find(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return this._collection.find(this._getFindSelector(o),this._getFindOptions(o))},findOne(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return this._collection.findOne(this._getFindSelector(o),this._getFindOptions(o))}}),Object.assign(p.Collection,{_publishCursor(e,o,t){var n=e.observeChanges({added:function(e,n){o.added(t,e,n)},changed:function(e,n){o.changed(t,e,n)},removed:function(e){o.removed(t,e)}},{nonMutatingCallbacks:!0});return o.onStop((function(){n.stop()})),n},_rewriteSelector(e){let{fallbackId:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c._selectorIsId(e)&&(e={_id:e}),Array.isArray(e))throw new Error("Mongo selector can't be an array.");return!e||"_id"in e&&!e._id?{_id:o||r.id()}:e}}),Object.assign(p.Collection.prototype,{insert(e,o){if(!e)throw new Error("insert requires an argument");if("_id"in(e=Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e)))){if(!e._id||!("string"==typeof e._id||e._id instanceof p.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{let o=!0;if(this._isRemoteCollection()){const e=s._CurrentMethodInvocation.get();e||(o=!1)}o&&(e._id=this._makeNewID())}var t=function(o){return e._id?e._id:(e._id=o,o)};const n=a(o,t);if(this._isRemoteCollection()){const o=this._callMutatorMethod("insert",[e],n);return t(o)}try{const o=this._collection.insert(e,n);return t(o)}catch(r){if(o)return o(r),null;throw r}},update(e,o){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];const i=d(n),c=l({},n[0]||null);let s;if(c&&c.upsert)if(c.insertedId){if(!("string"==typeof c.insertedId||c.insertedId instanceof p.ObjectID))throw new Error("insertedId must be string or ObjectID");s=c.insertedId}else e&&e._id||(s=this._makeNewID(),c.generatedId=!0,c.insertedId=s);e=p.Collection._rewriteSelector(e,{fallbackId:s});const _=a(i);if(this._isRemoteCollection()){const t=[e,o,c];return this._callMutatorMethod("update",t,_)}try{return this._collection.update(e,o,c,_)}catch(u){if(i)return i(u),null;throw u}},remove(e,o){e=p.Collection._rewriteSelector(e);const t=a(o);if(this._isRemoteCollection())return this._callMutatorMethod("remove",[e],t);try{return this._collection.remove(e,t)}catch(n){if(o)return o(n),null;throw n}},_isRemoteCollection(){return this._connection&&this._connection!==e.server},upsert(e,o,t,n){return n||"function"!=typeof t||(n=t,t={}),this.update(e,o,l({},t,{_returnObject:!0,upsert:!0}),n)},_ensureIndex(e,o){var t=this;if(!this._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");this._collection._ensureIndex(e,o)},_dropIndex(e){var o=this;if(!this._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");this._collection._dropIndex(e)},_dropCollection(){var e=this;if(!this._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");this._collection.dropCollection()},_createCappedCollection(e,o){var t=this;if(!this._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");this._collection._createCappedCollection(e,o)},rawCollection(){var e=this;if(!this._collection.rawCollection)throw new Error("Can only call rawCollection on server collections");return this._collection.rawCollection()},rawDatabase(){var e=this;if(!this._driver.mongo||!this._driver.mongo.db)throw new Error("Can only call rawDatabase on server collections");return this._driver.mongo.db}}),p.ObjectID=u.ObjectID,p.Cursor=c.Cursor,p.Collection.Cursor=p.Cursor,p.Collection.ObjectID=p.ObjectID,e.Collection=p.Collection,Object.assign(e.Collection.prototype,n.CollectionPrototype)}).call(this,o)}}}}},{extensions:[".js",".json"]});b("/node_modules/meteor/mongo/local_collection_driver.js"),b("/node_modules/meteor/mongo/collection.js"),Package._define("mongo",{Mongo:p})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,i=Package.meteor.meteorEnv,s=Package.tracker.Tracker,a=Package.tracker.Deps,c=Package.ejson.EJSON,r=Package.modules.meteorInstall,n=Package.promise.Promise,o,l,h,d=r({node_modules:{meteor:{"reactive-dict":{"migration.js":function t(i,s,t){let a;t.export({ReactiveDict:()=>a}),t.link("./reactive-dict",{ReactiveDict(e){a=e}},0);const c=Object.prototype.hasOwnProperty;if(a._migratedDictData={},a._dictsToMigrate={},a._loadMigratedDict=function(e){if(c.call(a._migratedDictData,e)){const t=a._migratedDictData[e];return delete a._migratedDictData[e],t}return null},a._registerDictForMigrate=function(e,t){if(c.call(a._dictsToMigrate,e))throw new Error("Duplicate ReactiveDict name: "+e);a._dictsToMigrate[e]=t},e.isClient&&Package.reload){var r=Package.reload.Reload._migrationData("reactive-dict");r&&r.dicts&&(a._migratedDictData=r.dicts),Package.reload.Reload._onMigrate("reactive-dict",(function(){var e=a._dictsToMigrate,t={};for(var i in e)t[i]=e[i]._getMigrationData();return[!0,{dicts:t}]}))}},"reactive-dict.js":function t(i,a,t){t.export({ReactiveDict:()=>h});const r=Object.prototype.hasOwnProperty;function n(e){return void 0===e?"undefined":c.stringify(e)}function o(e){if(void 0!==e&&"undefined"!==e)return c.parse(e)}function l(e){e&&e.changed()}class h{constructor(t,i){if(this.keys={},t)if("string"==typeof t){e.isClient&&h._registerDictForMigrate(t,this);const s=e.isClient&&h._loadMigratedDict(t);s?this.keys=s:this._setObject(i||{}),this.name=t}else{if("object"!=typeof t)throw new Error("Invalid ReactiveDict argument: "+t);this._setObject(t)}else"object"==typeof i&&this._setObject(i);this.allDeps=new s.Dependency,this.keyDeps={},this.keyValueDeps={}}set(e,t){if("object"==typeof e&&void 0===t)return void this._setObject(e);const i=e;t=n(t);const s=r.call(this.keys,i),a=s?this.keys[i]:"undefined",c=t!==a;this.keys[i]=t,!c&&s||l(this.allDeps),c&&this.keyDeps&&(l(this.keyDeps[i]),this.keyValueDeps[i]&&(l(this.keyValueDeps[i][a]),l(this.keyValueDeps[i][t])))}setDefault(e,t){if("object"==typeof e&&void 0===t)return void this._setDefaultObject(e);const i=e;r.call(this.keys,i)||this.set(i,t)}get(e){return this._ensureKey(e),this.keyDeps[e].depend(),o(this.keys[e])}equals(e,t){let i=null;if(Package.mongo&&(i=Package.mongo.Mongo.ObjectID),!("string"==typeof t||"number"==typeof t||"boolean"==typeof t||void 0===t||t instanceof Date||i&&t instanceof i||null===t))throw new Error("ReactiveDict.equals: value must be scalar");const a=n(t);var l;s.active&&(this._ensureKey(e),r.call(this.keyValueDeps[e],a)||(this.keyValueDeps[e][a]=new s.Dependency),this.keyValueDeps[e][a].depend()&&s.onInvalidate(()=>{this.keyValueDeps[e][a].hasDependents()||delete this.keyValueDeps[e][a]}));let h=void 0;return r.call(this.keys,e)&&(h=o(this.keys[e])),c.equals(h,t)}all(){this.allDeps.depend();let e={};return Object.keys(this.keys).forEach(t=>{e[t]=o(this.keys[t])}),e}clear(){const e=this.keys;this.keys={},this.allDeps.changed(),Object.keys(e).forEach(t=>{l(this.keyDeps[t]),this.keyValueDeps[t]&&(l(this.keyValueDeps[t][e[t]]),l(this.keyValueDeps[t][void 0]))})}delete(e){let t=!1;if(r.call(this.keys,e)){const i=this.keys[e];delete this.keys[e],l(this.keyDeps[e]),this.keyValueDeps[e]&&(l(this.keyValueDeps[e][i]),l(this.keyValueDeps[e][void 0])),this.allDeps.changed(),t=!0}return t}destroy(){this.clear(),this.name&&r.call(h._dictsToMigrate,this.name)&&delete h._dictsToMigrate[this.name]}_setObject(e){Object.keys(e).forEach(t=>{this.set(t,e[t])})}_setDefaultObject(e){Object.keys(e).forEach(t=>{this.setDefault(t,e[t])})}_ensureKey(e){e in this.keyDeps||(this.keyDeps[e]=new s.Dependency,this.keyValueDeps[e]={})}_getMigrationData(){return this.keys}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/reactive-dict/migration.js");Package._define("reactive-dict",d,{ReactiveDict:void 0})}();

!function(){var e=Package.meteor.Meteor,s=Package.meteor.global,o=Package.meteor.meteorEnv,i=Package["reactive-dict"].ReactiveDict,n=Package.ejson.EJSON,t=Package.modules.meteorInstall,a=Package.promise.Promise,c,r,m=t({node_modules:{meteor:{session:{"session.js":function e(s,o,e){let i;e.export({Session:()=>n}),e.link("meteor/reactive-dict",{ReactiveDict(e){i=e}},0);const n=new i("session")}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/session/session.js");Package._define("session",m,{Session:void 0})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,n=Package.meteor.meteorEnv,i,t;(function(){if((i={}).pageview=function(e){console.log("Analytics code is not loaded yet.")},i.event=function(e,o,n,i){console.log("Analytics code is not loaded yet.")},t=function(e,o,n,i,t,a,c){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,a=o.createElement(n),c=o.getElementsByTagName(n)[0],a.async=1,a.src=i,c.parentNode.insertBefore(a,c)},e.settings&&void 0!==e.settings.public&&void 0!==e.settings.public.ga&&void 0!==e.settings.public.ga.account){t(window,document,"script","https://www.google-analytics.com/analytics.js","ga");var o=e.settings.public.ga,n={};void 0!==o.cookieName&&(n.cookieName=o.cookieName),void 0!==o.cookieDomain&&(n.cookieDomain=o.cookieDomain),void 0!==o.cookieExpires&&(n.cookieExpires=o.cookieExpires),0===Object.keys(n).length&&(n="auto"),ga("create",o.account,n),o.anonymizeIp&&ga("set","anonymizeIp",!0),o.trackInterests&&ga("require","displayfeatures"),o.trackInPage&&ga("require","linkid","linkid.js"),i.pageview=function(e){o.debug&&console.log("Logging pageview: "+e),e||(e=window.location.pathname),ga("send","pageview",e)},i.event=function(e,n,i,t){o.debug&&console.log("Logging event: "+e+" | "+n+" | "+i+" | "+t),ga("send","event",e,n,i,t)}}else console.log("public.ga.account has not been set in your settings.json file.")}).call(this),Package._define("datariot:ganalytics",{GAnalytics:i})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,o=Package["reactive-var"].ReactiveVar,n,i;(function(){(n=function(){this.path=new o(window.location.pathname)}).prototype.go=function(e){this.path.set(e),window.history.pushState("","",e)},i=new n,window.onpopstate=function(e){i.path.set(window.location.pathname)}}).call(this),Package._define("danimal:simplerouter",{SimpleRouter:i})}();

Package._define("coffeescript");

!function(){var Meteor=Package.meteor.Meteor,global=Package.meteor.global,meteorEnv=Package.meteor.meteorEnv,html,chai,__coffeescriptShare,assert,expect,should;(function(){(function(){!function(){function require(e){var t=require.modules[e];if(!t)throw new Error('failed to require "'+e+'"');return"exports"in t||"function"!=typeof t.definition||(t.client=t.component=!0,t.definition.call(this,t.exports={},t),delete t.definition),t.exports}require.loader="component",require.helper={},require.helper.semVerSort=function(e,t){for(var i=e.version.split("."),n=t.version.split("."),r=0;r<i.length;++r){var o=parseInt(i[r],10),s=parseInt(n[r],10);if(o!==s)return o>s?1:-1;var a=i[r].substr((""+o).length),c=n[r].substr((""+s).length);if(""===a&&""!==c)return 1;if(""!==a&&""===c)return-1;if(""!==a&&""!==c)return a>c?1:-1}return 0},require.latest=function(e,t){function i(e){throw new Error('failed to find latest module of "'+e+'"')}var n=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/,r;/(.*)~(.*)/.test(e)||i(e);for(var o=Object.keys(require.modules),s=[],a=[],c=0;c<o.length;c++){var h=o[c];if(new RegExp(e+"@").test(h)){var u=h.substr(e.length+1),l;null!=n.exec(h)?s.push({version:u,name:h}):a.push({version:u,name:h})}}if(0===s.concat(a).length&&i(e),s.length>0){var f=s.sort(require.helper.semVerSort).pop().name;return!0===t?f:require(f)}var f=a.sort((function(e,t){return e.name>t.name}))[0].name;return!0===t?f:require(f)},require.modules={},require.register=function(e,t){require.modules[e]={definition:t}},require.define=function(e,t){require.modules[e]={exports:t}},require.register("chaijs~assertion-error@1.0.0",(function(e,t){
/*!                                                                                                               // 142
 * assertion-error                                                                                                // 143
 * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>                                                               // 144
 * MIT Licensed                                                                                                   // 145
 */
/*!                                                                                                               // 148
 * Return a function that will copy properties from                                                               // 149
 * one object to another excluding any originally                                                                 // 150
 * listed. Returned function will create a new `{}`.                                                              // 151
 *                                                                                                                // 152
 * @param {String} excluded properties ...                                                                        // 153
 * @return {Function}                                                                                             // 154
 */
function i(){var e=[].slice.call(arguments);function t(t,i){Object.keys(i).forEach((function(n){~e.indexOf(n)||(t[n]=i[n])}))}return function e(){for(var i=[].slice.call(arguments),n=0,r={};n<i.length;n++)t(r,i[n]);return r}}function n(e,t,n){var r,o=i("name","message","stack","constructor","toJSON")(t||{});for(var s in this.message=e||"Unspecified AssertionError",this.showDiff=!1,o)this[s]=o[s];(n=n||arguments.callee)&&Error.captureStackTrace&&Error.captureStackTrace(this,n)}
/*!                                                                                                               // 216
 * Inherit from Error.prototype                                                                                   // 217
 */
/*!                                                                                                               // 179
 * Primary Exports                                                                                                // 180
 */
t.exports=n,n.prototype=Object.create(Error.prototype),
/*!                                                                                                               // 222
 * Statically set name                                                                                            // 223
 */
n.prototype.name="AssertionError",
/*!                                                                                                               // 228
 * Ensure correct constructor                                                                                     // 229
 */
n.prototype.constructor=n,n.prototype.toJSON=function(e){var t,n=i("constructor","toJSON","stack")({name:this.name},this);return!1!==e&&this.stack&&(n.stack=this.stack),n}})),require.register("chaijs~type-detect@0.1.1",(function(e,t){
/*!                                                                                                               // 256
 * type-detect                                                                                                    // 257
 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>                                                         // 258
 * MIT Licensed                                                                                                   // 259
 */
/*!                                                                                                               // 262
 * Primary Exports                                                                                                // 263
 */
var e=t.exports=n,i={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"};
/*!                                                                                                               // 268
 * Detectable javascript natives                                                                                  // 269
 */function n(e){var t=Object.prototype.toString.call(e);return i[t]?i[t]:null===e?"null":void 0===e?"undefined":e===Object(e)?"object":typeof e}function r(){this.tests={}}e.Library=r,r.prototype.of=n,r.prototype.define=function(e,t){return 1===arguments.length?this.tests[e]:(this.tests[e]=t,this)},r.prototype.test=function(e,t){if(t===n(e))return!0;var i=this.tests[t];if(i&&"regexp"===n(i))return i.test(e);if(i&&"function"===n(i))return i(e);throw new ReferenceError('Type test "'+t+'" not defined or invalid.')}})),require.register("chaijs~deep-eql@0.1.3",(function(e,t){
/*!                                                                                                               // 402
 * deep-eql                                                                                                       // 403
 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>                                                         // 404
 * MIT Licensed                                                                                                   // 405
 */
/*!                                                                                                               // 408
 * Module dependencies                                                                                            // 409
 */
var i=require("chaijs~type-detect@0.1.1"),n;
/*!                                                                                                               // 414
 * Buffer.isBuffer browser shim                                                                                   // 415
 */try{n=require("buffer").Buffer}catch(b){(n={}).isBuffer=function(){return!1}}
/*!                                                                                                               // 425
 * Primary Export                                                                                                 // 426
 */function r(e,t,r){return!!o(e,t)||("date"===i(e)?a(e,t):"regexp"===i(e)?c(e,t):n.isBuffer(e)?f(e,t):"arguments"===i(e)?h(e,t,r):!!s(e,t)&&("object"!==i(e)&&"object"!==i(t)&&"array"!==i(e)&&"array"!==i(t)?o(e,t):d(e,t,r)))}
/*!                                                                                                               // 462
 * Strict (egal) equality test. Ensures that NaN always                                                           // 463
 * equals NaN and `-0` does not equal `+0`.                                                                       // 464
 *                                                                                                                // 465
 * @param {Mixed} a                                                                                               // 466
 * @param {Mixed} b                                                                                               // 467
 * @return {Boolean} equal match                                                                                  // 468
 */function o(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}
/*!                                                                                                               // 476
 * Compare the types of two given objects and                                                                     // 477
 * return if they are equal. Note that an Array                                                                   // 478
 * has a type of `array` (not `object`) and arguments                                                             // 479
 * have a type of `arguments` (not `array`/`object`).                                                             // 480
 *                                                                                                                // 481
 * @param {Mixed} a                                                                                               // 482
 * @param {Mixed} b                                                                                               // 483
 * @return {Boolean} result                                                                                       // 484
 */function s(e,t){return i(e)===i(t)}
/*!                                                                                                               // 491
 * Compare two Date objects by asserting that                                                                     // 492
 * the time values are equal using `saveValue`.                                                                   // 493
 *                                                                                                                // 494
 * @param {Date} a                                                                                                // 495
 * @param {Date} b                                                                                                // 496
 * @return {Boolean} result                                                                                       // 497
 */function a(e,t){return"date"===i(t)&&o(e.getTime(),t.getTime())}
/*!                                                                                                               // 505
 * Compare two regular expressions by converting them                                                             // 506
 * to string and checking for `sameValue`.                                                                        // 507
 *                                                                                                                // 508
 * @param {RegExp} a                                                                                              // 509
 * @param {RegExp} b                                                                                              // 510
 * @return {Boolean} result                                                                                       // 511
 */function c(e,t){return"regexp"===i(t)&&o(e.toString(),t.toString())}
/*!                                                                                                               // 519
 * Assert deep equality of two `arguments` objects.                                                               // 520
 * Unfortunately, these must be sliced to arrays                                                                  // 521
 * prior to test to ensure no bad behavior.                                                                       // 522
 *                                                                                                                // 523
 * @param {Arguments} a                                                                                           // 524
 * @param {Arguments} b                                                                                           // 525
 * @param {Array} memoize (optional)                                                                              // 526
 * @return {Boolean} result                                                                                       // 527
 */function h(e,t,n){return"arguments"===i(t)&&r(e=[].slice.call(e),t=[].slice.call(t),n)}
/*!                                                                                                               // 537
 * Get enumerable properties of a given object.                                                                   // 538
 *                                                                                                                // 539
 * @param {Object} a                                                                                              // 540
 * @return {Array} property names                                                                                 // 541
 */function u(e){var t=[];for(var i in e)t.push(i);return t}
/*!                                                                                                               // 550
 * Simple equality for flat iterable objects                                                                      // 551
 * such as Arrays or Node.js buffers.                                                                             // 552
 *                                                                                                                // 553
 * @param {Iterable} a                                                                                            // 554
 * @param {Iterable} b                                                                                            // 555
 * @return {Boolean} result                                                                                       // 556
 */function l(e,t){if(e.length!==t.length)return!1;for(var i=0,n=!0;i<e.length;i++)if(e[i]!==t[i]){n=!1;break}return n}
/*!                                                                                                               // 575
 * Extension to `iterableEqual` specifically                                                                      // 576
 * for Node.js Buffers.                                                                                           // 577
 *                                                                                                                // 578
 * @param {Buffer} a                                                                                              // 579
 * @param {Mixed} b                                                                                               // 580
 * @return {Boolean} result                                                                                       // 581
 */function f(e,t){return!!n.isBuffer(t)&&l(e,t)}
/*!                                                                                                               // 589
 * Block for `objectEqual` ensuring non-existing                                                                  // 590
 * values don't get in.                                                                                           // 591
 *                                                                                                                // 592
 * @param {Mixed} object                                                                                          // 593
 * @return {Boolean} result                                                                                       // 594
 */function p(e){return null!=e}
/*!                                                                                                               // 601
 * Recursively check the equality of two objects.                                                                 // 602
 * Once basic sameness has been established it will                                                               // 603
 * defer to `deepEqual` for each enumerable key                                                                   // 604
 * in the object.                                                                                                 // 605
 *                                                                                                                // 606
 * @param {Mixed} a                                                                                               // 607
 * @param {Mixed} b                                                                                               // 608
 * @return {Boolean} result                                                                                       // 609
 */function d(e,t,i){if(!p(e)||!p(t))return!1;if(e.prototype!==t.prototype)return!1;var n,o;if(i){for(n=0;n<i.length;n++)if(i[n][0]===e&&i[n][1]===t||i[n][0]===t&&i[n][1]===e)return!0}else i=[];try{var s=u(e),a=u(t)}catch(b){return!1}if(s.sort(),a.sort(),!l(s,a))return!1;for(i.push([e,t]),n=s.length-1;n>=0;n--)if(!r(e[o=s[n]],t[o],i))return!1;return!0}t.exports=r})),require.register("chai",(function(e,t){t.exports=require("chai/lib/chai.js")})),require.register("chai/lib/chai.js",(function(e,t){
/*!                                                                                                               // 668
 * chai                                                                                                           // 669
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 670
 * MIT Licensed                                                                                                   // 671
 */
var i=[],e;
/*!                                                                                                               // 677
 * Chai version                                                                                                   // 678
 */(e=t.exports={}).version="2.1.0",
/*!                                                                                                               // 683
 * Assertion Error                                                                                                // 684
 */
e.AssertionError=require("chaijs~assertion-error@1.0.0");
/*!                                                                                                               // 689
 * Utils for plugins (not exported)                                                                               // 690
 */
var n=require("chai/lib/chai/utils/index.js");e.use=function(e){return~i.indexOf(e)||(e(this,n),i.push(e)),this},
/*!                                                                                                               // 714
 * Utility Functions                                                                                              // 715
 */
e.util=n;
/*!                                                                                                               // 720
 * Configuration                                                                                                  // 721
 */
var r=require("chai/lib/chai/config.js");e.config=r;
/*!                                                                                                               // 727
 * Primary `Assertion` prototype                                                                                  // 728
 */
var o=require("chai/lib/chai/assertion.js");e.use(o);
/*!                                                                                                               // 734
 * Core Assertions                                                                                                // 735
 */
var s=require("chai/lib/chai/core/assertions.js");e.use(s);
/*!                                                                                                               // 741
 * Expect interface                                                                                               // 742
 */
var a=require("chai/lib/chai/interface/expect.js");e.use(a);
/*!                                                                                                               // 748
 * Should interface                                                                                               // 749
 */
var c=require("chai/lib/chai/interface/should.js");e.use(c);
/*!                                                                                                               // 755
 * Assert interface                                                                                               // 756
 */
var h=require("chai/lib/chai/interface/assert.js");e.use(h)})),require.register("chai/lib/chai/assertion.js",(function(e,t){
/*!                                                                                                               // 765
 * chai                                                                                                           // 766
 * http://chaijs.com                                                                                              // 767
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 768
 * MIT Licensed                                                                                                   // 769
 */
var i=require("chai/lib/chai/config.js");t.exports=function(e,t){
/*!                                                                                                             // 775
   * Module dependencies.                                                                                         // 776
   */
var n=e.AssertionError,r=t.flag;
/*!                                                                                                             // 782
   * Module export.                                                                                               // 783
   */
/*!                                                                                                             // 788
   * Assertion Constructor                                                                                        // 789
   *                                                                                                              // 790
   * Creates object for chaining.                                                                                 // 791
   *                                                                                                              // 792
   * @api private                                                                                                 // 793
   */
function o(e,t,i){r(this,"ssfi",i||arguments.callee),r(this,"object",e),r(this,"message",t)}e.Assertion=o,Object.defineProperty(o,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),i.includeStack},set:function(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),i.includeStack=e}}),Object.defineProperty(o,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),i.showDiff},set:function(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),i.showDiff=e}}),o.addProperty=function(e,i){t.addProperty(this.prototype,e,i)},o.addMethod=function(e,i){t.addMethod(this.prototype,e,i)},o.addChainableMethod=function(e,i,n){t.addChainableMethod(this.prototype,e,i,n)},o.overwriteProperty=function(e,i){t.overwriteProperty(this.prototype,e,i)},o.overwriteMethod=function(e,i){t.overwriteMethod(this.prototype,e,i)},o.overwriteChainableMethod=function(e,i,n){t.overwriteChainableMethod(this.prototype,e,i,n)},
/*!                                                                                                             // 848
   * ### .assert(expression, message, negateMessage, expected, actual)                                            // 849
   *                                                                                                              // 850
   * Executes an expression and check expectations. Throws AssertionError for reporting if test doesn't pass.     // 851
   *                                                                                                              // 852
   * @name assert                                                                                                 // 853
   * @param {Philosophical} expression to be tested                                                               // 854
   * @param {String or Function} message or function that returns message to display if fails                     // 855
   * @param {String or Function} negatedMessage or function that returns negatedMessage to display if negated expression fails
   * @param {Mixed} expected value (remember to check for negation)                                               // 857
   * @param {Mixed} actual (optional) will default to `this.obj`                                                  // 858
   * @api private                                                                                                 // 859
   */
o.prototype.assert=function(e,o,s,a,c,h){var u=t.test(this,arguments);if(!0!==h&&(h=!1),!0!==i.showDiff&&(h=!1),!u){var o=t.getMessage(this,arguments),l=t.getActual(this,arguments);throw new n(o,{actual:l,expected:a,showDiff:h},i.includeStack?this.assert:r(this,"ssfi"))}},
/*!                                                                                                             // 878
   * ### ._obj                                                                                                    // 879
   *                                                                                                              // 880
   * Quick reference to stored `actual` value for plugin developers.                                              // 881
   *                                                                                                              // 882
   * @api private                                                                                                 // 883
   */
Object.defineProperty(o.prototype,"_obj",{get:function(){return r(this,"object")},set:function(e){r(this,"object",e)}})}})),require.register("chai/lib/chai/config.js",(function(e,t){t.exports={includeStack:!1,showDiff:!0,truncateThreshold:40}})),require.register("chai/lib/chai/core/assertions.js",(function(e,t){
/*!                                                                                                               // 953
 * chai                                                                                                           // 954
 * http://chaijs.com                                                                                              // 955
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 956
 * MIT Licensed                                                                                                   // 957
 */
t.exports=function(e,t){var i=e.Assertion,n=Object.prototype.toString,r=t.flag;function o(e,i){i&&r(this,"message",i),e=e.toLowerCase();var n=r(this,"object"),o=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";this.assert(e===t.type(n),"expected #{this} to be "+o+e,"expected #{this} not to be "+o+e)}function s(){r(this,"contains",!0)}function a(e,n){n&&r(this,"message",n);var o=r(this,"object"),s=!1;if("array"===t.type(o)&&"object"===t.type(e)){for(var a in o)if(t.eql(o[a],e)){s=!0;break}}else if("object"===t.type(e)){if(!r(this,"negate")){for(var c in e)new i(o).property(c,e[c]);return}var h={};for(var c in e)h[c]=o[c];s=t.eql(h,e)}else s=o&&~o.indexOf(e);this.assert(s,"expected #{this} to include "+t.inspect(e),"expected #{this} to not include "+t.inspect(e))}function c(){var e=r(this,"object"),t=Object.prototype.toString.call(e);this.assert("[object Arguments]"===t,"expected #{this} to be arguments but got "+t,"expected #{this} to not be arguments")}function h(e,t){t&&r(this,"message",t);var i=r(this,"object");if(r(this,"deep"))return this.eql(e);this.assert(e===i,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}function u(e,i){i&&r(this,"message",i),this.assert(t.eql(e,r(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}function l(e,t){t&&r(this,"message",t);var n=r(this,"object");if(r(this,"doLength")){new i(n,t).to.have.property("length");var o=n.length;this.assert(o>e,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",e,o)}else this.assert(n>e,"expected #{this} to be above "+e,"expected #{this} to be at most "+e)}function f(e,t){t&&r(this,"message",t);var n=r(this,"object");if(r(this,"doLength")){new i(n,t).to.have.property("length");var o=n.length;this.assert(o>=e,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",e,o)}else this.assert(n>=e,"expected #{this} to be at least "+e,"expected #{this} to be below "+e)}function p(e,t){t&&r(this,"message",t);var n=r(this,"object");if(r(this,"doLength")){new i(n,t).to.have.property("length");var o=n.length;this.assert(o<e,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",e,o)}else this.assert(n<e,"expected #{this} to be below "+e,"expected #{this} to be at least "+e)}function d(e,t){t&&r(this,"message",t);var n=r(this,"object");if(r(this,"doLength")){new i(n,t).to.have.property("length");var o=n.length;this.assert(o<=e,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",e,o)}else this.assert(n<=e,"expected #{this} to be at most "+e,"expected #{this} to be above "+e)}function b(e,i){i&&r(this,"message",i);var n=t.getName(e);this.assert(r(this,"object")instanceof e,"expected #{this} to be an instance of "+n,"expected #{this} to not be an instance of "+n)}function g(e,i){i&&r(this,"message",i);var n=r(this,"object");this.assert(n.hasOwnProperty(e),"expected #{this} to have own property "+t.inspect(e),"expected #{this} to not have own property "+t.inspect(e))}function v(){r(this,"doLength",!0)}function y(e,t){t&&r(this,"message",t);var n=r(this,"object");new i(n,t).to.have.property("length");var o=n.length;this.assert(o==e,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",e,o)}function j(e){var i=r(this,"object"),n,o=!0,s="keys must be given single argument of Array|Object|String, or multiple String arguments";switch(t.type(e)){case"array":if(arguments.length>1)throw new Error(s);break;case"object":if(arguments.length>1)throw new Error(s);e=Object.keys(e);break;default:e=Array.prototype.slice.call(arguments)}if(!e.length)throw new Error("keys required");var a=Object.keys(i),c=e,h=e.length,u=r(this,"any"),l=r(this,"all"),f;(u||l||(l=!0),u)&&(o=c.filter((function(e){return~a.indexOf(e)})).length>0);if(l&&(o=e.every((function(e){return~a.indexOf(e)})),r(this,"negate")||r(this,"contains")||(o=o&&e.length==a.length)),h>1){var p=(e=e.map((function(e){return t.inspect(e)}))).pop();l&&(n=e.join(", ")+", and "+p),u&&(n=e.join(", ")+", or "+p)}else n=t.inspect(e[0]);n=(h>1?"keys ":"key ")+n,n=(r(this,"contains")?"contain ":"have ")+n,this.assert(o,"expected #{this} to "+n,"expected #{this} to not "+n,c.slice(0).sort(),a.sort(),!0)}function w(e,n,o){o&&r(this,"message",o);var s=r(this,"object");new i(s,o).is.a("function");var a=!1,c=null,h=null,u=null;0===arguments.length?(n=null,e=null):e&&(e instanceof RegExp||"string"==typeof e)?(n=e,e=null):e&&e instanceof Error?(c=e,e=null,n=null):"function"==typeof e?"Error"===(h=e.prototype.name||e.name)&&e!==Error&&(h=(new e).name):e=null;try{s()}catch(d){if(c)return this.assert(d===c,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",c instanceof Error?c.toString():c,d instanceof Error?d.toString():d),r(this,"object",d),this;if(e&&(this.assert(d instanceof e,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",h,d instanceof Error?d.toString():d),!n))return r(this,"object",d),this;var l="object"===t.type(d)&&"message"in d?d.message:""+d;if(null!=l&&n&&n instanceof RegExp)return this.assert(n.exec(l),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",n,l),r(this,"object",d),this;if(null!=l&&n&&"string"==typeof n)return this.assert(~l.indexOf(n),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",n,l),r(this,"object",d),this;a=!0,u=d}var f="",p=null!==h?h:c?"#{exp}":"an error";a&&(f=" but #{act} was thrown"),this.assert(!0===a,"expected #{this} to throw "+p+f,"expected #{this} to not throw "+p+f,c instanceof Error?c.toString():c,u instanceof Error?u.toString():u),r(this,"object",u)}function x(e,t,i){return e.every((function(e){return i?t.some((function(t){return i(e,t)})):-1!==t.indexOf(e)}))}function m(e,t,n){n&&r(this,"message",n);var o=r(this,"object");new i(e,n).to.have.property(t),new i(o).is.a("function");var s=e[t];o(),this.assert(s!==e[t],"expected ."+t+" to change","expected ."+t+" to not change")}function q(e,t,n){n&&r(this,"message",n);var o=r(this,"object");new i(e,n).to.have.property(t),new i(o).is.a("function");var s=e[t];o(),this.assert(e[t]-s>0,"expected ."+t+" to increase","expected ."+t+" to not increase")}function A(e,t,n){n&&r(this,"message",n);var o=r(this,"object");new i(e,n).to.have.property(t),new i(o).is.a("function");var s=e[t];o(),this.assert(e[t]-s<0,"expected ."+t+" to decrease","expected ."+t+" to not decrease")}["to","be","been","is","and","has","have","with","that","which","at","of","same"].forEach((function(e){i.addProperty(e,(function(){return this}))})),i.addProperty("not",(function(){r(this,"negate",!0)})),i.addProperty("deep",(function(){r(this,"deep",!0)})),i.addProperty("any",(function(){r(this,"any",!0),r(this,"all",!1)})),i.addProperty("all",(function(){r(this,"all",!0),r(this,"any",!1)})),i.addChainableMethod("an",o),i.addChainableMethod("a",o),i.addChainableMethod("include",a,s),i.addChainableMethod("contain",a,s),i.addChainableMethod("contains",a,s),i.addChainableMethod("includes",a,s),i.addProperty("ok",(function(){this.assert(r(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")})),i.addProperty("true",(function(){this.assert(!0===r(this,"object"),"expected #{this} to be true","expected #{this} to be false",!this.negate)})),i.addProperty("false",(function(){this.assert(!1===r(this,"object"),"expected #{this} to be false","expected #{this} to be true",!!this.negate)})),i.addProperty("null",(function(){this.assert(null===r(this,"object"),"expected #{this} to be null","expected #{this} not to be null")})),i.addProperty("undefined",(function(){this.assert(void 0===r(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")})),i.addProperty("exist",(function(){this.assert(null!=r(this,"object"),"expected #{this} to exist","expected #{this} to not exist")})),i.addProperty("empty",(function(){var e=r(this,"object"),t=e;Array.isArray(e)||"string"==typeof object?t=e.length:"object"==typeof e&&(t=Object.keys(e).length),this.assert(!t,"expected #{this} to be empty","expected #{this} not to be empty")})),i.addProperty("arguments",c),i.addProperty("Arguments",c),i.addMethod("equal",h),i.addMethod("equals",h),i.addMethod("eq",h),i.addMethod("eql",u),i.addMethod("eqls",u),i.addMethod("above",l),i.addMethod("gt",l),i.addMethod("greaterThan",l),i.addMethod("least",f),i.addMethod("gte",f),i.addMethod("below",p),i.addMethod("lt",p),i.addMethod("lessThan",p),i.addMethod("most",d),i.addMethod("lte",d),i.addMethod("within",(function(e,t,n){n&&r(this,"message",n);var o=r(this,"object"),s=e+".."+t;if(r(this,"doLength")){new i(o,n).to.have.property("length");var a=o.length;this.assert(a>=e&&a<=t,"expected #{this} to have a length within "+s,"expected #{this} to not have a length within "+s)}else this.assert(o>=e&&o<=t,"expected #{this} to be within "+s,"expected #{this} to not be within "+s)})),i.addMethod("instanceof",b),i.addMethod("instanceOf",b),i.addMethod("property",(function(e,i,n){n&&r(this,"message",n);var o=!!r(this,"deep"),s=o?"deep property ":"property ",a=r(this,"negate"),c=r(this,"object"),h=o?t.getPathInfo(e,c):null,u=o?h.exists:t.hasProperty(e,c),l=o?h.value:c[e];if(a&&void 0!==i){if(void 0===l)throw n=null!=n?n+": ":"",new Error(n+t.inspect(c)+" has no "+s+t.inspect(e))}else this.assert(u,"expected #{this} to have a "+s+t.inspect(e),"expected #{this} to not have "+s+t.inspect(e));void 0!==i&&this.assert(i===l,"expected #{this} to have a "+s+t.inspect(e)+" of #{exp}, but got #{act}","expected #{this} to not have a "+s+t.inspect(e)+" of #{act}",i,l),r(this,"object",l)})),i.addMethod("ownProperty",g),i.addMethod("haveOwnProperty",g),i.addChainableMethod("length",y,v),i.addMethod("lengthOf",y),i.addMethod("match",(function(e,t){t&&r(this,"message",t);var i=r(this,"object");this.assert(e.exec(i),"expected #{this} to match "+e,"expected #{this} not to match "+e)})),i.addMethod("string",(function(e,n){n&&r(this,"message",n);var o=r(this,"object");new i(o,n).is.a("string"),this.assert(~o.indexOf(e),"expected #{this} to contain "+t.inspect(e),"expected #{this} to not contain "+t.inspect(e))})),i.addMethod("keys",j),i.addMethod("key",j),i.addMethod("throw",w),i.addMethod("throws",w),i.addMethod("Throw",w),i.addMethod("respondTo",(function(e,i){i&&r(this,"message",i);var n=r(this,"object"),o=r(this,"itself"),s="function"!==t.type(n)||o?n[e]:n.prototype[e];this.assert("function"==typeof s,"expected #{this} to respond to "+t.inspect(e),"expected #{this} to not respond to "+t.inspect(e))})),i.addProperty("itself",(function(){r(this,"itself",!0)})),i.addMethod("satisfy",(function(e,i){i&&r(this,"message",i);var n,o=e(r(this,"object"));this.assert(o,"expected #{this} to satisfy "+t.objDisplay(e),"expected #{this} to not satisfy"+t.objDisplay(e),!this.negate,o)})),i.addMethod("closeTo",(function(e,n,o){o&&r(this,"message",o);var s=r(this,"object");if(new i(s,o).is.a("number"),"number"!==t.type(e)||"number"!==t.type(n))throw new Error("the arguments to closeTo must be numbers");this.assert(Math.abs(s-e)<=n,"expected #{this} to be close to "+e+" +/- "+n,"expected #{this} not to be close to "+e+" +/- "+n)})),i.addMethod("members",(function(e,n){n&&r(this,"message",n);var o=r(this,"object");new i(o).to.be.an("array"),new i(e).to.be.an("array");var s=r(this,"deep")?t.eql:void 0;if(r(this,"contains"))return this.assert(x(e,o,s),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",o,e);this.assert(x(o,e,s)&&x(e,o,s),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",o,e)})),i.addChainableMethod("change",m),i.addChainableMethod("changes",m),i.addChainableMethod("increase",q),i.addChainableMethod("increases",q),i.addChainableMethod("decrease",A),i.addChainableMethod("decreases",A)}})),require.register("chai/lib/chai/interface/assert.js",(function(exports,module){
/*!                                                                                                               // 2491
 * chai                                                                                                           // 2492
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 2493
 * MIT Licensed                                                                                                   // 2494
 */
module.exports=function(chai,util){
/*!                                                                                                             // 2500
   * Chai dependencies.                                                                                           // 2501
   */
var Assertion=chai.Assertion,flag=util.flag,assert=chai.assert=function(e,t){var i;new Assertion(null,null,chai.assert).assert(e,t,"[ negation message unavailable ]")};
/*!                                                                                                             // 2507
   * Module export.                                                                                               // 2508
   */assert.fail=function(e,t,i,n){throw i=i||"assert.fail()",new chai.AssertionError(i,{actual:e,expected:t,operator:n},assert.fail)},assert.ok=function(e,t){new Assertion(e,t).is.ok},assert.notOk=function(e,t){new Assertion(e,t).is.not.ok},assert.equal=function(e,t,i){var n=new Assertion(e,i,assert.equal);n.assert(t==flag(n,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e)},assert.notEqual=function(e,t,i){var n=new Assertion(e,i,assert.notEqual);n.assert(t!=flag(n,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e)},assert.strictEqual=function(e,t,i){new Assertion(e,i).to.equal(t)},assert.notStrictEqual=function(e,t,i){new Assertion(e,i).to.not.equal(t)},assert.deepEqual=function(e,t,i){new Assertion(e,i).to.eql(t)},assert.notDeepEqual=function(e,t,i){new Assertion(e,i).to.not.eql(t)},assert.isAbove=function(e,t,i){new Assertion(e,i).to.be.above(t)},assert.isBelow=function(e,t,i){new Assertion(e,i).to.be.below(t)},assert.isTrue=function(e,t){new Assertion(e,t).is.true},assert.isFalse=function(e,t){new Assertion(e,t).is.false},assert.isNull=function(e,t){new Assertion(e,t).to.equal(null)},assert.isNotNull=function(e,t){new Assertion(e,t).to.not.equal(null)},assert.isUndefined=function(e,t){new Assertion(e,t).to.equal(void 0)},assert.isDefined=function(e,t){new Assertion(e,t).to.not.equal(void 0)},assert.isFunction=function(e,t){new Assertion(e,t).to.be.a("function")},assert.isNotFunction=function(e,t){new Assertion(e,t).to.not.be.a("function")},assert.isObject=function(e,t){new Assertion(e,t).to.be.a("object")},assert.isNotObject=function(e,t){new Assertion(e,t).to.not.be.a("object")},assert.isArray=function(e,t){new Assertion(e,t).to.be.an("array")},assert.isNotArray=function(e,t){new Assertion(e,t).to.not.be.an("array")},assert.isString=function(e,t){new Assertion(e,t).to.be.a("string")},assert.isNotString=function(e,t){new Assertion(e,t).to.not.be.a("string")},assert.isNumber=function(e,t){new Assertion(e,t).to.be.a("number")},assert.isNotNumber=function(e,t){new Assertion(e,t).to.not.be.a("number")},assert.isBoolean=function(e,t){new Assertion(e,t).to.be.a("boolean")},assert.isNotBoolean=function(e,t){new Assertion(e,t).to.not.be.a("boolean")},assert.typeOf=function(e,t,i){new Assertion(e,i).to.be.a(t)},assert.notTypeOf=function(e,t,i){new Assertion(e,i).to.not.be.a(t)},assert.instanceOf=function(e,t,i){new Assertion(e,i).to.be.instanceOf(t)},assert.notInstanceOf=function(e,t,i){new Assertion(e,i).to.not.be.instanceOf(t)},assert.include=function(e,t,i){new Assertion(e,i,assert.include).include(t)},assert.notInclude=function(e,t,i){new Assertion(e,i,assert.notInclude).not.include(t)},assert.match=function(e,t,i){new Assertion(e,i).to.match(t)},assert.notMatch=function(e,t,i){new Assertion(e,i).to.not.match(t)},assert.property=function(e,t,i){new Assertion(e,i).to.have.property(t)},assert.notProperty=function(e,t,i){new Assertion(e,i).to.not.have.property(t)},assert.deepProperty=function(e,t,i){new Assertion(e,i).to.have.deep.property(t)},assert.notDeepProperty=function(e,t,i){new Assertion(e,i).to.not.have.deep.property(t)},assert.propertyVal=function(e,t,i,n){new Assertion(e,n).to.have.property(t,i)},assert.propertyNotVal=function(e,t,i,n){new Assertion(e,n).to.not.have.property(t,i)},assert.deepPropertyVal=function(e,t,i,n){new Assertion(e,n).to.have.deep.property(t,i)},assert.deepPropertyNotVal=function(e,t,i,n){new Assertion(e,n).to.not.have.deep.property(t,i)},assert.lengthOf=function(e,t,i){new Assertion(e,i).to.have.length(t)},assert.Throw=function(e,t,i,n){("string"==typeof t||t instanceof RegExp)&&(i=t,t=null);var r=new Assertion(e,n).to.Throw(t,i);return flag(r,"object")},assert.doesNotThrow=function(e,t,i){"string"==typeof t&&(i=t,t=null),new Assertion(e,i).to.not.Throw(t)},assert.operator=function(val,operator,val2,msg){if(!~["==","===",">",">=","<","<=","!=","!=="].indexOf(operator))throw new Error('Invalid operator "'+operator+'"');var test=new Assertion(eval(val+operator+val2),msg);test.assert(!0===flag(test,"object"),"expected "+util.inspect(val)+" to be "+operator+" "+util.inspect(val2),"expected "+util.inspect(val)+" to not be "+operator+" "+util.inspect(val2))},assert.closeTo=function(e,t,i,n){new Assertion(e,n).to.be.closeTo(t,i)},assert.sameMembers=function(e,t,i){new Assertion(e,i).to.have.same.members(t)},assert.sameDeepMembers=function(e,t,i){new Assertion(e,i).to.have.same.deep.members(t)},assert.includeMembers=function(e,t,i){new Assertion(e,i).to.include.members(t)},assert.changes=function(e,t,i){new Assertion(e).to.change(t,i)},assert.doesNotChange=function(e,t,i){new Assertion(e).to.not.change(t,i)},assert.increases=function(e,t,i){new Assertion(e).to.increase(t,i)},assert.doesNotIncrease=function(e,t,i){new Assertion(e).to.not.increase(t,i)},assert.decreases=function(e,t,i){new Assertion(e).to.decrease(t,i)},assert.doesNotDecrease=function(e,t,i){new Assertion(e).to.not.decrease(t,i)}
/*!                                                                                                             // 3709
   * Undocumented / untested                                                                                      // 3710
   */,assert.ifError=function(e,t){new Assertion(e,t).to.not.be.ok},
/*!                                                                                                             // 3717
   * Aliases.                                                                                                     // 3718
   */
function e(t,i){return assert[i]=assert[t],e}("Throw","throw")("Throw","throws")}})),require.register("chai/lib/chai/interface/expect.js",(function(e,t){
/*!                                                                                                               // 3732
 * chai                                                                                                           // 3733
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 3734
 * MIT Licensed                                                                                                   // 3735
 */
t.exports=function(e,t){e.expect=function(t,i){return new e.Assertion(t,i)},e.expect.fail=function(t,i,n,r){throw n=n||"expect.fail()",new e.AssertionError(n,{actual:t,expected:i,operator:r},e.expect.fail)}}})),require.register("chai/lib/chai/interface/should.js",(function(e,t){
/*!                                                                                                               // 3769
 * chai                                                                                                           // 3770
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 3771
 * MIT Licensed                                                                                                   // 3772
 */
t.exports=function(e,t){var i=e.Assertion;function n(){function t(){return this instanceof String||this instanceof Number?new i(this.constructor(this),null,t):this instanceof Boolean?new i(1==this,null,t):new i(this,null,t)}function n(e){Object.defineProperty(this,"should",{value:e,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:n,get:t,configurable:!0});var r={fail:function(t,i,n,o){throw n=n||"should.fail()",new e.AssertionError(n,{actual:t,expected:i,operator:o},r.fail)},equal:function(e,t,n){new i(e,n).to.equal(t)},Throw:function(e,t,n,r){new i(e,r).to.Throw(t,n)},exist:function(e,t){new i(e,t).to.exist},not:{}};return r.not.equal=function(e,t,n){new i(e,n).to.not.equal(t)},r.not.Throw=function(e,t,n,r){new i(e,r).to.not.Throw(t,n)},r.not.exist=function(e,t){new i(e,t).to.not.exist},r.throw=r.Throw,r.not.throw=r.not.Throw,r}e.should=n,e.Should=n}})),require.register("chai/lib/chai/utils/addChainableMethod.js",(function(e,t){
/*!                                                                                                               // 3873
 * Chai - addChainingMethod utility                                                                               // 3874
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 3875
 * MIT Licensed                                                                                                   // 3876
 */
/*!                                                                                                               // 3879
 * Module dependencies                                                                                            // 3880
 */
var i=require("chai/lib/chai/utils/transferFlags.js"),n=require("chai/lib/chai/utils/flag.js"),r=require("chai/lib/chai/config.js"),o="__proto__"in Object,s=/^(?:length|name|arguments|caller)$/,a=Function.prototype.call,c=Function.prototype.apply;t.exports=function(e,t,h,u){"function"!=typeof u&&(u=function(){});var l={method:h,chainingBehavior:u};e.__methods||(e.__methods={}),e.__methods[t]=l,Object.defineProperty(e,t,{get:function(){l.chainingBehavior.call(this);var t=function e(){var t=n(this,"ssfi");t&&!1===r.includeStack&&n(this,"ssfi",e);var i=l.method.apply(this,arguments);return void 0===i?this:i};if(o){var h=t.__proto__=Object.create(this);h.call=a,h.apply=c}else{var u;Object.getOwnPropertyNames(e).forEach((function(i){if(!s.test(i)){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n)}}))}return i(this,t),t},configurable:!0})}})),require.register("chai/lib/chai/utils/addMethod.js",(function(e,t){
/*!                                                                                                               // 3988
 * Chai - addMethod utility                                                                                       // 3989
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 3990
 * MIT Licensed                                                                                                   // 3991
 */
var i=require("chai/lib/chai/config.js"),n=require("chai/lib/chai/utils/flag.js");t.exports=function(e,t,r){e[t]=function(){var o=n(this,"ssfi");o&&!1===i.includeStack&&n(this,"ssfi",e[t]);var s=r.apply(this,arguments);return void 0===s?this:s}}})),require.register("chai/lib/chai/utils/addProperty.js",(function(e,t){
/*!                                                                                                               // 4035
 * Chai - addProperty utility                                                                                     // 4036
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 4037
 * MIT Licensed                                                                                                   // 4038
 */
t.exports=function(e,t,i){Object.defineProperty(e,t,{get:function(){var e=i.call(this);return void 0===e?this:e},configurable:!0})}})),require.register("chai/lib/chai/utils/flag.js",(function(e,t){
/*!                                                                                                               // 4079
 * Chai - flag utility                                                                                            // 4080
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 4081
 * MIT Licensed                                                                                                   // 4082
 */
t.exports=function(e,t,i){var n=e.__flags||(e.__flags=Object.create(null));if(3!==arguments.length)return n[t];n[t]=i}})),require.register("chai/lib/chai/utils/getActual.js",(function(e,t){
/*!                                                                                                               // 4115
 * Chai - getActual utility                                                                                       // 4116
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 4117
 * MIT Licensed                                                                                                   // 4118
 */
t.exports=function(e,t){return t.length>4?t[4]:e._obj}})),require.register("chai/lib/chai/utils/getEnumerableProperties.js",(function(e,t){
/*!                                                                                                               // 4137
 * Chai - getEnumerableProperties utility                                                                         // 4138
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 4139
 * MIT Licensed                                                                                                   // 4140
 */
t.exports=function e(t){var i=[];for(var n in t)i.push(n);return i}})),require.register("chai/lib/chai/utils/getMessage.js",(function(e,t){
/*!                                                                                                               // 4166
 * Chai - message composition utility                                                                             // 4167
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 4168
 * MIT Licensed                                                                                                   // 4169
 */
/*!                                                                                                               // 4172
 * Module dependancies                                                                                            // 4173
 */
var i=require("chai/lib/chai/utils/flag.js"),n=require("chai/lib/chai/utils/getActual.js"),r=require("chai/lib/chai/utils/inspect.js"),o=require("chai/lib/chai/utils/objDisplay.js");t.exports=function(e,t){var r=i(e,"negate"),s=i(e,"object"),a=t[3],c=n(e,t),h=r?t[2]:t[1],u=i(e,"message");return"function"==typeof h&&(h=h()),h=(h=h||"").replace(/#{this}/g,o(s)).replace(/#{act}/g,o(c)).replace(/#{exp}/g,o(a)),u?u+": "+h:h}})),require.register("chai/lib/chai/utils/getName.js",(function(e,t){
/*!                                                                                                               // 4220
 * Chai - getName utility                                                                                         // 4221
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 4222
 * MIT Licensed                                                                                                   // 4223
 */
t.exports=function(e){if(e.name)return e.name;var t=/^\s?function ([^(]*)\(/.exec(e);return t&&t[1]?t[1]:""}})),require.register("chai/lib/chai/utils/getPathValue.js",(function(e,t){
/*!                                                                                                               // 4244
 * Chai - getPathValue utility                                                                                    // 4245
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 4246
 * @see https://github.com/logicalparadox/filtr                                                                   // 4247
 * MIT Licensed                                                                                                   // 4248
 */
var i=require("chai/lib/chai/utils/getPathInfo.js");t.exports=function(e,t){var n;return i(e,t).value}})),require.register("chai/lib/chai/utils/getPathInfo.js",(function(e,t){
/*!                                                                                                               // 4290
 * Chai - getPathInfo utility                                                                                     // 4291
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 4292
 * MIT Licensed                                                                                                   // 4293
 */
var i=require("chai/lib/chai/utils/hasProperty.js");
/*!                                                                                                               // 4334
 * ## parsePath(path)                                                                                             // 4335
 *                                                                                                                // 4336
 * Helper function used to parse string object                                                                    // 4337
 * paths. Use in conjunction with `_getPathValue`.                                                                // 4338
 *                                                                                                                // 4339
 *      var parsed = parsePath('myobject.property.subprop');                                                      // 4340
 *                                                                                                                // 4341
 * ### Paths:                                                                                                     // 4342
 *                                                                                                                // 4343
 * * Can be as near infinitely deep and nested                                                                    // 4344
 * * Arrays are also valid using the formal `myobject.document[3].property`.                                      // 4345
 *                                                                                                                // 4346
 * @param {String} path                                                                                           // 4347
 * @returns {Object} parsed                                                                                       // 4348
 * @api private                                                                                                   // 4349
 */
function n(e){var t,i;return e.replace(/\[/g,".[").match(/(\\\.|[^.]+?)+/g).map((function(e){var t,i=/\[(\d+)\]$/.exec(e);return i?{i:parseFloat(i[1])}:{p:e}}))}
/*!                                                                                                               // 4364
 * ## _getPathValue(parsed, obj)                                                                                  // 4365
 *                                                                                                                // 4366
 * Helper companion function for `.parsePath` that returns                                                        // 4367
 * the value located at the parsed address.                                                                       // 4368
 *                                                                                                                // 4369
 *      var value = getPathValue(parsed, obj);                                                                    // 4370
 *                                                                                                                // 4371
 * @param {Object} parsed definition from `parsePath`.                                                            // 4372
 * @param {Object} object to search against                                                                       // 4373
 * @param {Number} object to search against                                                                       // 4374
 * @returns {Object|Undefined} value                                                                              // 4375
 * @api private                                                                                                   // 4376
 */function r(e,t,i){for(var n=t,r,o=0,s=i=void 0===i?e.length:i;o<s;o++){var a=e[o];n?(void 0!==a.p?n=n[a.p]:void 0!==a.i&&(n=n[a.i]),o==s-1&&(r=n)):r=void 0}return r}t.exports=function e(t,o){var s=n(t),a=s[s.length-1],c={parent:r(s,o,s.length-1),name:a.p||a.i,value:r(s,o)};return c.exists=i(c.name,c.parent),c}})),require.register("chai/lib/chai/utils/hasProperty.js",(function(e,t){
/*!                                                                                                               // 4403
 * Chai - hasProperty utility                                                                                     // 4404
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 4405
 * MIT Licensed                                                                                                   // 4406
 */
var i=require("chai/lib/chai/utils/type.js"),n={number:Number,string:String};t.exports=function e(t,r){var o=i(r);return"null"!==o&&"undefined"!==o&&(n[o]&&"object"!=typeof r&&(r=new n[o](r)),t in r)}})),require.register("chai/lib/chai/utils/getProperties.js",(function(e,t){
/*!                                                                                                               // 4470
 * Chai - getProperties utility                                                                                   // 4471
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 4472
 * MIT Licensed                                                                                                   // 4473
 */
t.exports=function e(t){var i=Object.getOwnPropertyNames(subject);function n(e){-1===i.indexOf(e)&&i.push(e)}for(var r=Object.getPrototypeOf(subject);null!==r;)Object.getOwnPropertyNames(r).forEach(n),r=Object.getPrototypeOf(r);return i}})),require.register("chai/lib/chai/utils/index.js",(function(e,t){
/*!                                                                                                               // 4509
 * chai                                                                                                           // 4510
 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>                                                         // 4511
 * MIT Licensed                                                                                                   // 4512
 */
/*!                                                                                                               // 4515
 * Main exports                                                                                                   // 4516
 */
var e;
/*!                                                                                                               // 4521
 * test utility                                                                                                   // 4522
 */(e=t.exports={}).test=require("chai/lib/chai/utils/test.js"),
/*!                                                                                                               // 4527
 * type utility                                                                                                   // 4528
 */
e.type=require("chai/lib/chai/utils/type.js"),
/*!                                                                                                               // 4533
 * message utility                                                                                                // 4534
 */
e.getMessage=require("chai/lib/chai/utils/getMessage.js"),
/*!                                                                                                               // 4539
 * actual utility                                                                                                 // 4540
 */
e.getActual=require("chai/lib/chai/utils/getActual.js"),
/*!                                                                                                               // 4545
 * Inspect util                                                                                                   // 4546
 */
e.inspect=require("chai/lib/chai/utils/inspect.js"),
/*!                                                                                                               // 4551
 * Object Display util                                                                                            // 4552
 */
e.objDisplay=require("chai/lib/chai/utils/objDisplay.js"),
/*!                                                                                                               // 4557
 * Flag utility                                                                                                   // 4558
 */
e.flag=require("chai/lib/chai/utils/flag.js"),
/*!                                                                                                               // 4563
 * Flag transferring utility                                                                                      // 4564
 */
e.transferFlags=require("chai/lib/chai/utils/transferFlags.js"),
/*!                                                                                                               // 4569
 * Deep equal utility                                                                                             // 4570
 */
e.eql=require("chaijs~deep-eql@0.1.3"),
/*!                                                                                                               // 4575
 * Deep path value                                                                                                // 4576
 */
e.getPathValue=require("chai/lib/chai/utils/getPathValue.js"),
/*!                                                                                                               // 4581
 * Deep path info                                                                                                 // 4582
 */
e.getPathInfo=require("chai/lib/chai/utils/getPathInfo.js"),
/*!                                                                                                               // 4587
 * Check if a property exists                                                                                     // 4588
 */
e.hasProperty=require("chai/lib/chai/utils/hasProperty.js"),
/*!                                                                                                               // 4593
 * Function name                                                                                                  // 4594
 */
e.getName=require("chai/lib/chai/utils/getName.js"),
/*!                                                                                                               // 4599
 * add Property                                                                                                   // 4600
 */
e.addProperty=require("chai/lib/chai/utils/addProperty.js"),
/*!                                                                                                               // 4605
 * add Method                                                                                                     // 4606
 */
e.addMethod=require("chai/lib/chai/utils/addMethod.js"),
/*!                                                                                                               // 4611
 * overwrite Property                                                                                             // 4612
 */
e.overwriteProperty=require("chai/lib/chai/utils/overwriteProperty.js"),
/*!                                                                                                               // 4617
 * overwrite Method                                                                                               // 4618
 */
e.overwriteMethod=require("chai/lib/chai/utils/overwriteMethod.js"),
/*!                                                                                                               // 4623
 * Add a chainable method                                                                                         // 4624
 */
e.addChainableMethod=require("chai/lib/chai/utils/addChainableMethod.js"),
/*!                                                                                                               // 4629
 * Overwrite chainable method                                                                                     // 4630
 */
e.overwriteChainableMethod=require("chai/lib/chai/utils/overwriteChainableMethod.js")})),require.register("chai/lib/chai/utils/inspect.js",(function(e,t){var i=require("chai/lib/chai/utils/getName.js"),n=require("chai/lib/chai/utils/getProperties.js"),r=require("chai/lib/chai/utils/getEnumerableProperties.js");function o(e,t,i,n){var r;return a({showHidden:t,seen:[],stylize:function(e){return e}},e,void 0===i?2:i)}t.exports=o;var s=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName};function a(t,o,v){if(o&&"function"==typeof o.inspect&&o.inspect!==e.inspect&&(!o.constructor||o.constructor.prototype!==o)){var y=o.inspect(v);return"string"!=typeof y&&(y=a(t,y,v)),y}var j=c(t,o);if(j)return j;if(s(o)){if("outerHTML"in o)return o.outerHTML;try{var w;if(document.xmlVersion)return(new XMLSerializer).serializeToString(o);var x="http://www.w3.org/1999/xhtml",m=document.createElementNS(x,"_");return m.appendChild(o.cloneNode(!1)),html=m.innerHTML.replace("><",">"+o.innerHTML+"<"),m.innerHTML="",html}catch(k){}}var q=r(o),A=t.showHidden?n(o):q;if(0===A.length||g(o)&&(1===A.length&&"stack"===A[0]||2===A.length&&"description"===A[0]&&"stack"===A[1])){if("function"==typeof o){var M,O=(M=i(o))?": "+M:"";return t.stylize("[Function"+O+"]","special")}if(d(o))return t.stylize(RegExp.prototype.toString.call(o),"regexp");if(b(o))return t.stylize(Date.prototype.toUTCString.call(o),"date");if(g(o))return h(o)}var _="",P=!1,S=["{","}"],M,O,E;(p(o)&&(P=!0,S=["[","]"]),"function"==typeof o)&&(_=" [Function"+(O=(M=i(o))?": "+M:"")+"]");return d(o)&&(_=" "+RegExp.prototype.toString.call(o)),b(o)&&(_=" "+Date.prototype.toUTCString.call(o)),g(o)?h(o):0!==A.length||P&&0!=o.length?v<0?d(o)?t.stylize(RegExp.prototype.toString.call(o),"regexp"):t.stylize("[Object]","special"):(t.seen.push(o),E=P?u(t,o,v,q,A):A.map((function(e){return l(t,o,v,q,e,P)})),t.seen.pop(),f(E,_,S)):S[0]+_+S[1]}function c(e,t){switch(typeof t){case"undefined":return e.stylize("undefined","undefined");case"string":var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string");case"number":return 0===t&&1/t==-1/0?e.stylize("-0","number"):e.stylize(""+t,"number");case"boolean":return e.stylize(""+t,"boolean")}if(null===t)return e.stylize("null","null")}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,i,n,r){for(var o=[],s=0,a=t.length;s<a;++s)Object.prototype.hasOwnProperty.call(t,String(s))?o.push(l(e,t,i,n,String(s),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(l(e,t,i,n,r,!0))})),o}function l(e,t,i,n,r,o){var s,c;if(t.__lookupGetter__&&(t.__lookupGetter__(r)?c=t.__lookupSetter__(r)?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):t.__lookupSetter__(r)&&(c=e.stylize("[Setter]","special"))),n.indexOf(r)<0&&(s="["+r+"]"),c||(e.seen.indexOf(t[r])<0?(c=a(e,t[r],null===i?null:i-1)).indexOf("\n")>-1&&(c=o?c.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+c.split("\n").map((function(e){return"   "+e})).join("\n")):c=e.stylize("[Circular]","special")),void 0===s){if(o&&r.match(/^\d+$/))return c;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+c}function f(e,t,i){var n=0,r;return e.reduce((function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.length+1}),0)>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}function p(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===v(e)}function d(e){return"object"==typeof e&&"[object RegExp]"===v(e)}function b(e){return"object"==typeof e&&"[object Date]"===v(e)}function g(e){return"object"==typeof e&&"[object Error]"===v(e)}function v(e){return Object.prototype.toString.call(e)}})),require.register("chai/lib/chai/utils/objDisplay.js",(function(e,t){
/*!                                                                                                               // 4976
 * Chai - flag utility                                                                                            // 4977
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 4978
 * MIT Licensed                                                                                                   // 4979
 */
/*!                                                                                                               // 4982
 * Module dependancies                                                                                            // 4983
 */
var i=require("chai/lib/chai/utils/inspect.js"),n=require("chai/lib/chai/config.js");t.exports=function(e){var t=i(e),r=Object.prototype.toString.call(e);if(n.truncateThreshold&&t.length>=n.truncateThreshold){if("[object Function]"===r)return e.name&&""!==e.name?"[Function: "+e.name+"]":"[Function]";if("[object Array]"===r)return"[ Array("+e.length+") ]";if("[object Object]"===r){var o=Object.keys(e),s;return"{ Object ("+(o.length>2?o.splice(0,2).join(", ")+", ...":o.join(", "))+") }"}return t}return t}})),require.register("chai/lib/chai/utils/overwriteMethod.js",(function(e,t){
/*!                                                                                                               // 5029
 * Chai - overwriteMethod utility                                                                                 // 5030
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 5031
 * MIT Licensed                                                                                                   // 5032
 */
t.exports=function(e,t,i){var n=e[t],r=function(){return this};n&&"function"==typeof n&&(r=n),e[t]=function(){var e=i(r).apply(this,arguments);return void 0===e?this:e}}})),require.register("chai/lib/chai/utils/overwriteProperty.js",(function(e,t){
/*!                                                                                                               // 5084
 * Chai - overwriteProperty utility                                                                               // 5085
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 5086
 * MIT Licensed                                                                                                   // 5087
 */
t.exports=function(e,t,i){var n=Object.getOwnPropertyDescriptor(e,t),r=function(){};n&&"function"==typeof n.get&&(r=n.get),Object.defineProperty(e,t,{get:function(){var e=i(r).call(this);return void 0===e?this:e},configurable:!0})}})),require.register("chai/lib/chai/utils/overwriteChainableMethod.js",(function(e,t){
/*!                                                                                                               // 5142
 * Chai - overwriteChainableMethod utility                                                                        // 5143
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 5144
 * MIT Licensed                                                                                                   // 5145
 */
t.exports=function(e,t,i,n){var r=e.__methods[t],o=r.chainingBehavior;r.chainingBehavior=function(){var e=n(o).call(this);return void 0===e?this:e};var s=r.method;r.method=function(){var e=i(s).apply(this,arguments);return void 0===e?this:e}}})),require.register("chai/lib/chai/utils/test.js",(function(e,t){
/*!                                                                                                               // 5199
 * Chai - test utility                                                                                            // 5200
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 5201
 * MIT Licensed                                                                                                   // 5202
 */
/*!                                                                                                               // 5205
 * Module dependancies                                                                                            // 5206
 */
var i=require("chai/lib/chai/utils/flag.js");t.exports=function(e,t){var n=i(e,"negate"),r=t[0];return n?!r:r}})),require.register("chai/lib/chai/utils/transferFlags.js",(function(e,t){
/*!                                                                                                               // 5229
 * Chai - transferFlags utility                                                                                   // 5230
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 5231
 * MIT Licensed                                                                                                   // 5232
 */
t.exports=function(e,t,i){var n=e.__flags||(e.__flags=Object.create(null));for(var r in t.__flags||(t.__flags=Object.create(null)),i=3!==arguments.length||i,n)(i||"object"!==r&&"ssfi"!==r&&"message"!=r)&&(t.__flags[r]=n[r])}})),require.register("chai/lib/chai/utils/type.js",(function(e,t){
/*!                                                                                                               // 5277
 * Chai - type utility                                                                                            // 5278
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>                                                    // 5279
 * MIT Licensed                                                                                                   // 5280
 */
/*!                                                                                                               // 5283
 * Detectable javascript natives                                                                                  // 5284
 */
var i={"[object Arguments]":"arguments","[object Array]":"array","[object Date]":"date","[object Function]":"function","[object Number]":"number","[object RegExp]":"regexp","[object String]":"string"};t.exports=function(e){var t=Object.prototype.toString.call(e);return i[t]?i[t]:null===e?"null":void 0===e?"undefined":e===Object(e)?"object":typeof e}})),chai=require("chai")}()}).call(this),function(){var e;e=function(e,t){e.string=e.string||{},e.string.startsWith=function(e,t){return 0===e.indexOf(t)},e.string.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},e.string.equalIgnoreCase=function(e,t){return e.toLowerCase()===t.toLowerCase()},e.string.singleLine=function(e){return-1===e.trim().indexOf("\n")},e.string.reverseOf=function(e,t){return e.split("").reverse().join("")===t},e.string.palindrome=function(e){for(var t=e.length,i=0;i<Math.floor(t/2);i++)if(e[i]!==e[t-1-i])return!1;return!0},e.string.entriesCount=function(e,t,i){for(var n=0,r=e.length,o=0;n<r;){var s=e.indexOf(t,n);if(-1===s)break;o++,n=s+1}return o===i};var i=function(t){var i=this._obj;return this.assert(e.string.startsWith(i,t),"expected "+this._obj+" to starts with "+t,"expected "+this._obj+" to not starts with "+t)};e.Assertion.addChainableMethod("startsWith",i),e.Assertion.addChainableMethod("startWith",i);var n=function(t){var i=this._obj;return this.assert(e.string.endsWith(i,t),"expected "+this._obj+" to ends with "+t,"expected "+this._obj+" to not ends with "+t)};e.Assertion.addChainableMethod("endsWith",n),e.Assertion.addChainableMethod("endWith",n),e.Assertion.addChainableMethod("equalIgnoreCase",(function(t){var i=this._obj;return this.assert(e.string.equalIgnoreCase(i,t),"expected "+this._obj+" to be equal to "+t+" ignoring case","expected "+this._obj+" to be not equal to "+t+" ignoring case")})),e.Assertion.addChainableMethod("singleLine",(function(){var t=this._obj;return this.assert(e.string.singleLine(t),"expected "+this._obj+" to be single line","expected "+this._obj+" to be not single line")})),e.Assertion.addChainableMethod("reverseOf",(function(t){var i=this._obj;return this.assert(e.string.reverseOf(i,t),"expected "+this._obj+" to be reverse of "+t,"expected "+this._obj+" to be not reverse of "+t)})),e.Assertion.addChainableMethod("palindrome",(function(){var t=this._obj;return this.assert(e.string.palindrome(t),"expected "+this._obj+" to be palindrome","expected "+this._obj+" to be not palindrome")})),e.Assertion.addChainableMethod("entriesCount",(function(t,i){var n=this._obj;return this.assert(e.string.entriesCount(n,t,i),"expected "+this._obj+" to have "+t+" "+i+" time(s)","expected "+this._obj+" to not have "+t+" "+i+" time(s)")}));var r=e.assert;r.startsWith=function(t,i,n){new e.Assertion(t,n).to.startsWith(i)},r.notStartsWith=function(t,i,n){new e.Assertion(t,n).to.not.startsWith(i)},r.endsWith=function(t,i,n){new e.Assertion(t,n).to.endsWith(i)},r.notEndsWith=function(t,i,n){new e.Assertion(t,n).to.not.endsWith(i)},r.equalIgnoreCase=function(t,i,n){new e.Assertion(t,n).to.be.equalIgnoreCase(i)},r.notEqualIgnoreCase=function(t,i,n){new e.Assertion(t,n).to.not.be.equalIgnoreCase(i)},r.singleLine=function(t,i,n){new e.Assertion(t,n).to.be.singleLine()},r.notSingleLine=function(t,i,n){new e.Assertion(t,n).to.not.be.singleLine()},r.reverseOf=function(t,i,n){new e.Assertion(t,n).to.be.reverseOf(i)},r.notReverseOf=function(t,i,n){new e.Assertion(t,n).to.not.be.reverseOf(i)},r.palindrome=function(t,i,n){new e.Assertion(t,n).to.be.palindrome()},r.notPalindrome=function(t,i,n){new e.Assertion(t,n).to.not.be.palindrome()},r.entriesCount=function(t,i,n,r){new e.Assertion(t,r).to.have.entriesCount(i,n)}},chai.use(e)}.call(this),function(){var e=__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{},t,i,n,r,o;Meteor.isServer?chai.config.includeStack=(null!=(t=Meteor.settings)&&null!=(i=t.chai)?i.includeStack:void 0)||!0:chai.config.includeStack=(null!=(n=Meteor.settings)&&null!=(r=n.public)&&null!=(o=r.chai)?o.includeStack:void 0)||!0}.call(this),function(){assert=chai.assert,expect=chai.expect,should=chai.should}.call(this)}).call(this),Package._define("practicalmeteor:chai",{chai:chai,assert:assert,expect:expect,should:should})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,n=Package.meteor.meteorEnv,a,o,c,t,l=(0,Package.modules.meteorInstall)({node_modules:{meteor:{url:{"modern.js":function e(n,a){o=r.URL,c=r.URLSearchParams,a.URL=o,a.URLSearchParams=c,Object.assign(o,n("./bc/url_client"))},bc:{"url_client.js":function e(r,n){var a=r("./url_common.js");n._constructUrl=function(e,r,n){var o=/^(.*?)(\?.*)?$/.exec(e);return a.buildUrl(o[1],o[2],r,n)},n._encodeParams=a._encodeParams},"url_common.js":function e(r,n){function a(e){return encodeURIComponent(e).replace(/\*/g,"%2A")}var o=function(e,r){var n=[],o=Array.isArray(e);for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var t=r?r+"["+(o?"":c)+"]":c,l=e[c];if("object"==typeof l)n.push(this._encodeParams(l,t));else{var s=a(t).replace("%5B","[").replace("%5D","]");n.push(s+"="+a(l))}}return n.join("&").replace(/%20/g,"+")};n._encodeParams=o,n.buildUrl=function(e,r,n,a){var c=e,t=r?r.slice(1):null;if("string"==typeof n&&(t=String(n)),a){t=t||"";var l=o(a);t&&l&&(t+="&"),t+=l}var s=c;return null!==t&&(s+="?"+t),s}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/url/modern.js");Package._define("url",l,{URL:o,URLSearchParams:c})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.url.URL,o=Package.url.URLSearchParams,r,c,s,l=(0,Package.modules.meteorInstall)({node_modules:{meteor:{http:{"httpcall_client.js":function e(n,a,e){var o=n("meteor/url").URL,r=n("./httpcall_common.js"),c=a.HTTP=r.HTTP,s=Object.prototype.hasOwnProperty;c.call=function(e,n,a,c){if(c||"function"!=typeof a||(c=a,a=null),a=a||{},"function"!=typeof c)throw new Error("Can't make a blocking HTTP call from the client; callback required.");e=(e||"").toUpperCase();var l={},i=a.content,p,u,f,d;if(a.data&&(i=JSON.stringify(a.data),l["Content-Type"]="application/json"),i||"GET"===e||"HEAD"===e?p=a.params:u=a.params,n=o._constructUrl(n,a.query,p),!1===a.followRedirects)throw new Error("Option followRedirects:false not supported on client.");if(s.call(a,"npmRequestOptions"))throw new Error("Option npmRequestOptions not supported on client.");if(a.auth){var h=a.auth.indexOf(":");if(h<0)throw new Error('Option auth should be of the form "username:password"');f=a.auth.substring(0,h),d=a.auth.substring(h+1)}u&&(i=o._encodeParams(u)),a.headers&&Object.keys(a.headers).forEach((function(t){l[t]=a.headers[t]})),c=function(t){var e=!1;return function(n,a){e||(e=!0,n&&a&&(n.response=a),t(n,a))}}(c);try{var m;if("undefined"!=typeof XMLHttpRequest)m=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");m=new ActiveXObject("Microsoft.XMLHttp")}for(var y in m.open(e,n,!0,f,d),l)m.setRequestHeader(y,l[y]);var g=!1,v;if(a.timeout&&(v=t.setTimeout((function(){g=!0,m.abort()}),a.timeout)),m.onreadystatechange=function(e){if(4===m.readyState)if(v&&t.clearTimeout(v),g)c(new Error("Connection timeout"));else if(m.status){var n={};n.statusCode=m.status,n.content=m.responseText,n.headers={};var a=m.getAllResponseHeaders(),o;""===a&&m.getResponseHeader("content-type")&&(a="content-type: "+m.getResponseHeader("content-type")),a.split(/\r?\n/).forEach((function(t){var e=/^(.*?):(?:\s+)(.*)$/.exec(t);e&&3===e.length&&(n.headers[e[1].toLowerCase()]=e[2])})),r.populateData(n);var s=null;n.statusCode>=400&&(s=r.makeErrorByStatus(n.statusCode,n.content)),c(s,n)}else c(new Error("Connection lost"))},"function"==typeof a.beforeSend&&!1===a.beforeSend.call(null,m,a))return m.abort();m.send(i)}catch(w){c(w)}}},"httpcall_common.js":function t(e,n){var a=500,o=Array.prototype.slice;function r(t,e){return t.length>e?t.slice(0,e)+"...":t}n.makeErrorByStatus=function(t,e){var n="failed ["+t+"]",a;e&&(n+=" "+r(("string"==typeof e?e:e.toString()).replace(/\n/g," "),500));return new Error(n)},n.populateData=function(t){var e=(t.headers["content-type"]||";").split(";")[0];if(["application/json","text/javascript","application/javascript","application/x-javascript"].indexOf(e)>=0)try{t.data=JSON.parse(t.content)}catch(n){t.data=null}else t.data=null};var c=n.HTTP={};c.get=function(){return c.call.apply(this,["GET"].concat(o.call(arguments)))},c.post=function(){return c.call.apply(this,["POST"].concat(o.call(arguments)))},c.put=function(){return c.call.apply(this,["PUT"].concat(o.call(arguments)))},c.del=function(){return c.call.apply(this,["DELETE"].concat(o.call(arguments)))},c.patch=function(){return c.call.apply(this,["PATCH"].concat(o.call(arguments)))}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/http/httpcall_client.js");Package._define("http",l,{HTTP:c})}();

Package._define("ddp-rate-limiter");

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,a=Package.random.Random;(function(){var o=Object.prototype.hasOwnProperty,r="_localstorage_test_"+a.id(),n,l;try{(l=t.localStorage)&&(l.setItem(r,r),n=l.getItem(r),l.removeItem(r))}catch(c){}r===n&&(e.isServer?e._localStorage=l:["getItem","setItem","removeItem"].forEach((function(e){this[e]=function(){return l[e].apply(l,arguments)}}),e._localStorage={})),e._localStorage||(e.isClient&&e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage=Object.create({setItem:function(e,t){this[e]=t},removeItem:function(e){delete this[e]},getItem:function(e){return o.call(this,e)?this[e]:null}}))}).call(this),Package._define("localstorage")}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r,i,o,a,s=(0,Package.modules.meteorInstall)({node_modules:{meteor:{jquery:{"main.js":function e(t,n){var r=this;try{var i=t("jquery")}catch(o){i=t("./jquery.js")}n.$=n.jQuery=i,this.$=this.$||i,this.jQuery=this.jQuery||i},"jquery.js":function e(t,n,e){
/*!
 * jQuery JavaScript Library v1.12.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-02-22T19:07Z
 */
!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(e,t){var n=[],r=e.document,i=n.slice,o=n.concat,a=n.push,s=n.indexOf,u={},l=u.toString,c=u.hasOwnProperty,f={},d="1.12.1",p=function(e,t){return new p.fn.init(e,t)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,m=/^-ms-/,g=/-([\da-z])/gi,v=function(e,t){return t.toUpperCase()};function y(e){var t=!!e&&"length"in e&&e.length,n=p.type(e);return"function"!==n&&!p.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}p.fn=p.prototype={jquery:d,constructor:p,selector:"",length:0,toArray:function(){return i.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:i.call(this)},pushStack:function(e){var t=p.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return p.each(this,e)},map:function(e){return this.pushStack(p.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},p.extend=p.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||p.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],a!==(n=i[r])&&(l&&n&&(p.isPlainObject(n)||(t=p.isArray(n)))?(t?(t=!1,o=e&&p.isArray(e)?e:[]):o=e&&p.isPlainObject(e)?e:{},a[r]=p.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},p.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===p.type(e)},isArray:Array.isArray||function(e){return"array"===p.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!p.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==p.type(e)||e.nodeType||p.isWindow(e))return!1;try{if(e.constructor&&!c.call(e,"constructor")&&!c.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!f.ownFirst)for(t in e)return c.call(e,t);for(t in e);return void 0===t||c.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[l.call(e)]||"object":typeof e},globalEval:function(t){t&&p.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(m,"ms-").replace(g,v)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(y(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(h,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(y(Object(e))?p.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(s)return s.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!=n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,a=0,s=[];if(y(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&s.push(i);return o.apply([],s)},guid:1,proxy:function(e,t){var n,r,o;if("string"==typeof t&&(o=e[t],t=e,e=o),p.isFunction(e))return n=i.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(i.call(arguments)))}).guid=e.guid=e.guid||p.guid++,r},now:function(){return+new Date},support:f}),"function"==typeof Symbol&&(p.fn[Symbol.iterator]=n[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var x=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){var t,n,r,i,o,a,s,u,l,c,f,d,p,h,m,g,v,y,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=oe(),k=oe(),N=oe(),S=function(e,t){return e===t&&(f=!0),0},j=1<<31,A={}.hasOwnProperty,D=[],L=D.pop,H=D.push,q=D.push,_=D.slice,M=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R="\\["+O+"*("+P+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+O+"*\\]",B=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",W=new RegExp(O+"+","g"),$=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),I=new RegExp("^"+O+"*,"+O+"*"),z=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),X=new RegExp("="+O+"*([^\\]'\"]*?)"+O+"*\\]","g"),U=new RegExp(B),V=new RegExp("^"+P+"$"),Q={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+O+"?|("+O+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=function(){d()};try{q.apply(D=_.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(Ce){q={apply:D.length?function(e,t){H.apply(e,_.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,r,i){var o,s,l,c,f,h,v,y,T=t&&t.ownerDocument,C=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return r;if(!i&&((t?t.ownerDocument||t:w)!==p&&d(t),t=t||p,m)){if(11!==C&&(h=K.exec(e)))if(o=h[1]){if(9===C){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(T&&(l=T.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(h[2])return q.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return q.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!N[e+" "]&&(!g||!g.test(e))){if(1!==C)T=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(ee,"\\$&"):t.setAttribute("id",c=b),s=(v=a(e)).length,f=V.test(c)?"#"+c:"[id='"+c+"']";s--;)v[s]=f+" "+me(v[s]);y=v.join(","),T=Z.test(e)&&pe(t.parentNode)||t}if(y)try{return q.apply(r,T.querySelectorAll(y)),r}catch(E){}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace($,"$1"),t,r,i)}function oe(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function ae(e){return e[b]=!0,e}function se(e){var t=p.createElement("div");try{return!!e(t)}catch(Ce){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(e){return function(t){var n;return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return ae((function(t){return t=+t,ae((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ie.support={},o=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=ie.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==p&&9===a.nodeType&&a.documentElement?(h=(p=a).documentElement,m=!o(p),(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=se((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=se((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=G.test(p.getElementsByClassName),n.getById=se((function(e){return h.appendChild(e).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}},r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=G.test(p.querySelectorAll))&&(se((function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+O+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+O+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+b+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")})),se((function(e){var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+O+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=G.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&se((function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),v.push("!=",B)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=G.test(h.compareDocumentPosition),x=t||G.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===w&&x(w,e)?-1:t===p||t.ownerDocument===w&&x(w,t)?1:c?M(c,e)-M(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:c?M(c,e)-M(c,t):0;if(i===o)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?le(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},p):p},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),t=t.replace(X,"='$1']"),n.matchesSelector&&m&&!N[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(Ce){}return ie(t,p,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),x(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(S),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return c=null,e},i=ie.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ie.selectors={cacheLength:50,createPseudo:ae,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=ie.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(W," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,d,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(x=(p=(l=(c=(f=(d=g)[b]||(d[b]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(x=p=0)||h.pop();)if(1===d.nodeType&&++x&&d===t){c[e]=[T,p,x];break}}else if(y&&(x=p=(l=(c=(f=(d=t)[b]||(d[b]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)for(;(d=++p&&d&&d[m]||(x=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++x||(y&&((c=(f=d[b]||(d[b]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[T,x]),d!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ae((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=M(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ae((function(e){var t=[],n=[],r=s(e.replace($,"$1"));return r[b]?ae((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:ae((function(e){return function(t){return ie(e,t).length>0}})),contains:ae((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:ae((function(e){return V.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de((function(){return[0]})),last:de((function(e,t){return[t-1]})),eq:de((function(e,t,n){return[n<0?n+t:n]})),even:de((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:de((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:de((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:de((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ce(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function he(){}function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ge(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=C++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l,c=[T,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(u=(l=t[b]||(t[b]={}))[t.uniqueID]||(l[t.uniqueID]={}))[r])&&s[0]===T&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function ve(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function ye(e,t,n){for(var r=0,i=t.length;r<i;r++)ie(e,t[r],n);return n}function xe(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function be(e,t,n,r,i,o){return r&&!r[b]&&(r=be(r)),i&&!i[b]&&(i=be(i,o)),ae((function(o,a,s,u){var l,c,f,d=[],p=[],h=a.length,m=o||ye(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:xe(m,d,e,s,u),v=n?i||(o?e:h||r)?[]:a:g;if(n&&n(g,v,s,u),r)for(l=xe(v,p),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(v[p[c]]=!(g[p[c]]=f));if(o){if(i||e){if(i){for(l=[],c=v.length;c--;)(f=v[c])&&l.push(g[c]=f);i(null,v=[],l,u)}for(c=v.length;c--;)(f=v[c])&&(l=i?M(o,f):d[c])>-1&&(o[l]=!(a[l]=f))}}else v=xe(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):q.apply(a,v)}))}function we(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=ge((function(e){return e===t}),s,!0),f=ge((function(e){return M(t,e)>-1}),s,!0),d=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])d=[ge(ve(d),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return be(u>1&&ve(d),u>1&&me(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace($,"$1"),n,u<i&&we(e.slice(u,i)),i<o&&we(e=e.slice(i)),i<o&&me(e))}d.push(n)}return ve(d)}function Te(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,g,v=0,y="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===p||a||c);y!==k&&null!=(f=C[y]);y++){if(i&&f){for(h=0,a||f.ownerDocument===p||(d(f),s=!m);g=e[h++];)if(g(f,a||p,s)){u.push(f);break}c&&(T=E)}n&&((f=!g&&f)&&v--,o&&x.push(f))}if(v+=y,n&&y!==v){for(h=0;g=t[h++];)g(x,b,a,s);if(o){if(v>0)for(;y--;)x[y]||b[y]||(b[y]=L.call(u));b=xe(b)}q.apply(u,b),c&&!o&&b.length>0&&v+t.length>1&&ie.uniqueSort(u)}return c&&(T=E,l=w),x};return n?ae(o):o}return he.prototype=r.filters=r.pseudos,r.setFilters=new he,a=ie.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=r.preFilter;s;){for(a in n&&!(i=I.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=z.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace($," ")}),s=s.slice(n.length)),r.filter)!(i=Q[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ie.error(e):k(e,u).slice(0)},s=ie.compile=function(e,t){var n,r=[],i=[],o=N[e+" "];if(!o){for(t||(t=a(e)),n=t.length;n--;)(o=we(t[n]))[b]?r.push(o):i.push(o);(o=N(e,Te(i,r))).selector=e}return o},u=ie.select=function(e,t,i,o){var u,l,c,f,d,p="function"==typeof e&&e,h=!o&&a(e=p.selector||e);if(i=i||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&n.getById&&9===t.nodeType&&m&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return i;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(u=Q.needsContext.test(e)?0:l.length;u--&&(c=l[u],!r.relative[f=c.type]);)if((d=r.find[f])&&(o=d(c.matches[0].replace(te,ne),Z.test(l[0].type)&&pe(t.parentNode)||t))){if(l.splice(u,1),!(e=o.length&&me(l)))return q.apply(i,o),i;break}}return(p||s(e,h))(o,t,!m,i,!t||Z.test(e)&&pe(t.parentNode)||t),i},n.sortStable=b.split("").sort(S).join("")===b,n.detectDuplicates=!!f,d(),n.sortDetached=se((function(e){return 1&e.compareDocumentPosition(p.createElement("div"))})),se((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&se((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),se((function(e){return null==e.getAttribute("disabled")}))||ue(F,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ie}(e);p.find=x,p.expr=x.selectors,p.expr[":"]=p.expr.pseudos,p.uniqueSort=p.unique=x.uniqueSort,p.text=x.getText,p.isXMLDoc=x.isXML,p.contains=x.contains;var b=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&p(e).is(n))break;r.push(e)}return r},w=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=p.expr.match.needsContext,C=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;function k(e,t,n){if(p.isFunction(t))return p.grep(e,(function(e,r){return!!t.call(e,r,e)!==n}));if(t.nodeType)return p.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(E.test(t))return p.filter(t,e,n);t=p.filter(t,e)}return p.grep(e,(function(e){return p.inArray(e,t)>-1!==n}))}p.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?p.find.matchesSelector(r,e)?[r]:[]:p.find.matches(e,p.grep(t,(function(e){return 1===e.nodeType})))},p.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(p(e).filter((function(){for(t=0;t<i;t++)if(p.contains(r[t],this))return!0})));for(t=0;t<i;t++)p.find(e,r[t],n);return(n=this.pushStack(i>1?p.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"==typeof e&&T.test(e)?p(e):e||[],!1).length}});var N,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,j;(p.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:S.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof p?t[0]:t,p.merge(this,p.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),C.test(i[1])&&p.isPlainObject(t))for(i in t)p.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((o=r.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return N.find(e);this.length=1,this[0]=o}return this.context=r,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):p.isFunction(e)?void 0!==n.ready?n.ready(e):e(p):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),p.makeArray(e,this))}).prototype=p.fn,N=p(r);var A=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}p.fn.extend({has:function(e){var t,n=p(e,this),r=n.length;return this.filter((function(){for(t=0;t<r;t++)if(p.contains(this,n[t]))return!0}))},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=T.test(e)||"string"!=typeof e?p(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&p.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?p.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?p.inArray(this[0],p(e)):p.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),p.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b(e,"parentNode")},parentsUntil:function(e,t,n){return b(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return b(e,"nextSibling")},prevAll:function(e){return b(e,"previousSibling")},nextUntil:function(e,t,n){return b(e,"nextSibling",n)},prevUntil:function(e,t,n){return b(e,"previousSibling",n)},siblings:function(e){return w((e.parentNode||{}).firstChild,e)},children:function(e){return w(e.firstChild)},contents:function(e){return p.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:p.merge([],e.childNodes)}},(function(e,t){p.fn[e]=function(n,r){var i=p.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=p.filter(r,i)),this.length>1&&(D[e]||(i=p.uniqueSort(i)),A.test(e)&&(i=i.reverse())),this.pushStack(i)}}));var H=/\S+/g,q,_;function M(e){var t={};return p.each(e.match(H)||[],(function(e,n){t[n]=!0})),t}function F(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",O),e.removeEventListener("load",O)):(r.detachEvent("onreadystatechange",O),e.detachEvent("onload",O))}function O(){(r.addEventListener||"load"===e.event.type||"complete"===r.readyState)&&(F(),p.ready())}for(_ in p.Callbacks=function(e){e="string"==typeof e?M(e):p.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){p.each(n,(function(n,r){p.isFunction(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==p.type(r)&&t(r)}))}(arguments),n&&!t&&u()),this},remove:function(){return p.each(arguments,(function(e,t){for(var n;(n=p.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?p.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=!0,n||l.disable(),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},p.extend({Deferred:function(e){var t=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return p.Deferred((function(n){p.each(t,(function(t,o){var a=p.isFunction(e[t])&&e[t];i[o[1]]((function(){var e=a&&a.apply(this,arguments);e&&p.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?p.extend(e,r):r}},i={};return r.pipe=r.then,p.each(t,(function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=i.call(arguments),r=n.length,o=1!==r||e&&p.isFunction(e.promise)?r:0,a=1===o?e:p.Deferred(),s=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?i.call(arguments):r,n===u?a.notifyWith(t,n):--o||a.resolveWith(t,n)}},u,l,c;if(r>1)for(u=new Array(r),l=new Array(r),c=new Array(r);t<r;t++)n[t]&&p.isFunction(n[t].promise)?n[t].promise().progress(s(t,l,u)).done(s(t,c,n)).fail(a.reject):--o;return o||a.resolveWith(c,n),a.promise()}}),p.fn.ready=function(e){return p.ready.promise().done(e),this},p.extend({isReady:!1,readyWait:1,holdReady:function(e){e?p.readyWait++:p.ready(!0)},ready:function(e){(!0===e?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==e&&--p.readyWait>0||(q.resolveWith(r,[p]),p.fn.triggerHandler&&(p(r).triggerHandler("ready"),p(r).off("ready"))))}}),p.ready.promise=function(t){if(!q)if(q=p.Deferred(),"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll)e.setTimeout(p.ready);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",O),e.addEventListener("load",O);else{r.attachEvent("onreadystatechange",O),e.attachEvent("onload",O);var n=!1;try{n=null==e.frameElement&&r.documentElement}catch(i){}n&&n.doScroll&&function t(){if(!p.isReady){try{n.doScroll("left")}catch(i){return e.setTimeout(t,50)}F(),p.ready()}}()}return q.promise(t)},p.ready.promise(),p(f))break;f.ownFirst="0"===_,f.inlineBlockNeedsLayout=!1,p((function(){var e,t,n,i;(n=r.getElementsByTagName("body")[0])&&n.style&&(t=r.createElement("div"),(i=r.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",f.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))})),function(){var e=r.createElement("div");f.deleteExpando=!0;try{delete e.test}catch(t){f.deleteExpando=!1}e=null}();var P=function(e){var t=p.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},R=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,B=/([A-Z])/g,W;function $(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(B,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:R.test(n)?p.parseJSON(n):n)}catch(i){}p.data(e,t,n)}else n=void 0}return n}function I(e){var t;for(t in e)if(("data"!==t||!p.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function z(e,t,r,i){if(P(e)){var o,a,s=p.expando,u=e.nodeType,l=u?p.cache:e,c=u?e[s]:e[s]&&s;if(c&&l[c]&&(i||l[c].data)||void 0!==r||"string"!=typeof t)return c||(c=u?e[s]=n.pop()||p.guid++:s),l[c]||(l[c]=u?{}:{toJSON:p.noop}),"object"!=typeof t&&"function"!=typeof t||(i?l[c]=p.extend(l[c],t):l[c].data=p.extend(l[c].data,t)),a=l[c],i||(a.data||(a.data={}),a=a.data),void 0!==r&&(a[p.camelCase(t)]=r),"string"==typeof t?null==(o=a[t])&&(o=a[p.camelCase(t)]):o=a,o}}function X(e,t,n){if(P(e)){var r,i,o=e.nodeType,a=o?p.cache:e,s=o?e[p.expando]:p.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){i=(t=p.isArray(t)?t.concat(p.map(t,p.camelCase)):t in r?[t]:(t=p.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!I(r):!p.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?p.cleanData([e],!0):f.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}p.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?p.cache[e[p.expando]]:e[p.expando])&&!I(e)},data:function(e,t,n){return z(e,t,n)},removeData:function(e,t){return X(e,t)},_data:function(e,t,n){return z(e,t,n,!0)},_removeData:function(e,t){return X(e,t,!0)}}),p.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=p.data(o),1===o.nodeType&&!p._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&$(o,r=p.camelCase(r.slice(5)),i[r]);p._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each((function(){p.data(this,e)})):arguments.length>1?this.each((function(){p.data(this,e,t)})):o?$(o,e,p.data(o,e)):void 0},removeData:function(e){return this.each((function(){p.removeData(this,e)}))}}),p.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=p._data(e,t),n&&(!r||p.isArray(n)?r=p._data(e,t,p.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=p.queue(e,t),r=n.length,i=n.shift(),o=p._queueHooks(e,t),a=function(){p.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return p._data(e,n)||p._data(e,n,{empty:p.Callbacks("once memory").add((function(){p._removeData(e,t+"queue"),p._removeData(e,n)}))})}}),p.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?p.queue(this[0],e):void 0===t?this:this.each((function(){var n=p.queue(this,e,t);p._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&p.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){p.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=p.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=p._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}}),f.shrinkWrapBlocks=function(){return null!=W?W:(W=!1,(t=r.getElementsByTagName("body")[0])&&t.style?(e=r.createElement("div"),(n=r.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(r.createElement("div")).style.width="5px",W=3!==e.offsetWidth),t.removeChild(n),W):void 0);var e,t,n};var U=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,V=new RegExp("^(?:([+-])=|)("+U+")([a-z%]*)$","i"),Q=["Top","Right","Bottom","Left"],Y=function(e,t){return e=t||e,"none"===p.css(e,"display")||!p.contains(e.ownerDocument,e)};function J(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return p.css(e,t,"")},u=s(),l=n&&n[3]||(p.cssNumber[t]?"":"px"),c=(p.cssNumber[t]||"px"!==l&&+u)&&V.exec(p.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{c/=o=o||".5",p.style(e,t,c+l)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var G=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===p.type(n))for(s in i=!0,n)G(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,p.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(p(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},K=/^(?:checkbox|radio)$/i,Z=/<([\w:-]+)/,ee=/^$|\/(?:java|ecma)script/i,te=/^\s+/,ne="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video",re,ie,oe;function ae(e){var t=ne.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}re=r.createElement("div"),ie=r.createDocumentFragment(),oe=r.createElement("input"),re.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",f.leadingWhitespace=3===re.firstChild.nodeType,f.tbody=!re.getElementsByTagName("tbody").length,f.htmlSerialize=!!re.getElementsByTagName("link").length,f.html5Clone="<:nav></:nav>"!==r.createElement("nav").cloneNode(!0).outerHTML,oe.type="checkbox",oe.checked=!0,ie.appendChild(oe),f.appendChecked=oe.checked,re.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!re.cloneNode(!0).lastChild.defaultValue,ie.appendChild(re),(oe=r.createElement("input")).setAttribute("type","radio"),oe.setAttribute("checked","checked"),oe.setAttribute("name","t"),re.appendChild(oe),f.checkClone=re.cloneNode(!0).cloneNode(!0).lastChild.checked,f.noCloneEvent=!!re.addEventListener,re[p.expando]=1,f.attributes=!re.getAttribute(p.expando);var se={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:f.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function ue(e,t){var n,r,i=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||p.nodeName(r,t)?o.push(r):p.merge(o,ue(r,t));return void 0===t||t&&p.nodeName(e,t)?p.merge([e],o):o}function le(e,t){for(var n,r=0;null!=(n=e[r]);r++)p._data(n,"globalEval",!t||p._data(t[r],"globalEval"))}se.optgroup=se.option,se.tbody=se.tfoot=se.colgroup=se.caption=se.thead,se.th=se.td;var ce=/<|&#?\w+;/,fe=/<tbody/i;function de(e){K.test(e.type)&&(e.defaultChecked=e.checked)}function pe(e,t,n,r,i){for(var o,a,s,u,l,c,d,h=e.length,m=ae(t),g=[],v=0;v<h;v++)if((a=e[v])||0===a)if("object"===p.type(a))p.merge(g,a.nodeType?[a]:a);else if(ce.test(a)){for(u=u||m.appendChild(t.createElement("div")),l=(Z.exec(a)||["",""])[1].toLowerCase(),d=se[l]||se._default,u.innerHTML=d[1]+p.htmlPrefilter(a)+d[2],o=d[0];o--;)u=u.lastChild;if(!f.leadingWhitespace&&te.test(a)&&g.push(t.createTextNode(te.exec(a)[0])),!f.tbody)for(o=(a="table"!==l||fe.test(a)?"<table>"!==d[1]||fe.test(a)?0:u:u.firstChild)&&a.childNodes.length;o--;)p.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(p.merge(g,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=m.lastChild}else g.push(t.createTextNode(a));for(u&&m.removeChild(u),f.appendChecked||p.grep(ue(g,"input"),de),v=0;a=g[v++];)if(r&&p.inArray(a,r)>-1)i&&i.push(a);else if(s=p.contains(a.ownerDocument,a),u=ue(m.appendChild(a),"script"),s&&le(u),n)for(o=0;a=u[o++];)ee.test(a.type||"")&&n.push(a);return u=null,m}!function(){var t,n,i=r.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(f[t]=n in e)||(i.setAttribute(n,"t"),f[t]=!1===i.attributes[n].expando);i=null}();var he=/^(?:input|select|textarea)$/i,me=/^key/,ge=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ve=/^(?:focusinfocus|focusoutblur)$/,ye=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function be(){return!1}function we(){try{return r.activeElement}catch(e){}}function Te(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Te(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=be;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return p().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=p.guid++)),e.each((function(){p.event.add(this,t,i,r,n)}))}p.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,d,h,m,g,v=p._data(e);if(v){for(n.handler&&(n=(u=n).handler,i=u.selector),n.guid||(n.guid=p.guid++),(a=v.events)||(a=v.events={}),(c=v.handle)||((c=v.handle=function(e){return void 0===p||e&&p.event.triggered===e.type?void 0:p.event.dispatch.apply(c.elem,arguments)}).elem=e),s=(t=(t||"").match(H)||[""]).length;s--;)h=g=(o=ye.exec(t[s])||[])[1],m=(o[2]||"").split(".").sort(),h&&(l=p.event.special[h]||{},h=(i?l.delegateType:l.bindType)||h,l=p.event.special[h]||{},f=p.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&p.expr.match.needsContext.test(i),namespace:m.join(".")},u),(d=a[h])||((d=a[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,r,m,c)||(e.addEventListener?e.addEventListener(h,c,!1):e.attachEvent&&e.attachEvent("on"+h,c))),l.add&&(l.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,f):d.push(f),p.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,d,h,m,g,v=p.hasData(e)&&p._data(e);if(v&&(c=v.events)){for(l=(t=(t||"").match(H)||[""]).length;l--;)if(h=g=(s=ye.exec(t[l])||[])[1],m=(s[2]||"").split(".").sort(),h){for(f=p.event.special[h]||{},d=c[h=(r?f.delegateType:f.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=d.length;o--;)a=d[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(e,a));u&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,m,v.handle)||p.removeEvent(e,h,v.handle),delete c[h])}else for(h in c)p.event.remove(e,h+t[l],n,r,!0);p.isEmptyObject(c)&&(delete v.handle,p._removeData(e,"events"))}},trigger:function(t,n,i,o){var a,s,u,l,f,d,h,m=[i||r],g=c.call(t,"type")?t.type:t,v=c.call(t,"namespace")?t.namespace.split("."):[];if(u=d=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!ve.test(g+p.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),s=g.indexOf(":")<0&&"on"+g,(t=t[p.expando]?t:new p.Event(g,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:p.makeArray(n,[t]),f=p.event.special[g]||{},o||!f.trigger||!1!==f.trigger.apply(i,n))){if(!o&&!f.noBubble&&!p.isWindow(i)){for(l=f.delegateType||g,ve.test(l+g)||(u=u.parentNode);u;u=u.parentNode)m.push(u),d=u;d===(i.ownerDocument||r)&&m.push(d.defaultView||d.parentWindow||e)}for(h=0;(u=m[h++])&&!t.isPropagationStopped();)t.type=h>1?l:f.bindType||g,(a=(p._data(u,"events")||{})[t.type]&&p._data(u,"handle"))&&a.apply(u,n),(a=s&&u[s])&&a.apply&&P(u)&&(t.result=a.apply(u,n),!1===t.result&&t.preventDefault());if(t.type=g,!o&&!t.isDefaultPrevented()&&(!f._default||!1===f._default.apply(m.pop(),n))&&P(i)&&s&&i[g]&&!p.isWindow(i)){(d=i[s])&&(i[s]=null),p.event.triggered=g;try{i[g]()}catch(y){}p.event.triggered=void 0,d&&(i[s]=d)}return t.result}},dispatch:function(e){e=p.event.fix(e);var t,n,r,o,a,s=[],u=i.call(arguments),l=(p._data(this,"events")||{})[e.type]||[],c=p.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=p.event.handlers.call(this,e,l),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(a.namespace)||(e.handleObj=a,e.data=a.data,void 0!==(r=((p.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?p(i,this).index(u)>-1:p.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[p.expando])return e;var t,n,i,o=e.type,a=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=ge.test(o)?this.mouseHooks:me.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new p.Event(a),t=i.length;t--;)e[n=i[t]]=a[n];return e.target||(e.target=a.srcElement||r),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,a=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(i=e.target.ownerDocument||r).documentElement,n=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==we()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===we()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(p.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return p.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=p.extend(new p.Event,n,{type:e,isSimulated:!0});p.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},p.removeEvent=r.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&(void 0===e[r]&&(e[r]=null),e.detachEvent(r,n))},p.Event=function(e,t){if(!(this instanceof p.Event))return new p.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:be):this.type=e,t&&p.extend(this,t),this.timeStamp=e&&e.timeStamp||p.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:be,isPropagationStopped:be,isImmediatePropagationStopped:be,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){p.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||p.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),f.submit||(p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return!1;p.event.add(this,"click._submit keypress._submit",(function(e){var t=e.target,n=p.nodeName(t,"input")||p.nodeName(t,"button")?p.prop(t,"form"):void 0;n&&!p._data(n,"submit")&&(p.event.add(n,"submit._submit",(function(e){e._submitBubble=!0})),p._data(n,"submit",!0))}))},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&p.event.simulate("submit",this.parentNode,e))},teardown:function(){if(p.nodeName(this,"form"))return!1;p.event.remove(this,"._submit")}}),f.change||(p.event.special.change={setup:function(){if(he.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(p.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)})),p.event.add(this,"click._change",(function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),p.event.simulate("change",this,e)}))),!1;p.event.add(this,"beforeactivate._change",(function(e){var t=e.target;he.test(t.nodeName)&&!p._data(t,"change")&&(p.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||p.event.simulate("change",this.parentNode,e)})),p._data(t,"change",!0))}))},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return p.event.remove(this,"._change"),!he.test(this.nodeName)}}),f.focusin||p.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){p.event.simulate(t,e.target,p.event.fix(e))};p.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=p._data(r,t);i||r.addEventListener(e,n,!0),p._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=p._data(r,t)-1;i?p._data(r,t,i):(r.removeEventListener(e,n,!0),p._removeData(r,t))}}})),p.fn.extend({on:function(e,t,n,r){return Te(this,e,t,n,r)},one:function(e,t,n,r){return Te(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,p(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=be),this.each((function(){p.event.remove(this,e,n,t)}))},trigger:function(e,t){return this.each((function(){p.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return p.event.trigger(e,t,n,!0)}});var Ce=/ jQuery\d+="(?:null|\d+)"/g,Ee=new RegExp("<(?:"+ne+")[\\s/>]","i"),ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ne=/<script|<style|<link/i,Se=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^true\/(.*)/,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,De,Le=ae(r).appendChild(r.createElement("div"));function He(e,t){return p.nodeName(e,"table")&&p.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function qe(e){return e.type=(null!==p.find.attr(e,"type"))+"/"+e.type,e}function _e(e){var t=je.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Me(e,t){if(1===t.nodeType&&p.hasData(e)){var n,r,i,o=p._data(e),a=p._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)p.event.add(t,n,s[n][r]);a.data&&(a.data=p.extend({},a.data))}}function Fe(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!f.noCloneEvent&&t[p.expando]){for(r in(i=p._data(t)).events)p.removeEvent(t,r,i.handle);t.removeAttribute(p.expando)}"script"===n&&t.text!==e.text?(qe(t).text=e.text,_e(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),f.html5Clone&&e.innerHTML&&!p.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&K.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function Oe(e,t,n,r){t=o.apply([],t);var i,a,s,u,l,c,d=0,h=e.length,m=h-1,g=t[0],v=p.isFunction(g);if(v||h>1&&"string"==typeof g&&!f.checkClone&&Se.test(g))return e.each((function(i){var o=e.eq(i);v&&(t[0]=g.call(this,i,o.html())),Oe(o,t,n,r)}));if(h&&(i=(c=pe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===c.childNodes.length&&(c=i),i||r)){for(s=(u=p.map(ue(c,"script"),qe)).length;d<h;d++)a=c,d!==m&&(a=p.clone(a,!0,!0),s&&p.merge(u,ue(a,"script"))),n.call(e[d],a,d);if(s)for(l=u[u.length-1].ownerDocument,p.map(u,_e),d=0;d<s;d++)a=u[d],ee.test(a.type||"")&&!p._data(a,"globalEval")&&p.contains(l,a)&&(a.src?p._evalUrl&&p._evalUrl(a.src):p.globalEval((a.text||a.textContent||a.innerHTML||"").replace(Ae,"")));c=i=null}return e}function Pe(e,t,n){for(var r,i=t?p.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||p.cleanData(ue(r)),r.parentNode&&(n&&p.contains(r.ownerDocument,r)&&le(ue(r,"script")),r.parentNode.removeChild(r));return e}p.extend({htmlPrefilter:function(e){return e.replace(ke,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u=p.contains(e.ownerDocument,e);if(f.html5Clone||p.isXMLDoc(e)||!Ee.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Le.innerHTML=e.outerHTML,Le.removeChild(o=Le.firstChild)),!(f.noCloneEvent&&f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||p.isXMLDoc(e)))for(r=ue(o),s=ue(e),a=0;null!=(i=s[a]);++a)r[a]&&Fe(i,r[a]);if(t)if(n)for(s=s||ue(e),r=r||ue(o),a=0;null!=(i=s[a]);a++)Me(i,r[a]);else Me(e,o);return(r=ue(o,"script")).length>0&&le(r,!u&&ue(e,"script")),r=s=i=null,o},cleanData:function(e,t){for(var r,i,o,a,s=0,u=p.expando,l=p.cache,c=f.attributes,d=p.event.special;null!=(r=e[s]);s++)if((t||P(r))&&(a=(o=r[u])&&l[o])){if(a.events)for(i in a.events)d[i]?p.event.remove(r,i):p.removeEvent(r,i,a.handle);l[o]&&(delete l[o],c||void 0===r.removeAttribute?r[u]=void 0:r.removeAttribute(u),n.push(o))}}}),p.fn.extend({domManip:Oe,detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return G(this,(function(e){return void 0===e?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(e))}),null,e,arguments.length)},append:function(){return Oe(this,arguments,(function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||He(this,e).appendChild(e)}))},prepend:function(){return Oe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=He(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&p.cleanData(ue(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&p.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return p.clone(this,e,t)}))},html:function(e){return G(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ce,""):void 0;if("string"==typeof e&&!Ne.test(e)&&(f.htmlSerialize||!Ee.test(e))&&(f.leadingWhitespace||!te.test(e))&&!se[(Z.exec(e)||["",""])[1].toLowerCase()]){e=p.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(p.cleanData(ue(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Oe(this,arguments,(function(t){var n=this.parentNode;p.inArray(this,e)<0&&(p.cleanData(ue(this)),n&&n.replaceChild(t,this))}),e)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){p.fn[e]=function(e){for(var n,r=0,i=[],o=p(e),s=o.length-1;r<=s;r++)n=r===s?this:this.clone(!0),p(o[r])[t](n),a.apply(i,n.get());return this.pushStack(i)}}));var Re,Be={HTML:"block",BODY:"block"};function We(e,t){var n=p(t.createElement(e)).appendTo(t.body),r=p.css(n[0],"display");return n.detach(),r}function $e(e){var t=r,n=Be[e];return n||("none"!==(n=We(e,t))&&n||((t=((Re=(Re||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Re[0].contentDocument).document).write(),t.close(),n=We(e,t),Re.detach()),Be[e]=n),n}var Ie=/^margin/,ze=new RegExp("^("+U+")(?!px)[a-z%]+$","i"),Xe=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i},Ue=r.documentElement;!function(){var t,n,i,o,a,s,u=r.createElement("div"),l=r.createElement("div");function c(){var c,f,d=r.documentElement;d.appendChild(u),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",t=i=s=!1,n=a=!0,e.getComputedStyle&&(f=e.getComputedStyle(l),t="1%"!==(f||{}).top,s="2px"===(f||{}).marginLeft,i="4px"===(f||{width:"4px"}).width,l.style.marginRight="50%",n="4px"===(f||{marginRight:"4px"}).marginRight,(c=l.appendChild(r.createElement("div"))).style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",l.style.width="1px",a=!parseFloat((e.getComputedStyle(c)||{}).marginRight),l.removeChild(c)),l.style.display="none",(o=0===l.getClientRects().length)&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(c=l.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===c[0].offsetHeight)&&(c[0].style.display="",c[1].style.display="none",o=0===c[0].offsetHeight)),d.removeChild(u)}l.style&&(l.style.cssText="float:left;opacity:.5",f.opacity="0.5"===l.style.opacity,f.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===l.style.backgroundClip,(u=r.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",u.appendChild(l),f.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,p.extend(f,{reliableHiddenOffsets:function(){return null==t&&c(),o},boxSizingReliable:function(){return null==t&&c(),i},pixelMarginRight:function(){return null==t&&c(),n},pixelPosition:function(){return null==t&&c(),t},reliableMarginRight:function(){return null==t&&c(),a},reliableMarginLeft:function(){return null==t&&c(),s}}))}();var Ve,Qe,Ye=/^(top|right|bottom|left)$/;function Je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}e.getComputedStyle?(Ve=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Qe=function(e,t,n){var r,i,o,a,s=e.style;return""!==(a=(n=n||Ve(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==a||p.contains(e.ownerDocument,e)||(a=p.style(e,t)),n&&!f.pixelMarginRight()&&ze.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0===a?a:a+""}):Ue.currentStyle&&(Ve=function(e){return e.currentStyle},Qe=function(e,t,n){var r,i,o,a,s=e.style;return null==(a=(n=n||Ve(e))?n[t]:void 0)&&s&&s[t]&&(a=s[t]),ze.test(a)&&!Ye.test(t)&&(r=s.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"});var Ge=/alpha\([^)]*\)/i,Ke=/opacity\s*=\s*([^)]*)/i,Ze=/^(none|table(?!-c[ea]).+)/,et=new RegExp("^("+U+")(.*)$","i"),tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"},rt=["Webkit","O","Moz","ms"],it=r.createElement("div").style;function ot(e){if(e in it)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=rt.length;n--;)if((e=rt[n]+t)in it)return e}function at(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=p._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Y(r)&&(o[a]=p._data(r,"olddisplay",$e(r.nodeName)))):(i=Y(r),(n&&"none"!==n||!i)&&p._data(r,"olddisplay",i?n:p.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function st(e,t,n){var r=et.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function ut(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=p.css(e,n+Q[o],!0,i)),r?("content"===n&&(a-=p.css(e,"padding"+Q[o],!0,i)),"margin"!==n&&(a-=p.css(e,"border"+Q[o]+"Width",!0,i))):(a+=p.css(e,"padding"+Q[o],!0,i),"padding"!==n&&(a+=p.css(e,"border"+Q[o]+"Width",!0,i)));return a}function lt(t,n,i){var o=!0,a="width"===n?t.offsetWidth:t.offsetHeight,s=Ve(t),u=f.boxSizing&&"border-box"===p.css(t,"boxSizing",!1,s);if(r.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(a=Math.round(100*t.getBoundingClientRect()[n])),a<=0||null==a){if(((a=Qe(t,n,s))<0||null==a)&&(a=t.style[n]),ze.test(a))return a;o=u&&(f.boxSizingReliable()||a===t.style[n]),a=parseFloat(a)||0}return a+ut(t,n,i||(u?"border":"content"),o,s)+"px"}function ct(e,t,n,r,i){return new ct.prototype.init(e,t,n,r,i)}p.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:f.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=p.camelCase(t),u=e.style;if(t=p.cssProps[s]||(p.cssProps[s]=ot(s)||s),a=p.cssHooks[t]||p.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if("string"===(o=typeof n)&&(i=V.exec(n))&&i[1]&&(n=J(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(p.cssNumber[s]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=p.camelCase(t);return t=p.cssProps[s]||(p.cssProps[s]=ot(s)||s),(a=p.cssHooks[t]||p.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Qe(e,t,r)),"normal"===o&&t in nt&&(o=nt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),p.each(["height","width"],(function(e,t){p.cssHooks[t]={get:function(e,n,r){if(n)return Ze.test(p.css(e,"display"))&&0===e.offsetWidth?Xe(e,tt,(function(){return lt(e,t,r)})):lt(e,t,r)},set:function(e,n,r){var i=r&&Ve(e);return st(e,n,r?ut(e,t,r,f.boxSizing&&"border-box"===p.css(e,"boxSizing",!1,i),i):0)}}})),f.opacity||(p.cssHooks.opacity={get:function(e,t){return Ke.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=p.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===p.trim(o.replace(Ge,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Ge.test(o)?o.replace(Ge,i):o+" "+i)}}),p.cssHooks.marginRight=Je(f.reliableMarginRight,(function(e,t){if(t)return Xe(e,{display:"inline-block"},Qe,[e,"marginRight"])})),p.cssHooks.marginLeft=Je(f.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||(p.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-Xe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})):0))+"px"})),p.each({margin:"",padding:"",border:"Width"},(function(e,t){p.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Q[r]+t]=o[r]||o[r-2]||o[0];return i}},Ie.test(e)||(p.cssHooks[e+t].set=st)})),p.fn.extend({css:function(e,t){return G(this,(function(e,t,n){var r,i,o={},a=0;if(p.isArray(t)){for(r=Ve(e),i=t.length;a<i;a++)o[t[a]]=p.css(e,t[a],!1,r);return o}return void 0!==n?p.style(e,t,n):p.css(e,t)}),e,t,arguments.length>1)},show:function(){return at(this,!0)},hide:function(){return at(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){Y(this)?p(this).show():p(this).hide()}))}}),p.Tween=ct,ct.prototype={constructor:ct,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||p.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(p.cssNumber[n]?"":"px")},cur:function(){var e=ct.propHooks[this.prop];return e&&e.get?e.get(this):ct.propHooks._default.get(this)},run:function(e){var t,n=ct.propHooks[this.prop];return this.options.duration?this.pos=t=p.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ct.propHooks._default.set(this),this}},ct.prototype.init.prototype=ct.prototype,ct.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=p.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){p.fx.step[e.prop]?p.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[p.cssProps[e.prop]]&&!p.cssHooks[e.prop]?e.elem[e.prop]=e.now:p.style(e.elem,e.prop,e.now+e.unit)}}},ct.propHooks.scrollTop=ct.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},p.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},p.fx=ct.prototype.init,p.fx.step={};var ft,dt,pt=/^(?:toggle|show|hide)$/,ht=/queueHooks$/;function mt(){return e.setTimeout((function(){ft=void 0})),ft=p.now()}function gt(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=Q[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function vt(e,t,n){for(var r,i=(bt.tweeners[t]||[]).concat(bt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function yt(e,t,n){var r,i,o,a,s,u,l,c,d=this,h={},m=e.style,g=e.nodeType&&Y(e),v=p._data(e,"fxshow");for(r in n.queue||(null==(s=p._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,p.queue(e,"fx").length||s.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===(c="none"===(l=p.css(e,"display"))?p._data(e,"olddisplay")||$e(e.nodeName):l)&&"none"===p.css(e,"float")&&(f.inlineBlockNeedsLayout&&"inline"!==$e(e.nodeName)?m.zoom=1:m.display="inline-block")),n.overflow&&(m.overflow="hidden",f.shrinkWrapBlocks()||d.always((function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}))),t)if(i=t[r],pt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}h[r]=v&&v[r]||p.style(e,r)}else l=void 0;if(p.isEmptyObject(h))"inline"===("none"===l?$e(e.nodeName):l)&&(m.display=l);else for(r in v?"hidden"in v&&(g=v.hidden):v=p._data(e,"fxshow",{}),o&&(v.hidden=!g),g?p(e).show():d.done((function(){p(e).hide()})),d.done((function(){var t;for(t in p._removeData(e,"fxshow"),h)p.style(e,t,h[t])})),h)a=vt(g?v[r]:0,r,d),r in v||(v[r]=a.start,g&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function xt(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=p.camelCase(n)],o=e[n],p.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=p.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function bt(e,t,n){var r,i,o=0,a=bt.prefilters.length,s=p.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var t=ft||mt(),n=Math.max(0,l.startTime+l.duration-t),r,o=1-(n/l.duration||0),a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:p.extend({},t),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},n),originalProperties:t,originalOptions:n,startTime:ft||mt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=p.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(xt(c,l.opts.specialEasing);o<a;o++)if(r=bt.prefilters[o].call(l,e,c,l.opts))return p.isFunction(r.stop)&&(p._queueHooks(l.elem,l.opts.queue).stop=p.proxy(r.stop,r)),r;return p.map(c,vt,l),p.isFunction(l.opts.start)&&l.opts.start.call(e,l),p.fx.timer(p.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}p.Animation=p.extend(bt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return J(n.elem,e,V.exec(t),n),n}]},tweener:function(e,t){p.isFunction(e)?(t=e,e=["*"]):e=e.match(H);for(var n,r=0,i=e.length;r<i;r++)n=e[r],bt.tweeners[n]=bt.tweeners[n]||[],bt.tweeners[n].unshift(t)},prefilters:[yt],prefilter:function(e,t){t?bt.prefilters.unshift(e):bt.prefilters.push(e)}}),p.speed=function(e,t,n){var r=e&&"object"==typeof e?p.extend({},e):{complete:n||!n&&t||p.isFunction(e)&&e,duration:e,easing:n&&t||t&&!p.isFunction(t)&&t};return r.duration=p.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in p.fx.speeds?p.fx.speeds[r.duration]:p.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){p.isFunction(r.old)&&r.old.call(this),r.queue&&p.dequeue(this,r.queue)},r},p.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Y).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=p.isEmptyObject(e),o=p.speed(t,n,r),a=function(){var t=bt(this,p.extend({},e),o);(i||p._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=p.timers,a=p._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ht.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||p.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=p._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=p.timers,a=r?r.length:0;for(n.finish=!0,p.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),p.each(["toggle","show","hide"],(function(e,t){var n=p.fn[t];p.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(gt(t,!0),e,r,i)}})),p.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){p.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),p.timers=[],p.fx.tick=function(){var e,t=p.timers,n=0;for(ft=p.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||p.fx.stop(),ft=void 0},p.fx.timer=function(e){p.timers.push(e),e()?p.fx.start():p.timers.pop()},p.fx.interval=13,p.fx.start=function(){dt||(dt=e.setInterval(p.fx.tick,p.fx.interval))},p.fx.stop=function(){e.clearInterval(dt),dt=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(t,n){return t=p.fx&&p.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}}))},function(){var e,t=r.createElement("input"),n=r.createElement("div"),i=r.createElement("select"),o=i.appendChild(r.createElement("option"));(n=r.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),(e=n.getElementsByTagName("a")[0]).style.cssText="top:1px",f.getSetAttribute="t"!==n.className,f.style=/top/.test(e.getAttribute("style")),f.hrefNormalized="/a"===e.getAttribute("href"),f.checkOn=!!t.value,f.optSelected=o.selected,f.enctype=!!r.createElement("form").enctype,i.disabled=!0,f.optDisabled=!o.disabled,(t=r.createElement("input")).setAttribute("value",""),f.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),f.radioValue="t"===t.value}();var wt=/\r/g;p.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=p.isFunction(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,p(this).val()):e)?i="":"number"==typeof i?i+="":p.isArray(i)&&(i=p.map(i,(function(e){return null==e?"":e+""}))),(t=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=p.valHooks[i.type]||p.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(wt,""):null==n?"":n:void 0}}),p.extend({valHooks:{option:{get:function(e){var t=p.find.attr(e,"value");return null!=t?t:p.trim(p.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(f.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!p.nodeName(n.parentNode,"optgroup"))){if(t=p(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=p.makeArray(t),a=i.length;a--;)if(r=i[a],p.inArray(p.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),p.each(["radio","checkbox"],(function(){p.valHooks[this]={set:function(e,t){if(p.isArray(t))return e.checked=p.inArray(p(e).val(),t)>-1}},f.checkOn||(p.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Tt,Ct,Et=p.expr.attrHandle,kt=/^(?:checked|selected)$/i,Nt=f.getSetAttribute,St=f.input;p.fn.extend({attr:function(e,t){return G(this,p.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){p.removeAttr(this,e)}))}}),p.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?p.prop(e,t,n):(1===o&&p.isXMLDoc(e)||(t=t.toLowerCase(),i=p.attrHooks[t]||(p.expr.match.bool.test(t)?Ct:Tt)),void 0!==n?null===n?void p.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=p.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&p.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(H);if(o&&1===e.nodeType)for(;n=o[i++];)r=p.propFix[n]||n,p.expr.match.bool.test(n)?St&&Nt||!kt.test(n)?e[r]=!1:e[p.camelCase("default-"+n)]=e[r]=!1:p.attr(e,n,""),e.removeAttribute(Nt?n:r)}}),Ct={set:function(e,t,n){return!1===t?p.removeAttr(e,n):St&&Nt||!kt.test(n)?e.setAttribute(!Nt&&p.propFix[n]||n,n):e[p.camelCase("default-"+n)]=e[n]=!0,n}},p.each(p.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Et[t]||p.find.attr;St&&Nt||!kt.test(t)?Et[t]=function(e,t,r){var i,o;return r||(o=Et[t],Et[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Et[t]=o),i}:Et[t]=function(e,t,n){if(!n)return e[p.camelCase("default-"+t)]?t.toLowerCase():null}})),St&&Nt||(p.attrHooks.value={set:function(e,t,n){if(!p.nodeName(e,"input"))return Tt&&Tt.set(e,t,n);e.defaultValue=t}}),Nt||(Tt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},Et.id=Et.name=Et.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},p.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Tt.set},p.attrHooks.contenteditable={set:function(e,t,n){Tt.set(e,""!==t&&t,n)}},p.each(["width","height"],(function(e,t){p.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}}))),f.style||(p.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var jt=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i;p.fn.extend({prop:function(e,t){return G(this,p.prop,e,t,arguments.length>1)},removeProp:function(e){return e=p.propFix[e]||e,this.each((function(){try{this[e]=void 0,delete this[e]}catch(t){}}))}}),p.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&p.isXMLDoc(e)||(t=p.propFix[t]||t,i=p.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=p.find.attr(e,"tabindex");return t?parseInt(t,10):jt.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.hrefNormalized||p.each(["href","src"],(function(e,t){p.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),f.optSelected||(p.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){p.propFix[this.toLowerCase()]=this})),f.enctype||(p.propFix.enctype="encoding");var Dt=/[\t\r\n\f]/g;function Lt(e){return p.attr(e,"class")||""}p.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(p.isFunction(e))return this.each((function(t){p(this).addClass(e.call(this,t,Lt(this)))}));if("string"==typeof e&&e)for(t=e.match(H)||[];n=this[u++];)if(i=Lt(n),r=1===n.nodeType&&(" "+i+" ").replace(Dt," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=p.trim(r))&&p.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(p.isFunction(e))return this.each((function(t){p(this).removeClass(e.call(this,t,Lt(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(H)||[];n=this[u++];)if(i=Lt(n),r=1===n.nodeType&&(" "+i+" ").replace(Dt," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=p.trim(r))&&p.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):p.isFunction(e)?this.each((function(n){p(this).toggleClass(e.call(this,n,Lt(this),t),t)})):this.each((function(){var t,r,i,o;if("string"===n)for(r=0,i=p(this),o=e.match(H)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=Lt(this))&&p._data(this,"__className__",t),p.attr(this,"class",t||!1===e?"":p._data(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Lt(n)+" ").replace(Dt," ").indexOf(t)>-1)return!0;return!1}}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){p.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),p.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Ht=e.location,qt=p.now(),_t=/\?/,Mt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;p.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=p.trim(t+"");return i&&!p.trim(i.replace(Mt,(function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")})))?Function("return "+i)():p.error("Invalid JSON: "+t)},p.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?n=(r=new e.DOMParser).parseFromString(t,"text/xml"):((n=new e.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+t),n};var Ft=/#.*$/,Ot=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Rt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bt=/^(?:GET|HEAD)$/,Wt=/^\/\//,$t=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,It={},zt={},Xt="*/".concat("*"),Ut=Ht.href,Vt=$t.exec(Ut.toLowerCase())||[];function Qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(H)||[];if(p.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Yt(e,t,n,r){var i={},o=e===zt;function a(s){var u;return i[s]=!0,p.each(e[s]||[],(function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)})),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Jt(e,t){var n,r,i=p.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&p.extend(!0,e,n),e}function Gt(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Kt(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function Zt(e){return e.style&&e.style.display||p.css(e,"display")}function en(e){for(;e&&1===e.nodeType;){if("none"===Zt(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ut,type:"GET",isLocal:Rt.test(Vt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Jt(Jt(e,p.ajaxSettings),t):Jt(p.ajaxSettings,e)},ajaxPrefilter:Qt(It),ajaxTransport:Qt(zt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,i,o,a,s,u,l,c,f=p.ajaxSetup({},n),d=f.context||f,h=f.context&&(d.nodeType||d.jquery)?p(d):p.event,m=p.Deferred(),g=p.Callbacks("once memory"),v=f.statusCode||{},y={},x={},b=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Pt.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=x[n]=x[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)v[t]=[v[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return l&&l.abort(t),C(0,t),this}};if(m.promise(T).complete=g.add,T.success=T.done,T.error=T.fail,f.url=((t||f.url||Ut)+"").replace(Ft,"").replace(Wt,Vt[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=p.trim(f.dataType||"*").toLowerCase().match(H)||[""],null==f.crossDomain&&(r=$t.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===Vt[1]&&r[2]===Vt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Vt[3]||("http:"===Vt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=p.param(f.data,f.traditional)),Yt(It,f,n,T),2===b)return T;for(i in(u=p.event&&f.global)&&0==p.active++&&p.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Bt.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(_t.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=Ot.test(o)?o.replace(Ot,"$1_="+qt++):o+(_t.test(o)?"&":"?")+"_="+qt++)),f.ifModified&&(p.lastModified[o]&&T.setRequestHeader("If-Modified-Since",p.lastModified[o]),p.etag[o]&&T.setRequestHeader("If-None-Match",p.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Xt+"; q=0.01":""):f.accepts["*"]),f.headers)T.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(!1===f.beforeSend.call(d,T,f)||2===b))return T.abort();for(i in w="abort",{success:1,error:1,complete:1})T[i](f[i]);if(l=Yt(zt,f,n,T)){if(T.readyState=1,u&&h.trigger("ajaxSend",[T,f]),2===b)return T;f.async&&f.timeout>0&&(s=e.setTimeout((function(){T.abort("timeout")}),f.timeout));try{b=1,l.send(y,C)}catch(E){if(!(b<2))throw E;C(-1,E)}}else C(-1,"No Transport");function C(t,n,r,i){var c,y,x,w,C,E=n;2!==b&&(b=2,s&&e.clearTimeout(s),l=void 0,a=i||"",T.readyState=t>0?4:0,c=t>=200&&t<300||304===t,r&&(w=Gt(f,T,r)),w=Kt(f,w,T,c),c?(f.ifModified&&((C=T.getResponseHeader("Last-Modified"))&&(p.lastModified[o]=C),(C=T.getResponseHeader("etag"))&&(p.etag[o]=C)),204===t||"HEAD"===f.type?E="nocontent":304===t?E="notmodified":(E=w.state,y=w.data,c=!(x=w.error))):(x=E,!t&&E||(E="error",t<0&&(t=0))),T.status=t,T.statusText=(n||E)+"",c?m.resolveWith(d,[y,E,T]):m.rejectWith(d,[T,E,x]),T.statusCode(v),v=void 0,u&&h.trigger(c?"ajaxSuccess":"ajaxError",[T,f,c?y:x]),g.fireWith(d,[T,E]),u&&(h.trigger("ajaxComplete",[T,f]),--p.active||p.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return p.get(e,t,n,"json")},getScript:function(e,t){return p.get(e,void 0,t,"script")}}),p.each(["get","post"],(function(e,t){p[t]=function(e,n,r,i){return p.isFunction(n)&&(i=i||r,r=n,n=void 0),p.ajax(p.extend({url:e,type:t,dataType:i,data:n,success:r},p.isPlainObject(e)&&e))}})),p._evalUrl=function(e){return p.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},p.fn.extend({wrapAll:function(e){if(p.isFunction(e))return this.each((function(t){p(this).wrapAll(e.call(this,t))}));if(this[0]){var t=p(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return p.isFunction(e)?this.each((function(t){p(this).wrapInner(e.call(this,t))})):this.each((function(){var t=p(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=p.isFunction(e);return this.each((function(n){p(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)})).end()}}),p.expr.filters.hidden=function(e){return f.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:en(e)},p.expr.filters.visible=function(e){return!p.expr.filters.hidden(e)};var tn=/%20/g,nn=/\[\]$/,rn=/\r?\n/g,on=/^(?:submit|button|image|reset|file)$/i,an=/^(?:input|select|textarea|keygen)/i;function sn(e,t,n,r){var i;if(p.isArray(t))p.each(t,(function(t,i){n||nn.test(e)?r(e,i):sn(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==p.type(t))r(e,t);else for(i in t)sn(e+"["+i+"]",t[i],n,r)}p.param=function(e,t){var n,r=[],i=function(e,t){t=p.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(e)||e.jquery&&!p.isPlainObject(e))p.each(e,(function(){i(this.name,this.value)}));else for(n in e)sn(n,e[n],t,i);return r.join("&").replace(tn,"+")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=p.prop(this,"elements");return e?p.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!p(this).is(":disabled")&&an.test(this.nodeName)&&!on.test(e)&&(this.checked||!K.test(e))})).map((function(e,t){var n=p(this).val();return null==n?null:p.isArray(n)?p.map(n,(function(e){return{name:t.name,value:e.replace(rn,"\r\n")}})):{name:t.name,value:n.replace(rn,"\r\n")}})).get()}}),p.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?dn():r.documentMode>8?fn():/^(get|post|head|put|delete|options)$/i.test(this.type)&&fn()||dn()}:fn;var un=0,ln={},cn=p.ajaxSettings.xhr();function fn(){try{return new e.XMLHttpRequest}catch(t){}}function dn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}e.attachEvent&&e.attachEvent("onunload",(function(){for(var e in ln)ln[e](void 0,!0)})),f.cors=!!cn&&"withCredentials"in cn,(cn=f.ajax=!!cn)&&p.ajaxTransport((function(t){var n;if(!t.crossDomain||f.cors)return{send:function(r,i){var o,a=t.xhr(),s=++un;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)void 0!==r[o]&&a.setRequestHeader(o,r[o]+"");a.send(t.hasContent&&t.data||null),n=function(e,r){var o,u,l;if(n&&(r||4===a.readyState))if(delete ln[s],n=void 0,a.onreadystatechange=p.noop,r)4!==a.readyState&&a.abort();else{l={},o=a.status,"string"==typeof a.responseText&&(l.text=a.responseText);try{u=a.statusText}catch(c){u=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=l.text?200:404}l&&i(o,u,l,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(n):a.onreadystatechange=ln[s]=n:n()},abort:function(){n&&n(void 0,!0)}}})),p.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return p.globalEval(e),e}}}),p.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),p.ajaxTransport("script",(function(e){if(e.crossDomain){var t,n=r.head||p("head")[0]||r.documentElement;return{send:function(i,o){(t=r.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}}));var pn=[],hn=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=pn.pop()||p.expando+"_"+qt++;return this[e]=!0,e}}),p.ajaxPrefilter("json jsonp",(function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(hn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&hn.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=p.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(hn,"$1"+i):!1!==t.jsonp&&(t.url+=(_t.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||p.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always((function(){void 0===o?p(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,pn.push(i)),a&&p.isFunction(o)&&o(a[0]),a=o=void 0})),"script"})),f.createHTMLDocument=function(){if(!r.implementation.createHTMLDocument)return!1;var e=r.implementation.createHTMLDocument("");return e.body.innerHTML="<form></form><form></form>",2===e.body.childNodes.length}(),p.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||(f.createHTMLDocument?r.implementation.createHTMLDocument(""):r);var i=C.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=pe([e],t,o),o&&o.length&&p(o).remove(),p.merge([],i.childNodes))};var mn=p.fn.load;function gn(e){return p.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}p.fn.load=function(e,t,n){if("string"!=typeof e&&mn)return mn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=p.trim(e.slice(s,e.length)),e=e.slice(0,s)),p.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&p.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?p("<div>").append(p.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(a,o||[e.responseText,t,e])}))}),this},p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){p.fn[t]=function(e){return this.on(t,e)}})),p.expr.filters.animated=function(e){return p.grep(p.timers,(function(t){return e===t.elem})).length},p.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=p.css(e,"position"),f=p(e),d={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=p.css(e,"top"),u=p.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&p.inArray("auto",[o,u])>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),p.isFunction(t)&&(t=t.call(e,n,p.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):f.css(d)}},p.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){p.offset.setOffset(this,e,t)}));var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,p.contains(t,i)?(void 0!==i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=gn(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===p.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),p.nodeName(e[0],"html")||(n=e.offset()),n.top+=p.css(e[0],"borderTopWidth",!0),n.left+=p.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-p.css(r,"marginTop",!0),left:t.left-n.left-p.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&!p.nodeName(e,"html")&&"static"===p.css(e,"position");)e=e.offsetParent;return e||Ue}))}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n=/Y/.test(t);p.fn[e]=function(r){return G(this,(function(e,r,i){var o=gn(e);if(void 0===i)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(n?p(o).scrollLeft():i,n?i:p(o).scrollTop()):e[r]=i}),e,r,arguments.length,null)}})),p.each(["top","left"],(function(e,t){p.cssHooks[t]=Je(f.pixelPosition,(function(e,n){if(n)return n=Qe(e,t),ze.test(n)?p(e).position()[t]+"px":n}))})),p.each({Height:"height",Width:"width"},(function(e,t){p.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){p.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return G(this,(function(t,n,r){var i;return p.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?p.css(t,n,a):p.style(t,n,r,a)}),t,o?r:void 0,o,null)}}))})),p.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),p.fn.size=function(){return this.length},p.fn.andSelf=p.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return p}));var vn=e.jQuery,yn=e.$;return p.noConflict=function(t){return e.$===p&&(e.$=yn),t&&e.jQuery===p&&(e.jQuery=vn),p},t||(e.jQuery=e.$=p),p}))}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/jquery/main.js");Package._define("jquery",s,{$:i,jQuery:void 0})}();

!function(){var n,t;(function(){n={}}).call(this),function(){(function(){var t=this,r=t._,e={},u=Array.prototype,i=Object.prototype,a=Function.prototype,c=u.push,o=u.slice,l=u.concat,f=i.toString,s=i.hasOwnProperty,p=u.forEach,h=u.map,v=u.reduce,y=u.reduceRight,d=u.filter,g=u.every,m=u.some,b=u.indexOf,_=u.lastIndexOf,w=Array.isArray,x=Object.keys,j=a.bind,A=function(n){return n instanceof A?n:this instanceof A?void(this._wrapped=n):new A(n)};void 0!==n?("undefined"!=typeof module&&module.exports&&(n=module.exports=A),n._=A):t._=A,A.VERSION="1.5.2";var O=function(n){return"[object Arguments]"===f.call(n)};O(arguments)||(O=function(n){return!(!n||!s.call(n,"callee")||"function"!=typeof n.callee)});var E=function(n){return n.length===+n.length&&(O(n)||n.constructor!==Object)},k=A.each=A.forEach=function(n,t,r){if(null!=n)if(p&&n.forEach===p)n.forEach(t,r);else if(E(n)){for(var u=0,i=n.length;u<i;u++)if(t.call(r,n[u],u,n)===e)return}else for(var a=A.keys(n),u=0,i=a.length;u<i;u++)if(t.call(r,n[a[u]],a[u],n)===e)return};A.map=A.collect=function(n,t,r){var e=[];return null==n?e:h&&n.map===h?n.map(t,r):(k(n,(function(n,u,i){e.push(t.call(r,n,u,i))})),e)};var F="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduce===v)return e&&(t=A.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(k(n,(function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)})),!u)throw new TypeError(F);return r},A.reduceRight=A.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),y&&n.reduceRight===y)return e&&(t=A.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(!E(n)){var a=A.keys(n);i=a.length}if(k(n,(function(c,o,l){o=a?a[--i]:--i,u?r=t.call(e,r,n[o],o,l):(r=n[o],u=!0)})),!u)throw new TypeError(F);return r},A.find=A.detect=function(n,t,r){var e;return M(n,(function(n,u,i){if(t.call(r,n,u,i))return e=n,!0})),e},A.filter=A.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(k(n,(function(n,u,i){t.call(r,n,u,i)&&e.push(n)})),e)},A.reject=function(n,t,r){return A.filter(n,(function(n,e,u){return!t.call(r,n,e,u)}),r)},A.every=A.all=function(n,t,r){t||(t=A.identity);var u=!0;return null==n?u:g&&n.every===g?n.every(t,r):(k(n,(function(n,i,a){if(!(u=u&&t.call(r,n,i,a)))return e})),!!u)};var M=A.some=A.any=function(n,t,r){t||(t=A.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,r):(k(n,(function(n,i,a){if(u||(u=t.call(r,n,i,a)))return e})),!!u)};A.contains=A.include=function(n,t){return null!=n&&(b&&n.indexOf===b?-1!=n.indexOf(t):M(n,(function(n){return n===t})))},A.invoke=function(n,t){var r=o.call(arguments,2),e=A.isFunction(t);return A.map(n,(function(n){return(e?t:n[t]).apply(n,r)}))},A.pluck=function(n,t){return A.map(n,(function(n){return n[t]}))},A.where=function(n,t,r){return A.isEmpty(t)?r?void 0:[]:A[r?"find":"filter"](n,(function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0}))},A.findWhere=function(n,t){return A.where(n,t,!0)},A.max=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return k(n,(function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})})),e.value},A.min=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return k(n,(function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})})),e.value},A.shuffle=function(n){var t,r=0,e=[];return k(n,(function(n){t=A.random(r++),e[r-1]=e[t],e[t]=n})),e},A.sample=function(n,t,r){return arguments.length<2||r?n[A.random(n.length-1)]:A.shuffle(n).slice(0,Math.max(0,t))};var R=function(n){return A.isFunction(n)?n:function(t){return t[n]}};A.sortBy=function(n,t,r){var e=R(t);return A.pluck(A.map(n,(function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}})).sort((function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index})),"value")};var S=function(n){return function(t,r,e){var u={},i=null==r?A.identity:R(r);return k(t,(function(r,a){var c=i.call(e,r,a,t);n(u,c,r)})),u}};A.groupBy=S((function(n,t,r){(A.has(n,t)?n[t]:n[t]=[]).push(r)})),A.indexBy=S((function(n,t,r){n[t]=r})),A.countBy=S((function(n,t){A.has(n,t)?n[t]++:n[t]=1})),A.sortedIndex=function(n,t,r,e){for(var u=(r=null==r?A.identity:R(r)).call(e,t),i=0,a=n.length;i<a;){var c=i+a>>>1;r.call(e,n[c])<u?i=c+1:a=c}return i},A.toArray=function(n){return n?A.isArray(n)?o.call(n):E(n)?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:E(n)?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:o.call(n,0,t)},A.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},A.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var I=function(n,t,r){return t&&A.every(n,A.isArray)?l.apply(r,n):(k(n,(function(n){A.isArray(n)||A.isArguments(n)?t?c.apply(r,n):I(n,t,r):r.push(n)})),r)};A.flatten=function(n,t){return I(n,t,[])},A.without=function(n){return A.difference(n,o.call(arguments,1))},A.uniq=A.unique=function(n,t,r,e){A.isFunction(t)&&(e=r,r=t,t=!1);var u=r?A.map(n,r,e):n,i=[],a=[];return k(u,(function(r,e){(t?e&&a[a.length-1]===r:A.contains(a,r))||(a.push(r),i.push(n[e]))})),i},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=o.call(arguments,1);return A.filter(A.uniq(n),(function(n){return A.every(t,(function(t){return A.indexOf(t,n)>=0}))}))},A.difference=function(n){var t=l.apply(u,o.call(arguments,1));return A.filter(n,(function(n){return!A.contains(t,n)}))},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;r<n;r++)t[r]=A.pluck(arguments,""+r);return t},A.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},A.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return n[e=A.sortedIndex(n,t)]===t?e:-1;e=r<0?Math.max(0,u+r):r}if(b&&n.indexOf===b)return n.indexOf(t,r);for(;e<u;e++)if(n[e]===t)return e;return-1},A.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(_&&n.lastIndexOf===_)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},A.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);u<e;)i[u++]=n,n+=r;return i};var T=function(){};A.bind=function(n,t){var r,e;if(j&&n.bind===j)return j.apply(n,o.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));T.prototype=n.prototype;var u=new T;T.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},A.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},A.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return k(t,(function(t){n[t]=A.bind(n[t],n)})),n},A.memoize=function(n,t){var r={};return t||(t=A.identity),function(){var e=t.apply(this,arguments);return A.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},A.delay=function(n,t){var r=o.call(arguments,2);return setTimeout((function(){return n.apply(null,r)}),t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(o.call(arguments,1)))},A.throttle=function(n,t,r){var e,u,i,a=null,c=0;r||(r={});var o=function(){c=!1===r.leading?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;c||!1!==r.leading||(c=l);var f=t-(l-c);return e=this,u=arguments,f<=0?(clearTimeout(a),a=null,c=l,i=n.apply(e,u)):a||!1===r.trailing||(a=setTimeout(o,f)),i}},A.debounce=function(n,t,r){var e,u,i,a,c;return function(){i=this,u=arguments,a=new Date;var o=function(){var l=new Date-a;l<t?e=setTimeout(o,t-l):(e=null,r||(c=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(o,t)),l&&(c=n.apply(i,u)),c}},A.once=function(n){var t=!1,r;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}},A.wrap=function(n,t){return function(){var r=[n];return c.apply(r,arguments),t.apply(this,r)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},A.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)A.has(n,r)&&t.push(r);return t},A.values=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},A.pairs=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},A.invert=function(n){for(var t={},r=A.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},A.functions=A.methods=function(n){var t=[];for(var r in n)A.isFunction(n[r])&&t.push(r);return t.sort()},A.extend=function(n){return k(o.call(arguments,1),(function(t){if(t)for(var r in t)n[r]=t[r]})),n},A.pick=function(n){var t={},r=l.apply(u,o.call(arguments,1));return k(r,(function(r){r in n&&(t[r]=n[r])})),t},A.omit=function(n){var t={},r=l.apply(u,o.call(arguments,1));for(var e in n)A.contains(r,e)||(t[e]=n[e]);return t},A.defaults=function(n){return k(o.call(arguments,1),(function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])})),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var u=f.call(n);if(u!=f.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,c=t.constructor;if(a!==c&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(c)&&c instanceof c))return!1;r.push(n),e.push(t);var o=0,l=!0;if("[object Array]"==u){if(l=(o=n.length)==t.length)for(;o--&&(l=N(n[o],t[o],r,e)););}else{for(var s in n)if(A.has(n,s)&&(o++,!(l=A.has(t,s)&&N(n[s],t[s],r,e))))break;if(l){for(s in t)if(A.has(t,s)&&!o--)break;l=!o}}return r.pop(),e.pop(),l};A.isEqual=function(n,t){return N(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==f.call(n)},A.isObject=function(n){return n===Object(n)},k(["Arguments","Function","String","Number","Date","RegExp"],(function(n){A["is"+n]=function(t){return f.call(t)=="[object "+n+"]"}})),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"==f.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return s.call(n,t)},A.noConflict=function(){return t._=r,this},A.identity=function(n){return n},A.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;u<n;u++)e[u]=t.call(r,u);return e},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=A.invert(q.escape);var B={escape:new RegExp("["+A.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(q.unescape).join("|")+")","g")};A.each(["escape","unescape"],(function(n){A[n]=function(t){return null==t?"":(""+t).replace(B[n],(function(t){return q[n][t]}))}})),A.result=function(n,t){if(null!=n){var r=n[t];return A.isFunction(r)?r.call(n):r}},A.mixin=function(n){k(A.functions(n),(function(t){var r=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return c.apply(n,arguments),U.call(this,r.apply(A,n))}}))};var D=0;A.uniqueId=function(n){var t=++D+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,r){var e;r=A.defaults({},r,A.templateSettings);var u=new RegExp([(r.escape||z).source,(r.interpolate||z).source,(r.evaluate||z).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,(function(t,r,e,u,c){return a+=n.slice(i,c).replace(P,(function(n){return"\\"+C[n]})),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=c+t.length,t})),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,A);var c=function(n){return e.call(this,n,A)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},A.chain=function(n){return A(n).chain()};var U=function(n){return this._chain?A(n).chain():n};A.mixin(A),k(["pop","push","reverse","shift","sort","splice","unshift"],(function(n){var t=u[n];A.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],U.call(this,r)}})),k(["concat","join","slice"],(function(n){var t=u[n];A.prototype[n]=function(){return U.call(this,t.apply(this._wrapped,arguments))}})),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){t=n._}.call(this),Package._define("underscore",{_:t})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,t=Package.tracker.Tracker,i=Package.tracker.Deps,o=Package["mongo-id"].MongoID,a=Package["diff-sequence"].DiffSequence,c=Package.underscore._,f=Package.random.Random,u,d,s,l;(function(){var e=function(){u._suppressWarnings?u._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),u._loggedWarnings++)};function n(e){return e instanceof Array||c.isArray(e)}var r=o.idStringify,i=o.idParse;u={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,r){var i=null,o=null,f=[],u=t.autorun((function(){var u=e();t.nonreactive((function(){var e;if(o&&(f=c.map(i.fetch(),(function(e){return{_id:e._id,item:e}})),o.stop(),o=null),u)if(n(u))e=s(f,u,r);else{if(!v(u))throw a();var t=l(f,u,r);e=t[0],o=t[1]}else e=d(f,r);p(f,e,r),i=u,f=e}))}));return{stop:function(){u.stop(),o&&o.stop()}}},fetch:function(e){if(e){if(n(e))return e;if(v(e))return e.fetch();throw a()}return[]}};var a=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},v=function(e){return e&&c.isObject(e)&&c.isFunction(e.observe)&&c.isFunction(e.fetch)},p=function(e,n,t){var o=Package["diff-sequence"].DiffSequence.diffQueryOrderedChanges,a=[],f=[],u={},d={},s={},l=e.length;c.each(n,(function(e,n){f.push({_id:e._id}),d[r(e._id)]=n})),c.each(e,(function(e,n){a.push({_id:e._id}),u[r(e._id)]=n,s[r(e._id)]=n})),o(a,f,{addedBefore:function(e,i,o){var a=o?s[r(o)]:l;o&&c.each(s,(function(e,n){e>=a&&s[n]++})),l++,s[r(e)]=a,t.addedAt(e,n[d[r(e)]].item,a,o)},movedBefore:function(e,i){if(e!==i){var o=s[r(e)],a=i?s[r(i)]:l;a>o&&a--,c.each(s,(function(e,n){o<e&&e<a?s[n]--:a<=e&&e<o&&s[n]++})),s[r(e)]=a,t.movedTo(e,n[d[r(e)]].item,o,a,i)}},removed:function(n){var i=s[r(n)];c.each(s,(function(e,n){e>=i&&s[n]--})),delete s[r(n)],l--,t.removedAt(n,e[u[r(n)]].item,i)}}),c.each(d,(function(r,o){var a=i(o);if(c.has(u,o)){var f=n[r].item,d=e[u[o]].item;"object"!=typeof f&&f===d||t.changedAt(a,f,d,r)}}))};d=function(e,n){return[]},s=function(n,t,i){var o={},a;return c.map(t,(function(n,i){var a;if("string"==typeof n)a="-"+n;else if("number"==typeof n||"boolean"==typeof n||null==n)a=n;else{if("object"!=typeof n)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof n);a=n&&"_id"in n?n._id:i}var c=r(a);return o[c]?(n&&"object"==typeof n&&"_id"in n&&e("duplicate id "+a+" in",t),a=f.id()):o[c]=!0,{_id:a,item:n}}))},l=function(e,n,r){var t=!0,i=[],o=n.observe({addedAt:function(e,n,o){if(t){if(null!==o)throw new Error("Expected initial data from observe in order");i.push({_id:e._id,item:e})}else r.addedAt(e._id,e,n,o)},changedAt:function(e,n,t){r.changedAt(e._id,e,n,t)},removedAt:function(e,n){r.removedAt(e._id,e,n)},movedTo:function(e,n,t,i){r.movedTo(e._id,e,n,t,i)}});return t=!1,[i,o]}}).call(this),Package._define("observe-sequence",{ObserveSequence:u})}();

!function(){var e=Package.tracker.Tracker,a=Package.tracker.Deps;Package._define("deps",{Tracker:e,Deps:a})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,i=Package.meteor.meteorEnv,r=Package.tracker.Tracker,n=Package.tracker.Deps,o,a,s;(function(){o={},a=function(t){return t},s=Array.prototype.slice}).call(this),function(){var t=Object.prototype.hasOwnProperty,e=function(e,i){for(var r in i)t.call(i,r)&&(e[r]=i[r]);return e};o.Visitor=function(t){e(this,t)},o.Visitor.def=function(t){e(this.prototype,t)},o.Visitor.extend=function(t){var i=this,r=function t(){o.Visitor.apply(this,arguments)};return r.prototype=new this,r.extend=this.extend,r.def=this.def,t&&e(r.prototype,t),r},o.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case o.Tag.htmljsType:return this.visitTag.apply(this,arguments);case o.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case o.Comment.htmljsType:return this.visitComment.apply(this,arguments);case o.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return o.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(t){},visitPrimitive:function(t){},visitArray:function(t){},visitComment:function(t){},visitCharRef:function(t){},visitRaw:function(t){},visitTag:function(t){},visitObject:function(t){throw new Error("Unexpected object in htmljs: "+t)},visitFunction:function(t){throw new Error("Unexpected function in htmljs: "+t)}}),o.TransformingVisitor=o.Visitor.extend(),o.TransformingVisitor.def({visitNull:a,visitPrimitive:a,visitArray:function(t){for(var e=s.call(arguments),i=t,r=0;r<t.length;r++){var n=t[r];e[0]=n;var o=this.visit.apply(this,e);o!==n&&(i===t&&(i=t.slice()),i[r]=o)}return i},visitComment:a,visitCharRef:a,visitRaw:a,visitObject:a,visitFunction:a,visitTag:function(t){var e=t.children,i=s.call(arguments);i[0]=e;var r=this.visitChildren.apply(this,i),n=t.attrs;i[0]=n;var a=this.visitAttributes.apply(this,i);if(a===n&&r===e)return t;var l=o.getTag(t.tagName).apply(null,r);return l.attrs=a,l},visitChildren:function(t){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(o.isArray(t)){for(var i=s.call(arguments),r=t,n=0;n<t.length;n++){var a=t[n];i[0]=a;var l=this.visitAttributes.apply(this,i);l!==a&&(r===t&&(r=t.slice()),r[n]=l)}return r}if(t&&o.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var u=t,f=u;if(u){var c=[null,null];for(var h in c.push.apply(c,arguments),u){var p=u[h];c[0]=h,c[1]=p;var m=this.visitAttribute.apply(this,c);m!==p&&(f===u&&(f=e({},u)),f[h]=m)}}return f},visitAttribute:function(t,e,i){var r=s.call(arguments,2);return r[0]=e,this.visit.apply(this,r)}}),o.ToTextVisitor=o.Visitor.extend(),o.ToTextVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return this.textMode===o.TEXTMODE.RCDATA?e.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===o.TEXTMODE.ATTRIBUTE?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):e},visitArray:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.visit(t[i]));return e.join("")},visitComment:function(t){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===o.TEXTMODE.RCDATA||this.textMode===o.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(t){return t.value},visitTag:function(t){return this.visit(this.toHTML(t))},visitObject:function(t){throw new Error("Unexpected object in htmljs in toText: "+t)},toHTML:function(t){return o.toHTML(t)}}),o.ToHTMLVisitor=o.Visitor.extend(),o.ToHTMLVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e;return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.visit(t[i]));return e.join("")},visitComment:function(t){return"\x3c!--"+t.sanitizedValue+"--\x3e"},visitCharRef:function(t){return t.html},visitRaw:function(t){return t.value},visitTag:function(t){var e=[],i=t.tagName,r=t.children,n=t.attrs;if(n)for(var a in n=o.flattenAttributes(n))if("value"===a&&"textarea"===i)r=[n[a],r];else{var s=this.toText(n[a],o.TEXTMODE.ATTRIBUTE);e.push(" "+a+'="'+s+'"')}var l="<"+i+e.join("")+">",u=[],f;if("textarea"===i){for(var c=0;c<r.length;c++)u.push(this.toText(r[c],o.TEXTMODE.RCDATA));"\n"===(f=u.join("")).slice(0,1)&&(f="\n"+f)}else{for(var c=0;c<r.length;c++)u.push(this.visit(r[c]));f=u.join("")}var h=l+f;return!r.length&&o.isVoidElement(i)||(h+="</"+i+">"),h},visitObject:function(t){throw new Error("Unexpected object in htmljs in toHTML: "+t)},toText:function(t,e){return o.toText(t,e)}})}.call(this),function(){o.Tag=function(){},o.Tag.prototype.tagName="",o.Tag.prototype.attrs=null,o.Tag.prototype.children=Object.freeze?Object.freeze([]):[],o.Tag.prototype.htmljsType=o.Tag.htmljsType=["Tag"];var t=function(t){var e=function(){var t=this instanceof o.Tag?this:new e,i=0,r=arguments.length&&arguments[0];if(r&&"object"==typeof r)if(o.isConstructedObject(r)){if(r instanceof o.Attrs){var n=r.value;1===n.length?t.attrs=n[0]:n.length>1&&(t.attrs=n),i++}}else t.attrs=r,i++;return i<arguments.length&&(t.children=s.call(arguments,i)),t};return e.prototype=new o.Tag,e.prototype.constructor=e,e.prototype.tagName=t,e},e=o.Attrs=function(){var t=this instanceof e?this:new e;return t.value=s.call(arguments),t};o.getTag=function(e){var i=o.getSymbolName(e);if(i===e)throw new Error("Use the lowercase or camelCase form of '"+e+"' here");return o[i]||(o[i]=t(e)),o[i]},o.ensureTag=function(t){o.getTag(t)},o.isTagEnsured=function(t){return o.isKnownElement(t)},o.getSymbolName=function(t){return t.toUpperCase().replace(/-/g,"_")},o.knownElementNames="a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command data datagrid datalist dd del details dfn dir div dl dt em embed eventsource fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins isindex kbd keygen label legend li link main map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr".split(" "),o.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),o.knownElementNames=o.knownElementNames.concat(o.knownSVGElementNames),o.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var i={yes:!0},r=function(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=i;return e},n=r(o.voidElementNames),a=r(o.knownElementNames),l=r(o.knownSVGElementNames);o.isKnownElement=function(t){return a[t]===i},o.isKnownSVGElement=function(t){return l[t]===i},o.isVoidElement=function(t){return n[t]===i};for(var u=0;u<o.knownElementNames.length;u++)o.ensureTag(o.knownElementNames[u]);var f=o.CharRef=function(t){if(!(this instanceof f))return new f(t);if(!(t&&t.html&&t.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=t.html,this.str=t.str};f.prototype.htmljsType=f.htmljsType=["CharRef"];var c=o.Comment=function(t){if(!(this instanceof c))return new c(t);if("string"!=typeof t)throw new Error("HTML.Comment must be constructed with a string");this.value=t,this.sanitizedValue=t.replace(/^-|--+|-$/g,"")};c.prototype.htmljsType=c.htmljsType=["Comment"];var h=o.Raw=function(t){if(!(this instanceof h))return new h(t);if("string"!=typeof t)throw new Error("HTML.Raw must be constructed with a string");this.value=t};h.prototype.htmljsType=h.htmljsType=["Raw"],o.isArray=function(t){return t instanceof Array},o.isConstructedObject=function(t){return t&&"object"==typeof t&&t.constructor!==Object&&"function"==typeof t.constructor&&t instanceof t.constructor},o.isNully=function(t){if(null==t)return!0;if(o.isArray(t)){for(var e=0;e<t.length;e++)if(!o.isNully(t[e]))return!1;return!0}return!1},o.isValidAttributeName=function(t){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(t)},o.flattenAttributes=function(t){if(!t)return t;var e=o.isArray(t);if(e&&0===t.length)return null;for(var i={},r=0,n=e?t.length:1;r<n;r++){var a=e?t[r]:t;if("object"!=typeof a||o.isConstructedObject(a))throw new Error("Expected plain JS object as attrs, found: "+a);for(var s in a){if(!o.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var l=a[s];o.isNully(l)||(i[s]=l)}}return i},o.toHTML=function(t){return(new o.ToHTMLVisitor).visit(t)},o.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},o.toText=function(t,e){if(!e)throw new Error("textMode required for HTML.toText");if(e!==o.TEXTMODE.STRING&&e!==o.TEXTMODE.RCDATA&&e!==o.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+e);var i;return new o.ToTextVisitor({textMode:e}).visit(t)}}.call(this),Package._define("htmljs",{HTML:o})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.tracker.Tracker,i=Package.tracker.Deps,a=Package.check.check,o=Package.check.Match,s=Package.underscore._,l=Package["observe-sequence"].ObserveSequence,u=Package["reactive-var"].ReactiveVar,c=Package["ordered-dict"].OrderedDict,d=Package.htmljs.HTML,p=Package.modules.meteorInstall,f=Package.promise.Promise,h,m,w,_,v,g=p({node_modules:{meteor:{blaze:{"preamble.js":function e(){var t,n;(h={})._escape=(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;","&":"&amp;"},n=function(e){return t[e]},function(e){return e.replace(/[&<>"'`]/g,n)}),h._warn=function(e){e="Warning: "+e,"undefined"!=typeof console&&console.warn&&console.warn(e)};var r=Function.prototype.bind;h._bind=r?function(e,t){if(2===arguments.length)return r.call(e,t);for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return r.apply(e,n.slice(1))}:s.bind},"dombackend.js":function e(){var t={};h._DOMBackend=t;var n="undefined"!=typeof jQuery?jQuery:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!n)throw new Error("jQuery not found");t._$jq=n,t.parseHTML=function(e){return n.parseHTML(e)||[]},t.Events={delegateEvents:function(e,t,r,i){n(e).on(t,r,i)},undelegateEvents:function(e,t,r){n(e).off(t,"**",r)},bindEventCapturer:function(e,r,i,a){var o=n(e),s=function(t){var r;(t=n.event.fix(t)).currentTarget=t.target,n(t.currentTarget).is(o.find(i))&&a.call(e,t)};a._meteorui_wrapper=s,r=t.Events.parseEventType(r),e.addEventListener(r,s,!0)},unbindEventCapturer:function(e,n,r){n=t.Events.parseEventType(n),e.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var r=function(){},i=function(e){this.next=this,this.prev=this,this.func=e};i.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},i.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},i.prototype.go=function(){var e=this.func;e&&e()},i.prototype.stop=i.prototype.unlink,t.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(e,a){var o=new i(a),s=t.Teardown._CB_PROP;return e[s]||(e[s]=new i,n(e).on(t.Teardown._JQUERY_EVENT_NAME,r)),o.linkBefore(e[s]),o},tearDownElement:function(e){for(var t=[],r=e.getElementsByTagName("*"),i=0;i<r.length;i++)t.push(r[i]);t.push(e),n.cleanData(t)}},n.event.special[t.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var e=this,n=this[t.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),this[t.Teardown._CB_PROP]=null}}},t.findBySelector=function(e,t){return n(e,t)}},"domrange.js":function e(){var t=Object.freeze?Object.freeze([]):[];h._DOMRange=function(e){if(!(this instanceof n))return new n(e);var r=e||t;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var i=0;i<r.length;i++)this._memberIn(r[i]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=t};var n=h._DOMRange;n._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(n){e=!0}return e}(),n._insert=function(e,t,r,i){var a=e;a instanceof n?a.attach(t,r,i):i?n._moveNodeWithHooks(a,t,r):n._insertNodeWithHooks(a,t,r)},n._remove=function(e){var t=e;t instanceof n?t.detach():n._removeNodeWithHooks(t)},n._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},n._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},n._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},n.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)(t=e.$blaze_range||null)||(e=e.parentNode);return t},n.prototype.attach=function(e,t,r,i){if((r||i)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var a=this.members;if(a.length){this.emptyRangePlaceholder=null;for(var o=0;o<a.length;o++)n._insert(a[o],e,t,r)}else{var s=n._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,t||null)}if(this.attached=!0,this.parentElement=e,!r&&!i)for(var o=0;o<this.attachedCallbacks.length;o++){var l=this.attachedCallbacks[o];l.attached&&l.attached(this,e)}},n.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var i=this.lastNode().nextSibling,a=this.parentElement;this.detach(!0),this.members=t,this.attach(a,i,!1,!0)}}else this.members=t},n.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof n?e.firstNode():e},n.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof n?e.lastNode():e},n.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var t=this.parentElement,r=this.members;if(r.length)for(var i=0;i<r.length;i++)n._remove(r[i]);else{var a=this.emptyRangePlaceholder;this.parentElement.removeChild(a),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var i=0;i<this.attachedCallbacks.length;i++){var o=this.attachedCallbacks[i];o.detached&&o.detached(this,t)}}},n.prototype.addMember=function(e,t,r){var i=this.members;if(!(t>=0&&t<=i.length))throw new Error("Bad index in range.addMember: "+t);if(r||this._memberIn(e),this.attached)if(0===i.length)this.setMembers([e]);else{var a;if(t===i.length)a=this.lastNode().nextSibling;else{var o=i[t];a=o instanceof n?o.firstNode():o}i.splice(t,0,e),n._insert(e,this.parentElement,a,r)}else i.splice(t,0,e)},n.prototype.removeMember=function(e,r){var i=this.members;if(!(e>=0&&e<i.length))throw new Error("Bad index in range.removeMember: "+e);if(r)i.splice(e,1);else{var a=i[e];this._memberOut(a),1===i.length?this.setMembers(t):(i.splice(e,1),this.attached&&n._remove(a))}},n.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},n.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},n.prototype._memberIn=function(e){e instanceof n?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},n._destroy=function(e,t){e instanceof n?e.view&&h._destroyView(e.view,t):t||1!==e.nodeType||e.$blaze_range&&(h._destroyNode(e),e.$blaze_range=null)},n.prototype._memberOut=n._destroy,n.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},n.prototype.destroy=function(e){n._destroy(this,e)},n.prototype.containsElement=function(e){if(!this.attached)throw new Error("Must be attached");if(!h._elementContains(this.parentElement,e))return!1;for(;e.parentNode!==this.parentElement;)e=e.parentNode;for(var t=e.$blaze_range;t&&t!==this;)t=t.parentRange;return t===this},n.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},n.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},n.prototype.onAttachedDetached=function(e){this.attachedCallbacks===t&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(e)},n.prototype.$=function(e){var t=this,n=this.parentElement;if(!n)throw new Error("Can't select in removed DomRange");if(11===n.nodeType)throw new Error("Can't use $ on an offscreen range");var r=h._DOMBackend.findBySelector(e,n),i=function(e){return"number"==typeof e&&(e=this),t.containsElement(e)};if(r.filter)r=r.filter(i);else{for(var a=[],o=0;o<r.length;o++){var s=r[o];i(s)&&a.push(s)}r=a}return r},h._elementContains=function(e,t){return 1===e.nodeType&&(e!==t&&(e.compareDocumentPosition?16&e.compareDocumentPosition(t):!(!(t=t.parentNode)||1!==t.nodeType)&&(e===t||e.contains(t))))}},"events.js":function e(){var t=h._EventSupport={},n=h._DOMBackend,r=t.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},i=t.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},a=1,o=function(e,t,o,l,u){var c,d;this.elem=e,this.type=t,this.selector=o,this.handler=l,this.recipient=u,this.id=a++,this.mode=i.TBD,this.delegatedHandler=(c=this,function(e){if(c.selector||e.currentTarget===e.target)return c.handler.apply(c.recipient,arguments)}),e.addEventListener&&!s.has(r,n.Events.parseEventType(t))?this.capturingHandler=function(e){return function(t){if(e.mode===i.TBD){if(t.bubbles)return e.mode=i.BUBBLING,void n.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=i.CAPTURING,n.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(t)}}(this):this.mode=i.BUBBLING};t.HandlerRec=o,o.prototype.bind=function(){this.mode!==i.BUBBLING&&n.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==i.CAPTURING&&n.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},o.prototype.unbind=function(){this.mode!==i.BUBBLING&&n.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==i.CAPTURING&&n.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},t.listen=function(e,t,n,r,i,a){try{e=e}finally{}var s=[];t.replace(/[^ /]+/g,(function(e){s.push(e)}));for(var l=[],u=0,c=s.length;u<c;u++){var d=s[u],p=e.$blaze_events;p||(p=e.$blaze_events={});var f=p[d];f||((f=p[d]={}).handlers=[]);var h=f.handlers,m=new o(e,d,n,r,i);if(l.push(m),m.bind(),h.push(m),a)for(var w=a(i);w;w=a(w))for(var _=0,v=h.length;_<v;_++){var g=h[_];g.recipient===w&&(g.unbind(),g.bind(),h.splice(_,1),h.push(g),_--,v--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<l.length;n++){var r=l[n],i=t[r.type];if(i)for(var a=i.handlers,o=a.length-1;o>=0;o--)a[o]===r&&(r.unbind(),a.splice(o,1))}l.length=0}}}}},"attrs.js":function t(){var n=!1;h._allowJavascriptUrls=function(){n=!0},h._javascriptUrlsAllowed=function(){return n},m=function(e,t){this.name=e,this.value=t},h._AttributeHandler=m,m.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},m.extend=function(e){var t=this,n=function e(){m.apply(this,arguments)};return n.prototype=new this,n.extend=this.extend,e&&s.extend(n.prototype,e),n},h._DiffingAttributeHandler=m.extend({update:function(e,t,n){if(!(this.getCurrentValue&&this.setValue&&this.parseValue&&this.joinValues))throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):new c,i=n?this.parseValue(n):new c,a=this.getCurrentValue(e),o;(a?this.parseValue(a):new c).forEach((function(e,t,n){i.has(t)||r.has(t)||i.append(t,e)}));var s=[];i.forEach((function(e,t,n){s.push(e)})),this.setValue(e,this.joinValues(s))}});var r=h._DiffingAttributeHandler.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t=new c;return s.each(e.split(" "),(function(e){e&&(t.has(e)||t.append(e,e))})),t},joinValues:function(e){return e.join(" ")}}),i=r.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),a=h._DiffingAttributeHandler.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var t=new c,n=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,r=n.exec(e);r;)t.has(r[1])&&t.remove(r[1]),t.append(r[1],r[0].trim()),r=n.exec(e);return t},joinValues:function(e){return e.join(" ")}}),o=m.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),l=m.extend({update:function(e,t,n){var r=this.name;n!==e[r]&&(e[r]=n)}}),u=m.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),d=function(e){return"ownerSVGElement"in e},p=function(e,t){var n;if("itemid"===t)return!0;var r={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]}[e]||[];return s.contains(r,t)};if(e.isClient)var f=document.createElement("A");var _=function(t){if(e.isClient)return f.href=t,(f.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},v=m.prototype.update,g=m.extend({update:function(e,t,n){var r=this,i=arguments;if(h._javascriptUrlsAllowed())v.apply(r,i);else{var a="javascript:"===_(n),o="vbscript:"===_(n);a||o?(h._warn("URLs that use the 'javascript:' or 'vbscript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),v.apply(r,[e,t,null])):v.apply(r,i)}}});h._makeAttributeHandler=function(e,t,n){return"class"===t?d(e)?new i(t,n):new r(t,n):"style"===t?new a(t,n):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t||"VIDEO"===e.tagName&&"muted"===t?new o(t,n):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new u(t.substring(6),n):p(e.tagName,t)?new g(t,n):new m(t,n):new l(t,n)},(w=function(e){this.elem=e,this.handlers={}}).prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in n)if(!s.has(e,r)){var i,a=(i=n[r]).value;i.value=null,i.update(t,a,null),delete n[r]}for(var r in e){var i=null,a=null,o=e[r];s.has(n,r)?a=(i=n[r]).value:null!==o&&(i=h._makeAttributeHandler(t,r,o),n[r]=i),a!==o&&(i.value=o,i.update(t,a,o),null===o&&delete n[r])}}},"materializer.js":function e(){h._materializeDOM=function(e,n,r,i){var a=i||[];if(t(e,n,r,a),!i)for(;a.length;){var o;a.pop()()}return n};var t=function(e,t,r,i){if(null!=e){switch(typeof e){case"string":case"boolean":case"number":return void t.push(document.createTextNode(String(e)));case"object":if(e.htmljsType)switch(e.htmljsType){case d.Tag.htmljsType:return void t.push(n(e,r,i));case d.CharRef.htmljsType:return void t.push(document.createTextNode(e.str));case d.Comment.htmljsType:return void t.push(document.createComment(e.sanitizedValue));case d.Raw.htmljsType:for(var a=h._DOMBackend.parseHTML(e.value),o=0;o<a.length;o++)t.push(a[o]);return}else{if(d.isArray(e)){for(var o=e.length-1;o>=0;o--)i.push(h._bind(h._materializeDOM,null,e[o],t,r,i));return}if(e instanceof h.Template&&(e=e.constructView()),e instanceof h.View)return void h._materializeView(e,r,i,t)}}throw new Error("Unexpected object in htmljs: "+e)}},n=function(e,t,n){var a=e.tagName,o;o=(d.isKnownSVGElement(a)||i(e))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a);var l=e.attrs,u=e.children;if("textarea"===a&&e.children.length&&!(l&&"value"in l)){if("function"==typeof l||d.isArray(l))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");(l=s.extend({},l||null)).value=h._expand(u,t),u=[]}if(l){var c=new w(o),p=function(){var e=h._expandAttributes(l,t),n=d.flattenAttributes(e),r={};for(var i in n)null==n[i]||!1===n[i]?r[i]=null:r[i]=h._toText(n[i],t,d.TEXTMODE.STRING);c.update(r)},f;f=t?t.autorun(p,void 0,"updater"):r.nonreactive((function(){return r.autorun((function(){r._withCurrentView(t,p)}))})),h._DOMBackend.Teardown.onElementTeardown(o,(function e(){f.stop()}))}if(u.length){var m=[];n.push((function(){for(var e=0;e<m.length;e++){var t=m[e];t instanceof h._DOMRange?t.attach(o):o.appendChild(t)}})),n.push(h._bind(h._materializeDOM,null,u,m,t,n))}return o},i=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}},"exceptions.js":function t(){var n;h._throwNextException=!1,h._reportException=function(t,r){if(h._throwNextException)throw h._throwNextException=!1,t;n||(n=function(){return void 0!==e?e._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),n()(r||"Exception caught in template:",t.stack||t.message||t)},h._wrapCatchingExceptions=function(e,t){return"function"!=typeof e?e:function(){try{return e.apply(this,arguments)}catch(n){h._reportException(n,"Exception in "+t+":")}}}},"view.js":function t(){h.View=function(e,t){if(!(this instanceof h.View))return new h.View(e,t);"function"==typeof e&&(t=e,e=""),this.name=e,this._render=t,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,this._hasGeneratedParent=!1,this._scopeBindings={},this.renderCount=0},h.View.prototype._render=function(){return null},h.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},h.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},h.View.prototype.onViewReady=function(e){var t=this,n=function(){r.afterFlush((function(){t.isDestroyed||h._withCurrentView(t,(function(){e.call(t)}))}))};t._onViewRendered((function e(){t.isDestroyed||(t._domrange.attached?n():t._domrange.onAttached(n))}))},h.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},h.View.prototype.removeViewDestroyedListener=function(e){var t=this._callbacks.destroyed;if(t){var n=s.lastIndexOf(t,e);-1!==n&&(t[n]=null)}},h.View.prototype.autorun=function(e,t,n){var i=this;if(!i.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");var a=h.Template._currentTemplateInstanceFunc,o=function n(r){return h._withCurrentView(t||i,(function(){return h.Template._withTemplateInstanceFunc(a,(function(){return e.call(i,r)}))}))};o.displayName=(i.name||"anonymous")+":"+(n||"anonymous");var s=r.autorun(o),l=function(){s.stop()};return i.onViewDestroyed(l),s.onStop((function(){i.removeViewDestroyedListener(l)})),s},h.View.prototype._errorIfShouldntCallSubscribe=function(){var e=this;if(!this.isCreated)throw new Error("View#subscribe must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#subscribe from inside render(); try calling it from the created or rendered callback");if(this.isDestroyed)throw new Error("Can't call View#subscribe from inside the destroyed callback, try calling it inside created or rendered.")},h.View.prototype.subscribe=function(t,n){var r=this,i;return n=n||{},this._errorIfShouldntCallSubscribe(),i=n.connection?n.connection.subscribe.apply(n.connection,t):e.subscribe.apply(e,t),this.onViewDestroyed((function(){i.stop()})),i},h.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},h.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},h._fireCallbacks=function(e,t){h._withCurrentView(e,(function(){r.nonreactive((function n(){for(var r=e._callbacks[t],i=0,a=r&&r.length;i<a;i++)r[i]&&r[i].call(e)}))}))},h._createView=function(e,t,n){if(e.isCreated)throw new Error("Can't render the same View twice");e.parentView=t||null,e.isCreated=!0,n&&(e._isCreatedForExpansion=!0),h._fireCallbacks(e,"created")};var n=function(e,t){var n=new h._DOMRange(t);e._domrange=n,n.view=e,e.isRendered=!0,h._fireCallbacks(e,"rendered");var r=null;return n.onAttached((function t(n,i){e._isAttached=!0,r=h._DOMBackend.Teardown.onElementTeardown(i,(function t(){h._destroyView(e,!0)}))})),e.onViewDestroyed((function(){r&&r.stop(),r=null})),n};h._materializeView=function(e,t,i,a){var o,s;return h._createView(e,t),r.nonreactive((function(){var t;e.autorun((function t(n){e.renderCount++,e._isInRender=!0;var i=e._render();e._isInRender=!1,n.firstRun||h._isContentEqual(s,i)||r.nonreactive((function t(){var n=h._materializeDOM(i,[],e);o.setMembers(n),h._fireCallbacks(e,"rendered")})),s=i,r.onInvalidate((function(){o&&o.destroyMembers()}))}),void 0,"materialize"),i?(t=[],i.push((function(){o=n(e,t),t=null,a.push(o)})),i.push(h._bind(h._materializeDOM,null,s,t,e,i))):(t=h._materializeDOM(s,[],e),o=n(e,t),t=null)})),i?null:o},h._expandView=function(e,t){h._createView(e,t,!0),e._isInRender=!0;var n=h._withCurrentView(e,(function(){return e._render()}));e._isInRender=!1;var i=h._expand(n,e);return r.active?r.onInvalidate((function(){h._destroyView(e)})):h._destroyView(e),i},h._HTMLJSExpander=d.TransformingVisitor.extend(),h._HTMLJSExpander.def({visitObject:function(e){return e instanceof h.Template&&(e=e.constructView()),e instanceof h.View?h._expandView(e,this.parentView):d.TransformingVisitor.prototype.visitObject.call(this,e)},visitAttributes:function(e){return"function"==typeof e&&(e=h._withCurrentView(this.parentView,e)),d.TransformingVisitor.prototype.visitAttributes.call(this,e)},visitAttribute:function(e,t,n){return"function"==typeof t&&(t=h._withCurrentView(this.parentView,t)),d.TransformingVisitor.prototype.visitAttribute.call(this,e,t,n)}});var i=function(){var e=h.currentView;return e&&e._isInRender?e:null};h._expand=function(e,t){return t=t||i(),new h._HTMLJSExpander({parentView:t}).visit(e)},h._expandAttributes=function(e,t){return t=t||i(),new h._HTMLJSExpander({parentView:t}).visitAttributes(e)},h._destroyView=function(e,t){e.isDestroyed||(e.isDestroyed=!0,h._fireCallbacks(e,"destroyed"),e._domrange&&e._domrange.destroyMembers(t))},h._destroyNode=function(e){1===e.nodeType&&h._DOMBackend.Teardown.tearDownElement(e)},h._isContentEqual=function(e,t){return e instanceof d.Raw?t instanceof d.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},h.currentView=null,h._withCurrentView=function(e,t){var n=h.currentView;try{return h.currentView=e,t()}finally{h.currentView=n}};var a=function(e){if(null===e)throw new Error("Can't render null");if(void 0===e)throw new Error("Can't render undefined");if(!(e instanceof h.View||e instanceof h.Template||"function"==typeof e))try{(new d.Visitor).visit(e)}catch(t){throw new Error("Expected Template or View")}},o=function(e){if(a(e),e instanceof h.Template)return e.constructView();if(e instanceof h.View)return e;var t=e;return"function"!=typeof t&&(t=function(){return e}),h.View("render",t)},l=function(e){return a(e),"function"!=typeof e?function(){return e}:e};h.render=function(e,t,n,r){if(t||h._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),n instanceof h.View&&(r=n,n=null),t&&"number"!=typeof t.nodeType)throw new Error("'parentElement' must be a DOM node");if(n&&"number"!=typeof n.nodeType)throw new Error("'nextNode' must be a DOM node");r=r||i();var a=o(e);return h._materializeView(a,r),t&&a._domrange.attach(t,n),a},h.insert=function(e,t,n){if(h._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(e&&e._domrange instanceof h._DOMRange))throw new Error("Expected template rendered with Blaze.render");e._domrange.attach(t,n)},h.renderWithData=function(e,t,n,r,i){return h.render(h._TemplateWith(t,l(e)),n,r,i)},h.remove=function(e){if(!(e&&e._domrange instanceof h._DOMRange))throw new Error("Expected template rendered with Blaze.render");for(;e;){if(!e.isDestroyed){var t=e._domrange;t.attached&&!t.parentRange&&t.detach(),t.destroy()}e=e._hasGeneratedParent&&e.parentView}},h.toHTML=function(e,t){return t=t||i(),d.toHTML(h._expandView(o(e),t))},h.toHTMLWithData=function(e,t,n){return n=n||i(),d.toHTML(h._expandView(h._TemplateWith(t,l(e)),n))},h._toText=function(e,t,n){if("function"==typeof e)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==t||t instanceof h.View||(n=t,t=null),t=t||i(),!n)throw new Error("textMode required");if(n!==d.TEXTMODE.STRING&&n!==d.TEXTMODE.RCDATA&&n!==d.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+n);return d.toText(h._expand(e,t),n)},h.getData=function(e){var t;if(e)if(e instanceof h.View){var n=e;t="with"===n.name?n:h.getView(n,"with")}else{if("number"!=typeof e.nodeType)throw new Error("Expected DOM element or View");if(1!==e.nodeType)throw new Error("Expected DOM element");t=h.getView(e,"with")}else t=h.getView("with");return t?t.dataVar.get():null},h.getElementData=function(e){if(h._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==e.nodeType)throw new Error("Expected DOM element");return h.getData(e)},h.getView=function(e,t){var n=t;if("string"==typeof e&&(n=e,e=null),e){if(e instanceof h.View)return h._getParentView(e,n);if("number"==typeof e.nodeType)return h._getElementView(e,n);throw new Error("Expected DOM element or View")}return h._getCurrentView(n)},h._getCurrentView=function(e){var t=h.currentView;if(!t)throw new Error("There is no current view");if(e){for(;t&&t.name!==e;)t=t.parentView;return t||null}return t},h._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},h._getElementView=function(e,t){for(var n=h._DOMRange.forElement(e),r=null;n&&!r;)(r=n.view||null)||(n=n.parentRange?n.parentRange:h._DOMRange.forElement(n.parentElement));if(t){for(;r&&r.name!==t;)r=r.parentView;return r||null}return r},h._addEventMap=function(e,t,n){n=n||null;var r=[];if(!e._domrange)throw new Error("View must have a DOMRange");e._domrange.onAttached((function i(a,o){s.each(t,(function(t,i){var l=i.split(/,\s+/);s.each(l,(function(i){var s=i.split(/\s+/);if(0!==s.length){var l=s.shift(),u=s.join(" ");r.push(h._EventSupport.listen(o,l,u,(function(r){if(!a.containsElement(r.currentTarget))return null;var i=n||this,o=arguments;return h._withCurrentView(e,(function(){return t.apply(i,o)}))}),a,(function(e){return e.parentRange})))}}))}))})),e.onViewDestroyed((function(){s.each(r,(function(e){e.stop()})),r.length=0}))}},"builtins.js":function e(){h._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},h.With=function(e,t){var n=h.View("with",t);return n.dataVar=new u,n.onViewCreated((function(){"function"==typeof e?n.autorun((function(){n.dataVar.set(e())}),n.parentView,"setData"):n.dataVar.set(e)})),n},h._attachBindingsToView=function(e,t){t.onViewCreated((function(){s.each(e,(function(e,n){t._scopeBindings[n]=new u,"function"==typeof e?t.autorun((function(){t._scopeBindings[n].set(e())}),t.parentView):t._scopeBindings[n].set(e)}))}))},h.Let=function(e,t){var n=h.View("let",t);return h._attachBindingsToView(e,n),n},h.If=function(e,t,n,r){var i=new u,a=h.View(r?"unless":"if",(function(){return i.get()?t():n?n():null}));return a.__conditionVar=i,a.onViewCreated((function(){this.autorun((function(){var t=h._calculateCondition(e());i.set(r?!t:t)}),this.parentView,"condition")})),a},h.Unless=function(e,t,n){return h.If(e,t,n,!0)},h.Each=function(e,t,n){var i=h.View("each",(function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new r.Dependency,this.expandedValueDep.depend()),e}));i.initialSubviews=[],i.numItems=0,i.inElseMode=!1,i.stopHandle=null,i.contentFunc=t,i.elseFunc=n,i.argVar=new u,i.variableName=null;var a=function(e,t){void 0===t&&(t=i.numItems-1);for(var n=e;n<=t;n++){var r;i._domrange.members[n].view._scopeBindings["@index"].set(n)}};return i.onViewCreated((function(){i.autorun((function(){var t=e();s.isObject(t)&&s.has(t,"_sequence")&&(i.variableName=t._variable||null,t=t._sequence),i.argVar.set(t)}),i.parentView,"collection"),i.stopHandle=l.observe((function(){return i.argVar.get()}),{addedAt:function(e,t,n){r.nonreactive((function(){var e;e=i.variableName?h.View("item",i.contentFunc):h.With(t,i.contentFunc),i.numItems++;var r={};if(r["@index"]=n,i.variableName&&(r[i.variableName]=t),h._attachBindingsToView(r,e),i.expandedValueDep)i.expandedValueDep.changed();else if(i._domrange){i.inElseMode&&(i._domrange.removeMember(0),i.inElseMode=!1);var o=h._materializeView(e,i);i._domrange.addMember(o,n),a(n)}else i.initialSubviews.splice(n,0,e)}))},removedAt:function(e,t,n){r.nonreactive((function(){i.numItems--,i.expandedValueDep?i.expandedValueDep.changed():i._domrange?(i._domrange.removeMember(n),a(n),i.elseFunc&&0===i.numItems&&(i.inElseMode=!0,i._domrange.addMember(h._materializeView(h.View("each_else",i.elseFunc),i),0))):i.initialSubviews.splice(n,1)}))},changedAt:function(e,t,n,a){r.nonreactive((function(){var e;i.expandedValueDep?i.expandedValueDep.changed():(e=i._domrange?i._domrange.getMember(a).view:i.initialSubviews[a],i.variableName?e._scopeBindings[i.variableName].set(t):e.dataVar.set(t))}))},movedTo:function(e,t,n,o){r.nonreactive((function(){if(i.expandedValueDep)i.expandedValueDep.changed();else if(i._domrange)i._domrange.moveMember(n,o),a(Math.min(n,o),Math.max(n,o));else{var e=i.initialSubviews,t=e[n];e.splice(n,1),e.splice(o,0,t)}}))}}),i.elseFunc&&0===i.numItems&&(i.inElseMode=!0,i.initialSubviews[0]=h.View("each_else",i.elseFunc))})),i.onViewDestroyed((function(){i.stopHandle&&i.stopHandle.stop()})),i},h._TemplateWith=function(e,t){var n,r=e;"function"!=typeof e&&(r=function(){return e});var i=function(){var e=null;return n.parentView&&"InOuterTemplateScope"===n.parentView.name&&(e=n.parentView.originalParentView),e?h._withCurrentView(e,r):r()},a=function(){var e=t.call(this);return e instanceof h.Template&&(e=e.constructView()),e instanceof h.View&&(e._hasGeneratedParent=!0),e};return(n=h.With(i,a)).__isTemplateWith=!0,n},h._InOuterTemplateScope=function(e,t){var n=h.View("InOuterTemplateScope",t),r=e.parentView;return r.__isTemplateWith&&(r=r.parentView),n.onViewCreated((function(){this.originalParentView=this.parentView,this.parentView=r,this.__childDoesntStartNewLexicalScope=!0})),n},h.InOuterTemplateScope=h._InOuterTemplateScope},"lookup.js":function e(){h._globalHelpers={},h.registerHelper=function(e,t){h._globalHelpers[e]=t},h.deregisterHelper=function(e){delete h._globalHelpers[e]};var t=function(e,t){return"function"!=typeof e?e:h._bind(e,t)},n=function(e){return"function"==typeof e?function(){var t=h.getData();return null==t&&(t={}),e.apply(t,arguments)}:e};h._OLDSTYLE_HELPER={},h._getTemplateHelper=function(e,t,i){var a=!1;if(e.__helpers.has(t)){var o=e.__helpers.get(t);if(o!==h._OLDSTYLE_HELPER)return null!=o?r(n(o),i):null;a=!0}return t in e&&(a||(e.__helpers.set(t,h._OLDSTYLE_HELPER),e._NOWARN_OLDSTYLE_HELPERS||h._warn("Assigning helper with `"+e.viewName+"."+t+" = ...` is deprecated.  Use `"+e.viewName+".helpers(...)` instead.")),null!=e[t])?r(n(e[t]),i):null};var r=function(e,t){return"function"!=typeof e?e:function(){var n=this,r=arguments;return h.Template._withTemplateInstanceFunc(t,(function(){return h._wrapCatchingExceptions(e,"template helper").apply(n,r)}))}};h._lexicalBindingLookup=function(e,t){var n=e,r=[];do{if(s.has(n._scopeBindings,t)){var i=n._scopeBindings[t];return function(){return i.get()}}}while((!n.__startsNewLexicalScope||n.parentView&&n.parentView.__childDoesntStartNewLexicalScope)&&(n=n.parentView));return null},h._getTemplate=function(e,t){return e in h.Template&&h.Template[e]instanceof h.Template?h.Template[e]:null},h._getGlobalHelper=function(e,t){return null!=h._globalHelpers[e]?r(n(h._globalHelpers[e]),t):null},h.View.prototype.lookup=function(e,t){var n=this.template,r=t&&t.template,i,a,o,s;if(this.templateInstance&&(o=h._bind(this.templateInstance,this)),/^\./.test(e)){if(!/^(\.)+$/.test(e))throw new Error("id starting with dot must be a series of dots");return h._parentData(e.length-1,!0)}return n&&null!=(i=h._getTemplateHelper(n,e,o))?i:n&&null!=(a=h._lexicalBindingLookup(h.currentView,e))?a:r&&null!=(s=h._getTemplate(e,o))?s:null!=(i=h._getGlobalHelper(e,o))?i:function(){var t=arguments.length>0,n=h.getData(),i=n&&n[e];if(!i){if(r)throw new Error("No such template: "+e);if(t)throw new Error("No such function: "+e);if("@"===e.charAt(0)&&null==i)throw new Error("Unsupported directive: "+e)}if(!n)return null;if("function"!=typeof i){if(t)throw new Error("Can't call non-function: "+i);return i}return i.apply(n,arguments)}},h._parentData=function(e,t){null==e&&(e=1);for(var n=h.getView("with"),r=0;r<e&&n;r++)n=h.getView(n,"with");return n?t?function(){return n.dataVar.get()}:n.dataVar.get():null},h.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}},"template.js":function e(){h.Template=function(e,t){if(!(this instanceof h.Template))return new h.Template(e,t);if("function"==typeof e&&(t=e,e=""),"string"!=typeof e)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof t)throw new Error("renderFunction must be a function");this.viewName=e,this.renderFunction=t,this.__helpers=new n,this.__eventMaps=[],this._callbacks={created:[],rendered:[],destroyed:[]}};var t=h.Template,n=function(){};n.prototype.get=function(e){return this[" "+e]},n.prototype.set=function(e,t){this[" "+e]=t},n.prototype.has=function(e){return void 0!==this[" "+e]},h.isTemplate=function(e){return e instanceof h.Template},t.prototype.onCreated=function(e){this._callbacks.created.push(e)},t.prototype.onRendered=function(e){this._callbacks.rendered.push(e)},t.prototype.onDestroyed=function(e){this._callbacks.destroyed.push(e)},t.prototype._getCallbacks=function(e){var t=this,n=this[e]?[this[e]]:[];return n=n.concat(this._callbacks[e])};var i=function(e,n){t._withTemplateInstanceFunc((function(){return n}),(function(){for(var t=0,r=e.length;t<r;t++)e[t].call(n)}))},a;if(t.prototype.constructView=function(e,n){var r=this,a=h.View(r.viewName,r.renderFunction);a.template=r,a.templateContentBlock=e?new t("(contentBlock)",e):null,a.templateElseBlock=n?new t("(elseBlock)",n):null,(r.__eventMaps||"object"==typeof r.events)&&a._onViewRendered((function(){1===a.renderCount&&(r.__eventMaps.length||"object"!=typeof r.events||t.prototype.events.call(r,r.events),s.each(r.__eventMaps,(function(e){h._addEventMap(a,e,a)})))})),a._templateInstance=new h.TemplateInstance(a),a.templateInstance=function(){var e=a._templateInstance;return e.data=h.getData(a),a._domrange&&!a.isDestroyed?(e.firstNode=a._domrange.firstNode(),e.lastNode=a._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e};var o=r._getCallbacks("created");a.onViewCreated((function(){i(o,a.templateInstance())}));var l=r._getCallbacks("rendered");a.onViewReady((function(){i(l,a.templateInstance())}));var u=r._getCallbacks("destroyed");return a.onViewDestroyed((function(){i(u,a.templateInstance())})),a},h.TemplateInstance=function(e){if(!(this instanceof h.TemplateInstance))return new h.TemplateInstance(e);if(!(e instanceof h.View))throw new Error("View required");e._templateInstance=this,this.view=e,this.data=null,this.firstNode=null,this.lastNode=null,this._allSubsReadyDep=new r.Dependency,this._allSubsReady=!1,this._subscriptionHandles={}},h.TemplateInstance.prototype.$=function(e){var t=this.view;if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},h.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},h.TemplateInstance.prototype.find=function(e){var t;return this.$(e)[0]||null},h.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},h.TemplateInstance.prototype.subscribe=function(){var e=this,t=e._subscriptionHandles,n=s.toArray(arguments),r={},i;if(n.length){var a=s.last(n),l={onReady:o.Optional(Function),onError:o.Optional(Function),onStop:o.Optional(Function),connection:o.Optional(o.Any)};s.isFunction(a)?r.onReady=n.pop():a&&!s.isEmpty(a)&&o.test(a,l)&&(r=n.pop())}var u=r.onStop;r.onStop=function(n){delete t[i.subscriptionId],e._allSubsReady||e._allSubsReadyDep.changed(),u&&u(n)};var c=r.connection,d=s.pick(r,["onReady","onError","onStop"]);return n.push(d),i=e.view.subscribe.call(e.view,n,{connection:c}),s.has(t,i.subscriptionId)||(t[i.subscriptionId]=i,e._allSubsReady&&e._allSubsReadyDep.changed()),i},h.TemplateInstance.prototype.subscriptionsReady=function(){return this._allSubsReadyDep.depend(),this._allSubsReady=s.all(this._subscriptionHandles,(function(e){return e.ready()})),this._allSubsReady},t.prototype.helpers=function(e){if(!s.isObject(e))throw new Error("Helpers dictionary has to be an object");for(var t in e)this.__helpers.set(t,e[t])},function(){if(Object.defineProperty){var e={};try{Object.defineProperty(e,"self",{get:function(){return e}})}catch(t){return!1}return e.self===e}return!1}()){var l=null;Object.defineProperty(t,"_currentTemplateInstanceFunc",{get:function(){return l}}),t._withTemplateInstanceFunc=function(e,t){if("function"!=typeof t)throw new Error("Expected function, got: "+t);var n=l;try{return l=e,t()}finally{l=n}}}else t._currentTemplateInstanceFunc=null,t._withTemplateInstanceFunc=function(e,n){if("function"!=typeof n)throw new Error("Expected function, got: "+n);var r=t._currentTemplateInstanceFunc;try{return t._currentTemplateInstanceFunc=e,n()}finally{t._currentTemplateInstanceFunc=r}};t.prototype.events=function(e){if(!s.isObject(e))throw new Error("Event map has to be an object");var n=this,r={};for(var i in e)r[i]=function(e,n){return function(e){var r=this,i=h.getData(e.currentTarget);null==i&&(i={});var a=Array.prototype.slice.call(arguments),o=h._bind(r.templateInstance,r);return a.splice(1,0,o()),t._withTemplateInstanceFunc(o,(function(){return n.apply(i,a)}))}}(i,e[i]);this.__eventMaps.push(r)},t.instance=function(){return t._currentTemplateInstanceFunc&&t._currentTemplateInstanceFunc()},t.currentData=h.getData,t.parentData=h._parentData,t.registerHelper=h.registerHelper,t.deregisterHelper=h.deregisterHelper},"backcompat.js":function e(){_=h,h.ReactiveVar=u,_._templateInstance=h.Template.instance,(v={}).registerHelper=h.registerHelper,v._escape=h._escape,v.SafeString=function(e){this.string=e},v.SafeString.prototype.toString=function(){return this.string.toString()}}}}}},{extensions:[".js",".json"]});g("/node_modules/meteor/blaze/preamble.js"),g("/node_modules/meteor/blaze/dombackend.js"),g("/node_modules/meteor/blaze/domrange.js"),g("/node_modules/meteor/blaze/events.js"),g("/node_modules/meteor/blaze/attrs.js"),g("/node_modules/meteor/blaze/materializer.js"),g("/node_modules/meteor/blaze/exceptions.js"),g("/node_modules/meteor/blaze/view.js"),g("/node_modules/meteor/blaze/builtins.js"),g("/node_modules/meteor/blaze/lookup.js"),g("/node_modules/meteor/blaze/template.js"),g("/node_modules/meteor/blaze/backcompat.js"),Package._define("blaze",{Blaze:h,UI:_,Handlebars:v})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,n=Package.tracker.Tracker,i=Package.tracker.Deps,s=Package.random.Random,r=Package["callback-hook"].Hook,a=Package["reactive-var"].ReactiveVar,l=Package["ddp-client"].DDP,c=Package.mongo.Mongo,g=Package.modules.meteorInstall,h=Package.promise.Promise,_,u,d,p,k=g({node_modules:{meteor:{"accounts-base":{"client_main.js":function t(o,n,t){let i,s;t.export({Accounts:()=>_,AccountsClient:()=>i,AccountsTest:()=>s,default:()=>n}),t.link("./accounts_client.js",{AccountsClient(e){i=e},AccountsTest(e){s=e}},0),t.runSetters(_=new i),e.users=_.users},"accounts_client.js":function t(o,n,t){let i,r;t.link("@babel/runtime/helpers/objectSpread2",{default(e){i=e}},0),t.export({AccountsClient:()=>c,AccountsTest:()=>u}),t.link("./accounts_common.js",{AccountsCommon(e){r=e}},0);class c extends r{constructor(e){super(e),this._loggingIn=new a(!1),this._loggingOut=new a(!1),this._loginServicesHandle=this.connection.subscribe("meteor.loginServiceConfiguration"),this._pageLoadLoginCallbacks=[],this._pageLoadLoginAttemptInfo=null,this.savedHash=window.location.hash,this._initUrlMatching(),this._initLocalStorage(),this._loginFuncs={}}userId(){return this.connection.userId()}_setLoggingIn(e){this._loggingIn.set(e)}loggingIn(){return this._loggingIn.get()}loggingOut(){return this._loggingOut.get()}registerClientLoginFunction(e,t){if(this._loginFuncs[e])throw new Error("".concat(e," has been defined already"));this._loginFuncs[e]=t}callLoginFunction(e){if(!this._loginFuncs[e])throw new Error("".concat(e," was not defined"));for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return this._loginFuncs[e].apply(this,o)}applyLoginFunction(e,t){if(!this._loginFuncs[e])throw new Error("".concat(e," was not defined"));return this._loginFuncs[e].apply(this,t)}logout(e){this._loggingOut.set(!0),this.connection.apply("logout",[],{wait:!0},(t,o)=>{this._loggingOut.set(!1),t?e&&e(t):(this.makeClientLoggedOut(),e&&e())})}logoutOtherClients(e){this.connection.apply("getNewToken",[],{wait:!0},(e,t)=>{e||this._storeLoginToken(this.userId(),t.token,t.tokenExpires)}),this.connection.apply("removeOtherTokens",[],{wait:!0},t=>e&&e(t))}callLoginMethod(e){let t;e=i({methodName:"login",methodArguments:[{}],_suppressLoggingIn:!1},e),["validateResult","userCallback"].forEach(t=>{e[t]||(e[t]=()=>null)});const o=o=>{let{error:n,loginDetails:i}=o;t||(t=!0,n?this._onLoginFailureHook.each(e=>(e({error:n}),!0)):this._onLoginHook.each(e=>(e(i),!0)),e.userCallback(n,i))};let n=!1;const s=(e,t)=>{!e&&t&&t.token&&(this._reconnectStopper&&this._reconnectStopper.stop(),this._reconnectStopper=l.onReconnect(e=>{if(e!=this.connection)return;n=!0;const i=this._storedLoginToken();i&&(t={token:i,tokenExpires:this._storedLoginTokenExpires()}),t.tokenExpires||(t.tokenExpires=this._tokenExpiration(new Date)),this._tokenExpiresSoon(t.tokenExpires)?this.makeClientLoggedOut():this.callLoginMethod({methodArguments:[{resume:t.token}],_suppressLoggingIn:!0,userCallback:(e,n)=>{const i=this._storedLoginToken();e&&i&&i===t.token&&this.makeClientLoggedOut(),o({error:e,loginDetails:n})}})}))},r=(t,i)=>{if(!n){if(this._setLoggingIn(!1),t||!i)return t=t||new Error("No result from call to ".concat(e.methodName)),void o({error:t});try{e.validateResult(i)}catch(s){return void o({error:s})}this.makeClientLoggedIn(i.id,i.token,i.tokenExpires),o({loginDetails:{type:i.type}})}};e._suppressLoggingIn||this._setLoggingIn(!0),this.connection.apply(e.methodName,e.methodArguments,{wait:!0,onResultReceived:s},r)}makeClientLoggedOut(){this.connection._userId&&this._onLogoutHook.each(e=>(e(),!0)),this._unstoreLoginToken(),this.connection.setUserId(null),this._reconnectStopper&&this._reconnectStopper.stop()}makeClientLoggedIn(e,t,o){this._storeLoginToken(e,t,o),this.connection.setUserId(e)}loginServicesConfigured(){return this._loginServicesHandle.ready()}onPageLoadLogin(e){this._pageLoadLoginAttemptInfo?e(this._pageLoadLoginAttemptInfo):this._pageLoadLoginCallbacks.push(e)}_pageLoadLogin(t){this._pageLoadLoginAttemptInfo?e._debug("Ignoring unexpected duplicate page load login attempt info"):(this._pageLoadLoginCallbacks.forEach(e=>e(t)),this._pageLoadLoginCallbacks=[],this._pageLoadLoginAttemptInfo=t)}_startupCallback(t){this.connection._userId&&e.setTimeout(()=>t({type:"resume"}),0)}loginWithToken(e,t){this.callLoginMethod({methodArguments:[{resume:e}],userCallback:t})}_enableAutoLogin(){this._autoLoginEnabled=!0,this._pollStoredLoginToken()}_isolateLoginTokenForTest(){this.LOGIN_TOKEN_KEY=this.LOGIN_TOKEN_KEY+s.id(),this.USER_ID_KEY=this.USER_ID_KEY+s.id()}_storeLoginToken(t,o,n){e._localStorage.setItem(this.USER_ID_KEY,t),e._localStorage.setItem(this.LOGIN_TOKEN_KEY,o),n||(n=this._tokenExpiration(new Date)),e._localStorage.setItem(this.LOGIN_TOKEN_EXPIRES_KEY,n),this._lastLoginTokenWhenPolled=o}_unstoreLoginToken(){e._localStorage.removeItem(this.USER_ID_KEY),e._localStorage.removeItem(this.LOGIN_TOKEN_KEY),e._localStorage.removeItem(this.LOGIN_TOKEN_EXPIRES_KEY),this._lastLoginTokenWhenPolled=null}_storedLoginToken(){return e._localStorage.getItem(this.LOGIN_TOKEN_KEY)}_storedLoginTokenExpires(){return e._localStorage.getItem(this.LOGIN_TOKEN_EXPIRES_KEY)}_storedUserId(){return e._localStorage.getItem(this.USER_ID_KEY)}_unstoreLoginTokenIfExpiresSoon(){const e=this._storedLoginTokenExpires();e&&this._tokenExpiresSoon(new Date(e))&&this._unstoreLoginToken()}_initLocalStorage(){this.LOGIN_TOKEN_KEY="Meteor.loginToken",this.LOGIN_TOKEN_EXPIRES_KEY="Meteor.loginTokenExpires",this.USER_ID_KEY="Meteor.userId";const t=__meteor_runtime_config__.ROOT_URL_PATH_PREFIX;if(t||this.connection!==e.connection){let e=":".concat(this.connection._stream.rawUrl);t&&(e+=":".concat(t)),this.LOGIN_TOKEN_KEY+=e,this.LOGIN_TOKEN_EXPIRES_KEY+=e,this.USER_ID_KEY+=e}let o;if(this._autoLoginEnabled&&(this._unstoreLoginTokenIfExpiresSoon(),o=this._storedLoginToken())){const t=this._storedUserId();t&&this.connection.setUserId(t),this.loginWithToken(o,t=>{t&&(e._debug("Error logging in with token: ".concat(t)),this.makeClientLoggedOut()),this._pageLoadLogin({type:"resume",allowed:!t,error:t,methodName:"login",methodArguments:[{resume:o}]})})}this._lastLoginTokenWhenPolled=o,this._pollIntervalTimer&&clearInterval(this._pollIntervalTimer),this._pollIntervalTimer=setInterval(()=>{this._pollStoredLoginToken()},3e3)}_pollStoredLoginToken(){if(!this._autoLoginEnabled)return;const e=this._storedLoginToken();this._lastLoginTokenWhenPolled!=e&&(e?this.loginWithToken(e,e=>{e&&this.makeClientLoggedOut()}):this.logout()),this._lastLoginTokenWhenPolled=e}_initUrlMatching(){this._autoLoginEnabled=!0,this._accountsCallbacks={},this._attemptToMatchHash()}_attemptToMatchHash(){h(this,this.savedHash,g)}onResetPasswordLink(t){this._accountsCallbacks["reset-password"]&&e._debug("Accounts.onResetPasswordLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["reset-password"]=t}onEmailVerificationLink(t){this._accountsCallbacks["verify-email"]&&e._debug("Accounts.onEmailVerificationLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["verify-email"]=t}onEnrollmentLink(t){this._accountsCallbacks["enroll-account"]&&e._debug("Accounts.onEnrollmentLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["enroll-account"]=t}}if(e.loggingIn=()=>_.loggingIn(),e.loggingOut=()=>_.loggingOut(),e.logout=e=>_.logout(e),e.logoutOtherClients=e=>_.logoutOtherClients(e),e.loginWithToken=(e,t)=>_.loginWithToken(e,t),Package.blaze){const{Template:t}=Package.blaze.Blaze;t.registerHelper("currentUser",()=>e.user()),t.registerHelper("loggingIn",()=>e.loggingIn()),t.registerHelper("loggingOut",()=>e.loggingOut()),t.registerHelper("loggingInOrOut",()=>e.loggingIn()||e.loggingOut())}const g=function(t,o){this._autoLoginEnabled=!1,e.startup(()=>{this._accountsCallbacks[o]&&this._accountsCallbacks[o](t,()=>this._enableAutoLogin())})},h=(e,t,o)=>{["reset-password","verify-email","enroll-account"].forEach(n=>{let i;const s=new RegExp("^\\#\\/".concat(n,"\\/(.*)$")),r=t.match(s);r&&(i=r[1],"reset-password"===n?e._resetPasswordToken=i:"verify-email"===n?e._verifyEmailToken=i:"enroll-account"===n&&(e._enrollAccountToken=i),window.location.hash="",o.call(e,i,n))})},u={attemptToMatchHash:(e,t)=>h(_,e,t)}},"accounts_common.js":function t(o,n,t){let i;t.link("@babel/runtime/helpers/objectSpread2",{default(e){i=e}},0),t.export({AccountsCommon:()=>s,EXPIRE_TOKENS_INTERVAL_MS:()=>d,CONNECTION_CLOSE_DELAY_MS:()=>p});class s{constructor(t){this._options={},this.connection=void 0,this._initConnection(t||{}),this.users=new c.Collection("users",{_preventAutopublish:!0,connection:this.connection}),this._onLoginHook=new r({bindEnvironment:!1,debugPrintExceptions:"onLogin callback"}),this._onLoginFailureHook=new r({bindEnvironment:!1,debugPrintExceptions:"onLoginFailure callback"}),this._onLogoutHook=new r({bindEnvironment:!1,debugPrintExceptions:"onLogout callback"}),this.DEFAULT_LOGIN_EXPIRATION_DAYS=a,this.LOGIN_UNEXPIRING_TOKEN_DAYS=k;const o="Accounts.LoginCancelledError";this.LoginCancelledError=e.makeErrorType(o,(function(e){this.message=e})),this.LoginCancelledError.prototype.name=o,this.LoginCancelledError.numericError=145546287,e.startup(()=>{const{ServiceConfiguration:e}=Package["service-configuration"];this.loginServiceConfiguration=e.configurations,this.ConfigError=e.ConfigError})}userId(){throw new Error("userId method not implemented")}_addDefaultFieldSelector(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._options.defaultFieldSelector)return e;if(!e.fields)return i({},e,{fields:this._options.defaultFieldSelector});const t=Object.keys(e.fields);if(!t.length)return e;if(e.fields[t[0]])return e;const o=Object.keys(this._options.defaultFieldSelector);return this._options.defaultFieldSelector[o[0]]?e:i({},e,{fields:i({},e.fields,{},this._options.defaultFieldSelector)})}user(e){const t=this.userId();return t?this.users.findOne(t,this._addDefaultFieldSelector(e)):null}config(t){if(e.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||e._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect."),Object.prototype.hasOwnProperty.call(t,"oauthSecretKey")){if(e.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(t.oauthSecretKey),delete(t=i({},t)).oauthSecretKey}const o=["sendVerificationEmail","forbidClientAccountCreation","passwordEnrollTokenExpirationInDays","restrictCreationByEmailDomain","loginExpirationInDays","passwordResetTokenExpirationInDays","ambiguousErrorMessages","bcryptRounds","defaultFieldSelector"];Object.keys(t).forEach(e=>{if(!o.includes(e))throw new Error("Accounts.config: Invalid key: ".concat(e))}),o.forEach(e=>{if(e in t){if(e in this._options)throw new Error("Can't set `".concat(e,"` more than once"));this._options[e]=t[e]}})}onLogin(e){let t=this._onLoginHook.register(e);return this._startupCallback(t.callback),t}onLoginFailure(e){return this._onLoginFailureHook.register(e)}onLogout(e){return this._onLogoutHook.register(e)}_initConnection(t){e.isClient&&(t.connection?this.connection=t.connection:t.ddpUrl?this.connection=l.connect(t.ddpUrl):"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL?this.connection=l.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL):this.connection=e.connection)}_getTokenLifetimeMs(){const e=null===this._options.loginExpirationInDays?k:this._options.loginExpirationInDays;return 24*(e||a)*60*60*1e3}_getPasswordResetTokenLifetimeMs(){return 24*(this._options.passwordResetTokenExpirationInDays||g)*60*60*1e3}_getPasswordEnrollTokenLifetimeMs(){return 24*(this._options.passwordEnrollTokenExpirationInDays||h)*60*60*1e3}_tokenExpiration(e){return new Date(new Date(e).getTime()+this._getTokenLifetimeMs())}_tokenExpiresSoon(e){let t=.1*this._getTokenLifetimeMs();const o=1e3*u;return t>o&&(t=o),new Date>new Date(e)-t}_startupCallback(e){}}e.userId=()=>_.userId(),e.user=e=>_.user(e);const a=90,g=3,h=30,u=3600,d=6e5,p=1e4,k=36500}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/accounts-base/client_main.js");Package._define("accounts-base",k,{Accounts:_})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package.check.check,n=Package.check.Match,i=Package.reload.Reload,a=Package.base64.Base64,c=Package.url.URL,l=Package.url.URLSearchParams,s=Package.modules.meteorInstall,d=Package.promise.Promise,u,h,g=s({node_modules:{meteor:{oauth:{"oauth_client.js":function o(){const t={};(u={}).showPopup=(e,o,t)=>{throw new Error("OAuth.showPopup must be implemented on this arch.")},u._loginStyle=(o,t,r)=>{if(e.isCordova)return"popup";let n=r&&r.loginStyle||t.loginStyle||"popup";if(!["popup","redirect"].includes(n))throw new Error("Invalid login style: ".concat(n));if("redirect"===n)try{sessionStorage.setItem("Meteor.oauth.test","test"),sessionStorage.removeItem("Meteor.oauth.test")}catch(i){n="popup"}return n},u._stateParam=(o,t,r)=>{const n={loginStyle:o,credentialToken:t,isCordova:e.isCordova};return"redirect"===o&&(n.redirectUrl=r||""+window.location),a.encode(JSON.stringify(n))},u.saveDataForRedirect=(e,o)=>{i._onMigrate("oauth",()=>[!0,{loginService:e,credentialToken:o}]),i._migrate(null,{immediateMigration:!0})},u.getDataAfterRedirect=()=>{const o=i._migrationData("oauth");if(!o||!o.credentialToken)return null;const{credentialToken:t}=o,r=u._storageTokenPrefix+t;let n;try{n=sessionStorage.getItem(r),sessionStorage.removeItem(r)}catch(a){e._debug("error retrieving credentialSecret",a)}return{loginService:o.loginService,credentialToken:t,credentialSecret:n}},u.launchLogin=e=>{if(!e.loginService)throw new Error("loginService required");if("popup"===e.loginStyle)u.showPopup(e.loginUrl,e.credentialRequestCompleteCallback.bind(null,e.credentialToken),e.popupOptions);else{if("redirect"!==e.loginStyle)throw new Error("invalid login style");u.saveDataForRedirect(e.loginService,e.credentialToken),window.location=e.loginUrl}},u.initiateLogin=(e,o,t,r)=>{u.showPopup(o,t.bind(null,e),r)},u._handleCredentialSecret=(e,o)=>{if(r(e,String),r(o,String),Object.prototype.hasOwnProperty.call(t,e))throw new Error("Duplicate credential token from OAuth login");t[e]=o},u._retrieveCredentialSecret=o=>{let r=t[o];if(r)delete t[o];else{const t=u._storageTokenPrefix+o;r=e._localStorage.getItem(t),e._localStorage.removeItem(t)}return r}},"oauth_browser.js":function e(){u.showPopup=(e,t,r)=>{const n=o(e,r&&r.width||650,r&&r.height||331),i=setInterval(()=>{let e;try{e=n.closed||void 0===n.closed}catch(o){return}e&&(clearInterval(i),t())},100)};const o=function(e,o,t){const r=void 0!==window.screenX?window.screenX:window.screenLeft,n=void 0!==window.screenY?window.screenY:window.screenTop,i=void 0!==window.outerWidth?window.outerWidth:document.body.clientWidth,a=void 0!==window.outerHeight?window.outerHeight:document.body.clientHeight-22,c=r+(i-o)/2,l=n+(a-t)/2,s="width=".concat(o,",height=").concat(t)+",left=".concat(c,",top=").concat(l,",scrollbars=yes"),d=window.open(e,"Login",s);if(void 0===d){const o=new Error("The login popup was blocked by the browser");throw o.attemptedUrl=e,o}return d.focus&&d.focus(),d}},"oauth_common.js":function o(t,r,o){let n;o.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),u._storageTokenPrefix="Meteor.oauth.credentialSecret-",u._redirectUri=(o,t,r,i)=>{const a=t.loginStyle?null:"close";let l=!1,s=!1;if(r&&(l=(r=n({},r)).cordova,s=r.android,delete r.cordova,delete r.android,0===Object.keys(r).length&&(r=void 0)),e.isServer&&l){const e=Npm.require("url");let o=process.env.MOBILE_ROOT_URL||__meteor_runtime_config__.ROOT_URL;if(s){const t=e.parse(o);"localhost"===t.hostname&&(t.hostname="10.0.2.2",delete t.host),o=e.format(t)}i=n({},i,{rootUrl:o})}return c._constructUrl(e.absoluteUrl("_oauth/".concat(o),i),a,r)}},"deprecated.js":function e(){h=u}}}}},{extensions:[".js",".json"]});g("/node_modules/meteor/oauth/oauth_client.js"),g("/node_modules/meteor/oauth/oauth_browser.js"),g("/node_modules/meteor/oauth/oauth_common.js"),g("/node_modules/meteor/oauth/deprecated.js"),Package._define("oauth",{OAuth:u,Oauth:h})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package["accounts-base"].Accounts,a=Package.oauth.OAuth,n=Package.oauth.Oauth,c=Package.modules.meteorInstall,s=Package.promise.Promise,u=c({node_modules:{meteor:{"accounts-oauth":{"oauth_common.js":function o(){r.oauth={};const t={},a=Object.prototype.hasOwnProperty;r.oauth.registerService=o=>{if(a.call(t,o))throw new Error("Duplicate service: ".concat(o));t[o]=!0,e.server&&e.users._ensureIndex("services.".concat(o,".id"),{unique:!0,sparse:!0})},r.oauth.unregisterService=e=>{if(!a.call(t,e))throw new Error("Service not found: ".concat(e));delete t[e]},r.oauth.serviceNames=()=>Object.keys(t)},"oauth_client.js":function o(){const t=o=>o&&o instanceof e.Error&&o.error===r.LoginCancelledError.numericError?new r.LoginCancelledError(o.reason):o;e.startup(()=>{const e=a.getDataAfterRedirect();if(!e)return;const o="login",{credentialToken:n,credentialSecret:c}=e,s=[{oauth:{credentialToken:n,credentialSecret:c}}];r.callLoginMethod({methodArguments:s,userCallback:o=>{o=t(o),r._pageLoadLogin({type:e.loginService,allowed:!o,error:o,methodName:"login",methodArguments:s})}})}),r.oauth.tryLoginAfterPopupClosed=(e,o)=>{const n=a._retrieveCredentialSecret(e)||null;r.callLoginMethod({methodArguments:[{oauth:{credentialToken:e,credentialSecret:n}}],userCallback:o&&(e=>o(t(e)))})},r.oauth.credentialRequestCompleteHandler=e=>o=>{o&&o instanceof Error?e&&e(o):r.oauth.tryLoginAfterPopupClosed(o,e)}}}}}},{extensions:[".js",".json"]});u("/node_modules/meteor/accounts-oauth/oauth_common.js"),u("/node_modules/meteor/accounts-oauth/oauth_client.js"),Package._define("accounts-oauth")}();

!function(){var o=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,i=Package["accounts-base"].Accounts,r=Package.mongo.Mongo,t;(function(){void 0===t&&(t={}),t.configurations=new r.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:o.isClient?i.connection:o.connection}),t.ConfigError=function(e){o.isClient&&!i.loginServicesConfigured()?this.message="Login service configuration not yet loaded":this.message=e?"Service "+e+" not configured":"Service not configured"},t.ConfigError.prototype=new Error,t.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),Package._define("service-configuration",{ServiceConfiguration:t})}();

Package._define("oauth2");

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,t=Package.meteor.meteorEnv,n=Package.oauth.OAuth,r=Package.oauth.Oauth,a=Package["service-configuration"].ServiceConfiguration,i=Package.random.Random,l=Package.modules.meteorInstall,c=Package.promise.Promise,s,g=l({node_modules:{meteor:{"google-oauth":{"google_client.js":function e(o,t,e){let r;e.link("./namespace.js",{default(e){r=e}},0);const l=Object.prototype.hasOwnProperty,c={response_type:1,client_id:1,scope:1,redirect_uri:1,state:1};r.requestCredential=(e,o)=>{o||"function"!=typeof e?e||(e={}):(o=e,e={});const t=a.configurations.findOne({service:"google"});if(!t)return void(o&&o(new a.ConfigError));const r=i.secret(),s={email:1};let g=e.requestPermissions||["profile"];g.forEach(e=>s[e]=1),g=Object.keys(s);const m={};t.loginUrlParameters&&Object.assign(m,t.loginUrlParameters),e.loginUrlParameters&&Object.assign(m,e.loginUrlParameters),Object.keys(m).forEach(e=>{if(l.call(c,e))throw new Error("Google.requestCredential: Invalid loginUrlParameter: ".concat(e))}),null!=e.requestOfflineToken&&(m.access_type=e.requestOfflineToken?"offline":"online"),null!=e.prompt?m.prompt=e.prompt:e.forceApprovalPrompt&&(m.prompt="consent"),e.loginHint&&(m.login_hint=e.loginHint);const p=n._loginStyle("google",t,e);Object.assign(m,{response_type:"code",client_id:t.clientId,scope:g.join(" "),redirect_uri:n._redirectUri("google",t),state:n._stateParam(p,r,e.redirectUrl)});const u="https://accounts.google.com/o/oauth2/auth?"+Object.keys(m).map(e=>"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(m[e]))).join("&");n.launchLogin({loginService:"google",loginStyle:p,loginUrl:u,credentialRequestCompleteCallback:o,credentialToken:r,popupOptions:{height:600}})}},"namespace.js":function e(o,t,e){(function(o){(s=e.exports).Google=s}).call(this,e)}}}}},{extensions:[".js",".json"]});g("/node_modules/meteor/google-oauth/google_client.js");var m=g("/node_modules/meteor/google-oauth/namespace.js");Package._define("google-oauth",m,{Google:s})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["observe-sequence"].ObserveSequence,a=Package.underscore._,u=Package.tracker.Tracker,i=Package.tracker.Deps,l=Package.htmljs.HTML,c=Package.blaze.Blaze,o=Package.blaze.UI,f=Package.blaze.Handlebars,p;(function(){var e=function(e,t){return e===t};(p={}).include=function(t,n,r){if(!t)return null;if("function"!=typeof t){var a=t,u;if(!c.isTemplate(a))throw new Error("Expected template or null, found: "+a);return(u=t.constructView(n,r)).__startsNewLexicalScope=!0,u}var i=c.ReactiveVar(null,e),u;return(u=c.View("Spacebars.include",(function(){var e=i.get();if(null===e)return null;if(!c.isTemplate(e))throw new Error("Expected template or null, found: "+e);return e.constructView(n,r)}))).__templateVar=i,u.onViewCreated((function(){this.autorun((function(){i.set(t())}))})),u.__startsNewLexicalScope=!0,u},p.mustacheImpl=function(e){var t=arguments;if(t.length>1){var n=t[t.length-1];if(n instanceof p.kw){var r={};for(var a in n.hash){var u=n.hash[a];r[a]="function"==typeof u?u():u}t[t.length-1]=p.kw(r)}else n=p.kw(),(t=Array.prototype.slice.call(arguments)).push(n)}return p.call.apply(null,t)},p.mustache=function(e){var t=p.mustacheImpl.apply(null,arguments);return t instanceof p.SafeString?l.Raw(t.toString()):null==t||!1===t?null:String(t)},p.attrMustache=function(e){var t=p.mustacheImpl.apply(null,arguments);if(null==t||""===t)return null;if("object"==typeof t)return t;if("string"==typeof t&&l.isValidAttributeName(t)){var n={};return n[t]="",n}throw new Error("Expected valid attribute name, '', null, or object")},p.dataMustache=function(e){var t=p.mustacheImpl.apply(null,arguments);return t},p.makeRaw=function(e){return null==e?null:e instanceof l.Raw?e:l.Raw(e)},p.call=function(e){if("function"==typeof e){for(var t=[],n=1;n<arguments.length;n++){var r=arguments[n];t[n-1]="function"==typeof r?r():r}return e.apply(null,t)}if(null!=e&&arguments.length>1)throw new Error("Can't call non-function: "+e);return e},p.kw=function(e){if(!(this instanceof p.kw))return new p.kw(e);this.hash=e||{}},p.SafeString=function(e){return this instanceof p.SafeString?new f.SafeString(e):new p.SafeString(e)},p.SafeString.prototype=f.SafeString.prototype,p.dot=function(e,t){if(arguments.length>2){var n=[];return n.push(p.dot(e,t)),n.push.apply(n,Array.prototype.slice.call(arguments,2)),p.dot.apply(null,n)}if("function"==typeof e&&(e=e()),!e)return e;var r=e[t];return"function"!=typeof r?r:function(){return r.apply(e,arguments)}},p.With=function(e,t,n){var r=new c.ReactiveVar,a=c.View("Spacebars_with",(function(){return c.If((function(){return r.get()}),(function(){return c.With((function(){return r.get()}),t)}),n)}));return a.onViewCreated((function(){this.autorun((function(){r.set(e()),u.onInvalidate((function(){r.dep.changed()}))}))})),a},p.TemplateWith=c._TemplateWith}).call(this),Package._define("spacebars",{Spacebars:p})}();

Package._define("templating-compiler");

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,o=Package.blaze.Blaze,c=Package.blaze.UI,r=Package.blaze.Handlebars,i=Package.spacebars.Spacebars,u=Package.htmljs.HTML,l;(function(){l=o.Template;var e="__proto__ name".split(" ");l.__checkName=function(t){if(t in l||a.contains(e,t)){if(l[t]instanceof l&&"body"!==t)throw new Error("There are multiple templates named '"+t+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+t)}},l.__define__=function(e,t){l.__checkName(e),l[e]=new l("Template."+e,t),l[e]._NOWARN_OLDSTYLE_HELPERS=!0},l.body=new l("body",(function(){var e=this;return a.map(l.body.contentRenderFuncs,(function(t){return t.apply(e)}))})),l.body.contentRenderFuncs=[],l.body.view=null,l.body.addContent=function(e){l.body.contentRenderFuncs.push(e)},l.body.renderToDocument=function(){if(!l.body.view){var e=o.render(l.body,document.body);l.body.view=e}},c.body=l.body,l.__body__=l.body,l.__body__.__contentParts=l.body.contentViews,l.__body__.__instantiate=l.body.renderToDocument}).call(this),function(){l.__checkName("__dynamic"),l.__dynamic=new l("Template.__dynamic",(function(){var e=this;return[o.View("lookup:checkContext",(function(){return i.mustache(e.lookup("checkContext"))})),"\n  ",o.If((function(){return i.call(e.lookup("dataContextPresent"))}),(function(){return["\n    ",i.include(e.lookupTemplate("__dynamicWithDataContext"),(function(){return o._InOuterTemplateScope(e,(function(){return i.include((function(){return i.call(e.templateContentBlock)}))}))})),"\n  "]}),(function(){return["\n    \n    ",o._TemplateWith((function(){return{template:i.call(e.lookup("template")),data:i.call(e.lookup(".."))}}),(function(){return i.include(e.lookupTemplate("__dynamicWithDataContext"),(function(){return o._InOuterTemplateScope(e,(function(){return i.include((function(){return i.call(e.templateContentBlock)}))}))}))})),"\n  "]}))]})),l.__checkName("__dynamicWithDataContext"),l.__dynamicWithDataContext=new l("Template.__dynamicWithDataContext",(function(){var e=this;return i.With((function(){return i.dataMustache(e.lookup("chooseTemplate"),e.lookup("template"))}),(function(){return["\n    \n    ",o._TemplateWith((function(){return i.call(i.dot(e.lookup(".."),"data"))}),(function(){return i.include(e.lookupTemplate(".."),(function(){return o._InOuterTemplateScope(e,(function(){return i.include((function(){return i.call(e.templateContentBlock)}))}))}))})),"\n  "]}))}))}.call(this),function(){var e=o.Template;e.__dynamicWithDataContext.helpers({chooseTemplate:function(t){return o._getTemplate(t,(function(){return e.instance()}))}}),e.__dynamic.helpers({dataContextPresent:function(){return a.has(this,"data")},checkContext:function(){if(!a.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> Template.dynamic}}.");a.each(this,(function(e,t){if("template"!==t&&"data"!==t)throw new Error("Invalid argument to {{> Template.dynamic}}: "+t)}))}})}.call(this),Package._define("templating-runtime",{Template:l})}();

!function(){var e=Package["templating-runtime"].Template;Package._define("templating",{Template:e})}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,o=Package.meteor.meteorEnv,t=Package.tracker.Tracker,s=Package.tracker.Deps,i=Package["service-configuration"].ServiceConfiguration,l=Package["accounts-base"].Accounts,r=Package["templating-runtime"].Template,a=Package.session.Session,u=Package.modules.meteorInstall,c=Package.promise.Promise,g=Package.blaze.Blaze,d=Package.blaze.UI,p=Package.blaze.Handlebars,m=Package.spacebars.Spacebars,f=Package.htmljs.HTML,w,_=u({node_modules:{meteor:{"accounts-ui-unstyled":{"accounts_ui.js":function n(e,o,n){n.export({passwordSignupFields:()=>a}),l.ui={_options:{requestPermissions:Object.create(null),requestOfflineToken:Object.create(null),forceApprovalPrompt:Object.create(null)}};const t=(new Set).add("passwordSignupFields").add("requestPermissions").add("requestOfflineToken").add("forceApprovalPrompt"),s=(new Set).add("USERNAME_AND_EMAIL").add("USERNAME_AND_OPTIONAL_EMAIL").add("USERNAME_ONLY").add("EMAIL_ONLY");function i(n){return s.has(n)}function r(e){let{passwordSignupFields:o}=e;if(o){const e=()=>{throw new Error("Accounts.ui.config: Invalid option for `passwordSignupFields`: ".concat(o))};if("string"==typeof o?n.runSetters(o=[o]):Array.isArray(o)||e(),o.every(i)){if(l.ui._options.passwordSignupFields)throw new Error("Accounts.ui.config: Can't set `passwordSignupFields` more than once");return void Object.assign(l.ui._options,{passwordSignupFields:o})}e()}}function a(){const{passwordSignupFields:n}=l.ui._options;return Array.isArray(n)?n:"string"==typeof n?[n]:["EMAIL_ONLY"]}function u(n){let{requestPermissions:e}=n;e&&Object.keys(e).forEach(n=>{if(l.ui._options.requestPermissions[n])throw new Error("Accounts.ui.config: Can't set `requestPermissions` more than once for ".concat(n));const o=e[n];if(!Array.isArray(o))throw new Error("Accounts.ui.config: Value for `requestPermissions` must be an array");l.ui._options.requestPermissions[n]=o})}function c(n){let{requestOfflineToken:e}=n;e&&Object.keys(e).forEach(n=>{if("google"!==n)throw new Error("Accounts.ui.config: `requestOfflineToken` only supported for Google login at the moment.");if(l.ui._options.requestOfflineToken[n])throw new Error("Accounts.ui.config: Can't set `requestOfflineToken` more than once for ".concat(n));l.ui._options.requestOfflineToken[n]=e[n]})}function g(n){let{forceApprovalPrompt:e}=n;e&&Object.keys(e).forEach(n=>{if("google"!==n)throw new Error("Accounts.ui.config: `forceApprovalPrompt` only supported for Google login at the moment.");if(l.ui._options.forceApprovalPrompt[n])throw new Error("Accounts.ui.config: Can't set `forceApprovalPrompt` more than once for ".concat(n));l.ui._options.forceApprovalPrompt[n]=e[n]})}l.ui.config=n=>{Object.keys(n).forEach(n=>{if(!t.has(n))throw new Error("Accounts.ui.config: Invalid option: ".concat(n))}),r(n),u(n),c(n),g(n)}},"template.login_buttons.js":function n(){r.__checkName("loginButtons"),r.loginButtons=new r("Template.loginButtons",(function(){var n=this;return f.DIV({id:"login-buttons",class:function(){return["login-buttons-dropdown-align-",m.mustache(n.lookup("align"))]}},"\n    ",g.If((function(){return m.call(n.lookup("currentUser"))}),(function(){return["\n      ",g.If((function(){return m.call(n.lookup("loggingInOrOut"))}),(function(){return["\n        \n        ",g.If((function(){return m.call(n.lookup("dropdown"))}),(function(){return["\n          ",m.include(n.lookupTemplate("_loginButtonsLoggingIn")),"\n        "]}),(function(){return["\n          ",f.DIV({class:"login-buttons-with-only-one-button"},"\n            ",m.include(n.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n          "),"\n        "]})),"\n      "]}),(function(){return["\n        ",m.include(n.lookupTemplate("_loginButtonsLoggedIn")),"\n      "]})),"\n    "]}),(function(){return["\n      ",m.include(n.lookupTemplate("_loginButtonsLoggedOut")),"\n    "]})),"\n  ")})),r.__checkName("_loginButtonsLoggedIn"),r._loginButtonsLoggedIn=new r("Template._loginButtonsLoggedIn",(function(){var n=this;return g.If((function(){return m.call(n.lookup("dropdown"))}),(function(){return["\n    ",m.include(n.lookupTemplate("_loginButtonsLoggedInDropdown")),"\n  "]}),(function(){return["\n    ",f.DIV({class:"login-buttons-with-only-one-button"},"\n      ",m.include(n.lookupTemplate("_loginButtonsLoggedInSingleLogoutButton")),"\n    "),"\n  "]}))})),r.__checkName("_loginButtonsLoggedOut"),r._loginButtonsLoggedOut=new r("Template._loginButtonsLoggedOut",(function(){var n=this;return g.If((function(){return m.call(n.lookup("services"))}),(function(){return[" \n    ",g.If((function(){return m.call(n.lookup("configurationLoaded"))}),(function(){return["\n      ",g.If((function(){return m.call(n.lookup("dropdown"))}),(function(){return[" \n        ",m.include(n.lookupTemplate("_loginButtonsLoggedOutDropdown")),"\n      "]}),(function(){return["\n        ",m.With((function(){return m.call(n.lookup("singleService"))}),(function(){return[" \n          ",f.DIV({class:"login-buttons-with-only-one-button"},"\n            ",g.If((function(){return m.call(n.lookup("loggingIn"))}),(function(){return["\n              ",m.include(n.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n            "]}),(function(){return["\n              ",m.include(n.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n            "]})),"\n          "),"\n        "]})),"\n      "]})),"\n    "]})),"\n  "]}),(function(){return["\n    ",f.DIV({class:"no-services"},"No login services configured"),"\n  "]}))})),r.__checkName("_loginButtonsMessages"),r._loginButtonsMessages=new r("Template._loginButtonsMessages",(function(){var n=this;return[g.If((function(){return m.call(n.lookup("errorMessage"))}),(function(){return["\n    ",f.DIV({class:"message error-message"},g.View("lookup:errorMessage",(function(){return m.mustache(n.lookup("errorMessage"))}))),"\n  "]})),"\n  ",g.If((function(){return m.call(n.lookup("infoMessage"))}),(function(){return["\n    ",f.DIV({class:"message info-message"},g.View("lookup:infoMessage",(function(){return m.mustache(n.lookup("infoMessage"))}))),"\n  "]}))]})),r.__checkName("_loginButtonsLoggingIn"),r._loginButtonsLoggingIn=new r("Template._loginButtonsLoggingIn",(function(){var n=this;return[m.include(this.lookupTemplate("_loginButtonsLoggingInPadding")),f.Raw('\n  <div class="loading">&nbsp;</div>\n  '),m.include(this.lookupTemplate("_loginButtonsLoggingInPadding"))]})),r.__checkName("_loginButtonsLoggingInPadding"),r._loginButtonsLoggingInPadding=new r("Template._loginButtonsLoggingInPadding",(function(){var n=this;return g.Unless((function(){return m.call(n.lookup("dropdown"))}),(function(){return["\n    \n    ",f.DIV({class:"login-buttons-padding"},"\n      ",f.DIV({class:"login-button single-login-button",style:"visibility: hidden;",id:"login-buttons-logout"},f.CharRef({html:"&nbsp;",str:" "})),"\n    "),"\n  "]}),(function(){return["\n    \n    ",f.DIV({class:"login-buttons-padding"}),"\n  "]}))}))},"template.login_buttons_single.js":function n(){r.__checkName("_loginButtonsLoggedOutSingleLoginButton"),r._loginButtonsLoggedOutSingleLoginButton=new r("Template._loginButtonsLoggedOutSingleLoginButton",(function(){var n=this;return f.DIV({class:"login-text-and-button"},"\n    ",f.DIV({class:function(){return["login-button single-login-button ",g.Unless((function(){return m.call(n.lookup("configured"))}),(function(){return"configure-button"}))]},id:function(){return["login-buttons-",m.mustache(n.lookup("name"))]}},"\n      ",g.If((function(){return m.call(n.lookup("cannotConfigure"))}),(function(){return["\n        ",f.SPAN({class:""},g.View("lookup:capitalizedName",(function(){return m.mustache(n.lookup("capitalizedName"))}))," not configured"),"\n      "]}),(function(){return["\n        ",f.DIV({class:"login-image",id:function(){return["login-buttons-image-",m.mustache(n.lookup("name"))]}}),"\n        ",g.If((function(){return m.call(n.lookup("configured"))}),(function(){return["\n          ",f.SPAN({class:function(){return["text-besides-image sign-in-text-",m.mustache(n.lookup("name"))]}},"Sign in with ",g.View("lookup:capitalizedName",(function(){return m.mustache(n.lookup("capitalizedName"))}))),"\n        "]}),(function(){return["\n            ",f.SPAN({class:function(){return["text-besides-image configure-text-",m.mustache(n.lookup("name"))]}},"Configure ",g.View("lookup:capitalizedName",(function(){return m.mustache(n.lookup("capitalizedName"))}))," Login"),"\n        "]})),"\n      "]})),"\n    "),"\n  ")})),r.__checkName("_loginButtonsLoggingInSingleLoginButton"),r._loginButtonsLoggingInSingleLoginButton=new r("Template._loginButtonsLoggingInSingleLoginButton",(function(){var n=this;return f.DIV({class:"login-text-and-button"},"\n    ",m.include(this.lookupTemplate("_loginButtonsLoggingIn")),"\n  ")})),r.__checkName("_loginButtonsLoggedInSingleLogoutButton"),r._loginButtonsLoggedInSingleLogoutButton=new r("Template._loginButtonsLoggedInSingleLogoutButton",(function(){var n=this;return f.DIV({class:"login-text-and-button"},"\n    ",f.DIV({class:"login-display-name"},"\n      ",g.View("lookup:displayName",(function(){return m.mustache(n.lookup("displayName"))})),"\n    "),f.Raw('\n    <div class="login-button single-login-button" id="login-buttons-logout">Sign Out</div>\n  '))}))},"template.login_buttons_dropdown.js":function n(){r.__checkName("_loginButtonsLoggedInDropdown"),r._loginButtonsLoggedInDropdown=new r("Template._loginButtonsLoggedInDropdown",(function(){var n=this;return f.DIV({class:"login-link-and-dropdown-list"},"\n    ",f.A({class:"login-link-text",id:"login-name-link"},"\n      ",g.View("lookup:displayName",(function(){return m.mustache(n.lookup("displayName"))}))," ▾\n    "),"\n\n    ",g.If((function(){return m.call(n.lookup("dropdownVisible"))}),(function(){return["\n      ",f.DIV({id:"login-dropdown-list",class:"accounts-dialog"},"\n        ",f.A({class:"login-close-text"},"Close"),"\n        ",f.DIV({class:"login-close-text-clear"}),"\n\n        ",g.If((function(){return m.call(n.lookup("inMessageOnlyFlow"))}),(function(){return["\n          ",m.include(n.lookupTemplate("_loginButtonsMessages")),"\n        "]}),(function(){return["\n          ",g.If((function(){return m.call(n.lookup("inChangePasswordFlow"))}),(function(){return["\n            ",m.include(n.lookupTemplate("_loginButtonsChangePassword")),"\n          "]}),(function(){return["\n            ",m.include(n.lookupTemplate("_loginButtonsLoggedInDropdownActions")),"\n          "]})),"\n        "]})),"\n      "),"\n    "]})),"\n  ")})),r.__checkName("_loginButtonsLoggedInDropdownActions"),r._loginButtonsLoggedInDropdownActions=new r("Template._loginButtonsLoggedInDropdownActions",(function(){var n=this;return[g.If((function(){return m.call(n.lookup("allowChangingPassword"))}),(function(){return["\n    ",f.DIV({class:"login-button",id:"login-buttons-open-change-password"},"\n      Change password\n    "),"\n  "]})),f.Raw('\n\n  <div class="login-button" id="login-buttons-logout">\n    Sign out\n  </div>\n\n  '),m.include(n.lookupTemplate("_loginButtonsMessages"))]})),r.__checkName("_loginButtonsLoggedOutDropdown"),r._loginButtonsLoggedOutDropdown=new r("Template._loginButtonsLoggedOutDropdown",(function(){var n=this;return f.DIV({class:function(){return["login-link-and-dropdown-list ",m.mustache(n.lookup("additionalClasses"))]}},"\n    ",g.If((function(){return m.call(n.lookup("dropdownVisible"))}),(function(){return["\n      \n      ",f.A({class:"login-link-text",id:"login-sign-in-link"},"Sign in ▾"),"\n      ",f.DIV({id:"login-dropdown-list",class:"accounts-dialog"},"\n        ",f.A({class:"login-close-text"},"Close"),"\n        ",g.If((function(){return m.call(n.lookup("loggingIn"))}),(function(){return["\n          ",m.include(n.lookupTemplate("_loginButtonsLoggingIn")),"\n        "]})),"\n        ",f.DIV({class:"login-close-text-clear"}),"\n        ",m.include(n.lookupTemplate("_loginButtonsLoggedOutAllServices")),"\n      "),"\n    "]}),(function(){return["\n      ",g.If((function(){return m.call(n.lookup("loggingIn"))}),(function(){return["\n        \n        ",m.include(n.lookupTemplate("_loginButtonsLoggingIn")),"\n      "]}),(function(){return["\n        ",f.A({class:"login-link-text",id:"login-sign-in-link"},"Sign in ▾"),"\n      "]})),"\n    "]})),"\n  ")})),r.__checkName("_loginButtonsLoggedOutAllServices"),r._loginButtonsLoggedOutAllServices=new r("Template._loginButtonsLoggedOutAllServices",(function(){var n=this;return[g.Each((function(){return m.call(n.lookup("services"))}),(function(){return["\n    ",g.If((function(){return m.call(n.lookup("isPasswordService"))}),(function(){return["\n      ",g.If((function(){return m.call(n.lookup("hasOtherServices"))}),(function(){return[" \n        ",m.include(n.lookupTemplate("_loginButtonsLoggedOutPasswordServiceSeparator")),"\n      "]})),"\n      ",m.include(n.lookupTemplate("_loginButtonsLoggedOutPasswordService")),"\n    "]}),(function(){return["\n      ",m.include(n.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n    "]})),"\n  "]})),"\n\n  ",g.Unless((function(){return m.call(n.lookup("hasPasswordService"))}),(function(){return["\n    ",m.include(n.lookupTemplate("_loginButtonsMessages")),"\n  "]}))]})),r.__checkName("_loginButtonsLoggedOutPasswordServiceSeparator"),r._loginButtonsLoggedOutPasswordServiceSeparator=new r("Template._loginButtonsLoggedOutPasswordServiceSeparator",(function(){var n=this;return f.Raw('<div class="or">\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n    <span class="or-text">or</span>\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n  </div>')})),r.__checkName("_loginButtonsLoggedOutPasswordService"),r._loginButtonsLoggedOutPasswordService=new r("Template._loginButtonsLoggedOutPasswordService",(function(){var n=this;return g.If((function(){return m.call(n.lookup("inForgotPasswordFlow"))}),(function(){return["\n    ",m.include(n.lookupTemplate("_forgotPasswordForm")),"\n  "]}),(function(){return["\n    ",f.FORM({class:"login-form login-password-form"},"\n      ",g.Each((function(){return m.call(n.lookup("fields"))}),(function(){return["\n        ",m.include(n.lookupTemplate("_loginButtonsFormField")),"\n      "]})),"\n\n      ",m.include(n.lookupTemplate("_loginButtonsMessages")),"\n\n      ",f.BUTTON({class:"login-button login-button-form-submit",id:"login-buttons-password"},"\n        ",g.If((function(){return m.call(n.lookup("inSignupFlow"))}),(function(){return"\n          Create account\n        "}),(function(){return"\n          Sign in\n        "})),"\n      "),"\n\n      ",g.If((function(){return m.call(n.lookup("inLoginFlow"))}),(function(){return["\n        ",g.If((function(){return m.call(n.lookup("showCreateAccountLink"))}),(function(){return["\n          ",f.DIV({class:"additional-link-container"},"\n            ",f.A({id:"signup-link",class:"additional-link"},"Create account"),"\n          "),"\n        "]})),"\n\n        ",g.If((function(){return m.call(n.lookup("showForgotPasswordLink"))}),(function(){return["\n          ",f.DIV({class:"additional-link-container"},"\n            ",f.A({id:"forgot-password-link",class:"additional-link"},"Forgot password"),"\n          "),"\n        "]})),"\n      "]})),"\n\n      ",g.If((function(){return m.call(n.lookup("inSignupFlow"))}),(function(){return["\n        ",m.include(n.lookupTemplate("_loginButtonsBackToLoginLink")),"\n      "]})),"\n    "),"\n  "]}))})),r.__checkName("_forgotPasswordForm"),r._forgotPasswordForm=new r("Template._forgotPasswordForm",(function(){var n=this;return f.FORM({class:"login-form"},f.Raw('\n    <div id="forgot-password-email-label-and-input"> \n      <label id="forgot-password-email-label" for="forgot-password-email">Email</label>\n      <input id="forgot-password-email" type="email" autocomplete="email">\n    </div>\n\n    '),m.include(this.lookupTemplate("_loginButtonsMessages")),f.Raw('\n\n    <div class="login-button login-button-form-submit" id="login-buttons-forgot-password">\n      Reset password\n    </div>\n\n    '),m.include(this.lookupTemplate("_loginButtonsBackToLoginLink")),"\n  ")})),r.__checkName("_loginButtonsBackToLoginLink"),r._loginButtonsBackToLoginLink=new r("Template._loginButtonsBackToLoginLink",(function(){var n=this;return f.Raw('<div class="additional-link-container">\n    <a id="back-to-login-link" class="additional-link">Sign in</a>\n  </div>')})),r.__checkName("_loginButtonsFormField"),r._loginButtonsFormField=new r("Template._loginButtonsFormField",(function(){var n=this;return g.If((function(){return m.call(n.lookup("visible"))}),(function(){return["\n    ",f.DIV({id:function(){return["login-",m.mustache(n.lookup("fieldName")),"-label-and-input"]},style:function(){return m.mustache(n.lookup("fieldStyle"))}},"\n      ",f.LABEL({id:function(){return["login-",m.mustache(n.lookup("fieldName")),"-label"]},for:function(){return["login-",m.mustache(n.lookup("fieldName"))]}},"\n        ",g.View("lookup:fieldLabel",(function(){return m.mustache(n.lookup("fieldLabel"))})),"\n      "),"\n      ",f.INPUT({id:function(){return["login-",m.mustache(n.lookup("fieldName"))]},type:function(){return m.mustache(n.lookup("inputType"))},value:function(){return m.mustache(n.lookup("fieldValue"))},autocomplete:function(){return m.mustache(n.lookup("autocomplete"))}}),"\n    "),"\n  "]}))})),r.__checkName("_loginButtonsChangePassword"),r._loginButtonsChangePassword=new r("Template._loginButtonsChangePassword",(function(){var n=this;return f.FORM({class:"login-form"},"\n\n    ",g.Each((function(){return m.call(n.lookup("fields"))}),(function(){return["\n      ",m.include(n.lookupTemplate("_loginButtonsFormField")),"\n    "]})),"\n\n    ",m.include(n.lookupTemplate("_loginButtonsMessages")),f.Raw('\n\n    <div class="login-button login-button-form-submit" id="login-buttons-do-change-password">\n      Change password\n    </div>\n  '))}))},"template.login_buttons_dialogs.js":function e(){r.body.addContent((function(){var n=this;return[m.include(this.lookupTemplate("_resetPasswordDialog")),"\n  ",m.include(this.lookupTemplate("_justResetPasswordDialog")),"\n  ",m.include(this.lookupTemplate("_enrollAccountDialog")),"\n  ",m.include(this.lookupTemplate("_justVerifiedEmailDialog")),"\n  ",m.include(this.lookupTemplate("_configureLoginServiceDialog")),"\n  ",m.include(this.lookupTemplate("_configureLoginOnDesktopDialog")),"\n\n  \n  ",m.include(this.lookupTemplate("_loginButtonsMessagesDialog"))]})),n.startup(r.body.renderToDocument),r.__checkName("_resetPasswordDialog"),r._resetPasswordDialog=new r("Template._resetPasswordDialog",(function(){var n=this;return g.If((function(){return m.call(n.lookup("inResetPasswordFlow"))}),(function(){return["\n    ",f.DIV({class:"hide-background"}),"\n\n    ",f.FORM({class:"accounts-dialog accounts-centered-dialog"},"\n      ",f.LABEL({id:"reset-password-username-email-label",for:"reset-password-username-email",style:"display: none;"},"\n        Username or email\n      ")," \n\n      ",f.DIV({class:"reset-password-username-email-wrapper",style:"display: none;"},"\n        ",f.INPUT({id:"reset-password-username-email",type:"text",value:function(){return m.mustache(n.lookup("displayName"))},autocomplete:"username email",disabled:""}),"\n      "),"\n\n      ",f.LABEL({id:"reset-password-new-password-label",for:"reset-password-new-password"},"\n        New password\n      "),"      \n\n      ",f.DIV({class:"reset-password-new-password-wrapper"},"\n        ",f.INPUT({id:"reset-password-new-password",type:"password",autocomplete:"new-password"}),"\n      "),"\n\n      ",m.include(n.lookupTemplate("_loginButtonsMessages")),"\n\n      ",f.DIV({class:"login-button login-button-form-submit",id:"login-buttons-reset-password-button"},"\n        Set password\n      "),"\n\n      ",f.A({class:"accounts-close",id:"login-buttons-cancel-reset-password"},f.CharRef({html:"&times;",str:"×"})),"\n    "),"\n  "]}))})),r.__checkName("_justResetPasswordDialog"),r._justResetPasswordDialog=new r("Template._justResetPasswordDialog",(function(){var n=this;return g.If((function(){return m.call(n.lookup("visible"))}),(function(){return["\n    ",f.DIV({class:"accounts-dialog accounts-centered-dialog"},"\n      Password reset.\n      You are now logged in as ",g.View("lookup:displayName",(function(){return m.mustache(n.lookup("displayName"))})),".\n      ",f.DIV({class:"login-button",id:"just-verified-dismiss-button"},"Dismiss"),"\n    "),"\n  "]}))})),r.__checkName("_enrollAccountDialog"),r._enrollAccountDialog=new r("Template._enrollAccountDialog",(function(){var n=this;return g.If((function(){return m.call(n.lookup("inEnrollAccountFlow"))}),(function(){return["\n    ",f.DIV({class:"hide-background"}),"\n\n    ",f.FORM({class:"accounts-dialog accounts-centered-dialog"},"\n      ",f.LABEL({id:"enroll-account-username-email-label",for:"enroll-account-username-email",style:"display: none;"},"\n        Username or email\n      ")," \n\n      ",f.DIV({class:"enroll-account-username-email-wrapper",style:"display: none;"},"\n        ",f.INPUT({id:"enroll-account-username-email",type:"text",value:function(){return m.mustache(n.lookup("displayName"))},autocomplete:"username email",disabled:""}),"\n      "),"\n\n      ",f.LABEL({id:"enroll-account-password-label",for:"enroll-account-password"},"\n        Choose a password\n      "),"\n\n      ",f.DIV({class:"enroll-account-password-wrapper"},"\n        ",f.INPUT({id:"enroll-account-password",type:"password",autocomplete:"new-password"}),"\n      "),"\n\n      ",m.include(n.lookupTemplate("_loginButtonsMessages")),"\n\n      ",f.DIV({class:"login-button login-button-form-submit",id:"login-buttons-enroll-account-button"},"\n        Create account\n      "),"\n\n      ",f.A({class:"accounts-close",id:"login-buttons-cancel-enroll-account"},f.CharRef({html:"&times;",str:"×"})),"\n    "),"\n  "]}))})),r.__checkName("_justVerifiedEmailDialog"),r._justVerifiedEmailDialog=new r("Template._justVerifiedEmailDialog",(function(){var n=this;return g.If((function(){return m.call(n.lookup("visible"))}),(function(){return["\n    ",f.DIV({class:"accounts-dialog accounts-centered-dialog"},"\n      Email verified.\n      You are now logged in as ",g.View("lookup:displayName",(function(){return m.mustache(n.lookup("displayName"))})),".\n      ",f.DIV({class:"login-button",id:"just-verified-dismiss-button"},"Dismiss"),"\n    "),"\n  "]}))})),r.__checkName("_configureLoginServiceDialog"),r._configureLoginServiceDialog=new r("Template._configureLoginServiceDialog",(function(){var n=this;return g.If((function(){return m.call(n.lookup("visible"))}),(function(){return["\n    ",f.DIV({id:"configure-login-service-dialog",class:"accounts-dialog accounts-centered-dialog"},"\n      ",m.include(n.lookupTemplate("configurationSteps")),"\n\n      ",f.P("\n        Now, copy over some details.\n      "),"\n      ",f.P("\n        ",f.TABLE("\n          ",f.COLGROUP("\n            ",f.COL({span:"1",class:"configuration_labels"}),"\n            ",f.COL({span:"1",class:"configuration_inputs"}),"\n          "),"\n          ",g.Each((function(){return m.call(n.lookup("configurationFields"))}),(function(){return["\n            ",f.TR("\n              ",f.TD("\n                ",f.LABEL({for:function(){return["configure-login-service-dialog-",m.mustache(n.lookup("property"))]}},g.View("lookup:label",(function(){return m.mustache(n.lookup("label"))}))),"\n              "),"\n              ",f.TD("\n                ",f.INPUT({id:function(){return["configure-login-service-dialog-",m.mustache(n.lookup("property"))]},type:"text"}),"\n              "),"\n            "),"\n          "]})),"\n        "),"\n      "),"\n      ",f.P({class:"new-section"},"\n        Choose the login style:\n      "),"\n      ",f.P("\n        ",f.CharRef({html:"&emsp;",str:" "}),f.INPUT({id:"configure-login-service-dialog-popupBasedLogin",type:"radio",checked:"checked",name:"loginStyle",value:"popup"}),"\n        ",f.LABEL({for:"configure-login-service-dialog-popupBasedLogin"},"Popup-based login (recommended for most applications)"),"\n\n        ",f.BR(),f.CharRef({html:"&emsp;",str:" "}),f.INPUT({id:"configure-login-service-dialog-redirectBasedLogin",type:"radio",name:"loginStyle",value:"redirect"}),"\n        ",f.LABEL({for:"configure-login-service-dialog-redirectBasedLogin"},"\n          Redirect-based login (special cases explained\n          ",f.A({href:"https://github.com/meteor/meteor/wiki/OAuth-for-mobile-Meteor-clients#popup-versus-redirect-flow",target:"_blank"},"here"),")\n        "),"\n      "),"\n      ",f.DIV({class:"new-section"},"\n        ",f.DIV({class:"login-button configure-login-service-dismiss-button"},"\n          I'll do this later\n        "),"\n        ",f.A({class:"accounts-close configure-login-service-dismiss-button"},f.CharRef({html:"&times;",str:"×"})),"\n\n        ",f.DIV({class:function(){return["login-button login-button-configure ",g.If((function(){return m.call(n.lookup("saveDisabled"))}),(function(){return"login-button-disabled"}))]},id:"configure-login-service-dialog-save-configuration"},"\n          Save Configuration\n        "),"\n      "),"\n    "),"\n  "]}))})),r.__checkName("_loginButtonsMessagesDialog"),r._loginButtonsMessagesDialog=new r("Template._loginButtonsMessagesDialog",(function(){var n=this;return g.If((function(){return m.call(n.lookup("visible"))}),(function(){return["\n    ",f.DIV({class:"accounts-dialog accounts-centered-dialog",id:"login-buttons-message-dialog"},"\n      ",m.include(n.lookupTemplate("_loginButtonsMessages")),"\n      ",f.DIV({class:"login-button",id:"messages-dialog-dismiss-button"},"Dismiss"),"\n    "),"\n  "]}))})),r.__checkName("_configureLoginOnDesktopDialog"),r._configureLoginOnDesktopDialog=new r("Template._configureLoginOnDesktopDialog",(function(){var n=this;return g.If((function(){return m.call(n.lookup("visible"))}),(function(){return["\n    ",f.DIV({class:"accounts-dialog accounts-centered-dialog",id:"configure-on-desktop-dialog"},"\n      ",f.P("\n        Please configure login on a desktop browser.\n      "),"\n      ",f.DIV({class:"login-button",id:"configure-on-desktop-dismiss-button"},"Dismiss"),"\n    "),"\n  "]}))}))},"login_buttons_session.js":function e(){const o=["dropdownVisible","inSignupFlow","inForgotPasswordFlow","inChangePasswordFlow","inMessageOnlyFlow","errorMessage","infoMessage","resetPasswordToken","enrollAccountToken","justVerifiedEmail","justResetPassword","configureLoginServiceDialogVisible","configureLoginServiceDialogServiceName","configureLoginServiceDialogSaveDisabled","configureOnDesktopVisible"],t=n=>{if(!o.includes(n))throw new Error("Invalid key in loginButtonsSession: ".concat(n))},s="Meteor.loginButtons.",i=(n,e)=>{if(t(n),["errorMessage","infoMessage"].includes(n))throw new Error("Don't set errorMessage or infoMessage directly. Instead, use errorMessage() or infoMessage().");r(n,e)},r=(n,e)=>a.set(s+n,e),u=n=>(t(n),a.get(s+n)),c=()=>{i("inSignupFlow",!1),i("inForgotPasswordFlow",!1),i("inChangePasswordFlow",!1),i("inMessageOnlyFlow",!1),i("dropdownVisible",!1),f()},g=n=>{r("errorMessage",null),r("infoMessage",n),m()},d=n=>{r("errorMessage",n),r("infoMessage",null),m()},p=()=>u("resetPasswordToken")||u("enrollAccountToken")||u("justVerifiedEmail"),m=()=>{p()||i("dropdownVisible",!0)},f=()=>{r("errorMessage",null),r("infoMessage",null)},w=e=>{n.isCordova?i("configureOnDesktopVisible",!0):(i("configureLoginServiceDialogVisible",!0),i("configureLoginServiceDialogServiceName",e),i("configureLoginServiceDialogSaveDisabled",!0))};l._loginButtonsSession={set:i,_set:r,get:u,closeDropdown:c,infoMessage:g,errorMessage:d,isMessageDialogVisible:p,ensureMessageVisible:m,resetMessages:f,configureService:w}},"login_buttons.js":function e(o,t,e){let s;e.export({displayName:()=>a,getLoginServices:()=>u,hasPasswordService:()=>c,dropdown:()=>g,validateUsername:()=>d,validateEmail:()=>p,validatePassword:()=>m}),e.link("./accounts_ui.js",{passwordSignupFields(n){s=n}},0);const i=l._loginButtonsSession;r.loginButtons.events({"click #login-buttons-logout":()=>n.logout(()=>i.closeDropdown())}),r.registerHelper("loginButtons",()=>{throw new Error("Use {{> loginButtons}} instead of {{loginButtons}}")});const a=()=>{const e=n.user();return e?e.profile&&e.profile.name?e.profile.name:e.username?e.username:e.emails&&e.emails[0]&&e.emails[0].address?e.emails[0].address:"":""},u=()=>{const n=Package["accounts-oauth"]?l.oauth.serviceNames():[];return n.sort(),c()&&n.push("password"),n.map(n=>({name:n}))},c=()=>!!Package["accounts-password"],g=()=>c()||u().length>1,d=n=>n.length>=3||(i.errorMessage("Username must be at least 3 characters long"),!1),p=n=>"USERNAME_AND_OPTIONAL_EMAIL"===s()&&""===n||(!!n.includes("@")||(i.errorMessage("Invalid email"),!1)),m=n=>n.length>=6||(i.errorMessage("Password must be at least 6 characters long"),!1);r._loginButtonsLoggedOut.helpers({dropdown:g,services:u,singleService:()=>{const n=u();if(1!==n.length)throw new Error("Shouldn't be rendering this template with more than one configured service");return n[0]},configurationLoaded:()=>l.loginServicesConfigured()}),r._loginButtonsLoggedIn.helpers({dropdown:g}),r._loginButtonsLoggedInSingleLogoutButton.helpers({displayName:a}),r._loginButtonsMessages.helpers({errorMessage:()=>i.get("errorMessage")}),r._loginButtonsMessages.helpers({infoMessage:()=>i.get("infoMessage")}),r._loginButtonsLoggingInPadding.helpers({dropdown:g})},"login_buttons_single.js":function e(o,t,e){let s;e.link("./login_buttons.js",{getLoginServices(n){s=n}},0);const a=l._loginButtonsSession,u=(n,e)=>{e?e instanceof l.LoginCancelledError||(e instanceof i.ConfigError?r._configureLoginServiceDialog.templateForService(n)?a.configureService(n):a.errorMessage("No configuration for ".concat(c(n),".\n")+"Use `ServiceConfiguration` to configure it or "+"install the `".concat(n,"-config-ui` package.")):a.errorMessage(e.reason||"Unknown error")):a.closeDropdown()};l.onPageLoadLogin(n=>{s().map(n=>n.name).includes(n.type)&&u(n.type,n.error)}),r._loginButtonsLoggedOutSingleLoginButton.events({"click .login-button":function(){const e=this.name;a.resetMessages();const o=n["loginWith".concat("meteor-developer"===e?"MeteorDeveloperAccount":c(e))],t={};l.ui._options.requestPermissions[e]&&(t.requestPermissions=l.ui._options.requestPermissions[e]),l.ui._options.requestOfflineToken[e]&&(t.requestOfflineToken=l.ui._options.requestOfflineToken[e]),l.ui._options.forceApprovalPrompt[e]&&(t.forceApprovalPrompt=l.ui._options.forceApprovalPrompt[e]),o(t,n=>{u(e,n)})}}),r._loginButtonsLoggedOutSingleLoginButton.helpers({cannotConfigure:function(){return!i.configurations.findOne({service:this.name})&&!r._configureLoginServiceDialog.templateForService(this.name)},configured:function(){return!!i.configurations.findOne({service:this.name})},capitalizedName:function(){return"github"===this.name?"GitHub":"meteor-developer"===this.name?"Meteor":c(this.name)}});const c=n=>(w=null==n?"":String(n)).charAt(0).toUpperCase()+w.slice(1)},"login_buttons_dropdown.js":function e(o,s,e){let i,a,u,c,g,d,p;e.link("./accounts_ui.js",{passwordSignupFields(n){i=n}},0),e.link("./login_buttons.js",{displayName(n){a=n},getLoginServices(n){u=n},hasPasswordService(n){c=n},validateUsername(n){g=n},validateEmail(n){d=n},validatePassword(n){p=n}},1);const m=l._loginButtonsSession,f=n=>{const e=document.getElementById(n);return e?e.value:null},w=n=>{const e=document.getElementById(n);return e?e.value.replace(/^\s*|\s*$/g,""):null},_=()=>{m.get("inSignupFlow")?v():k()},k=()=>{m.resetMessages();const e=w("login-username"),o=w("login-email"),t=w("login-username-or-email"),s=f("login-password");let i;if(null!==e){if(!g(e))return;i={username:e}}else if(null!==o){if(!d(o))return;i={email:o}}else{if(null===t)throw new Error("Unexpected -- no element to use as a login user selector");if(!g(t))return;i=t}n.loginWithPassword(i,s,(n,e)=>{n?m.errorMessage(n.reason||"Unknown error"):m.closeDropdown()})},v=()=>{m.resetMessages();const n={},e=w("login-username");if(null!==e){if(!g(e))return;n.username=e}const o=w("login-email");if(null!==o){if(!d(o))return;n.email=o}const t=f("login-password");p(t)&&(n.password=t,L()&&l.createUser(n,n=>{n?m.errorMessage(n.reason||"Unknown error"):m.closeDropdown()}))},b=()=>{m.resetMessages();const n=w("forgot-password-email");n.includes("@")?l.forgotPassword({email:n},n=>{n?m.errorMessage(n.reason||"Unknown error"):m.infoMessage("Email sent")}):m.errorMessage("Invalid email")},h=()=>{m.resetMessages();const n=f("login-old-password"),e=f("login-password");p(e)&&L()&&l.changePassword(n,e,n=>{n?m.errorMessage(n.reason||"Unknown error"):(m.set("inChangePasswordFlow",!1),m.set("inMessageOnlyFlow",!0),m.infoMessage("Password changed"))})},L=()=>{const n=f("login-password-again");if(null!==n){const e=f("login-password");if(e!==n)return m.errorMessage("Passwords don't match"),!1}return!0},I=n=>{const e=i();return Array.isArray(n)?e.reduce((e,o)=>e&&n.includes(o),!0):e.includes(n)};r.loginButtons.events({"click #login-name-link, click #login-sign-in-link":()=>m.set("dropdownVisible",!0),"click .login-close-text":m.closeDropdown}),r._loginButtonsLoggedInDropdown.events({"click #login-buttons-open-change-password":()=>{m.resetMessages(),m.set("inChangePasswordFlow",!0)}}),r._loginButtonsLoggedInDropdown.helpers({displayName:a,inChangePasswordFlow:()=>m.get("inChangePasswordFlow"),inMessageOnlyFlow:()=>m.get("inMessageOnlyFlow"),dropdownVisible:()=>m.get("dropdownVisible")}),r._loginButtonsLoggedInDropdownActions.helpers({allowChangingPassword:()=>{const e=n.user();return e.username||e.emails&&e.emails[0]&&e.emails[0].address}}),r._loginButtonsLoggedOutDropdown.events({"click #login-buttons-password":n=>{n.preventDefault(),_()},"keypress #forgot-password-email":n=>{13===n.keyCode&&b()},"click #login-buttons-forgot-password":b,"click #signup-link":()=>{m.resetMessages();const n=w("login-username"),e=w("login-email"),o=w("login-username-or-email"),s=f("login-password");m.set("inSignupFlow",!0),m.set("inForgotPasswordFlow",!1),t.flush(),null!==n?document.getElementById("login-username").value=n:null!==e?document.getElementById("login-email").value=e:null!==o&&(o.includes("@")?document.getElementById("login-email").value=o:document.getElementById("login-username").value=o),null!==s&&(document.getElementById("login-password").value=s);const i=document.getElementById("login-dropdown-list");i.style.display="none",i.offsetHeight,i.style.display="block"},"click #forgot-password-link":()=>{m.resetMessages();const n=w("login-email"),e=w("login-username-or-email");m.set("inSignupFlow",!1),m.set("inForgotPasswordFlow",!0),t.flush(),null!==n?document.getElementById("forgot-password-email").value=n:null!==e&&e.includes("@")&&(document.getElementById("forgot-password-email").value=e)},"click #back-to-login-link":()=>{m.resetMessages();const n=w("login-username"),e=w("login-email")||w("forgot-password-email"),o=f("login-password");m.set("inSignupFlow",!1),m.set("inForgotPasswordFlow",!1),t.flush(),document.getElementById("login-username")&&null!==n&&(document.getElementById("login-username").value=n),document.getElementById("login-email")&&null!==e&&(document.getElementById("login-email").value=e);const s=document.getElementById("login-username-or-email");s&&(null!==e&&(s.value=e),null!==n&&(s.value=n)),null!==o&&(document.getElementById("login-password").value=o)},"keypress #login-username, keypress #login-email, keypress #login-username-or-email, keypress #login-password, keypress #login-password-again":n=>{13===n.keyCode&&_()}}),r._loginButtonsLoggedOutDropdown.helpers({additionalClasses:()=>!!c()&&(m.get("inSignupFlow")?"login-form-create-account":m.get("inForgotPasswordFlow")?"login-form-forgot-password":"login-form-sign-in"),dropdownVisible:()=>m.get("dropdownVisible"),hasPasswordService:c}),r._loginButtonsLoggedOutAllServices.helpers({services:u,isPasswordService:function(){return"password"===this.name},hasOtherServices:()=>u().length>1,hasPasswordService:c}),r._loginButtonsLoggedOutPasswordService.helpers({fields:()=>{const n=[{fieldName:"username-or-email",fieldLabel:"Username or Email",autocomplete:"username email",visible:()=>I(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL"])},{fieldName:"username",fieldLabel:"Username",autocomplete:"username",visible:()=>I("USERNAME_ONLY")},{fieldName:"email",fieldLabel:"Email",inputType:"email",autocomplete:"email",visible:()=>I("EMAIL_ONLY")},{fieldName:"password",fieldLabel:"Password",inputType:"password",autocomplete:"current-password",visible:()=>!0}],e=[{fieldName:"username",fieldLabel:"Username",autocomplete:"username",visible:()=>I(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"])},{fieldName:"email",fieldLabel:"Email",inputType:"email",autocomplete:"email",visible:()=>I(["USERNAME_AND_EMAIL","EMAIL_ONLY"])},{fieldName:"email",fieldLabel:"Email (optional)",inputType:"email",autocomplete:"email",visible:()=>I("USERNAME_AND_OPTIONAL_EMAIL")},{fieldName:"password",fieldLabel:"Password",inputType:"password",autocomplete:"new-password",visible:()=>!0},{fieldName:"password-again",fieldLabel:"Password (again)",inputType:"password",autocomplete:"new-password",visible:()=>I(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"])}];return m.get("inSignupFlow")?e:n},inForgotPasswordFlow:()=>m.get("inForgotPasswordFlow"),inLoginFlow:()=>!m.get("inSignupFlow")&&!m.get("inForgotPasswordFlow"),inSignupFlow:()=>m.get("inSignupFlow"),showCreateAccountLink:()=>!l._options.forbidClientAccountCreation,showForgotPasswordLink:()=>I(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","EMAIL_ONLY"])}),r._loginButtonsFormField.helpers({inputType:function(){return this.inputType||"text"}}),r._loginButtonsChangePassword.events({"keypress #login-old-password, keypress #login-password, keypress #login-password-again":n=>{13===n.keyCode&&h()},"click #login-buttons-do-change-password":h}),r._loginButtonsChangePassword.helpers({fields:()=>{const{username:e,emails:o}=n.user();let t;return o&&(t=o[0].address),[{fieldName:"username",fieldLabel:"Username",autocomplete:"username",fieldStyle:"display: none;",fieldValue:e,visible:()=>I(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"])},{fieldName:"email",fieldLabel:"Email",inputType:"email",autocomplete:"email",fieldStyle:"display: none;",fieldValue:t,visible:()=>I(["USERNAME_AND_EMAIL","EMAIL_ONLY"])},{fieldName:"old-password",fieldLabel:"Current Password",inputType:"password",autocomplete:"current-password",visible:()=>!0},{fieldName:"password",fieldLabel:"New Password",inputType:"password",autocomplete:"new-password",visible:()=>!0},{fieldName:"password-again",fieldLabel:"New Password (again)",inputType:"password",autocomplete:"new-password",visible:()=>I(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"])}]}})},"login_buttons_dialogs.js":function e(o,t,e){let s,i,a;e.link("./login_buttons.js",{displayName(n){s=n},dropdown(n){i=n},validatePassword(n){a=n}},0);const u=l._loginButtonsSession;let c;l.onResetPasswordLink((n,e)=>{u.set("resetPasswordToken",n),c=e}),l.onEnrollmentLink((n,e)=>{u.set("enrollAccountToken",n),c=e}),l.onEmailVerificationLink((n,e)=>{l.verifyEmail(n,n=>{n||u.set("justVerifiedEmail",!0),e()})}),r._resetPasswordDialog.events({"click #login-buttons-reset-password-button":()=>g(),"keypress #reset-password-new-password":n=>{13===n.keyCode&&g()},"click #login-buttons-cancel-reset-password":()=>{u.set("resetPasswordToken",null),c&&c()}});const g=()=>{u.resetMessages();const n=document.getElementById("reset-password-new-password").value;a(n)&&l.resetPassword(u.get("resetPasswordToken"),n,n=>{n?u.errorMessage(n.reason||"Unknown error"):(u.set("resetPasswordToken",null),u.set("justResetPassword",!0),c&&c())})};r._resetPasswordDialog.helpers({displayName:s,inResetPasswordFlow:()=>u.get("resetPasswordToken")}),r._justResetPasswordDialog.events({"click #just-verified-dismiss-button":()=>u.set("justResetPassword",!1)}),r._justResetPasswordDialog.helpers({visible:()=>u.get("justResetPassword"),displayName:s});const d=()=>{u.resetMessages();const n=document.getElementById("enroll-account-password").value;a(n)&&l.resetPassword(u.get("enrollAccountToken"),n,n=>{n?u.errorMessage(n.reason||"Unknown error"):(u.set("enrollAccountToken",null),c&&c())})};r._enrollAccountDialog.events({"click #login-buttons-enroll-account-button":d,"keypress #enroll-account-password":n=>{13===n.keyCode&&d()},"click #login-buttons-cancel-enroll-account":()=>{u.set("enrollAccountToken",null),c&&c()}}),r._enrollAccountDialog.helpers({displayName:s,inEnrollAccountFlow:()=>u.get("enrollAccountToken")}),r._justVerifiedEmailDialog.events({"click #just-verified-dismiss-button":()=>u.set("justVerifiedEmail",!1)}),r._justVerifiedEmailDialog.helpers({visible:()=>u.get("justVerifiedEmail"),displayName:s}),r._loginButtonsMessagesDialog.events({"click #messages-dialog-dismiss-button":()=>u.resetMessages()}),r._loginButtonsMessagesDialog.helpers({visible:()=>{const n=u.get("infoMessage")||u.get("errorMessage");return!i()&&n}}),r._configureLoginServiceDialog.events({"click .configure-login-service-dismiss-button":()=>u.set("configureLoginServiceDialogVisible",!1),"click #configure-login-service-dialog-save-configuration":()=>{if(u.get("configureLoginServiceDialogVisible")&&!u.get("configureLoginServiceDialogSaveDisabled")){const e=u.get("configureLoginServiceDialogServiceName"),o={service:e};m().forEach(n=>{o[n.property]=document.getElementById("configure-login-service-dialog-".concat(n.property)).value.replace(/^\s*|\s*$/g,"")});const t=[].slice.call(document.getElementById("configure-login-service-dialog").getElementsByTagName("input"));o.loginStyle=document.querySelector('#configure-login-service-dialog input[name="loginStyle"]:checked').value,l.connection.call("configureLoginService",o,(o,t)=>{o?n._debug("Error configuring login service ".concat(e),o):u.set("configureLoginServiceDialogVisible",!1)})}},"input, keyup input":n=>{0===n.target.id.indexOf("configure-login-service-dialog")&&p()}});const p=()=>{const n=m().reduce((n,e)=>n||""===document.getElementById("configure-login-service-dialog-".concat(e.property)).value,!1);u.set("configureLoginServiceDialogSaveDisabled",n)};r._configureLoginServiceDialog.templateForService=n=>(n=n||u.get("configureLoginServiceDialogServiceName"),r["configureLoginServiceDialogFor".concat("meteor-developer"===n?"MeteorDeveloper":f(n))]);const m=()=>{const n=r._configureLoginServiceDialog.templateForService();return n.fields()};r._configureLoginServiceDialog.helpers({configurationFields:m,visible:()=>u.get("configureLoginServiceDialogVisible"),configurationSteps:()=>r._configureLoginServiceDialog.templateForService(),saveDisabled:()=>u.get("configureLoginServiceDialogSaveDisabled")});const f=n=>(n=null==n?"":String(n)).charAt(0).toUpperCase()+n.slice(1);r._configureLoginOnDesktopDialog.helpers({visible:()=>u.get("configureOnDesktopVisible")}),r._configureLoginOnDesktopDialog.events({"click #configure-on-desktop-dismiss-button":()=>u.set("configureOnDesktopVisible",!1)})}}}}},{extensions:[".js",".json",".html",".less"]});_("/node_modules/meteor/accounts-ui-unstyled/accounts_ui.js"),_("/node_modules/meteor/accounts-ui-unstyled/template.login_buttons.js"),_("/node_modules/meteor/accounts-ui-unstyled/template.login_buttons_single.js"),_("/node_modules/meteor/accounts-ui-unstyled/template.login_buttons_dropdown.js"),_("/node_modules/meteor/accounts-ui-unstyled/template.login_buttons_dialogs.js"),_("/node_modules/meteor/accounts-ui-unstyled/login_buttons_session.js"),_("/node_modules/meteor/accounts-ui-unstyled/login_buttons.js"),_("/node_modules/meteor/accounts-ui-unstyled/login_buttons_single.js"),_("/node_modules/meteor/accounts-ui-unstyled/login_buttons_dropdown.js"),_("/node_modules/meteor/accounts-ui-unstyled/login_buttons_dialogs.js"),Package._define("accounts-ui-unstyled")}();

Package._define("accounts-ui");

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,t=Package.meteor.meteorEnv,n=Package["accounts-base"].Accounts,i=Package["google-oauth"].Google,a=Package.modules.meteorInstall,r=Package.promise.Promise,l=a({node_modules:{meteor:{"accounts-google":{"notice.js":function e(){!Package["accounts-ui"]||Package["service-configuration"]||Object.prototype.hasOwnProperty.call(Package,"google-config-ui")||console.warn("Note: You're using accounts-ui and accounts-google,\nbut didn't install the configuration UI for the Google\nOAuth. You can install it with:\n\n    meteor add google-config-ui\n")},"google.js":function o(t,a,o){let r;if(o.link("@babel/runtime/helpers/objectSpread2",{default(e){r=e}},0),n.oauth.registerService("google"),e.isClient){const o=(o,t)=>{if(t||"function"!=typeof o||(t=o,o=null),e.isCordova&&i.signIn)return void i.signIn(o,t);"string"==typeof n._options.restrictCreationByEmailDomain&&((o=r({},o)).loginUrlParameters=r({},o.loginUrlParameters),o.loginUrlParameters.hd=n._options.restrictCreationByEmailDomain);const a=n.oauth.credentialRequestCompleteHandler(t);i.requestCredential(o,a)};n.registerClientLoginFunction("google",o),e.loginWithGoogle=function(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return n.applyLoginFunction("google",o)}}else n.addAutopublishFields({forLoggedInUser:i.whitelistedFields.concat(["accessToken","expiresAt"]).map(e=>"services.google.".concat(e)),forOtherUsers:i.whitelistedFields.filter(e=>"email"!==e&&"verified_email"!==e).map(e=>"services.google.".concat(e))})}}}}},{extensions:[".js",".json"]});l("/node_modules/meteor/accounts-google/notice.js"),l("/node_modules/meteor/accounts-google/google.js"),Package._define("accounts-google")}();

Package._define("oauth1");

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,r=Package.oauth.OAuth,o=Package.oauth.Oauth,n=Package.random.Random,i=Package["service-configuration"].ServiceConfiguration,c;(function(){(c={}).validParamsAuthenticate=["force_login","screen_name"]}).call(this),function(){c.requestCredential=function(t,a){a||"function"!=typeof t||(a=t,t={});var o=i.configurations.findOne({service:"twitter"});if(o){var l=n.secret(),u=r._loginStyle("twitter",o,t),g="_oauth/twitter/?requestTokenAndRedirect=true&state="+r._stateParam(u,l,t&&t.redirectUrl);if(e.isCordova&&(g+="&cordova=true",/Android/i.test(navigator.userAgent)&&(g+="&android=true")),t){var s=Object.prototype.hasOwnProperty;c.validParamsAuthenticate.forEach((function(e){s.call(t,e)&&(g+="&"+e+"="+encodeURIComponent(t[e]))}))}var d=e.absoluteUrl(g);r.launchLogin({loginService:"twitter",loginStyle:u,loginUrl:d,credentialRequestCompleteCallback:a,credentialToken:l})}else a&&a(new i.ConfigError)}}.call(this),Package._define("twitter-oauth",{Twitter:c})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,o=Package["accounts-base"].Accounts,i=Package["twitter-oauth"].Twitter,r=Package.http.HTTP,a=Package.modules.meteorInstall,c=Package.promise.Promise,s=a({node_modules:{meteor:{"accounts-twitter":{"notice.js":function t(){!Package["accounts-ui"]||Package["service-configuration"]||Object.prototype.hasOwnProperty.call(Package,"twitter-config-ui")||console.warn("Note: You're using accounts-ui and accounts-twitter,\nbut didn't install the configuration UI for Twitter\nOAuth. You can install it with:\n\n    meteor add twitter-config-ui\n")},"twitter.js":function e(){if(o.oauth.registerService("twitter"),t.isClient){const e=(t,e)=>{e||"function"!=typeof t||(e=t,t=null);const n=o.oauth.credentialRequestCompleteHandler(e);i.requestCredential(t,n)};o.registerClientLoginFunction("twitter",e),t.loginWithTwitter=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.applyLoginFunction("twitter",e)}}else{const t=i.whitelistedFields.concat(["id","screenName"]).map(t=>"services.twitter.".concat(t));o.addAutopublishFields({forLoggedInUser:t,forOtherUsers:t})}}}}}},{extensions:[".js",".json"]});s("/node_modules/meteor/accounts-twitter/notice.js"),s("/node_modules/meteor/accounts-twitter/twitter.js"),Package._define("accounts-twitter")}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,o;(function(){}).call(this),Package._define("meteorhacks:picker",{Picker:void 0})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,t=Package.meteor.meteorEnv,s=Package.modules.meteorInstall,r=Package.promise.Promise,a,n,c=s({node_modules:{meteor:{webapp:{"webapp_client.js":function e(o,t,e){e.export({WebApp:()=>s});const s={_isCssLoaded:()=>0===document.styleSheets.length||Array.prototype.find.call(document.styleSheets,e=>e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!Array.prototype.find.call(e.cssRules,e=>".meteor-css-not-found-error"===e.selectorText))}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/webapp/webapp_client.js");Package._define("webapp",c,{WebApp:void 0})}();

!function(){var a=Package["ddp-client"].DDP,e;Package._define("livedata",{DDP:a,LivedataTest:void 0})}();

Package._define("hot-code-push");

!function(){var a=Package.blaze.Blaze,e=Package.blaze.UI,l=Package.blaze.Handlebars;Package._define("ui",{Blaze:a,UI:e,Handlebars:l})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.tracker.Tracker,s=Package.tracker.Deps,o=Package.retry.Retry,a=Package["ddp-client"].DDP,i=Package.modules.meteorInstall,l=Package.promise.Promise,c,u,d=i({node_modules:{meteor:{autoupdate:{"autoupdate_client.js":function t(n,r,t){let s;t.export({Autoupdate:()=>c}),t.link("./client_versions.js",{ClientVersions(e){s=e}},0);const a=e.isCordova?"web.cordova":e.isModern?"web.browser":"web.browser.legacy",i=((__meteor_runtime_config__.autoupdate||{}).versions||{})[a]||{version:"unknown",versionRefreshable:"unknown",versionNonRefreshable:"unknown",assets:[]},c={},u=c._clientVersions=new s;e.connection.registerStore("meteor_autoupdate_clientVersions",u.createStore()),c.newClientAvailable=function(){return u.newClientAvailable(a,["versionRefreshable","versionNonRefreshable"],i)};let d=!1;const h=new o({minCount:0,baseTimeout:3e4});let _=0;c._retrySubscription=()=>{e.subscribe("meteor_autoupdate_clientVersions",{onError(t){e._debug("autoupdate subscription failed",t),_++,h.retryLater(_,(function(){c._retrySubscription()}))},onReady(){const t=l.resolve();function n(e){t.then(()=>s(e))}const r=u.watch(n);function s(t){if(t._id===a){if(t.versionNonRefreshable!==i.versionNonRefreshable)return r&&r(),void(Package.reload&&Package.reload.Reload._reload());if(t.versionRefreshable!==i.versionRefreshable){i.versionRefreshable=t.versionRefreshable;var n=t.assets||[],s=[];function o(t,n){var r;if(t.onload=function(){d=!0,r||(r=!0,n())},!d)var s=e.setInterval((function(){t.sheet&&(r||(r=!0,n()),e.clearInterval(s))}),50)}Array.prototype.forEach.call(document.getElementsByTagName("link"),(function(e){"__meteor-css__"===e.className&&s.push(e)}));let r=n.length;function l(){s.length>0&&--r<1&&s.splice(0).forEach(e=>{e.parentNode.removeChild(e)})}n.length>0?n.forEach(t=>{const n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("class","__meteor-css__"),n.setAttribute("href",t.url),o(n,(function(){e.setTimeout(l,200)}));const r=document.getElementsByTagName("head").item(0);r.appendChild(n)}):l()}}}}})},c._retrySubscription()},"client_versions.js":function e(t,n,e){let r,s;e.link("@babel/runtime/helpers/objectSpread2",{default(e){r=e}},0),e.export({ClientVersions:()=>o}),e.link("meteor/tracker",{Tracker(e){s=e}},0);class o{constructor(){this._versions=new Map,this._watchCallbacks=new Set}createStore(){return{update:e=>{let{id:t,msg:n,fields:r}=e;"added"!==n&&"changed"!==n||this.set(t,r)}}}hasVersions(){return this._versions.size>0}get(e){return this._versions.get(e)}set(e,t){let n=this._versions.get(e),s=!1;n?Object.assign(n,t):(n=r({_id:e},t),s=!0,this._versions.set(e,n)),this._watchCallbacks.forEach(e=>{let{fn:t,filter:r}=e;r&&r!==n._id||t(n,s)})}watch(e){let{skipInitial:t,filter:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t){const t=l.resolve();this._versions.forEach(r=>{n&&n!==r._id||t.then(()=>e(r,!0))})}const r={fn:e,filter:n};return this._watchCallbacks.add(r),()=>this._watchCallbacks.delete(r)}newClientAvailable(e,t,n){function r(r){return r._id===e&&t.some(e=>r[e]!==n[e])}const o=new s.Dependency,a=this.get(e);o.depend();const i=this.watch(e=>{r(e)&&(o.changed(),i())},{skipInitial:!0});return!!a&&r(a)}}}}}}},{extensions:[".js",".json"]})("/node_modules/meteor/autoupdate/autoupdate_client.js");Package._define("autoupdate",d,{Autoupdate:void 0})}();

ReactiveVar=Package["reactive-var"].ReactiveVar,Tracker=Package.tracker.Tracker,Deps=Package.tracker.Deps,Session=Package.session.Session,GAnalytics=Package["datariot:ganalytics"].GAnalytics,SimpleRouter=Package["danimal:simplerouter"].SimpleRouter,chai=Package["practicalmeteor:chai"].chai,assert=Package["practicalmeteor:chai"].assert,expect=Package["practicalmeteor:chai"].expect,should=Package["practicalmeteor:chai"].should,HTTP=Package.http.HTTP,Picker=Package["meteorhacks:picker"].Picker,_=Package.underscore._,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Meteor=Package.meteor.Meteor,global=Package.meteor.global,meteorEnv=Package.meteor.meteorEnv,WebApp=Package.webapp.WebApp,DDP=Package["ddp-client"].DDP,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Spacebars=Package.spacebars.Spacebars,Template=Package["templating-runtime"].Template,meteorInstall=Package.modules.meteorInstall,Promise=Package.promise.Promise,Accounts=Package["accounts-base"].Accounts,Google=Package["google-oauth"].Google,Twitter=Package["twitter-oauth"].Twitter,Autoupdate=Package.autoupdate.Autoupdate,Reload=Package.reload.Reload,HTML=Package.htmljs.HTML;

var require=meteorInstall({client:{capStatsChart:{"template.capStatsChart.js":function e(){Template.__checkName("capStatsChart"),Template.capStatsChart=new Template("Template.capStatsChart",(function(){var e=this;return[HTML.Raw("Satellite Captures Over Time<br><br>\n  "),HTML.SVG({id:"capStatsChart",width:"300",height:"200"})]}))},"capStatsChart.js":function e(){var t=300,s=200;Template.capStatsChart.onRendered((function(){a(),i()}));var i=function(){game.capStats.sort((function(e,t){return e.time-t.time}));var e=0,t=0;game.capStats.forEach((function(s){t=Math.max(t,Math.max(s.numGreen,s.numRed)),e=Math.max(e,s.time)}));var s=200/t,i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("id","redPath"),i.setAttribute("stroke-width","3"),i.setAttribute("stroke-linejoin","round");var n=0,a=200,o="M "+n+" "+a,r=0;game.capStats.forEach((function(t){t.numRed!=r&&(o+=" H "+300/e*t.time,t.numRed>r?o+=" v "+-1*s:o+=" v "+s,r=t.numRed)})),i.setAttribute("d",o),document.getElementById("capStatsChart").appendChild(i),(i=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("id","greenPath"),i.setAttribute("stroke-width","3"),i.setAttribute("stroke-linejoin","round"),o="M "+(n=0)+" "+(a=200),r=0,game.capStats.forEach((function(t){t.numGreen!=r&&(o+=" H "+300/e*t.time,t.numGreen>r?o+=" v "+-1*s:o+=" v "+s,r=t.numGreen)})),i.setAttribute("d",o),document.getElementById("capStatsChart").appendChild(i)},n=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("x",10),e.setAttribute("y",20),e.setAttribute("font-family","Audiowide"),e.setAttribute("font-size",14),e.setAttribute("id","redTeamLabel"),e.setAttribute("stroke-width",2),e.textContent="Red Team",document.getElementById("capStatsChart").appendChild(e);var t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("x",10),t.setAttribute("y",190),t.setAttribute("font-family","Audiowide"),t.setAttribute("font-size",14),t.setAttribute("id","greenTeamLabel"),t.setAttribute("stroke-width",2),t.textContent="Green Team",document.getElementById("capStatsChart").appendChild(t)},a=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("id","borderLine"),e.setAttribute("stroke-width","2");var t="M 0 0";t+=" L 300 0",t+=" L 300 200",t+=" L 0 200",t+=" Z",e.setAttribute("d",t),document.getElementById("capStatsChart").appendChild(e)};drawMidLine=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("id","midLine"),e.setAttribute("stroke-width","2"),e.setAttribute("x1","0"),e.setAttribute("y1",100),e.setAttribute("x2",300),e.setAttribute("y2",100),document.getElementById("capStatsChart").appendChild(e)};var o=function(){game.capStats.sort((function(e,t){return e.time-t.time}));var e=0,t=0,s=0;game.capStats.forEach((function(i){"RED"==i.team?s++:s--,t=Math.max(t,s),t=Math.max(t,-1*s),e=Math.max(e,i.time)}));var i=200/(2*t),n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("id","capStatsLine"),n.setAttribute("stroke-width","3"),n.setAttribute("stroke-linejoin","round");var a=0,o,r="M 0 "+100;game.capStats.forEach((function(t){r+=" H "+300/e*t.time,"RED"==t.team?r+=" v "+-1*i:r+=" v "+i})),n.setAttribute("d",r),document.getElementById("capStatsChart").appendChild(n)}}},howToSats:{"template.howToSats.js":function e(){Template.__checkName("howToSats"),Template.howToSats=new Template("Template.howToSats",(function(){var e=this;return HTML.Raw('<div id="howToSats" style="display:none;">\n    <div id="menuContent">\n      <div id="menuTitle">How to Capture Satellites</div>\n\n      <button id="closeHelpButton" class="btnInGame">Close</button>\n      <br><br>\n\n      <span class="imgContainer">\n        <img src="/destroy.gif">\n        <span class="imgHelp" id="helpDestroy">Dodge lasers while attacking.</span>\n      </span>\n\n      <span class="imgContainer">\n        <img src="/capture.gif">\n        <span class="imgHelp" id="helpCapture">Enter circle to capture.</span>\n      </span>\n\n      <span class="imgContainer">\n        <img src="/upgrade.gif">\n        <span class="imgHelp" id="helpUpgrade">Upgrade satellite.</span>\n      </span>\n    </div>\n  </div>')}))},"howToSats.js":function e(t,s,e){let i,n;e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/sounds",{gs(e){n=e}},1),Template.howToSats.events({"click #closeHelpButton":function(e,t){e.preventDefault(),Session.set("showHowToSats",!1),n.play("buttonClick")}}),Template.howToSats.onRendered((function(){let e=this;window.addEventListener("resize",a),a()})),Template.howToSats.onDestroyed((function(){window.removeEventListener("resize",a)})),Template.howToSats.onRendered((function(){var e=document.getElementById("howToSats");e.addEventListener("transitionend",(function(t){0==e.className.length&&(e.style.display="none")}))}));var a=function(){document.getElementById("howToSats").style.height=window.innerHeight+"px"}}},player:{"template.player.js":function e(){Template.__checkName("player"),Template.player=new Template("Template.player",(function(){var e=this;return HTML.DIV({id:"pageContainer"},"\n    ",HTML.DIV({id:"player"},"\n      ",HTML.Raw('<a href="/"><button class="btnInGame">Return to Game</button></a>'),"\n      ",HTML.Raw('<a href="/players"><button class="btnInGame">Back to Highscores</button></a>'),"\n\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("user"))}),(function(){return["\n        ",HTML.H1(Blaze.View("lookup:user.username",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"username"))}))),"\n      "]}),(function(){return["\n        ",HTML.H1("User not found."),"\n      "]})),"\n\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("isCurrentUser"))}),(function(){return["\n        Change Name",HTML.BR(),"\n        ",HTML.INPUT({type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"username"))},id:"nameInput"}),"\n        ",HTML.BUTTON({id:"saveNameButton",class:"btnInGame"},"Save"),"\n        ",HTML.SPAN({id:"saveNameError"},"Error"),"\n        ",HTML.BR(),HTML.BR(),HTML.BR(),"\n        ",Blaze.If((function(){return Spacebars.call(Spacebars.dot(e.lookup("user"),"isPatron"))}),(function(){return["\n          ",HTML.H2("Choose Ship"),"\n          ",HTML.BR(),"\n\n          ",HTML.H4("Red Team"),"\n            ",Blaze.Each((function(){return Spacebars.call(e.lookup("shipsRed"))}),(function(){return["\n              ",HTML.BUTTON({class:function(){return["playerShipButton ",Spacebars.mustache(e.lookup("isShipSelected"),"RED")]},"data-team":"RED"},"\n                ",Spacebars.include(e.lookupTemplate("playerShip")),"\n              "),"\n            "]})),"\n            ",HTML.BR(),HTML.BR(),"\n\n          ",HTML.H4("Green Team"),"\n            ",Blaze.Each((function(){return Spacebars.call(e.lookup("shipsGreen"))}),(function(){return["\n              ",HTML.BUTTON({class:function(){return["playerShipButton ",Spacebars.mustache(e.lookup("isShipSelected"),"GREEN")]},"data-team":"GREEN"},"\n                ",Spacebars.include(e.lookupTemplate("playerShip")),"\n              "),"\n            "]})),"\n            ",HTML.BR(),HTML.BR(),"\n\n          ",HTML.H4("FFA"),"\n            ",Blaze.Each((function(){return Spacebars.call(e.lookup("ships"))}),(function(){return["\n              ",HTML.BUTTON({class:function(){return["playerShipButton ",Spacebars.mustache(e.lookup("isShipSelected"),"NEUTRAL")]},"data-team":"NEUTRAL"},"\n                ",Spacebars.include(e.lookupTemplate("playerShip")),"\n              "),"\n            "]})),"\n            ",HTML.BR(),HTML.BR(),"\n\n        "]}),(function(){return["\n          ",HTML.H2("Become a Patron"),"\n          ",HTML.BR(),"\n          Players who donate money through Patreon.com get rewards in Astroe.",HTML.BR(),"\n          ",HTML.BR(),"\n          ",HTML.CharRef({html:"&bull;",str:"•"})," Players can choose a different ships to play as.",HTML.BR(),"\n          ",HTML.CharRef({html:"&bull;",str:"•"})," Extra end game stats.",HTML.BR(),"\n          ",HTML.CharRef({html:"&bull;",str:"•"}),' Grants you the "Patron" role in the Discord chat channel.',HTML.BR(),"\n          ",HTML.CharRef({html:"&bull;",str:"•"})," Support future development of Astroe.",HTML.BR(),"\n          ",HTML.BR(),"\n          Donate ",HTML.A({href:"https://www.patreon.com/dan335",target:"_blank"},"here")," using the same email you signed up to Astroe with.\n          ",HTML.BR(),"\n        "]})),"\n        ",HTML.BR(),HTML.BR(),"\n      "]})),"\n\n\n      ",HTML.Raw("<h2>Stats</h2>"),"\n      ",HTML.TABLE("\n        ",HTML.TBODY("\n          ",HTML.TR("\n            ",HTML.TD("Games Won"),"\n            ",HTML.TD(Blaze.View("lookup:user.numGamesWon",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"numGamesWon"))}))),"\n          "),"\n          ",HTML.TR("\n            ",HTML.TD("Ships Destroyed"),"\n            ",HTML.TD(Blaze.View("lookup:user.stats_shipsDestroyed",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"stats_shipsDestroyed"))}))),"\n          "),"\n          ",HTML.TR("\n            ",HTML.TD("Asteroids Destroyed"),"\n            ",HTML.TD(Blaze.View("lookup:user.stats_asteroidsDestroyed",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"stats_asteroidsDestroyed"))}))),"\n          "),"\n          ",HTML.TR("\n            ",HTML.TD("Gold Collected"),"\n            ",HTML.TD(Blaze.View("lookup:user.stats_goldCollected",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"stats_goldCollected"))}))),"\n          "),"\n          ",HTML.TR("\n            ",HTML.TD("Satellites Captured"),"\n            ",HTML.TD(Blaze.View("lookup:user.stats_satellitesCaptured",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"stats_satellitesCaptured"))}))),"\n          "),"\n          ",HTML.TR("\n            ",HTML.TD("Satellites Upgraded"),"\n            ",HTML.TD(Blaze.View("lookup:user.stats_satellitesUpgraded",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"stats_satellitesUpgraded"))}))),"\n          "),"\n        "),"\n      "),"\n\n      ",HTML.Raw("<br>"),HTML.Raw("<br>"),"\n      ",HTML.Raw("<h2>Recent Games</h2>"),"\n      ",HTML.TABLE("\n        ",HTML.THEAD("\n          ",HTML.TR("\n            ",HTML.TD("Start Date"),"\n            ",HTML.TD("Game Length"),"\n            ",HTML.TD("Players"),"\n            ",HTML.TD("Winning Team"),"\n          "),"\n        "),"\n        ",HTML.TBODY("\n          ",Blaze.Each((function(){return Spacebars.call(e.lookup("games"))}),(function(){return["\n            ",Spacebars.include(e.lookupTemplate("playerGame")),"\n          "]})),"\n        "),"\n      "),"\n    "),"\n  ")})),Template.__checkName("playerGame"),Template.playerGame=new Template("Template.playerGame",(function(){var e=this;return HTML.TR("\n    ",HTML.TD(Blaze.View("lookup:created",(function(){return Spacebars.mustache(e.lookup("created"))}))),"\n    ",HTML.TD(Blaze.View("lookup:length",(function(){return Spacebars.mustache(e.lookup("length"))}))),"\n    ",HTML.TD(Blaze.View("lookup:numPlayers",(function(){return Spacebars.mustache(e.lookup("numPlayers"))}))),"\n    ",HTML.TD(Blaze.View("lookup:winningTeam",(function(){return Spacebars.mustache(e.lookup("winningTeam"))}))),"\n  ")}))},"template.playerShip.js":function e(){Template.__checkName("playerShip"),Template.playerShip=new Template("Template.playerShip",(function(){var e=this;return HTML.DIV({class:"playerShip"},"\n    ",HTML.IMG({class:"counter",src:function(){return["/images/",Spacebars.mustache(e.lookup("counter")),".png"]}}),"\n    ",HTML.IMG({class:"booster",src:function(){return["/images/",Spacebars.mustache(e.lookup("booster")),".png"]}}),"\n    ",HTML.IMG({class:"ship",src:function(){return["/images/",Spacebars.mustache(e.lookup("ship")),".png"]}}),"\n  ")}))},"player.js":function e(t,s,e){let i;e.link("/imports/both/settings",{_s(e){i=e}},0),Template.player.helpers({user:function(){return Template.instance().user.get()},isCurrentUser:function(){var e=Template.instance().user.get();if(e&&Meteor.userId()&&e._id==Meteor.userId())return!0},games:function(){return GameResults.find({},{sort:{createdAt:-1}})},shipsRed:function(){return i.ships.filter(e=>"RED"==e.team)},shipsGreen:function(){return i.ships.filter(e=>"GREEN"==e.team)},ships:function(){return i.ships},isShipSelected:function(e){var t=Template.instance().user.get();switch(e){case"RED":if(t&&t.shipGfxRed){if(t.shipGfxRed==this.ship)return"selected"}else if(this.ship==i.shipGfxDefaults.shipGfxRed)return"selected";break;case"GREEN":if(t&&t.shipGfxGreen){if(t.shipGfxGreen==this.ship)return"selected"}else if(this.ship==i.shipGfxDefaults.shipGfxGreen)return"selected";break;case"NEUTRAL":if(t&&t.shipGfxNeutral){if(t.shipGfxNeutral==this.ship)return"selected"}else if(this.ship==i.shipGfxDefaults.shipGfxNeutral)return"selected"}return""}}),Template.player.events({"click #saveNameButton":function(e,t){e.preventDefault();var s=t.find("#nameInput").value,i=t.find("#saveNameError"),n=t.find("#saveNameButton"),a=n.innerHTML;n.disabled=!0,n.innerHTML="Saving",i.style.display="none",Meteor.call("saveName",{newName:s},(function(e,t){e&&(i.style.display="inline",i.innerHTML=e.reason),n.innerHTML=a,n.disabled=!1}))},"click .playerShipButton":function(e,t){var s=e.currentTarget.dataset.team;Meteor.call("setShipGfx",s,this.ship)}}),Template.player.onCreated((function(){this.user=new ReactiveVar(null),this.autorun(()=>{var e=SimpleRouter.path.get().split("/");3==e.length&&"player"==e[1]&&this.user.set(Meteor.users.findOne(e[2]))}),this.autorun(()=>{var e=SimpleRouter.path.get().split("/");3==e.length&&"player"==e[1]&&(this.subscribe("userId",e[2]),this.subscribe("userIdGameResults",e[2]))})})),Template.player.onRendered((function(){document.body.style.overflow="auto"})),Template.playerGame.helpers({created:function(){return new Date(this.createdAt).toLocaleString("en-US")},length:function(){var e=parseInt(this.gameLength/1e3%60),t=parseInt(this.gameLength/6e4%60),s=parseInt(this.gameLength/36e5%24),i="";return s>0&&(i=s+"h "),t>0&&(i+=t+"m"),e>0&&(i+=e+"s"),i}})}},players:{"template.players.js":function e(){Template.__checkName("players"),Template.players=new Template("Template.players",(function(){var e=this;return HTML.DIV({id:"pageContainer"},"\n    ",HTML.DIV({id:"players"},"\n      ",HTML.Raw('<a href="/"><button class="btnInGame">Return to Game</button></a>'),"\n\n      ",HTML.Raw("<h1>Highscores</h1>"),"\n\n      ",HTML.TABLE("\n        ",HTML.THEAD("\n          ",HTML.TR("\n            ",HTML.TD(),"\n            ",HTML.TD("Name"),"\n            ",HTML.TD("Games Won"),"\n            ",HTML.TD("Satellites Captured"),"\n            ",HTML.TD("Ships Destroyed"),"\n          "),"\n        "),"\n        ",HTML.TBODY("\n          ",Blaze.Each((function(){return Spacebars.call(e.lookup("players"))}),(function(){return["\n            ",Blaze._TemplateWith((function(){return{index:Spacebars.call(e.lookup("@index")),user:Spacebars.call(e.lookup(".")),page:Spacebars.call(e.lookup("page"))}}),(function(){return Spacebars.include(e.lookupTemplate("playersPlayer"))})),"\n          "]})),"\n        "),"\n      "),"\n\n      ",HTML.Raw("<br>"),HTML.Raw("<br>"),"\n\n      ",HTML.Raw('<button id="prevButton" class="btnInGame">Previous</button>'),"\n      ",HTML.Raw('<button id="nextButton" class="btnInGame">Next</button>'),"\n    "),"\n  ")})),Template.__checkName("playersPlayer"),Template.playersPlayer=new Template("Template.playersPlayer",(function(){var e=this;return HTML.TR("\n    ",HTML.TD(Blaze.View("lookup:num",(function(){return Spacebars.mustache(e.lookup("num"))})),"."),"\n    ",HTML.TD(HTML.A({href:function(){return["/player/",Spacebars.mustache(Spacebars.dot(e.lookup("user"),"_id"))]}},Blaze.View("lookup:user.username",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"username"))})))),"\n    ",HTML.TD(Blaze.View("lookup:user.numGamesWon",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"numGamesWon"))}))),"\n    ",HTML.TD(Blaze.View("lookup:user.stats_satellitesCaptured",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"stats_satellitesCaptured"))}))),"\n    ",HTML.TD(Blaze.View("lookup:user.stats_shipsDestroyed",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"stats_shipsDestroyed"))}))),"\n  ")}))},"collection.js":function e(){PlayerList=new Meteor.Collection("playerList")},"players.js":function e(){var t=20;Template.players.helpers({players:function(){return PlayerList.find({},{sort:{numGamesWon:-1,stats_satellitesCaptured:-1}})},page:function(){return Template.instance().page.get()}}),Template.players.events({"click #prevButton":function(e,t){e.preventDefault(),Template.instance().page.set(Math.max(0,Template.instance().page.get("page")-1))},"click #nextButton":function(e,t){e.preventDefault(),Template.instance().page.set(Template.instance().page.get("page")+1)}}),Template.players.onCreated((function(){this.page=new ReactiveVar(0),this.autorun(()=>{this.subscribe("players",this.page.get())})})),Template.playersPlayer.helpers({num:function(){return 20*this.page+this.index+1}})}},statRecordsChart:{"template.statRecordsChart.js":function e(){Template.__checkName("statRecordsChart"),Template.statRecordsChart=new Template("Template.statRecordsChart",(function(){var e=this;return[HTML.Raw("Player Stats Over Time<br><br>\n  "),Blaze.If((function(){return Spacebars.call(e.lookup("showChart"))}),(function(){return["\n    ",HTML.SVG({id:"statRecordsChart",width:"300",height:"200"}),"\n  "]}),(function(){return["\n    ",HTML.DIV({id:"bogusStats"},"\n      ",HTML.IMG({src:"/bogusStats.jpg"}),"\n      ",HTML.DIV({id:"bogusStatsText"},"Patrons Only"),"\n    "),"\n  "]}))]}))},"statRecordsChart.js":function e(){var t=300,s=200;Template.statRecordsChart.helpers({showChart:function(){var e=Meteor.users.findOne(Meteor.userId(),{fields:{isPatron:1}});if(e&&e.isPatron)return!0}}),Template.statRecordsChart.onRendered((function(){var e=Meteor.users.findOne(Meteor.userId(),{fields:{isPatron:1}});e&&e.isPatron&&(a(),r(),u(),d(),o(),i())}));var i=function(){n(20,"satsCapturedText","Satellites Captured"),n(35,"satsUpgradedText","Satellites Upgraded"),n(50,"killsText","Kills"),n(65,"upgradesText","Upgrades")},n=function(e,t,s){var i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("x",10),i.setAttribute("y",e),i.setAttribute("font-family","Audiowide"),i.setAttribute("font-size",10),i.setAttribute("class",t),i.setAttribute("stroke-width",1),i.textContent=s,document.getElementById("statRecordsChart").appendChild(i)},a=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("id","borderLine"),e.setAttribute("stroke-width","2");var t="M 0 0";t+=" L 300 0",t+=" L 300 200",t+=" L 0 200",t+=" Z",e.setAttribute("d",t),document.getElementById("statRecordsChart").appendChild(e)},o=function(){h("p","upgradesPath")},r=function(){h("k","killsPath")},l=function(){h("a","asteroidsDestroyedPath")},u=function(){h("c","satsCapturedPath")},d=function(){h("u","satsUpgradedPath")},p=function(){h("g","goldPath")},h=function(e,t){if(game.statRecords){var s=game.statRecords.filter((function(t){return t.i==e}));if(s){s.sort((function(e,t){return e.t-t.t}));var i=0,n=0;s.forEach((function(e){n=Math.max(n,e.n),i=Math.max(i,e.t)}));var a=200/n;n||(a=0);var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("class",t),o.setAttribute("stroke-width","2"),o.setAttribute("stroke-linejoin","round");var r="M 0 200";s.forEach((function(e){r+=" L "+300/i*e.t+" "+(200-a*e.n)})),o.setAttribute("d",r),document.getElementById("statRecordsChart").appendChild(o)}}}}},stats:{"template.stats.js":function e(){Template.__checkName("stats"),Template.stats=new Template("Template.stats",(function(){var e=this;return HTML.DIV({id:"pageContainer"},"\n    ",HTML.DIV({id:"stats"},"\n      ",HTML.Raw('<a href="/"><button class="btnInGame">Return to Game</button></a>'),"\n\n      ",HTML.Raw("<h1>Astroe Game Stats</h1>"),"\n\n      ",HTML.TABLE("\n        ",HTML.THEAD("\n          ",HTML.TR("\n            ",HTML.TD("Started"),"\n            ",HTML.TD("Players"),"\n            ",HTML.TD("Length"),"\n            ",HTML.TD("Winning Team"),"\n            ",HTML.TD("Registered Players"),"\n          "),"\n        "),"\n        ",HTML.TBODY("\n          ",Blaze.Each((function(){return Spacebars.call(e.lookup("games"))}),(function(){return["\n            ",Spacebars.include(e.lookupTemplate("statsGame")),"\n          "]})),"\n        "),"\n      "),"\n    "),"\n  ")})),Template.__checkName("statsGame"),Template.statsGame=new Template("Template.statsGame",(function(){var e=this;return HTML.TR("\n    ",HTML.TD(Blaze.View("lookup:created",(function(){return Spacebars.mustache(e.lookup("created"))}))),"\n    ",HTML.TD(Blaze.View("lookup:numPlayers",(function(){return Spacebars.mustache(e.lookup("numPlayers"))}))),"\n    ",HTML.TD(Blaze.View("lookup:length",(function(){return Spacebars.mustache(e.lookup("length"))}))),"\n    ",HTML.TD(Blaze.View("lookup:winningTeam",(function(){return Spacebars.mustache(e.lookup("winningTeam"))}))),"\n    ",HTML.TD(Blaze.View("lookup:numRegisteredPlayers",(function(){return Spacebars.mustache(e.lookup("numRegisteredPlayers"))}))),"\n  ")}))},"stats.js":function e(){Template.stats.helpers({games:function(){return GameResults.find({},{sort:{createdAt:-1}})}}),Template.stats.onCreated((function(){this.subscribe("gameresults")})),Template.statsGame.helpers({numRegisteredPlayers:function(){return this.playerIds.length},created:function(){return new Date(this.createdAt).toLocaleString("en-US")},length:function(){var e=parseInt(this.gameLength/1e3%60),t=parseInt(this.gameLength/6e4%60),s=parseInt(this.gameLength/36e5%24),i="";return s>0&&(i=s+"h "),t>0&&(i+=t+"m"),e>0&&(i+=e+"s"),i}})}},"template.ad.js":function e(){Template.__checkName("ad"),Template.ad=new Template("Template.ad",(function(){var e=this;return HTML.Raw('<div id="adContainer"></div>')}))},"template.chat.js":function e(){Template.__checkName("chat"),Template.chat=new Template("Template.chat",(function(){var e=this;return HTML.DIV({id:"chat"},"\n    ",HTML.DIV({id:"chatTitle"},"\n      ",Blaze.View("lookup:title",(function(){return Spacebars.mustache(e.lookup("title"))})),"\n    "),"\n\n    ",HTML.DIV({id:"chatMessages"},"\n      ",Blaze.Each((function(){return Spacebars.call(e.lookup("messages"))}),(function(){return["\n        ",Spacebars.include(e.lookupTemplate("chatMsg")),"\n      "]})),"\n    "),"\n\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("isChatting"))}),(function(){return["\n      ",Spacebars.include(e.lookupTemplate("chatInput")),"\n    "]}),(function(){return["\n      ",HTML.DIV({id:"chatHelp"},"Press enter to chat."),"\n    "]})),"\n  ")})),Template.__checkName("chatMsg"),Template.chatMsg=new Template("Template.chatMsg",(function(){var e=this;return HTML.DIV({class:"chatMsg"},"\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("isStatusMsg"))}),(function(){return["\n      ",HTML.SPAN({class:"chatMessage statusMessage"},Blaze.View("lookup:message",(function(){return Spacebars.mustache(e.lookup("message"))})))," ",HTML.SPAN({class:"chatTime"},Blaze.View("lookup:time",(function(){return Spacebars.mustache(e.lookup("time"))}))),"\n    "]}),(function(){return["\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("isModMsg"))}),(function(){return["\n        ",HTML.SPAN({class:"chatMessage modMessage"},Blaze.View("lookup:message",(function(){return Spacebars.mustache(e.lookup("message"))})))," ",HTML.SPAN({class:"chatTime"},Blaze.View("lookup:time",(function(){return Spacebars.mustache(e.lookup("time"))}))),"\n      "]}),(function(){return["\n        ",HTML.SPAN({class:function(){return["chatPlayerName ",Spacebars.mustache(e.lookup("playerState"))]}},Blaze.View("lookup:playerName",(function(){return Spacebars.mustache(e.lookup("playerName"))})),":")," ",HTML.SPAN({class:"chatMessage"},Blaze.View("lookup:message",(function(){return Spacebars.mustache(e.lookup("message"))})))," ",HTML.SPAN({class:"chatTime"},Blaze.View("lookup:time",(function(){return Spacebars.mustache(e.lookup("time"))}))),"\n      "]})),"\n    "]})),"\n  ")})),Template.__checkName("chatInput"),Template.chatInput=new Template("Template.chatInput",(function(){var e=this;return HTML.Raw('<div id="chatInput">\n    <input id="chatInputBox" type="text" placeholder="Type Message Here">\n    <button id="chatInputButton" class="btnInGame">Send [Enter]</button>\n  </div>')}))},"template.control.js":function e(){Template.__checkName("control"),Template.control=new Template("Template.control",(function(){var e=this;return HTML.DIV({id:"controlPanel"},"\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("currentUser"))}),(function(){return["\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("isModOrAdmin"))}),(function(){return["\n        ",Spacebars.include(e.lookupTemplate("controlMenu")),"\n        ",HTML.TABLE("\n          ",HTML.TR("\n            ",HTML.TH("Name"),"\n            ",HTML.TH("Addr"),"\n            ",HTML.TH("Client Addr"),"\n            ",HTML.TH("Games"),"\n            ",HTML.TH("Players"),"\n            ",HTML.TH("ms"),"\n            ",HTML.TH("CPU"),"\n            ",HTML.TH("Free Mem"),"\n            ",HTML.TH("Cores"),"\n            ",HTML.TH("Visible"),"\n            ",HTML.TH(),"\n          "),"\n          ",Blaze.Each((function(){return Spacebars.call(e.lookup("servers"))}),(function(){return["\n            ",Spacebars.include(e.lookupTemplate("controlServer")),"\n          "]})),"\n        "),"\n      "]})),"\n    "]}),(function(){return["\n      ",Spacebars.include(e.lookupTemplate("loginButtons")),"\n    "]})),"\n  ")})),Template.__checkName("controlServer"),Template.controlServer=new Template("Template.controlServer",(function(){var e=this;return[HTML.TR("\n    ",HTML.TD(Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))),"\n    ",HTML.TD(Blaze.View("lookup:addr",(function(){return Spacebars.mustache(e.lookup("addr"))}))),"\n    ",HTML.TD(Blaze.View("lookup:addrClient",(function(){return Spacebars.mustache(e.lookup("addrClient"))}))),"\n    ",HTML.TD(Blaze.View("lookup:numGames",(function(){return Spacebars.mustache(e.lookup("numGames"))}))),"\n    ",HTML.TD(Blaze.View("lookup:numPlayers",(function(){return Spacebars.mustache(e.lookup("numPlayers"))}))),"\n    ",HTML.TD(Blaze.View("lookup:msRounded",(function(){return Spacebars.mustache(e.lookup("msRounded"))})),"ms"),"\n    ",HTML.TD(Blaze.View("lookup:cpu",(function(){return Spacebars.mustache(e.lookup("cpu"))}))),"\n    ",HTML.TD(Blaze.View("lookup:freeMem",(function(){return Spacebars.mustache(e.lookup("freeMem"))}))),"\n    ",HTML.TD(Blaze.View("lookup:numCores",(function(){return Spacebars.mustache(e.lookup("numCores"))}))),"\n    ",HTML.TD(Blaze.View("lookup:visible",(function(){return Spacebars.mustache(e.lookup("visible"))}))),"\n    ",HTML.Raw('<td><button class="removeServerButton">Delete</button></td>'),"\n  "),"\n  ",HTML.TR("\n    ",HTML.Raw("<td></td>"),"\n    ",HTML.TD({colspan:"9"},"\n      ",HTML.TABLE("\n        ",Blaze.Each((function(){return Spacebars.call(e.lookup("games"))}),(function(){return["\n          ",HTML.TR("\n            ",HTML.TD(Blaze.View("lookup:mode",(function(){return Spacebars.mustache(e.lookup("mode"))}))),"\n            ",HTML.TD(Blaze.View("lookup:numPlayers",(function(){return Spacebars.mustache(e.lookup("numPlayers"))}))," players"),"\n            ",HTML.TD(Blaze.View("lookup:msRounded",(function(){return Spacebars.mustache(e.lookup("msRounded"))})),"ms"),"\n          "),"\n        "]})),"\n      "),"\n    "),"\n  ")]})),Template.__checkName("controlMenu"),Template.controlMenu=new Template("Template.controlMenu",(function(){var e=this;return[HTML.DIV("\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("isModOrAdmin"))}),(function(){return["\n      ",HTML.A({href:"/control"},"Info")," |\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("isAdmin"))}),(function(){return["\n        ",HTML.A({href:"/control/servers"},"Servers")," |\n        ",HTML.A({href:"/control/mods"},"Mods")," |\n      "]})),"\n      ",HTML.A({href:"/control/youtubers"},"Youtubers")," |\n      ",HTML.A({href:"/control/alerts"},"Alerts"),"\n    "]})),"\n  "),HTML.Raw("\n  <br>")]}))},"template.controlAlerts.js":function e(){Template.__checkName("controlAlerts"),Template.controlAlerts=new Template("Template.controlAlerts",(function(){var e=this;return HTML.DIV({id:"controlPanel"},"\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("currentUser"))}),(function(){return["\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("isModOrAdmin"))}),(function(){return["\n        ",Spacebars.include(e.lookupTemplate("controlMenu")),"\n\n        Add Alert",HTML.BR(),"\n        ",HTML.BR(),"\n        Can include HTML.  Front page picks a random alert to show.",HTML.BR(),"\n        ",HTML.BR(),"\n        ",HTML.INPUT({type:"text",placeholder:"Event this saturday!",id:"alertInput"}),"\n        ",HTML.BUTTON({id:"submitButton"},"Submit"),"\n\n        ",HTML.BR(),HTML.BR(),HTML.BR(),"\n\n        ",HTML.H1("Alerts"),"\n        ",Blaze.Each((function(){return Spacebars.call(e.lookup("alerts"))}),(function(){return["\n          ",Spacebars.include(e.lookupTemplate("controlAlertsAlert")),"\n        "]})),"\n      "]})),"\n\n    "]}),(function(){return["\n      ",Spacebars.include(e.lookupTemplate("loginButtons")),"\n    "]})),"\n  ")})),Template.__checkName("controlAlertsAlert"),Template.controlAlertsAlert=new Template("Template.controlAlertsAlert",(function(){var e=this;return HTML.DIV("\n    ",Blaze.View("lookup:text",(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("text")))}))," ",HTML.SPAN({style:"color:#999"},Blaze.View("lookup:createdAt",(function(){return Spacebars.mustache(e.lookup("createdAt"))}))),HTML.Raw('\n    <button class="removeAlertButton">Remove Alert</button>\n  '))}))},"template.controlLogin.js":function e(){Template.__checkName("controlLogin"),Template.controlLogin=new Template("Template.controlLogin",(function(){var e=this;return HTML.Raw("<div>\n\n  </div>")}))},"template.controlMods.js":function e(){Template.__checkName("controlMods"),Template.controlMods=new Template("Template.controlMods",(function(){var e=this;return HTML.DIV({id:"controlPanel"},"\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("currentUser"))}),(function(){return["\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("isModOrAdmin"))}),(function(){return["\n        ",Spacebars.include(e.lookupTemplate("controlMenu")),"\n\n        Add Mod\n        ",HTML.INPUT({type:"text",placeholder:"email",id:"addModEmail"}),"\n        ",HTML.BUTTON({id:"addModButton"},"Submit"),"\n\n        ",HTML.BR(),HTML.BR(),"\n\n        ",Blaze.Each((function(){return Spacebars.call(e.lookup("mods"))}),(function(){return["\n          ",Spacebars.include(e.lookupTemplate("controlModsMod")),"\n        "]})),"\n\n      "]})),"\n    "]}),(function(){return["\n      ",Spacebars.include(e.lookupTemplate("loginButtons")),"\n    "]})),"\n  ")})),Template.__checkName("controlModsMod"),Template.controlModsMod=new Template("Template.controlModsMod",(function(){var e=this;return HTML.DIV("\n    ",Blaze.View("lookup:_id",(function(){return Spacebars.mustache(e.lookup("_id"))}))," ",Blaze.View("lookup:services.google.email",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("services"),"google","email"))})),HTML.Raw('\n    <button class="removeModButton">Remove Mod</button>\n  '))}))},"template.controlServers.js":function e(){Template.__checkName("controlServers"),Template.controlServers=new Template("Template.controlServers",(function(){var e=this;return HTML.DIV({id:"controlPanel"},"\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("currentUser"))}),(function(){return["\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("isModOrAdmin"))}),(function(){return["\n        ",Spacebars.include(e.lookupTemplate("controlMenu")),"\n        ",HTML.DIV("\n          Name ",HTML.INPUT({type:"text",id:"addServerNameInput",placeholder:"New York"}),"\n          WS Address ",HTML.INPUT({type:"text",placeholder:"ws://67.205.144.207:443/",id:"addServerAddrInput"}),"\n          Client Address ",HTML.INPUT({type:"text",placeholder:"ws://server1.astroe.io:443",id:"addServerAddrClientInput"}),"\n          ",HTML.INPUT({type:"submit",id:"addServerButton",value:"Add"}),"\n        "),"\n\n        ",HTML.BR(),HTML.BR(),"\n\n        ",HTML.TABLE("\n          ",HTML.TR("\n            ",HTML.TH("Name"),"\n            ",HTML.TH("Addr"),"\n            ",HTML.TH("Addr Client"),"\n            ",HTML.TH("Games"),"\n            ",HTML.TH("Players"),"\n            ",HTML.TH("ms"),"\n            ",HTML.TH("CPU"),"\n            ",HTML.TH("Free Mem"),"\n            ",HTML.TH("Cores"),"\n            ",HTML.TH("Visible"),"\n            ",HTML.TH(),"\n          "),"\n          ",Blaze.Each((function(){return Spacebars.call(e.lookup("servers"))}),(function(){return["\n            ",Spacebars.include(e.lookupTemplate("controlServer")),"\n          "]})),"\n        "),"\n      "]})),"\n    "]}),(function(){return["\n      ",Spacebars.include(e.lookupTemplate("loginButtons")),"\n    "]})),"\n  ")}))},"template.controlYoutubers.js":function e(){Template.__checkName("controlYoutubers"),Template.controlYoutubers=new Template("Template.controlYoutubers",(function(){var e=this;return HTML.DIV({id:"controlPanel"},"\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("currentUser"))}),(function(){return["\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("isModOrAdmin"))}),(function(){return["\n        ",Spacebars.include(e.lookupTemplate("controlMenu")),"\n\n        ",HTML.DIV("\n          Name ",HTML.INPUT({type:"text",id:"nameInput",placeholder:"Bob"}),"\n          Link ",HTML.INPUT({type:"text",placeholder:"http://",id:"linkInput"}),"\n          ",HTML.INPUT({type:"submit",id:"addYoutuberButton",value:"Add"}),"\n        "),"\n\n        ",HTML.BR(),HTML.BR(),"\n\n        ",Blaze.Each((function(){return Spacebars.call(e.lookup("youtubers"))}),(function(){return["\n          ",Spacebars.include(e.lookupTemplate("controlYoutuber")),"\n        "]})),"\n      "]})),"\n\n    "]}),(function(){return["\n      ",Spacebars.include(e.lookupTemplate("loginButtons")),"\n    "]})),"\n  ")})),Template.__checkName("controlYoutuber"),Template.controlYoutuber=new Template("Template.controlYoutuber",(function(){var e=this;return HTML.DIV("\n    ",Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))})),HTML.Raw(" &nbsp; - &nbsp; "),HTML.A({href:function(){return Spacebars.mustache(e.lookup("link"))},target:"_blank"},Blaze.View("lookup:link",(function(){return Spacebars.mustache(e.lookup("link"))}))),HTML.Raw(" &nbsp;&nbsp; "),Blaze.View("lookup:date",(function(){return Spacebars.mustache(e.lookup("date"))})),HTML.Raw(' &nbsp;&nbsp; <a href="" class="deleteYoutuberButton">Delete</a>\n  '))}))},"template.disconnectedPanel.js":function e(){Template.__checkName("disconnectedPanel"),Template.disconnectedPanel=new Template("Template.disconnectedPanel",(function(){var e=this;return HTML.Raw('<div id="disconnectedPanel">\n    <div style="font-size:120%;">Disconnected</div>\n    <br>\n    <div style="font-size:80%;">No connection to server.</div>\n    <br>\n    <button class="btnInGame" id="disconnectedEndGameButton">End Game</button>\n  </div>')}))},"template.endPanel.js":function e(){Template.__checkName("endPanel"),Template.endPanel=new Template("Template.endPanel",(function(){var e=this;return[Blaze.Unless((function(){return Spacebars.call(e.lookup("isDesktopApp"))}),(function(){return["\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("showAd"))}),(function(){return["\n      ",Spacebars.include(e.lookupTemplate("ad")),"\n    "]})),"\n  "]})),"\n  ",HTML.DIV({id:"endPanel",class:"gamePanel"},"\n    ",HTML.Raw('<div id="gameTitle">\n      ASTROE.io\n    </div>'),"\n\n    ",HTML.Raw('<div class="centered" id="gameTagline">\n      Multiplayer 2D space battle.\n    </div>'),"\n\n    ",HTML.DIV({class:"contentPanel"},"\n      ",HTML.DIV({class:"centered contentPanelBg"},"\n        ",HTML.Raw("<br>"),"\n        ",Blaze.Each((function(){return Spacebars.call(e.lookup("endPanelData"))}),(function(){return["\n          ",Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))})),": ",Blaze.View("lookup:value",(function(){return Spacebars.mustache(e.lookup("value"))})),HTML.BR(),"\n        "]})),"\n        ",HTML.Raw("<br>"),"\n        Game Length: ",Blaze.View("lookup:gameLength",(function(){return Spacebars.mustache(e.lookup("gameLength"))})),"\n        ",HTML.Raw("<br>"),HTML.Raw("<br>"),"\n      "),"\n\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("gameModeSatellites"))}),(function(){return["\n        ",HTML.DIV({class:"centered contentPanelBg"},"\n          ",HTML.BR(),"\n          ",HTML.TABLE({id:"endPanelLeaderboard"},"\n            ",HTML.TR("\n              ",HTML.TH(),"\n              ",HTML.TH({style:"text-align:left;"},"Name"),"\n              ",HTML.TH({style:"text-align:right;"},"Captures"),"\n              ",HTML.TH({style:"text-align:right;"},"Kills"),"\n            "),"\n            ",Blaze.Each((function(){return Spacebars.call(e.lookup("ships"))}),(function(){return["\n              ",Spacebars.include(e.lookupTemplate("shipData")),"\n            "]})),"\n          "),"\n          ",HTML.BR(),HTML.BR(),HTML.BR(),"\n        "),"\n      "]})),"\n    "),"\n\n    ",HTML.DIV({class:"contentPanel"},"\n      ",HTML.DIV({class:"centered contentPanelBg",style:"font-size:130%;"},"\n        ",HTML.Raw("<br>"),"\n        Game Over.\n\n        ",Blaze.If((function(){return Spacebars.call(e.lookup("isGameOver"))}),(function(){return["\n          ",Blaze.If((function(){return Spacebars.call(e.lookup("isWinner"))}),(function(){return"\n            Your team won!\n          "})),"\n          ",Blaze.If((function(){return Spacebars.call(e.lookup("isLoser"))}),(function(){return"\n            Your team lost all satellites.\n          "})),"\n        "]})),"\n\n        ",HTML.Raw("<br>"),HTML.Raw("<br>"),"\n      "),"\n\n      ",HTML.Raw('<div class="contentPanelBg centered">\n        <br>\n        <button class="btnInGame" id="playAgainButton">Play Again</button>\n        <br><br>\n      </div>'),"\n\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("showCapStats"))}),(function(){return["\n        ",HTML.DIV({class:"contentPanelBg centered"},"\n          ",Spacebars.include(e.lookupTemplate("capStatsChart")),"\n        "),"\n      "]})),"\n\n      ",HTML.DIV({class:"contentPanelBg centered"},"\n        ",Spacebars.include(e.lookupTemplate("statRecordsChart")),"\n      "),"\n    "),"\n\n    ",HTML.Raw('<div id="adPanel">\n      <div id="ed"></div>\n\n      \x3c!-- <a href="http://www.addictinggames.com/" target="_blank"><img src="/addictingGames01.png"></a> --\x3e\n    </div>'),"\n\n    ",HTML.Raw('<div id="adgamesLogo"><a href="http://www.addictinggames.com/" target="_blank"><img src="/addictingGames02.png"></a></div>'),"\n\n  ")]})),Template.__checkName("shipData"),Template.shipData=new Template("Template.shipData",(function(){var e=this;return HTML.TR({class:function(){return Spacebars.mustache(e.lookup("isPlayer"))}},"\n    ",HTML.TD({class:function(){return Spacebars.mustache(e.lookup("team"))}},HTML.Raw("&nbsp;")),"\n    ",HTML.TD({style:"text-align:left;"},Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))),"\n    ",HTML.TD({style:"text-align:right;"},Blaze.View("lookup:captures",(function(){return Spacebars.mustache(e.lookup("captures"))}))),"\n    ",HTML.TD({style:"text-align:right;"},Blaze.View("lookup:kills",(function(){return Spacebars.mustache(e.lookup("kills"))}))),"\n  ")}))},"template.featuredAlert.js":function e(){Template.__checkName("featuredAlert"),Template.featuredAlert=new Template("Template.featuredAlert",(function(){var e=this;return HTML.DIV({id:"featuredAlert"},"\n    ",Blaze.View("lookup:alert.text",(function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(e.lookup("alert"),"text")))})),"\n  ")}))},"template.featuredYoutuber.js":function e(){Template.__checkName("featuredYoutuber"),Template.featuredYoutuber=new Template("Template.featuredYoutuber",(function(){var e=this;return HTML.DIV({id:"featuredYoutuber"},"\n    Featured Video: ",HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("youtuber"),"link"))},target:"_blank"},Blaze.View("lookup:youtuber.name",(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("youtuber"),"name"))}))),"\n  ")}))},"template.game.js":function e(){Template.__checkName("game"),Template.game=new Template("Template.game",(function(){var e=this;return[Spacebars.include(e.lookupTemplate("menu")),"\n  ",Spacebars.include(e.lookupTemplate("help")),"\n  ",Spacebars.include(e.lookupTemplate("howToSats")),"\n  ",Blaze.If((function(){return Spacebars.call(e.lookup("showStartPanel"))}),(function(){return["\n    ",Spacebars.include(e.lookupTemplate("startPanel")),"\n  "]})),"\n  ",Blaze.If((function(){return Spacebars.call(e.lookup("showEndPanel"))}),(function(){return["\n    ",Spacebars.include(e.lookupTemplate("endPanel")),"\n  "]})),"\n  ",HTML.DIV({id:"gameUi",style:"display:none;"},"\n    ",HTML.Raw('<button class="btnInGame" id="menuButton">Menu</button>'),"\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("showDisconnectedPanel"))}),(function(){return["\n      ",Spacebars.include(e.lookupTemplate("disconnectedPanel")),"\n    "]})),"\n    ",Spacebars.include(e.lookupTemplate("chat")),"\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("isModeSatellites"))}),(function(){return["\n      ",Spacebars.include(e.lookupTemplate("satelliteScoreboard")),"\n      ",Spacebars.include(e.lookupTemplate("satelliteLeaderboard")),"\n    "]})),"\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("isModeFFA"))}),(function(){return["\n      ",Spacebars.include(e.lookupTemplate("leaderboard")),"\n    "]})),"\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("showGameEndWarning"))}),(function(){return["\n      ",Spacebars.include(e.lookupTemplate("gameEndWarning")),"\n    "]})),"\n    ",Blaze.If((function(){return Spacebars.call(e.lookup("showRespawnUi"))}),(function(){return["\n      ",Spacebars.include(e.lookupTemplate("respawnUi")),"\n    "]})),"\n    ",HTML.DIV({id:"gameUiUpgrades"},"\n      ",HTML.DIV({id:"powerupUi"},"\n        ",Blaze.If((function(){return Spacebars.call(e.lookup("hasPowerup_speed"))}),(function(){return["\n          ",HTML.IMG({src:"/images/powerupSpeed@2x.png",class:"powerupUiImage"}),"\n        "]})),"\n        ",Blaze.If((function(){return Spacebars.call(e.lookup("hasPowerup_invis"))}),(function(){return["\n          ",HTML.IMG({src:"/images/powerupInvis@2x.png",class:"powerupUiImage"}),"\n        "]})),"\n        ",Blaze.If((function(){return Spacebars.call(e.lookup("hasPowerup_doubledamage"))}),(function(){return["\n          ",HTML.IMG({src:"/images/powerupDoubleDamage@2x.png",class:"powerupUiImage"}),"\n        "]})),"\n      "),"\n      ",HTML.DIV({id:"shipMass"},"Ship Mass: ",Blaze.View("lookup:mass",(function(){return Spacebars.mustache(e.lookup("mass"))}))),"\n      ",HTML.DIV({id:"upgradeCount"},"Upgrades: ",Blaze.View("lookup:numUpgrades",(function(){return Spacebars.mustache(e.lookup("numUpgrades"))}))," / ",Blaze.View("lookup:maxUpgrades",(function(){return Spacebars.mustache(e.lookup("maxUpgrades"))}))),"\n      ",HTML.DIV({id:"gameUiGold"},"\n        ",HTML.SPAN({id:"goldValue"},HTML.SPAN({id:"uiGold"},Blaze.View("lookup:gold",(function(){return Spacebars.mustache(e.lookup("gold"))})))," Gold"),"\n      "),"\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("isModeSatellites"))}),(function(){return["\n        ",Spacebars.include(e.lookupTemplate("satelliteUpgrade")),"\n        ",HTML.BR(),"\n      "]})),"\n      ",Spacebars.include(e.lookupTemplate("shipUpgrade")),"\n    "),"\n    ",HTML.DIV({id:"gameUiPerf"},"\n      ",HTML.Raw('<span id="uiPerfPing">-</span>')," MS Latency ",HTML.Raw("&nbsp;"),HTML.Raw("&nbsp;"),"\n      ",HTML.Raw('<span id="uiPerfFps">-</span>')," FPS ",HTML.Raw("&nbsp;"),HTML.Raw("&nbsp;"),"\n      ",HTML.Raw('<span id="uiPerfMsgs">-</span>')," MS Msgs ",HTML.Raw("&nbsp;"),HTML.Raw("&nbsp;"),"\n      ",HTML.Raw('<span id="uiPerfUpdateMs">-</span>')," MS Update ",HTML.Raw("&nbsp;"),HTML.Raw("&nbsp;"),"\n      ",HTML.Raw('<span id="uiPerfVisibleMs">-</span>')," MS Culling ",HTML.Raw("&nbsp;"),HTML.Raw("&nbsp;"),"\n      ",HTML.Raw('<span id="uiPerfRenderMs">-</span>')," MS Render ",HTML.Raw("&nbsp;"),HTML.Raw("&nbsp;"),"\n      ",Blaze.View("lookup:serverName",(function(){return Spacebars.mustache(e.lookup("serverName"))}))," Server\n    "),"\n  "),HTML.Raw('\n  <div id="pixiContainer"></div>')]}))},"template.gameEndWarning.js":function e(){Template.__checkName("gameEndWarning"),Template.gameEndWarning=new Template("Template.gameEndWarning",(function(){var e=this;return HTML.DIV({id:"gameEndWarning"},"\n    Game ends in ",Blaze.View("lookup:time",(function(){return Spacebars.mustache(e.lookup("time"))})),".\n  ")}))},"template.help.js":function e(){Template.__checkName("help"),Template.help=new Template("Template.help",(function(){var e=this;return HTML.DIV({id:"help",style:"display:none;"},"\n    ",HTML.DIV({id:"menuContent"},"\n      ",HTML.Raw('<div id="menuTitle">Astroe Help</div>'),"\n\n      ",HTML.Raw('<button id="closeHelpButton" class="btnInGame">Close Help</button>'),"\n      ",HTML.Raw("<br>"),HTML.Raw("<br>"),"\n\n      ",Spacebars.include(this.lookupTemplate("help_controls")),"\n\n      ",HTML.Raw("<br>"),HTML.Raw("<br>"),"\n\n      ",Spacebars.include(this.lookupTemplate("help_info")),"\n    "),"\n  ")}))},"template.help_controls.js":function e(){Template.__checkName("help_controls"),Template.help_controls=new Template("Template.help_controls",(function(){var e=this;return HTML.DIV({id:"help_controls"},HTML.Raw('\n    <div class="helpTitle">\n      Controls\n    </div>\n\n    '),HTML.DIV({class:"helpText"},"\n      ",HTML.TABLE("\n        ",HTML.TR("\n          ",HTML.TD("\n            ",HTML.IMG({src:"/leftMouseButton.png"}),"\n            or\n            ",HTML.SPAN({class:"key"},"SHIFT"),"\n          "),"\n          ",HTML.TD(HTML.CharRef({html:"&nbsp;",str:" "}),HTML.CharRef({html:"&nbsp;",str:" "})," Lasers"),"\n        "),"\n        ",HTML.TR("\n          ",HTML.TD("\n            ",HTML.IMG({src:"/rightMouseButton.png"}),"\n            or\n            ",HTML.SPAN({class:"key"},"SPACE"),"\n          "),"\n          ",HTML.TD(HTML.CharRef({html:"&nbsp;",str:" "}),HTML.CharRef({html:"&nbsp;",str:" "})," Main Engine"),"\n        "),"\n      "),"\n\n      ",HTML.TABLE("\n        ",HTML.TR("\n          ",HTML.TD(),"\n          ",HTML.TD({class:"key"},HTML.CharRef({html:"&#8679;",str:"⇧"})),"\n          ",HTML.TD(),"\n          ",HTML.TD("or"),"\n          ",HTML.TD(),"\n          ",HTML.TD({class:"key"},"W"),"\n          ",HTML.TD(),"\n          ",HTML.TD(HTML.CharRef({html:"&nbsp;",str:" "}),HTML.CharRef({html:"&nbsp;",str:" "})," Directional Engines"),"\n        "),"\n        ",HTML.TR("\n          ",HTML.TD({class:"key"},HTML.CharRef({html:"&#8678;",str:"⇦"})),"\n          ",HTML.TD({class:"key"},HTML.CharRef({html:"&#8681;",str:"⇩"})),"\n          ",HTML.TD({class:"key"},HTML.CharRef({html:"&#8680;",str:"⇨"})),"\n          ",HTML.TD(),"\n          ",HTML.TD({class:"key"},"A"),"\n          ",HTML.TD({class:"key"},"S"),"\n          ",HTML.TD({class:"key"},"D"),"\n          ",HTML.TD(),"\n        "),"\n      "),"\n    "),"\n  ")}))},"template.help_info.js":function e(){Template.__checkName("help_info"),Template.help_info=new Template("Template.help_info",(function(){var e=this;return HTML.DIV({id:"help_info"},HTML.Raw('\n    <div class="helpTitle">\n      Powerups\n    </div>\n\n    '),HTML.DIV({class:"helpText"},"\n      ",HTML.TABLE("\n        ",HTML.TR(HTML.TD(HTML.IMG({src:"/images/healthPack01@2x.png",class:"helpImage"})),HTML.TD("Heals ship")),"\n        ",HTML.TR(HTML.TD(HTML.IMG({src:"/images/shieldPack01@2x.png",class:"helpImage"})),HTML.TD("Creates shield around ship.")),"\n        ",HTML.TR(HTML.TD(HTML.IMG({src:"/images/powerupInvis@2x.png",class:"helpImage"})),HTML.TD("Gives 10 seconds of invisibility.  Invisibility is cancelled when ship fires or is damaged.")),"\n        ",HTML.TR(HTML.TD(HTML.IMG({src:"/images/powerupSpeed@2x.png",class:"helpImage"})),HTML.TD("Gives 10 second speed boost.")),"\n        ",HTML.TR(HTML.TD(HTML.IMG({src:"/images/powerupDoubleDamage@2x.png",class:"helpImage"})),HTML.TD("Doubles your damage for 10 seconds.")),"\n      "),"\n    "),HTML.Raw('\n    <br>\n    <div class="helpTitle">\n      Upgrades\n    </div>\n\n    <div class="helpText">\n      Destroy asteroids or other ships to collect gold.  Use gold to upgrade your ship or satellites.\n    </div>\n\n    <br>\n    <div class="helpTitle">\n      Map Zoom\n    </div>\n\n    '),HTML.DIV({class:"helpText zoomHelp"},"\n      ",HTML.TABLE("\n        ",HTML.TR(HTML.TD(HTML.IMG({src:"/windowsIcon.png"})),HTML.TD(" ",HTML.CharRef({html:"&nbsp;",str:" "})," "),HTML.TD("CTRL +/- ",HTML.SPAN({class:"helpTitle"},"or")," CTRL and Mouse Wheel")),"\n        ",HTML.TR(HTML.TD(HTML.IMG({src:"/macIcon.png"})),HTML.TD(" ",HTML.CharRef({html:"&nbsp;",str:" "})," "),HTML.TD("COMMAND +/- ",HTML.SPAN({class:"helpTitle"},"or")," COMMAND and Mouse Wheel")),"\n      "),"\n    "),"\n\n  ")}))},"template.leaderboard.js":function e(){Template.__checkName("leaderboard"),Template.leaderboard=new Template("Template.leaderboard",(function(){var e=this;return HTML.DIV({id:"leaderboard"},"\n    ",HTML.TABLE("\n      ",HTML.TR("\n        ",HTML.TH(),"\n        ",HTML.TH("Kills"),"\n        ",HTML.TH("Gold"),"\n      "),"\n      ",Blaze.Each((function(){return Spacebars.call(e.lookup("leaders"))}),(function(){return["\n        ",HTML.TR("\n          ",HTML.TD({class:function(){return Spacebars.mustache(e.lookup("playerState"))}},Blaze.View("lookup:place",(function(){return Spacebars.mustache(e.lookup("place"),e.lookup("@index"))})),". ",Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))),"\n          ",HTML.TD({style:"text-align:right;"},Blaze.View("lookup:kills",(function(){return Spacebars.mustache(e.lookup("kills"))}))),"\n          ",HTML.TD({style:"text-align:right;"},Blaze.View("lookup:gold",(function(){return Spacebars.mustache(e.lookup("gold"))}))),"\n        "),"\n      "]})),"\n    "),"\n  ")}))},"template.menu.js":function e(){Template.__checkName("menu"),Template.menu=new Template("Template.menu",(function(){var e=this;return HTML.DIV({id:"menu",style:"display:none;"},"\n    ",HTML.DIV({id:"menuContent"},"\n      ",HTML.Raw('<div id="menuTitle">Astroe Menu</div>'),"\n\n      ",HTML.Raw('<button id="closeMenuButton" class="btnInGame">Close Menu</button>'),"\n      ",HTML.Raw('<button id="openHelpButton" class="btnInGame">Show Help</button>'),"\n      ",HTML.Raw('<button id="openSatHelpButton" class="btnInGame">How to Capture Satellites</button>'),"\n      ",HTML.Raw("<br>"),HTML.Raw("<br>"),"\n\n      ",HTML.Raw('<div id="buyGoldSuccessAlert" class="buyGoldAlert">asdf</div>'),"\n      ",HTML.Raw('<div id="buyGoldErrorAlert" class="buyGoldAlert">asdf</div>'),"\n\n      ",HTML.Raw("<br>"),HTML.Raw("<br>"),"\n\n      ",HTML.Raw('<p>\n        <label for="soundVolumeInput">Sound Effects Volume</label>\n        <input id="soundVolumeInput" type="range" min="0" max="1" step="0.05">\n      </p>'),"\n\n      ",HTML.Raw('<p>\n        <label for="musicVolumeInput">Music Volume</label>\n        <input id="musicVolumeInput" type="range" min="0" max="1" step="0.05">\n      </p>'),"\n\n      ",HTML.Raw("<br>"),HTML.Raw("<br>"),"\n      ",HTML.Raw('<div>\n        <span class="gold">Controls</span>: Left mouse button or shift key to fire blaster.  Right mouse button or spacebar for main engine.  Arrow keys or WASD keys for directional engine.\n      </div>'),"\n\n      ",HTML.Raw("<br>"),"\n      See ",HTML.Raw('<a href="https://www.reddit.com/r/astroe/wiki/index" target="_blank" id="wikiButton">Wiki</a>')," for more info.\n\n      ",HTML.Raw("<br>"),HTML.Raw("<br>"),"\n      ",HTML.Raw('<a href="https://discord.gg/VqXp7AF" target="_blank"><button class="btnInGame" id="discordButton">Astroe Discord Chat</button></a>'),"\n      ",HTML.Raw('<a href="https://www.reddit.com/r/astroe/" target="_blank"><button class="btnInGame" id="redditButton">Astroe SubReddit</button></a>'),"\n      ",HTML.Raw('<a href="/privacy" target="_blank"><button class="btnInGame">Privacy Policy</button></a>'),"\n      ",HTML.Raw('<button id="endGameButton" class="btnInGame">End Game</button>'),"\n\n      ",HTML.Raw("<br>"),HTML.Raw("<br>"),"\n\n      ",HTML.P("\n        ",HTML.LABEL({for:"lagSmoothInput"},"Network Smoothing - ",HTML.SPAN({id:"lagSmoothValue"},Blaze.View("lookup:lagSmooth",(function(){return Spacebars.mustache(e.lookup("lagSmooth"))}))),"ms"),"\n        ",HTML.INPUT({id:"lagSmoothInput",type:"range",min:"30",max:"120",value:function(){return Spacebars.mustache(e.lookup("lagSmooth"))},step:"10"}),"\n      "),"\n\n      Decrease to improve responsivness.  Increase to improve correctness.\n    "),"\n  ")}))},"template.nowebgl.js":function e(){Template.__checkName("nowebgl"),Template.nowebgl=new Template("Template.nowebgl",(function(){var e=this;return HTML.Raw('<div id="nowebgl">\n\n    <div id="gameTitle">\n      ASTROE.io\n    </div>\n\n    <div class="centered" id="gameTagline">\n      Multiplayer 2D space battle.\n    </div>\n\n    <div class="contentPanel">\n      <div class="contentPanelBg">\n        <div class="pad">\n          WebGL Required<br><br>\n          Astroe requires WebGL.  Read about how to enable it <a href="https://get.webgl.org/">here</a>.\n\n          <br><br>\n          <a href="http://io-games.zone">More .io Games</a>\n        </div>\n      </div>\n    </div>\n  </div>')}))},"template.nowebsocket.js":function e(){Template.__checkName("nowebsocket"),Template.nowebsocket=new Template("Template.nowebsocket",(function(){var e=this;return HTML.Raw('<div id="nowebsocket">\n    <div id="gameTitle">\n      ASTROE.io\n    </div>\n\n    <div class="centered" id="gameTagline">\n      Multiplayer 2D space battle.\n    </div>\n\n    <div class="contentPanel">\n      <div class="contentPanelBg">\n        <div class="pad">\n          WebSockets Required<br><br>\n          Astroe requires websockets.  Enable websockets to continue.\n        </div>\n      </div>\n    </div>\n  </div>')}))},"template.privacy.js":function e(t){Template.__checkName("privacy"),Template.privacy=new Template("Template.privacy",(function(){var e=this;return HTML.Raw('<div id="privacy">\n\n<h1>Privacy Policy</h1>\n\n<p>\nSuperstruct (or “we”) is dedicated to protecting the privacy rights of our online users (“users” or “you”). This Online Privacy Policy (“Privacy Policy”) has been crafted to inform you as to the ways we collect, store, use, and manage the information you provide in connection with any Superstruct game or application (“Service”). Please note that the scope of this Privacy Policy is limited to only information collected from Superstruct through use of the Service.\n</p>\n\n<p>\nBy using the Service, you are agreeing to the collection and use of your personal information as outlined in this Privacy Policy. We may amend the Privacy Policy from time to time, and we encourage you to consult the Privacy Policy regularly for changes.\n</p>\n\n<h3>Information Collected and Used</h3>\n\n<p>\nSuperstruct’s primary objective in collecting user information is to provide and enhance the Service and to enable users to easily navigate and enjoy the Service.\n</p>\n\n<p>\nWhen you install any of Superstruct’s games or applications, we may collect and record the information you provide us voluntarily through services such as www.facebook.com (“Facebook”) in accordance with the policies and terms of Facebook.\n</p>\n\n<p>\nThe types of personal information collected in accordance with the activities listed above may vary depending on the activity. This “personal information” is defined as information about you that can be used to contact or identify you. Personal information may include: (1) your name, (2) Facebook user identification number, (3) or email address. Additionally, we may acquire information from you through (1) your access and participation in message boards on the Service (2) your email of a question to our customer support or (3) your purchase of a virtual product of any type. Please note that because a third party site manages the purchases of virtual goods offered by the Service, we do not have access to your credit card details and billing information.\n</p>\n\n<p>\nSuperstruct may also invite you to share non-personal information about yourself which may include but is not limited to: (1) your age or date of birth; (2) your gender; (3) information about the hardware you may own; (4) your favorite websites, friend information and fan pages (collectively referred to as “non-personal information”). If non-personal information is collected for an activity that also requires personal information, Superstruct may combine your non-personal information with your personal information in an attempt to provide you with a better user experience, to improve the quality and value of the Services and to analyze how our Service is used.\n</p>\n\n<p>\nThe Service will also record game play information such as your high scores or game session duration.\n</p>\n\n<p>\nIn addition to information collected as described above, you may choose to share additional information about yourself throughout the Service, such as in games or on message boards. Any action you perform with other players are considered public, and are your sole discretion.\n</p>\n\n<p>\nFinally, any time you access the Service, we may collect aggregate information including but not limited to internet protocol addresses, browser type, browser language, referring / exit pages and URLs, platform type, number of clicks, domain names, landing pages, pages viewed and the order of those pages, the amount of time spent on particular pages, and the date and time of this activity. We use this information to better tailor the Service to your interests, to provide you more efficient customer support, and to overall enhance the Service.\n</p>\n\n<p>\nIn all cases of data access and collection, the information you provide will not be disclosed, rented, leased, loaned, sold, or otherwise voluntarily distributed to unaffiliated third parties and will be used solely for the purpose of providing you with and improving the Service.\n</p>\n\n<h3>Other Disclosure of Your Personal Information</h3>\n\n<p>\nYou understand and agree that we may be required to disclose any personal information if required to do so by law or in the good faith belief that such disclosure is reasonably necessary to avoid liability, to comply with legal process, including but not limited to a search warrant, subpoena, statute, or court order, or to protect our rights and property, or that of the public. Note that Superstruct is not required to question or contest the validity of any search warrant, subpoena or other similar governmental request that Superstruct may receive.\n</p>\n\n<p>\nAdditionally, in the event of a merger, acquisition, reorganization, bankruptcy, or other similar event, customer information may be transferred to Superstruct successor or assignee, if permitted by and done in accordance with applicable law.\n</p>\n\n<h3>Cookies</h3>\n\n<p>\nA cookie is a small data file that we transfer to your computer’s hard disk, generally to quickly identify a user’s computer and to “remember” things about the user’s visit, such as your preferences or a user name and password. The Service sends cookies to your computer when you access or view content of a Superstruct service. Information contained in a cookie may be linked to your personal information for purposes such as improving the quality of our service, tailoring recommendations to your interests, and making the Service easier to use. You can disable cookies at any time, although you may not be able to access or use features of the Service.\n</p>\n\n<h3>Links</h3>\n\n<p>\nThe Service may contain links to other websites. The fact that the Service links to a website or presents a banner ad or other type of advertisement does not mean that Superstruct endorses or authorizes that third party, nor is it a representation of our affiliation with that third party. Superstruct is in no way responsible for the privacy policies of these other websites to which you choose to access from the Service. Please be sure to read the privacy policies of those websites when exiting the Service.\n</p>\n\n<h3>Third Party Platform</h3>\n\n<p>\nWhen you use or connect to a Superstruct website or download a Superstruct mobile app by or through a Third Party Platform, such as Facebook or other social networking site, you allow us to access and/or collect certain information from your Third Party Platform profile/account (such as your Facebook account) or via any cookies placed on your device by such Third Party Platform as permitted by the terms of the agreement and your privacy settings with the Third Party Platform. We will share such information with the Third Party Platform for their use as permitted by the terms of the agreement and your privacy setting with the Third Party Platform.\n</p>\n\n<p>\nWe will share some of the information we collect from you upon install of the mobile app with vendors and other service providers who are engaged by or working with us in connection with the operation of the services we provide to you and/or for analytics purposes which may require the reproduction and display of such information in an aggregated and anonymized manner such that will not in any way identify you.\n</p>\n\n<h3>Security</h3>\n\n<p>\nWe have put in place reasonable technical and organizational measures designed to secure your personal information from accidental loss and from unauthorized access, use, alteration or disclosure. However, we cannot guarantee that unauthorized third parties will never be able to overcome those measures or use your personal information for improper purposes. Also please note that email and messaging systems are not considered secure, so we discourage you from sending us personal information through these mediums.\n</p>\n\n<h3>Policy Regarding Children</h3>\n\n<p>\nThe Service is not geared toward children under the age of 13 and we do not knowingly collect personal information from children under the age of 13. If we learn that a child under 13 has provided us with personal information we will delete such information from our files as quickly as possible.\n</p>\n\n</div>')}))},"template.respawnAd.js":function e(){Template.__checkName("respawnAd"),Template.respawnAd=new Template("Template.respawnAd",(function(){var e=this;return HTML.Raw('<div id="respawnAdContainer"></div>')}))},"template.respawnUi.js":function e(){Template.__checkName("respawnUi"),Template.respawnUi=new Template("Template.respawnUi",(function(){var e=this;return HTML.DIV({id:"respawnUi",class:"gamePanel"},"\n    ",HTML.DIV({class:"contentPanel"},"\n      ",HTML.DIV({class:"contentPanelBg"},"\n        Your ship was blown to bits.\n        ",HTML.Raw("<br>"),HTML.Raw("<br>"),"\n        ",Blaze.Unless((function(){return Spacebars.call(e.lookup("isDesktopApp"))}),(function(){return"\n          Check out this ad while we build you a new one.\n        "})),"\n      "),"\n\n      ",HTML.DIV({class:"contentPanelBg"},"\n        ",HTML.Raw("<br>"),"\n        ",HTML.BUTTON({class:function(){return["btnInGame ",Spacebars.mustache(e.lookup("isRespawnDisabled"))]},style:"width:100%;",id:"respawnButton"},Blaze.View("lookup:buttonText",(function(){return Spacebars.mustache(e.lookup("buttonText"))}))),"\n        ",HTML.Raw("<br>"),HTML.Raw("<br>"),"\n      "),"\n    "),"\n\n    ",HTML.DIV({class:"wideAdPanel"},"\n      ",Blaze.Unless((function(){return Spacebars.call(e.lookup("isDesktopApp"))}),(function(){return["\n        ",Spacebars.include(e.lookupTemplate("respawnAd")),"\n      "]})),"\n    "),"\n  ")}))},"template.satelliteLeaderboard.js":function e(){Template.__checkName("satelliteLeaderboard"),Template.satelliteLeaderboard=new Template("Template.satelliteLeaderboard",(function(){var e=this;return HTML.DIV({id:"satelliteLeaderboard"},"\n    ",HTML.TABLE("\n      ",HTML.TR("\n        ",HTML.TH({style:"text-align:left;"},"Teammates"),"\n        ",HTML.TH("Captures"),"\n        ",HTML.TH("Kills"),"\n      "),"\n      ",Blaze.Each((function(){return Spacebars.call(e.lookup("teammates"))}),(function(){return["\n        ",HTML.TR({class:function(){return Spacebars.mustache(e.lookup("isPlayer"))}},"\n          ",HTML.TD({class:function(){return Spacebars.mustache(e.lookup("playerState"))}},Blaze.View("lookup:place",(function(){return Spacebars.mustache(e.lookup("place"),e.lookup("@index"))})),". ",Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))),"\n          ",HTML.TD({style:"text-align:right;"},Blaze.View("lookup:captures",(function(){return Spacebars.mustache(e.lookup("captures"))}))),"\n          ",HTML.TD({style:"text-align:right;"},Blaze.View("lookup:kills",(function(){return Spacebars.mustache(e.lookup("kills"))}))),"\n        "),"\n      "]})),"\n    "),HTML.Raw("\n\n    <br><br>\n\n    "),HTML.TABLE("\n      ",HTML.TR("\n        ",HTML.TH({style:"text-align:left;"},"Enemies"),"\n        ",HTML.TH("Captures"),"\n        ",HTML.TH("Kills"),"\n      "),"\n      ",Blaze.Each((function(){return Spacebars.call(e.lookup("enemies"))}),(function(){return["\n        ",HTML.TR("\n          ",HTML.TD({class:function(){return Spacebars.mustache(e.lookup("playerState"))}},Blaze.View("lookup:place",(function(){return Spacebars.mustache(e.lookup("place"),e.lookup("@index"))})),". ",Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))),"\n          ",HTML.TD({style:"text-align:right;"},Blaze.View("lookup:captures",(function(){return Spacebars.mustache(e.lookup("captures"))}))),"\n          ",HTML.TD({style:"text-align:right;"},Blaze.View("lookup:kills",(function(){return Spacebars.mustache(e.lookup("kills"))}))),"\n        "),"\n      "]})),"\n    "),"\n  ")}))},"template.satelliteScoreboard.js":function e(){Template.__checkName("satelliteScoreboard"),Template.satelliteScoreboard=new Template("Template.satelliteScoreboard",(function(){var e=this;return HTML.DIV({id:"satelliteScoreboard"},"\n    ",HTML.TABLE({style:"width:100%;"},"\n      ",HTML.TR("\n        ",HTML.TD({style:"text-align:right;"},"\n          ",HTML.SPAN({id:"scoreboardRed",class:"red"},Blaze.View("lookup:numRedSatellites",(function(){return Spacebars.mustache(e.lookup("numRedSatellites"))}))),"\n        "),"\n        ",HTML.TD({class:"dash"},"-"),"\n        ",HTML.TD({style:"text-align:left;"},"\n          ",HTML.SPAN({id:"scoreboardGreen",class:"green"},Blaze.View("lookup:numGreenSatellites",(function(){return Spacebars.mustache(e.lookup("numGreenSatellites"))}))),"\n        "),"\n      "),"\n      ",HTML.TR("\n        ",HTML.TD({style:"text-align:right;"},"\n          ",HTML.SPAN({class:"red"},"+",HTML.SPAN({id:"scoreboardGoldRed"},Blaze.View("lookup:redSatelliteGold",(function(){return Spacebars.mustache(e.lookup("redSatelliteGold"))})))," Gold/Min"),"\n        "),"\n        ",HTML.TD(),"\n        ",HTML.TD({style:"text-align:left;"},"\n          ",HTML.SPAN({class:"green"},"+",HTML.SPAN({id:"scoreboardGoldGreen"},Blaze.View("lookup:greenSatelliteGold",(function(){return Spacebars.mustache(e.lookup("greenSatelliteGold"))})))," Gold/Min"),"\n        "),"\n      "),"\n      ",HTML.TR("\n        ",HTML.TD({style:"text-align:right;"},"\n          ",HTML.SPAN({class:"red"},HTML.SPAN({id:"scoreboardPlayersRed"},Blaze.View("lookup:numRedShips",(function(){return Spacebars.mustache(e.lookup("numRedShips"))})))," ",HTML.SPAN({id:"scoreboardPlayersLabelRed"},"Ships")),"\n        "),"\n        ",HTML.TD(),"\n        ",HTML.TD({style:"text-align:left;"},"\n          ",HTML.SPAN({class:"green"},HTML.SPAN({id:"scoreboardPlayersGreen"},Blaze.View("lookup:numGreenShips",(function(){return Spacebars.mustache(e.lookup("numGreenShips"))})))," ",HTML.SPAN({id:"scoreboardPlayersLabelGreen"},"Ships")),"\n        "),"\n      "),"\n    "),"\n  ")}))},"template.satelliteUpgrade.js":function e(){Template.__checkName("satelliteUpgrade"),Template.satelliteUpgrade=new Template("Template.satelliteUpgrade",(function(){var e=this;return HTML.DIV({id:"satelliteUpgrade"},HTML.Raw('\n    <div class="title">Satellite Upgrades</div>\n    '),HTML.DIV("\n      ",HTML.BUTTON({class:function(){return["btnInGame satelliteUpgradeButton ",Spacebars.mustache(e.lookup("buttonEnabled"))]}},"7. ",Blaze.View("lookup:level",(function(){return Spacebars.mustache(e.lookup("level"))}))," ",HTML.DIV({class:"buttonRight"},Blaze.View("lookup:upgradeCost",(function(){return Spacebars.mustache(e.lookup("upgradeCost"))})))),"\n      ",Blaze.Each((function(){return Spacebars.call(Spacebars.dot(e.lookup("upgrades"),"satelliteCost"))}),(function(){return HTML.SPAN({class:function(){return["upgradeMark ",Spacebars.mustache(e.lookup("markIsVisible"),e.lookup("@index"))]}},HTML.CharRef({html:"&nbsp;",str:" "}))})),"\n    "),"\n  ")}))},"template.shipUpgrade.js":function e(){Template.__checkName("shipUpgrade"),Template.shipUpgrade=new Template("Template.shipUpgrade",(function(){var e=this;return[HTML.Raw('<div class="title">Ship Upgrades</div>\n  <div id="shipUpgradeContainer"></div>\n  '),Blaze.Each((function(){return Spacebars.call(e.lookup("shipUpgrades"))}),(function(){return["\n    ",Spacebars.include(e.lookupTemplate("shipUpgradeButton")),"\n  "]}))]})),Template.__checkName("shipUpgradeButton"),Template.shipUpgradeButton=new Template("Template.shipUpgradeButton",(function(){var e=this;return HTML.DIV("\n    ",HTML.BUTTON({class:function(){return["btnInGame shipUpgradeButton ",Spacebars.mustache(e.lookup("buttonEnabled"))]}},Blaze.View("lookup:key",(function(){return Spacebars.mustache(e.lookup("key"))})),". ",Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))," ",HTML.DIV({class:"buttonRight"},Blaze.View("lookup:shipUpgradeCost",(function(){return Spacebars.mustache(e.lookup("shipUpgradeCost"))})))),"\n    ",Blaze.Each((function(){return Spacebars.call(Spacebars.dot(e.lookup("upgrades"),"shipCost"))}),(function(){return HTML.SPAN({class:function(){return["upgradeMark ",Spacebars.mustache(e.lookup("shipMarkIsVisible"),e.lookup("@index"))]}},HTML.CharRef({html:"&nbsp;",str:" "}))})),"\n  ")}))},"template.startPanel.js":function e(){Template.__checkName("startPanel"),Template.startPanel=new Template("Template.startPanel",(function(){var e=this;return[Blaze.Unless((function(){return Spacebars.call(e.lookup("isDesktopApp"))}),(function(){return["\n    ",HTML.DIV({id:"moreIoGamesButton"},"\n      ",HTML.A({href:"http://io-games.zone/",target:"_blank"},HTML.BUTTON({class:"btnInGame"},"More io Games")),"\n      ",HTML.A({href:"https://botbattles.io/",target:"_blank"},HTML.BUTTON({class:"btnInGame"},"Bot Battles")),"\n      ",HTML.A({href:"https://gamedevjobs.io/",target:"_blank"},HTML.BUTTON({class:"btnInGame"},"Game Developer Jobs")),"\n      ",HTML.A({href:"http://skyfleet.io/",target:"_blank"},HTML.BUTTON({class:"btnInGame"},"Sky Fleet")),"\n    "),"\n  "]})),HTML.Raw('\n\n  <div id="bottomRightContainer">\n    <a href="/players"><button class="btnInGame">Highscores</button></a>\n    <a href="https://discordapp.com/invite/VqXp7AF" target="_blank"><button class="btnInGame">Discord Chat</button></a>\n    <a href="https://www.patreon.com/dan335" target="_blank"><button class="btnInGame">Patreon</button></a>\n    <a href="https://www.reddit.com/r/astroe/" target="_blank"><button class="btnInGame">Reddit</button></a>\n    <a href="https://www.reddit.com/r/astroe/wiki/index" target="_blank"><button class="btnInGame">Wiki</button></a>\n  </div>\n\n  '),Blaze.Unless((function(){return Spacebars.call(e.lookup("isDesktopApp"))}),(function(){return["\n    ",Spacebars.include(e.lookupTemplate("featuredYoutuber")),"\n    ",Spacebars.include(e.lookupTemplate("featuredAlert")),"\n  "]})),"\n\n  ",HTML.DIV({id:"startPanel",class:"gamePanel"},"\n\n    ",HTML.Raw('<div id="gameTitle">\n      ASTROE.io\n    </div>'),"\n\n    ",HTML.Raw('<div class="centered" id="gameTagline">\n      Multiplayer 2D Space Battle\n    </div>'),"\n\n\n    ",HTML.DIV({class:"contentPanel"},"\n      ",HTML.DIV({class:"contentPanelBg",id:"serverList"},"\n        ",Blaze.Each((function(){return Spacebars.call(e.lookup("servers"))}),(function(){return["\n          ",Spacebars.include(e.lookupTemplate("startPanelServerGroup")),"\n        "]})),"\n      "),"\n\n      ",HTML.DIV({class:"contentPanelBg"},"\n        ",HTML.DIV({class:"pad"},"\n          ",HTML.Raw('<span class="helpTitle">Goal:</span>'),"\n          ",HTML.SPAN({class:"helpText"},Blaze.View("lookup:goal",(function(){return Spacebars.mustache(e.lookup("goal"))}))),"\n        "),"\n      "),"\n\n      ",HTML.DIV({class:"contentPanelBg"},"\n        ",HTML.DIV({class:"pad"},"\n          ",Spacebars.include(e.lookupTemplate("help_info")),"\n          ",HTML.Raw('<button id="openSatHelpButton" class="btnInGame" style="width:100%;margin-top:10px;">How to Capture Satellites</button>'),"\n        "),"\n      "),"\n    "),"\n\n\n\n    ",HTML.DIV({class:"contentPanel"},"\n      ",HTML.Raw('\x3c!-- {{#if showRejoinButton}}\n        <div class="contentPanelBg">\n          <button class="btnInGame" style="width:100%;" id="rejoinButton">Rejoin Previous Game</button>\n        </div>\n      {{/if}} --\x3e'),"\n\n      ",HTML.DIV({class:"contentPanelBg"},"\n\n\n        ",Blaze.If((function(){return Spacebars.call(e.lookup("isLoadingImages"))}),(function(){return["\n          ",HTML.DIV({class:"centered"},"Downloading Images ",Blaze.View("lookup:progress",(function(){return Spacebars.mustache(e.lookup("progress"))})),"%."),"\n        "]})),"\n\n        ",Blaze.If((function(){return Spacebars.call(e.lookup("isDownloadingSound"))}),(function(){return["\n            ",HTML.DIV({class:"centered"},"Downloading Sounds ",Blaze.View("lookup:soundProgress",(function(){return Spacebars.mustache(e.lookup("soundProgress"))})),"%."),"\n        "]})),"\n\n        ",Blaze.If((function(){return Spacebars.call(e.lookup("isConnecting"))}),(function(){return["\n          ",HTML.DIV({class:"centered"},"Connecting to Server..."),"\n        "]})),"\n\n        ",Blaze.If((function(){return Spacebars.call(e.lookup("isJoiningGame"))}),(function(){return["\n          ",HTML.DIV({class:"centered"},"Joining Game..."),"\n        "]})),"\n\n        ",Blaze.If((function(){return Spacebars.call(e.lookup("foundNoServers"))}),(function(){return["\n          ",HTML.DIV({class:"centered"},"No Servers Available."),"\n        "]}),(function(){return["\n          ",Blaze.If((function(){return Spacebars.call(e.lookup("showForm"))}),(function(){return["\n            ",HTML.DIV("\n              ",Blaze.If((function(){return Spacebars.call(e.lookup("isErrorConnecting"))}),(function(){return["\n                ",HTML.DIV({class:"errorText"},"Error connecting to server."),HTML.BR(),"\n              "]})),"\n\n              ",HTML.DIV({id:"selectTitle"},"Name your ship."),"\n              ",HTML.INPUT({type:"text",placeholder:"Your Name",class:"input",id:"nameInput",value:function(){return Spacebars.mustache(e.lookup("previousName"))},style:"width:100%;"}),"\n              ",HTML.BR(),HTML.BR(),"\n\n              ",HTML.DIV({id:"selectTitle"},"Choose a game mode."),"\n              ",HTML.SELECT({id:"modeSelect"},"\n                ",Blaze.Each((function(){return Spacebars.call(e.lookup("modes"))}),(function(){return["\n                  ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("id"))}},Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))),"\n                "]})),"\n              "),"\n\n              ",HTML.BR(),HTML.BR(),"\n\n              ",HTML.DIV({id:"selectTitle"},"Select closest server."),"\n              ",HTML.SELECT({id:"serverSelect"},"\n                ",Blaze.Each((function(){return Spacebars.call(e.lookup("servers"))}),(function(){return["\n                  ",Blaze.Unless((function(){return Spacebars.call(e.lookup("full"))}),(function(){return["\n                    ",HTML.OPTION(HTML.Attrs({value:function(){return Spacebars.mustache(e.lookup("_id"))}},(function(){return Spacebars.attrMustache(e.lookup("serverSelected"))})),Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))),"\n                  "]})),"\n                "]})),"\n              "),"\n\n              ",HTML.BR(),HTML.BR(),"\n\n              ",HTML.BUTTON(HTML.Attrs({class:function(){return["btnInGame ",Spacebars.mustache(e.lookup("disabledJoinButton"))]},id:"joinButton",style:"width:100%;"},(function(){return Spacebars.attrMustache(e.lookup("disabledJoinButton"))})),"\n                ",Blaze.If((function(){return Spacebars.call(e.lookup("isErrorConnecting"))}),(function(){return"\n                  Try Again\n                "}),(function(){return"\n                  Join Game\n                "})),"\n              "),"\n            "),"\n          "]})),"\n        "]})),"\n\n      "),"\n\n      ",HTML.DIV({class:"contentPanelBg"},"\n        ",HTML.DIV({class:"pad"},"\n          ",Spacebars.include(e.lookupTemplate("help_controls")),"\n        "),"\n      "),"\n\n      ",HTML.DIV({class:"contentPanelBg"},"\n        ",Blaze.If((function(){return Spacebars.call(e.lookup("currentUser"))}),(function(){return["\n          ",HTML.A({href:function(){return["/player/",Spacebars.mustache(Spacebars.dot(e.lookup("currentUser"),"_id"))]}},HTML.BUTTON({class:"btnInGame",style:"width:100%;margin-bottom:10px;"},"View Profile")),"\n          ",HTML.BUTTON({class:"btnInGame",id:"logoutButton",style:"width:100%;"},"Sign Out"),"\n        "]}),(function(){return["\n          Signing in is optional.\n          ",HTML.BR(),HTML.BR(),"\n          ",HTML.BUTTON({class:"btnInGame",id:"signInGoogle",style:"width:100%;margin-bottom:10px;"},"Sign in with Google"),"\n          ",HTML.Comment(' <button class="btnInGame" id="signInTwitter" style="width:100%;">Sign in with Twitter</button> '),"\n        "]})),"\n      "),"\n\n    "),"\n\n\n    ",HTML.DIV({id:"adPanel"},"\n      ",HTML.Raw('<div id="ed"></div>'),"\n\n      ",HTML.Raw('\x3c!-- <a href="http://www.addictinggames.com/" target="_blank"><img src="/addictingGames01.png"></a>\n      <br><br><br> --\x3e'),"\n\n      ",HTML.Raw('\x3c!-- <iframe src="https://discordapp.com/widget?id=299633112328175617&theme=dark" width="330" height="330" allowtransparency="true" frameborder="0"></iframe> --\x3e'),"\n\n      ",HTML.DIV({id:"shareButtons"},"\n        ",HTML.Raw('<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://astroe.io" data-show-count="false">Tweet</a>'),HTML.SCRIPT({async:"",src:"//platform.twitter.com/widgets.js",charset:"utf-8"}),"\n\n        ",HTML.Raw('<div class="fb-like" data-href="https://astroe.io" data-layout="button_count" data-action="like" data-size="small" data-show-faces="false" data-share="true"></div>'),"\n      "),"\n\n      ",HTML.Raw('\x3c!-- {{#unless isDesktopApp}}\n        <div style="text-align:center;">\n          <iframe id="IOG_CP" scrolling="no" frameborder="0" width="200"\n  height="145" src="https://viral.iogames.space/cp/astroe-io"\n  style="border-radius:2px;">\n  </iframe>\n        </div>\n      {{/unless}} --\x3e'),"\n\n    "),"\n\n    ",HTML.Raw('<div id="adgamesLogo"><a href="http://www.addictinggames.com/" target="_blank" alt="games" title="gamesmete"><img src="/addictingGames02.png"></a></div>'),"\n  ")]})),Template.__checkName("startPanelServerGroup"),Template.startPanelServerGroup=new Template("Template.startPanelServerGroup",(function(){var e=this;return HTML.DIV({class:"serverGroup"},"\n    ",HTML.DIV({style:"float:right;"},"\n      ",Blaze.View("lookup:numPlayers",(function(){return Spacebars.mustache(e.lookup("numPlayers"))}))," Players\n      ",HTML.Raw("&nbsp;"),"\n      ",Blaze.View("lookup:numBots",(function(){return Spacebars.mustache(e.lookup("numBots"))}))," Bots\n      ",Blaze.If((function(){return Spacebars.call(e.lookup("full"))}),(function(){return["\n        ",HTML.CharRef({html:"&nbsp;",str:" "}),HTML.CharRef({html:"&nbsp;",str:" "})," Full\n      "]})),"\n    "),"\n    ",HTML.DIV({class:"serverLocation"},Blaze.View("lookup:name",(function(){return Spacebars.mustache(e.lookup("name"))}))),HTML.Raw('\n    <div style="clear:both;"></div>\n    '),Blaze.Each((function(){return Spacebars.call(e.lookup("games"))}),(function(){return["\n      ",HTML.DIV({class:"gameGroup"},"\n        ",HTML.DIV({style:"float:right;"},"\n          ",Blaze.View("lookup:numPlayers",(function(){return Spacebars.mustache(e.lookup("numPlayers"))}))," Players\n          ",HTML.CharRef({html:"&nbsp;",str:" "}),"\n          ",Blaze.View("lookup:numBots",(function(){return Spacebars.mustache(e.lookup("numBots"))}))," Bots\n          ",HTML.CharRef({html:"&nbsp;",str:" "}),"\n          ",Blaze.View("lookup:timeSinceStarted",(function(){return Spacebars.mustache(e.lookup("timeSinceStarted"))})),"\n          ",Blaze.Unless((function(){return Spacebars.call(e.lookup("isServerFull"))}),(function(){return["\n            ",Blaze.Unless((function(){return Spacebars.call(e.lookup("isGameFull"))}),(function(){return["\n              ",Blaze.Unless((function(){return Spacebars.call(e.lookup("isGameLocked"))}),(function(){return["\n                ",HTML.CharRef({html:"&nbsp;",str:" "})," ",HTML.BUTTON({class:"btnInGame joinSpecificGameButton"},"Join"),"\n              "]})),"\n            "]})),"\n          "]})),"\n        "),"\n        ",HTML.DIV(Blaze.View("lookup:modeName",(function(){return Spacebars.mustache(e.lookup("modeName"),e.lookup("mode"))}))),"\n        ",HTML.DIV({style:"clear:both;"}),"\n      "),"\n    "]})),"\n  ")}))},"main.html":function e(t,s,e){e.link("./template.main.js",{"*":"*+"})},"template.main.js":function e(){Template.body.addContent((function(){var e=this;return[HTML.Raw('<div id="fb-root"></div>\n'),HTML.SCRIPT("(function(d, s, id) {\n  var js, fjs = d.getElementsByTagName(s)[0];\n  if (d.getElementById(id)) return;\n  js = d.createElement(s); js.id = id;\n  js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8&appId=1394315374204571\";\n  fjs.parentNode.insertBefore(js, fjs);\n}(document, 'script', 'facebook-jssdk'));"),"\n\n  ",Blaze._TemplateWith((function(){return{template:Spacebars.call(e.lookup("templateName"))}}),(function(){return Spacebars.include((function(){return Spacebars.call(Template.__dynamic)}))}))]})),Meteor.startup(Template.body.renderToDocument),Meteor.startup((function(){var e={oncontextmenu:"return false;"};for(var t in e)document.body.setAttribute(t,e[t])}))},"ad.js":function e(){var t,s,i,n;function a(e){console.log(e.getError()),t.destroy()}function o(e){(t=e.getAdsManager(document.getElementById("adContainer"))).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a),t.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,r),t.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,l);try{t.init(window.innerWidth,window.innerHeight,google.ima.ViewMode.FULLSCREEN),t.start()}catch(s){}}function r(){}function l(){var e=document.getElementById("adContainer");e.parentNode.removeChild(e),Session.set("showEndPanel",!1),Session.set("showStartPanel",!0),Meteor.isProduction&&GAnalytics.event("action","view ad",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown")}Template.ad.onRendered((function(){try{(i=new google.ima.AdDisplayContainer(document.getElementById("adContainer"))).initialize()}catch(t){console.log("Please disable adblocker."),console.log(t),Session.set("showEndPanel",!1),Session.set("showStartPanel",!0)}(s=new google.ima.AdsLoader(i)).addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,o,!1),s.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a,!1);var e=new google.ima.AdsRequest;e.adTagUrl="https://googleads.g.doubleclick.net/pagead/ads?ad_type=video_image&client=ca-games-pub-3932000594707687&videoad_start_delay=0&description_url=http%3A%2F%2Fhopz.io&max_ad_duration=20000",e.forceNonLinearFullSlot=!0,s.requestAds(e)})),Template.ad.onCreated((function(){Howler.mute(!0)})),Template.ad.onDestroyed((function(){Howler.mute(!1)}))},"chat.js":function e(t,s,e){let i,n;e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/sounds",{gs(e){n=e}},1),Template.chat.helpers({title:function(){return game.ui.deps.gameMode.depend(),!game.mode||"SATELLITES100"!=game.mode.id&&"SATELLITES20"!=game.mode.id&&"SATELLITES8"!=game.mode.id?"Chat":"Team Chat"},isChatting:function(){return Session.get("isChatting")},messages:function(){return game.ui.deps.chat.depend(),game.ui.chatMsgs}}),Template.chatMsg.helpers({playerState:function(){if(this.userId){var e=Meteor.users.findOne(this.userId,{fields:{mod:1,admin:1,username:1}});if(e&&(e.username==this.playerName||"[Global] "+e.username==this.playerName))return"isVerified"}},isStatusMsg:function(){return"statusMsg"==this.playerName},isModMsg:function(){return"modMsg"==this.playerName},time:function(){var e=new Date(this.timestamp),t="0"+e.getMinutes();return e.getHours()+":"+t.substr(-2)}}),Template.chatInput.events({"keydown input":function(e,t){if(27==e.which||27==e.keyCode)e.stopPropagation(),a(),n.play("buttonClick");else if(13==e.which||13==e.keyCode)e.stopPropagation(),o();else{var s=document.getElementById("chatInputBox"),r=s.value;r.trim(),r.length>i.chatMessageMaxLength&&(s.value=r.substr(0,i.chatMessageMaxLength))}},"click #chatInputButton":function(e,t){o(),n.play("buttonClick")}}),Template.chat.onCreated((function(){Session.set("isChatting",!1)})),Template.chatInput.onRendered((function(){document.getElementById("chatInputBox").focus()}));var a=function(){document.getElementById("chatInputBox").value="",Session.set("isChatting",!1),game.isChatting=!1},o=function(){var e=document.getElementById("chatInputBox").value;e.trim(),e.length&&game.player&&(e.substr(0,i.chatMessageMaxLength),game.sendMessage("chat:"+game.id+":"+game.player.id+":"+encodeURIComponent(e)+":"+game.player.password),GAnalytics.event("action","team chat",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown",e.length)),Session.set("isChatting",!1),game.isChatting=!1}},"control.js":function e(t,s,e){let i;e.link("/imports/both/collections",{Servers(e){i=e}},0),Template.control.helpers({servers:function(){return i.find()},isModOrAdmin:function(){var e=Meteor.users.findOne(Meteor.userId(),{fields:{admin:1,mod:1}});if(e&&(e.mod||e.admin))return!0}}),Template.control.onCreated((function(){this.subscribe("servers"),this.subscribe("user")})),Template.controlMenu.helpers({isAdmin:function(){var e=Meteor.users.findOne(Meteor.userId(),{fields:{admin:1}});if(e&&e.admin)return!0},isModOrAdmin:function(){var e=Meteor.users.findOne(Meteor.userId(),{fields:{admin:1,mod:1}});if(e&&(e.mod||e.admin))return!0}}),Template.controlMenu.onCreated((function(){this.subscribe("user")}))},"controlAlerts.js":function e(){Template.controlAlerts.helpers({alerts:function(){return Alerts.find()},isModOrAdmin:function(){var e=Meteor.users.findOne(Meteor.userId(),{fields:{admin:1,mod:1}});if(e&&(e.mod||e.admin))return!0}}),Template.controlAlerts.events({"click #submitButton":function(e,t){e.preventDefault(),Meteor.call("addAlert",t.find("#alertInput").value,(function(e,s){e?console.error(e):t.find("#alertInput").value=""}))}}),Template.controlAlerts.onCreated((function(){this.subscribe("alerts"),this.subscribe("user")})),Template.controlAlertsAlert.events({"click .removeAlertButton":function(e,t){e.preventDefault(),Meteor.call("removeAlert",this._id)}})},"controlMods.js":function e(){Template.controlMods.helpers({mods:function(){return Meteor.users.find({mod:!0})},isModOrAdmin:function(){var e=Meteor.users.findOne(Meteor.userId(),{fields:{admin:1,mod:1}});if(e&&(e.mod||e.admin))return!0}}),Template.controlMods.events({"click #addModButton":function(e,t){e.preventDefault(),Meteor.call("addMod",t.find("#addModEmail").value,(function(e,s){e?console.error(e):t.find("#addModEmail").value=""}))}}),Template.controlMods.onCreated((function(){this.subscribe("mods"),this.subscribe("user")})),Template.controlModsMod.events({"click .removeModButton":function(e,t){e.preventDefault(),Meteor.call("removeMod",this._id)}})},"controlServers.js":function e(){Template.controlServers.helpers({servers:function(){return Servers.find()},isModOrAdmin:function(){var e=Meteor.users.findOne(Meteor.userId(),{fields:{admin:1,mod:1}});if(e&&(e.mod||e.admin))return!0}}),Template.controlServers.onCreated((function(){this.subscribe("servers"),this.subscribe("user")})),Template.controlServers.events({"click #addServerButton":function(e,t){e.preventDefault();var s=t.find("#addServerNameInput"),i=t.find("#addServerAddrInput"),n=t.find("#addServerAddrClientInput");Meteor.call("addServer",s.value,i.value,n.value),s.value="",i.value="",n.value=""}}),Template.controlServer.events({"click .removeServerButton":function(e,t){Meteor.call("removeServer",this._id)}}),Template.controlServer.helpers({cpu:function(){return Math.round(1e4*this.processCpuLoad)/100+"% / "+Math.round(1e4*this.systemCpuLoad)/100+"%"},freeMem:function(){return Math.round(this.freePhysicalMemory/1e6)+" mb"},msRounded:function(){return Math.round(100*this.ms)/100}})},"controlYoutubers.js":function e(){Template.controlYoutubers.helpers({youtubers:function(){return Youtubers.find()},isModOrAdmin:function(){var e=Meteor.users.findOne(Meteor.userId(),{fields:{admin:1,mod:1}});if(e&&(e.mod||e.admin))return!0}}),Template.controlYoutuber.helpers({date:function(){return new Date(this.createdAt).toISOString().slice(0,10)}}),Template.controlYoutubers.events({"click #addYoutuberButton":function(e,t){e.preventDefault();var s=t.find("#nameInput"),i=t.find("#linkInput");Meteor.call("addYoutuber",s.value,i.value),s.value="",i.value=""},"click .deleteYoutuberButton":function(e,t){e.preventDefault(),Meteor.call("removeYoutuber",this._id)}}),Template.controlYoutubers.onCreated((function(){this.subscribe("youtubers"),this.subscribe("user")}))},"disconnectedPanel.js":function e(t,s,e){let i;e.link("/imports/client/sounds",{gs(e){i=e}},0),Template.disconnectedPanel.events({"click #disconnectedEndGameButton":function(e,t){e.preventDefault(),game.player&&game.player.destroy(!1),i.play("buttonClick")}})},"endPanel.js":function e(t,s,e){let i,n;e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/sounds",{gs(e){n=e}},1),Template.shipData.helpers({isPlayer:function(){if(Session.get("playerInfo")&&Session.get("playerInfo").name==this.name)return"isPlayer"}}),Template.endPanel.helpers({showCapStats:function(){if(("SATELLITES100"==game.mode.id||"SATELLITES20"==game.mode.id||"SATELLITES8"==game.mode.id)&&game.capStats)return!0},gameLength:function(){var e=(new Date).getTime()-game.dateStarted,t=parseInt(e/6e4%60),s=parseInt(e/36e5%24),i="";return s>0&&(i=s+"h "),t>0&&(i+=t+"m"),i},gameModeSatellites:function(){return"SATELLITES100"==game.mode.id||"SATELLITES20"==game.mode.id||"SATELLITES8"==game.mode.id},ships:function(){return Template.instance().ships.get()},isDesktopApp:function(){return window.isDesktopApp},endPanelData:function(){return Session.get("endPanelData")},isGameOver:function(){return Session.get("isGameOver")},isWinner:function(){return Session.get("isWinner")},isLoser:function(){return Session.get("isLoser")},showAd:function(){return Session.get("showAd")}}),Template.endPanel.events({"click #playAgainButton":function(e,t){e.preventDefault();var s=e.currentTarget;s.className="btnInGame disabled",s.innerHTML="Please Wait",Session.set("showEndPanel",!1),Session.set("showStartPanel",!0),n.play("buttonClick"),Meteor.isProduction&&GAnalytics.event("action","play again",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown")}}),Template.endPanel.onCreated((function(){Session.set("showAd",!1),Meteor.isProduction&&GAnalytics.event("game","over",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown");var e=[];if(Session.get("playerInfo")&&e.push(Session.get("playerInfo")),"SATELLITES100"==game.mode.id||"SATELLITES20"==game.mode.id||"SATELLITES8"==game.mode.id){for(var t=0;t<game.players.length;t++)e.push({name:game.players[t].name,captures:game.players[t].stats_satellitesCaptured,kills:game.players[t].stats_shipsDestroyed,team:game.players[t].team});e.sort((function(e,t){return e.captures==t.captures?t.captures+t.kills-(e.captures+e.kills):t.captures-e.captures}))}this.ships=new ReactiveVar(e)})),Template.endPanel.onRendered((function(){window.isDesktopApp||getScript("//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",(function(){var e,t;return e='<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3932000594707687" data-ad-slot="8030471647" data-ad-format="auto"></ins>',document.getElementById("ed").innerHTML=e,(t=window.adsbygoogle||[]).push({})})),Session.get("isWinner")?n.play("gameOverWin"):n.play("gameOver")}))},"featuredAlert.js":function e(){Template.featuredAlert.helpers({alert:function(){const e=Alerts.find().fetch();return e[Math.floor(Math.random()*e.length)]}}),Template.featuredAlert.onCreated((function(){this.subscribe("alerts")}))},"featuredYoutuber.js":function e(){Template.featuredYoutuber.helpers({youtuber:function(){return Youtubers.findOne()}}),Template.featuredYoutuber.onCreated((function(){this.subscribe("randomYoutuber")}))},"game.js":function e(t,s,e){let i,n,a;e.link("/imports/client/Game",{Game(e){i=e}},0),e.link("/imports/both/settings",{_s(e){n=e}},1),e.link("/imports/client/sounds",{gs(e){a=e}},2),game=null,Template.game.helpers({numUpgrades:function(){if(game.ui.deps.shipUpgradeMarkers.depend(),game&&game.player)return Math.round((game.player.mass-1)/n.massGainPerUpgrade)},maxUpgrades:function(){return game.ui.deps.maxUpgradesUpdated.depend(),n.maxUpgrades},showRespawnUi:function(){if(game.ui.deps.death.depend(),game&&game.player)return game.player.isDead},mass:function(){if(game.ui.deps.shipUpgradeMarkers.depend(),game&&game.player)return Math.round(1e3*game.player.mass)},showGameEndWarning:function(){if(game.ui.deps.gameEndTime.depend(),game.timestampWhenGameEnds)return!0},isModeSatellites:function(){if(game.ui.deps.gameMode.depend(),game.mode&&("SATELLITES100"==game.mode.id||"SATELLITES20"==game.mode.id||"SATELLITES8"==game.mode.id))return!0},isModeFFA:function(){return game.ui.deps.gameMode.depend(),game.mode&&"FFA50"==game.mode.id},showDisconnectedPanel:function(){if(!Session.get("connected")&&game.player)return!0},serverName:function(){var e=Session.get("serverInfo");if(e)return e.name},gold:function(){if(game.ui.deps.gold.depend(),game&&game.player)return game.player.gold},showStartPanel:function(){return Session.get("showStartPanel")},showEndPanel:function(){return Session.get("showEndPanel")},hasPowerup_speed:function(){if(game.ui.deps.powerupUi.depend(),game.player&&game.player.hasPowerup_speed)return!0},hasPowerup_invis:function(){if(game.ui.deps.powerupUi.depend(),game.player&&game.player.hasPowerup_invis)return!0},hasPowerup_doubledamage:function(){if(game.ui.deps.powerupUi.depend(),game.player&&game.player.hasPowerup_doubledamage)return!0}}),Template.game.events({"click #menuButton":function(e,t){Session.set("showMenu",!0),a.play("buttonClick")},"click #helpButton":function(e,t){Session.set("showHelp",!0),a.play("buttonClick")}}),Template.game.onCreated((function(){game=new i,Session.set("showMenu",!1),Session.set("showHelp",!1),Session.set("showHowToSats",!1),Session.set("connected",!1),Session.set("imagesLoaded",!1),Session.set("showStartPanel",!0),Session.set("showEndPanel",!1),Session.set("joiningGame",!1),Session.set("showSatelliteUpgrades",!1),this.autorun((function(){var e=Session.get("showSatelliteUpgrades"),t=document.getElementById("satelliteUpgrade");t&&(t.className=e?"show":"")})),this.autorun((function(){var e=Session.get("showMenu"),t=document.getElementById("menu");t&&(e?(t.style.display="block",Meteor.defer((function(){t.className="show"}))):t.className="")})),this.autorun((function(){var e=Session.get("showHelp"),t=document.getElementById("help");t&&(e?(t.style.display="block",Meteor.defer((function(){t.className="show"}))):t.className="")})),this.autorun((function(){var e=Session.get("showHowToSats"),t=document.getElementById("howToSats");t&&(e?(t.style.display="block",Meteor.defer((function(){t.className="show"}))):t.className="")})),this.autorun(()=>{game.ui.deps.playerNames.depend();var e=[];game.players.forEach((function(t){null!=t.userId&&e.push(t.userId)})),this.subscribe("userIds",e)})})),Template.game.onRendered((function(){game.elem=document.getElementById("pixiContainer"),game.elem.appendChild(game.renderer.view),window.addEventListener("resize",r,!1),Meteor.isProduction&&GAnalytics.pageview(),document.body.style.overflow="hidden"})),Template.game.onDestroyed((function(){window.removeEventListener("resize",r)}));const o=function(){game.renderer.resize(window.innerWidth,window.innerHeight)},r=_.throttle(o,200,{leading:!1})},"gameEndWarning.js":function e(){Template.gameEndWarning.helpers({time:function(){if(Template.instance().updateTime.get(),game.timestampWhenGameEnds){var e=new Date,t,s=new Date(game.timestampWhenGameEnds).getTime()-e.getTime(),i=Math.floor(s/1e3/60),n=s-1e3*i*60,a;return i+":"+("0"+Math.floor(n/1e3)).substr(-2)}}}),Template.gameEndWarning.onCreated((function(){this.updateTime=new ReactiveVar(Math.random());let e=this;this.interval=Meteor.setInterval((function(){e.updateTime.set(Math.random())}),1e3)})),Template.gameEndWarning.onDestroyed((function(){Meteor.clearInterval(this.interval)}))},"help.js":function e(t,s,e){let i,n;e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/sounds",{gs(e){n=e}},1),Template.help.events({"click #closeHelpButton":function(e,t){e.preventDefault(),Session.set("showHelp",!1),Session.set("showMenu",!0),n.play("buttonClick")}}),Template.help.onRendered((function(){let e=this;window.addEventListener("resize",a),a()})),Template.help.onDestroyed((function(){window.removeEventListener("resize",a)})),Template.help.onRendered((function(){var e=document.getElementById("help");e.addEventListener("transitionend",(function(t){0==e.className.length&&(e.style.display="none")}))}));var a=function(){document.getElementById("help").style.height=window.innerHeight+"px"}},"leaderboard.js":function e(){Template.leaderboard.helpers({playerState:function(){if(game.ui.deps.playerNames.depend(),this.userId){var e=Meteor.users.findOne(this.userId,{fields:{mod:1,admin:1,username:1}});if(e&&e.username==this.name)return"isVerified"}if(this.isBot)return"isBot"},leaders:function(){game.ui.deps.players.depend(),game.ui.deps.stats.depend();for(var e=[],t=0;t<game.players.length;t++)game.players[t].isDead||e.push({name:game.players[t].name,gold:game.players[t].stats_networth,kills:game.players[t].stats_shipsDestroyed,userId:game.players[t].userId,isBot:game.players[t].isBot});return e.sort((function(e,t){return e.kills==t.kills?t.kills+t.gold-(e.kills+e.gold):t.kills-e.kills})),e.slice(0,10)},place:function(e){return e+1}})},"menu.js":function e(t,s,e){let i,n;e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/sounds",{gs(e){n=e}},1),Template.menu.helpers({lagSmooth:function(){return game.smoothNet},buyButtons:function(){return i.buyButtons}}),Template.menu.onRendered((function(){let e=this;window.addEventListener("resize",o),o()})),Template.menu.events({"click #openHelpButton":function(){event.preventDefault(),Session.set("showMenu",!1),Session.set("showHelp",!0),n.play("buttonClick")},"click #openSatHelpButton":function(){event.preventDefault(),Session.set("showMenu",!1),Session.set("showHowToSats",!0),n.play("buttonClick")},"click #wikiButton":function(){Meteor.isProduction&&GAnalytics.event("action","wiki button",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown")},"click #discordButton":function(){Meteor.isProduction&&GAnalytics.event("action","discord button",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown")},"click #redditButton":function(){Meteor.isProduction&&GAnalytics.event("action","reddit button",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown")},"click #closeMenuButton":function(e,t){e.preventDefault(),Session.set("showMenu",!1),n.play("buttonClick")},"click #endGameButton":function(e,t){e.preventDefault(),n.play("buttonClick"),game.player&&(Session.set("showMenu",!1),game.sendMessage("endGame:"+game.id+":"+game.player.id+":"+game.player.password),Meteor.isProduction&&GAnalytics.event("action","end game",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown"))},"input #soundVolumeInput, change #soundVolumeInput":function(e,t){n.setSfxVolume(Number(e.target.value)),a()},"input #lagSmoothInput, change #lagSmoothInput":function(e,t){game.smoothNet=Number(e.target.value),localStorage.setItem("smoothNet",Number(e.target.value)),document.getElementById("lagSmoothValue").innerHTML=game.smoothNet},"input #musicVolumeInput, change #musicVolumeInput":function(e,t){n.setMusicVolume(Number(e.target.value))}});var a=_.throttle((function(){n.play("buttonClick")}),100);Template.menu.onRendered((function(){var e=document.getElementById("menu");document.getElementById("soundVolumeInput").value=n.sfxVolume,document.getElementById("musicVolumeInput").value=n.volumes.music,e.addEventListener("transitionend",(function(t){0==e.className.length&&(e.style.display="none")}))})),Template.menu.onDestroyed((function(){window.removeEventListener("resize",o)}));var o=function(){document.getElementById("menu").style.height=window.innerHeight+"px"}},"privacy.js":function e(){Template.privacy.onRendered((function(){document.body.style.overflow="auto",document.body.scroll="yes"}))},"respawnAd.js":function e(){var t,s,i,n;function a(e){console.log(e.getError()),t&&t.destroy()}function o(e){(t=e.getAdsManager(document.getElementById("respawnAdContainer"))).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a),t.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,r),t.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,l);try{t.init(700,400,google.ima.ViewMode.NORMAL),t.start()}catch(s){}}function r(){}function l(){Meteor.isProduction&&GAnalytics.event("action","view ad",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown")}Template.respawnAd.onRendered((function(){try{(i=new google.ima.AdDisplayContainer(document.getElementById("respawnAdContainer"))).initialize()}catch(t){console.log("Please disable adblocker."),console.log(t)}(s=new google.ima.AdsLoader(i)).addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,o,!1),s.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a,!1);var e=new google.ima.AdsRequest;e.adTagUrl="https://googleads.g.doubleclick.net/pagead/ads?ad_type=video_text_image&client=ca-games-pub-3932000594707687&description_url=http%3A%2F%2Fastroe.io&channel=1298838841&hl=en&max_ad_duration=15000",e.forceNonLinearFullSlot=!0,s.requestAds(e)})),Template.respawnAd.onCreated((function(){Howler.mute(!0)})),Template.respawnAd.onDestroyed((function(){Howler.mute(!1)}))},"respawnUi.js":function e(){Template.respawnUi.helpers({isDesktopApp:function(){return window.isDesktopApp},buttonText:function(){var e=Template.instance();e.updateTime.depend();var t=(new Date).getTime();return t-e.createdAt>e.waitTime?"Respawn":"Respawn in "+Math.round((e.waitTime-(t-e.createdAt))/1e3)+" seconds."},isRespawnDisabled:function(){var e=Template.instance(),t;if(e.updateTime.depend(),(new Date).getTime()-e.createdAt<=Template.instance().waitTime)return"disabled"}}),Template.respawnUi.events({"click #respawnButton":function(e,t){e.preventDefault();var s=Template.instance(),i;if(s.updateTime.depend(),!((new Date).getTime()-s.createdAt<=Template.instance().waitTime)&&game&&game.player){var n=e.currentTarget;n.className="btnInGame disabled",n.innerHTML="Respawning",game.sendMessage("respawn:"+game.id+":"+game.player.id+":"+game.player.password)}}}),Template.respawnUi.onCreated((function(){this.createdAt=(new Date).getTime(),this.updateTime=new Deps.Dependency,this.waitTime=8e3,window.isDesktopApp&&(waitTime=8e3);var e=Meteor.users.findOne(Meteor.userId(),{fields:{isPatron:1}});e&&e.isPatron&&(this.waitTime=8e3);let t=this;this.interval=Meteor.setInterval((function(){t.updateTime.changed()}))})),Template.respawnUi.onDestroyed((function(){this.interval&&Meteor.clearInterval(this.interval)}))},"satelliteLeaderboard.js":function e(){Template.satelliteLeaderboard.helpers({playerState:function(){if(game.ui.deps.playerNames.depend(),this.userId){var e=Meteor.users.findOne(this.userId,{fields:{mod:1,admin:1,username:1}});if(e&&e.username==this.name)return"isVerified"}if(this.isBot)return"isBot"},isPlayer:function(){if(game.player&&game.player.name==this.name&&game.player.userId==this.userId)return"isPlayer"},teammates:function(){if(game.ui.deps.players.depend(),game.ui.deps.stats.depend(),game.player){for(var e=[],t=0;t<game.players.length;t++)game.players[t].isDead||game.players[t].team==game.player.team&&e.push({name:game.players[t].name,captures:game.players[t].stats_satellitesCaptured,kills:game.players[t].stats_shipsDestroyed,userId:game.players[t].userId,isBot:game.players[t].isBot});return e.sort((function(e,t){return e.captures==t.captures?t.captures+t.kills-(e.captures+e.kills):t.captures-e.captures})),e}},enemies:function(){if(game.ui.deps.players.depend(),game.ui.deps.stats.depend(),game.player){for(var e=[],t=0;t<game.players.length;t++)game.players[t].isDead||game.players[t].team!=game.player.team&&e.push({name:game.players[t].name,captures:game.players[t].stats_satellitesCaptured,kills:game.players[t].stats_shipsDestroyed,userId:game.players[t].userId,isBot:game.players[t].isBot});return e.sort((function(e,t){return e.captures==t.captures?t.captures+t.kills-(e.captures+e.kills):t.captures-e.captures})),e}},place:function(e){return e+1}})},"satelliteScoreboard.js":function e(t,s,e){let i;e.link("/imports/both/settings",{_s(e){i=e}},0),Template.satelliteScoreboard.helpers({numRedSatellites:function(){game.ui.deps.satelliteTeams.depend();for(var e=0,t=0;t<game.satellites.length;t++)"RED"==game.satellites[t].team&&e++;return e},numGreenSatellites:function(){game.ui.deps.satelliteTeams.depend();for(var e=0,t=0;t<game.satellites.length;t++)"GREEN"==game.satellites[t].team&&e++;return e},redSatelliteGold:function(){game.ui.deps.satelliteTeams.depend();for(var e=0,t=0;t<game.satellites.length;t++)"RED"==game.satellites[t].team&&e++;return e*game.satelliteGoldPerMin},greenSatelliteGold:function(){game.ui.deps.satelliteTeams.depend();for(var e=0,t=0;t<game.satellites.length;t++)"GREEN"==game.satellites[t].team&&e++;return e*game.satelliteGoldPerMin},numRedShips:function(){game.ui.deps.players.depend();for(var e=0,t=0;t<game.players.length;t++)"RED"==game.players[t].team&&e++;return e},numGreenShips:function(){game.ui.deps.players.depend();for(var e=0,t=0;t<game.players.length;t++)"GREEN"==game.players[t].team&&e++;return e}})},"satelliteUpgrade.js":function e(t,s,e){let i,n;e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/sounds",{gs(e){n=e}},1),Template.satelliteUpgrade.helpers({showSatelliteUpgrades:function(){return Session.get("showSatelliteUpgrades")},buttonEnabled:function(){game.ui.deps.upgradeButtons.depend(),game.ui.deps.satelliteUpgradeButtons.depend();let e=Session.get("satelliteId");if(game.player&&e){let t=_.find(game.satellites,(function(t){return t.id==e}));if(t)return game.player.gold>=i.upgrades.satelliteCost[t.level]?"enabled":"disabled"}},level:function(){game.ui.deps.satelliteUpgradeButtons.depend();let e=Session.get("satelliteId");if(e){let t=_.find(game.satellites,(function(t){return t.id==e}));if(t)return t.level<i.upgrades.satelliteCost.length?"Level "+(t.level+1):"Max Level"}},upgradeCost:function(){game.ui.deps.satelliteUpgradeButtons.depend();let e=Session.get("satelliteId");if(e){let t=_.find(game.satellites,(function(t){return t.id==e}));if(t)return i.upgrades.satelliteCost[t.level]}},upgrades:function(){return i.upgrades},markIsVisible:function(e){game.ui.deps.satelliteUpgradeButtons.depend();let t=Session.get("satelliteId");if(t){let s=_.find(game.satellites,(function(e){return e.id==t}));if(s&&e+1<=s.level)return"enabled"}}}),Template.satelliteUpgrade.events({"click .satelliteUpgradeButton":function(e,t){var s;if(e.preventDefault(),e.currentTarget.classList.contains("disabled"))return;let a=Session.get("satelliteId");if(a&&game.player&&!game.player.isDead){let e=_.find(game.satellites,(function(e){return e.id==a}));if(e){if(game.player.gold<i.upgrades.satelliteCost[e.level])return;game.sendMessage("satelliteUpgrade:"+game.id+":"+e.id+":"+game.player.id+":"+game.player.password)}}n.play("buttonClick")}})},"shipUpgrade.js":function e(t,s,e){let i,n;e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/sounds",{gs(e){n=e}},1),Template.shipUpgrade.helpers({shipUpgrades:function(){return _.reject(i.upgrades.ship,(function(e){return"enginepower"==e.id}))}}),Template.shipUpgradeButton.helpers({shipMarkIsVisible:function(e){if(game.ui.deps.shipUpgradeMarkers.depend(),game.player&&e+2<=game.player.upgradeLevel[Template.parentData().id])return"enabled"},shipUpgradeCost:function(){if(game.ui.deps.upgradeButtons.depend(),game.player&&game.player.upgradeLevel[this.id]-1<i.upgrades.shipCost.length)return i.upgrades.shipCost[game.player.upgradeLevel[this.id]-1]},buttonEnabled:function(){return game.ui.deps.upgradeButtons.depend(),game.player&&game.player.upgradeLevel[this.id]-1<i.upgrades.shipCost.length&&game.player.gold>=i.upgrades.shipCost[game.player.upgradeLevel[this.id]-1]&&Math.round((game.player.mass-1)/i.massGainPerUpgrade)<i.maxUpgrades?"enabled":"disabled"},upgrades:function(){return i.upgrades}}),Template.shipUpgradeButton.events({"click .shipUpgradeButton":function(e,t){var s;if(e.preventDefault(),!e.currentTarget.classList.contains("disabled")&&(n.play("buttonClick"),game.player&&!game.player.isDead)){if(game.player.gold<i.upgrades.shipCost[game.player.upgradeLevel[t.data.id]-1])return;game.sendMessage("shipUpgrade:"+game.id+":"+game.player.id+":"+t.data.id+":"+game.player.password)}}})},"startPanel.js":function e(t,s,e){let i,n,a,o;e.link("meteor/http",{HTTP(e){i=e}},0),e.link("/imports/client/sounds",{gs(e){n=e}},1),e.link("/imports/both/settings",{_s(e){a=e}},2),e.link("/imports/both/collections",{Servers(e){o=e}},3);const r=t("url");Template.startPanelServerGroup.helpers({isServerFull:function(){return Template.parentData().full},isGameFull:function(){let e=this;var t=_.find(a.gameModes,(function(t){return t.id==e.mode}));if(t)return this.numPlayers>=t.maxPlayers},isGameLocked:function(){return this.isLocked},modeName:function(e){var t=_.find(a.gameModes,(function(t){return t.id==e}));if(t)return t.name},timeSinceStarted:function(){var e=new Date(this.dateStarted),t=new Date-e,s=parseInt(t/6e4%60),i=parseInt(t/36e5%24),n="";return i>0&&(n=i+"h "),s>0&&(n+=s+"m"),n}}),Template.startPanel.helpers({isDesktopApp:function(){return window.isDesktopApp},serverSelected:function(){var e=localStorage.getItem("selectedServer");return this.name==e?"selected":""},servers:function(){let e=Template.instance().servers.get();return e=_.sortBy(e,e=>e.ping)},showRejoinButton:function(){return Session.get("previousGameInfo")},modes:function(){return a.gameModes},goal:function(){var e=_.find(a.gameModes,(function(e){return e.id==Template.instance().selectedMode.get()}));if(e)return e.goal},foundNoServers:function(){return 0==o.find({full:!1}).count()},showForm:function(){return n.updateDownloadUi.depend(),1==n.percentDownloaded&&Session.get("imagesLoaded")&&!Session.get("isConnecting")&&!Session.get("isJoiningGame")},isLoadingImages:function(){return!Session.get("imagesLoaded")},isErrorConnecting:function(){return Session.get("connectError")},isConnecting:function(){return Session.get("isConnecting")&&!Session.get("connectError")},isJoiningGame:function(){return Session.get("isJoiningGame")},disabledJoinButton:function(){if(Session.get("connected"))return"disabled"},previousName:function(){let e=Session.get("name")||localStorage.getItem("name");return e||""},progress:function(){return Math.round(Session.get("loadProgress"))},soundProgress:function(){return n.updateDownloadUi.depend(),100*n.percentDownloaded},isDownloadingSound:function(){return n.updateDownloadUi.depend(),n.percentDownloaded<1}}),Template.startPanelServerGroup.events({"click .joinSpecificGameButton":function(e,t){e.preventDefault();var s=document.getElementById("nameInput"),i=t.find("#modeSelect");let a=s.value;(a=(a=(a=a.replace(/[^a-zA-Z0-9_\s]+/g,"")).trim()).substring(0,20))&&a.length?(Session.set("name",a),localStorage.setItem("name",a)):(a="Noname",Session.set("name",null),localStorage.removeItem("name")),n.play("buttonClick"),Session.set("isConnecting",!0),Session.set("previousGameInfo",null),game.connectToServer(t.data,a,this.mode,this.id,null,!1),Meteor.isProduction&&i&&i.value&&(GAnalytics.event("game","join",t.data.name,i.value),GAnalytics.event("game","mode",i.value))}}),Template.startPanel.events({"click #signInGoogle":function(){Meteor.loginWithGoogle()},"click #signInTwitter":function(){Meteor.loginWithTwitter()},"click #logoutButton":function(){Meteor.logout()},"click #discordButton":function(){Meteor.isProduction&&GAnalytics.event("action","discord button",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown")},"click #redditButton":function(){Meteor.isProduction&&GAnalytics.event("action","reddit button",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown")},"click #rejoinButton":function(e,t){e.preventDefault(),n.play("buttonClick"),Session.set("isConnecting",!0);var s=Session.get("previousGameInfo");Session.set("previousGameInfo",null),game.connectToServer(s.server,Session.get("name"),s.gameModeId,s.gameId,s.team,!1),Meteor.isProduction&&s&&s.gameModeId&&(GAnalytics.event("game","join",s.server.name,s.gameModeId),GAnalytics.event("game","mode",s.gameModeId))},"change #serverSelect":function(e,t){var s=t.find("#serverSelect"),i=o.findOne(s.value,{fields:{name:1}});localStorage.setItem("selectedServer",i.name)},"change #modeSelect":function(e,t){var s=t.find("#modeSelect");Template.instance().selectedMode.set(s.value)},"click #joinButton":function(e,t){e.preventDefault();var s=t.find("#nameInput"),i=t.find("#serverSelect"),a=t.find("#modeSelect");let o=s.value;(o=(o=(o=o.replace(/[^a-zA-Z0-9_\s]+/g,"")).trim()).substring(0,20))&&o.length?(Session.set("name",o),localStorage.setItem("name",o)):(o="Noname",Session.set("name",null),localStorage.removeItem("name")),n.play("buttonClick");var r=_.find(Template.instance().servers.get(),(function(e){return e._id==i.value}));r&&(Session.set("isConnecting",!0),Session.set("previousGameInfo",null),game.connectToServer(r,o,a.value,null,null,!1),Meteor.isProduction&&a&&a.value&&(GAnalytics.event("game","join",r.name,a.value),GAnalytics.event("game","mode",a.value)))},"click #openSatHelpButton":function(e,t){e.preventDefault(),Session.set("showHowToSats",!0),n.play("buttonClick")}}),Template.startPanel.onCreated((function(){let e=this;Session.set("isConnecting",!1),Session.set("connectError",!1),Session.set("isJoiningGame",!1),Session.set("loadProgress",0),this.servers=new ReactiveVar([]),this.subscribe("servers"),this.autorun((function(){u(e.servers,o.find({visible:!0}).fetch())})),this.selectedMode=new ReactiveVar(a.gameModes[0].id),game.mapEdge&&(game.mapEdge.destroy(),game.mapEdge=null),game.socket?game.socket.close():Session.set("connected",!1),this.autorun((function(){Session.get("imagesLoaded")&&(game.minimap.visible=!1)}))}));var l={},u=function(e,t){if(t&&t.length){var s=[];t.forEach(e=>{let t=_.find(l,t=>t._id==e._id);if(!t||Date.now-6e4>t.updated){var n,a="http://"+r.parse(e.addrClient).hostname+"/ping";let t=Date.now();s.push(new Promise((s,n)=>{i.get(a,{},(function(i,a){if(i)n(i);else{let i={_id:e._id,ping:Date.now()-t,server:e};s(i)}}))}))}else s.push(new Promise((s,i)=>{let n;s({_id:e._id,ping:t.ping,server:e})}))}),Promise.all(s).then(e=>{e.forEach(e=>{let s={_id:e._id,ping:e.ping,updated:Date.now()};l[s._id]=s,t=_.reject(t,t=>t._id==e._id);let i=e.server;i.ping=e.ping,t.push(i)})}).then(()=>{e.set(t)})}};Template.startPanel.onRendered((function(){document.getElementById("gameUi").style.display="none",window.isDesktopApp||getScript("//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",(function(){var e,t;return e='<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3932000594707687" data-ad-slot="1639313640" data-ad-format="auto"></ins>',document.getElementById("ed").innerHTML=e,(t=window.adsbygoogle||[]).push({})})),this.autorun((function(){Session.get("imagesLoaded")&&Tracker.afterFlush((function(){var e=document.getElementById("nameInput");e&&e.focus()}))})),game.stage.gameContainer.position.set(0,3e4),this.interval=Meteor.setInterval((function(){game.stage.gameContainer.position.set(game.stage.gameContainer.position.x,game.stage.gameContainer.position.y+1.5)}),1),game.starField&&game.starField.resetField()})),Template.startPanel.onDestroyed((function(){Meteor.clearInterval(this.interval),game.minimap.visible=!0}))},"main.js":function e(t,s,e){let i,n;e.link("meteor/templating",{Template(e){i=e}},0),e.link("meteor/reactive-var",{ReactiveVar(e){n=e}},1),e.link("./main.html"),i.body.helpers({templateName:function(){switch(SimpleRouter.path.get()){case"/stats":return"stats";case"/players":return"players";case"/privacy":return"privacy";case"/control":return"control";case"/control/servers":return"controlServers";case"/control/youtubers":return"controlYoutubers";case"/control/mods":return"controlMods";case"/control/alerts":return"controlAlerts";default:var e=SimpleRouter.path.get().split("/");return e.length&&1!=e.length?e.length>1&&"player"==e[1]?"player":"game":window.WebSocket?"game":"nowebsocket"}}})}},lib:{client:{"functions.js":function e(){getScript=function(e,t){var s=document.createElement("script"),i=document.getElementsByTagName("script")[0];s.async=1,i.parentNode.insertBefore(s,i),s.onload=s.onreadystatechange=function(e,i){(i||!s.readyState||/loaded|complete/.test(s.readyState))&&(s.onload=s.onreadystatechange=null,s=void 0,i||t&&t())},s.src=e},wrapBetweenPi=function(e){return e+2*Math.PI*Math.floor((Math.PI-e)/(2*Math.PI))},stringToBytes=function(e){for(var t,s,i=[],n=0;n<e.length;n++){t=e.charCodeAt(n),s=[];do{s.push(255&t),t>>=8}while(t);i=i.concat(s.reverse())}return i}}}},imports:{both:{"collections.js":function e(t,s,e){let i;e.export({Servers:()=>Servers,Youtubers:()=>Youtubers,Alerts:()=>Alerts}),e.link("meteor/mongo",{Mongo(e){i=e}},0),e.runSetters(Servers=new i.Collection("servers")),e.runSetters(Youtubers=new i.Collection("youtubers")),GameResults=new i.Collection("gameresults"),e.runSetters(Alerts=new i.Collection("alerts"))},"settings.js":function e(t,s,e){e.export({_s:()=>i});const i={maxUpgrades:36,massGainPerUpgrade:.025,gameModes:[{id:"SATELLITES20",name:"Satellites",maxPlayers:30,worldRadius:7200,gridDivisions:20,goal:"Help your team (red or green) capture all of the satellites. 12 satellites. 30 players max."},{id:"FFA50",name:"Free For All",maxPlayers:50,worldRadius:10800,gridDivisions:60,goal:"No rules, just a bunch of ships destroying each other. 50 players max.  Game restarts every 6 hours."}],screenScale:.56,shipStartSize:90,shipSizeGainMultiplier:.45,soundSpactialDivisor:200,engineSoundRateMin:.5,engineSoundRateMax:2,cameraOffset:125,cameraDelay:18,satelliteGoldPerMin:25,numSyncTimes:30,healthPackHealth:100,shieldPackNum:5,asteroidRadiusMin:20,asteroidRadiusMax:45,asteroidHealthMin:10,asteroidHealthMax:300,cameraBounds:150,satelliteUpgradeRadius:400,contestTimeMs:7e3,upgrades:{ship:[{name:"Blaster Damage",id:"blasterdamage",key:1},{name:"Blaster Fire Rate",id:"firerate",key:2},{name:"Bullet Speed",id:"bulletspeed",key:3},{name:"Max Health",id:"maxhealth",key:4},{name:"Auto Repair Rate",id:"repairrate",key:5},{name:"Directional Engines",id:"boosterspeed",key:6}],shipCost:[30,60,120,240,480,960,1920,3840],satelliteCost:[250,500,900,1700,3e3]},baseSize:{x:1e4,y:800},tintColors:{red:16721960,green:1310566,neutral:4498943,player:16645956},chatMessageMaxLength:160,chatMaxMessages:15,minimapSize:420,endGameScreenTimeMsWait:4e3,shipGfxDefaults:{shipGfxRed:"ship_f01@2x",shipGfxGreen:"ship_r01@2x",shipGfxNeutral:"ship_f01@2x"},ships:[{ship:"ship_f01@2x",team:"RED",booster:"ship_f01booster@2x",counter:"ship_f01counter@2x",exhausts:[{offsetX:-.55,offsetY:-.22,heightMultiplier:.5},{offsetX:-.55,offsetY:.22,heightMultiplier:.5},{offsetX:-.48,offsetY:0,heightMultiplier:1}]},{ship:"ship_f02@2x",team:"RED",booster:"ship_f01booster@2x",counter:"ship_f01counter@2x",exhausts:[{offsetX:-.55,offsetY:-.22,heightMultiplier:.5},{offsetX:-.55,offsetY:.22,heightMultiplier:.5},{offsetX:-.48,offsetY:0,heightMultiplier:1}]},{ship:"ship_r01@2x",team:"GREEN",booster:"ship_r01booster@2x",counter:"ship_r01counter@2x",exhausts:[{offsetX:-.7,offsetY:.18,heightMultiplier:1.2},{offsetX:-.7,offsetY:-.18,heightMultiplier:1.2}]},{ship:"ship_r02@2x",team:"GREEN",booster:"ship_r01booster@2x",counter:"ship_r01counter@2x",exhausts:[{offsetX:-.7,offsetY:.18,heightMultiplier:1.2},{offsetX:-.7,offsetY:-.18,heightMultiplier:1.2}]},{ship:"ship_blue01@2x",team:"NEUTRAL",booster:"ship_f01booster@2x",counter:"ship_f01counter@2x",exhausts:[{offsetX:-.55,offsetY:-.22,heightMultiplier:.5},{offsetX:-.55,offsetY:.22,heightMultiplier:.5},{offsetX:-.48,offsetY:0,heightMultiplier:1}]}]}}},client:{"AnimatedSprite.js":function e(t,s,e){e.export({AnimatedSprite:()=>i});class i extends PIXI.extras.AnimatedSprite{constructor(e){super(e)}setVisible(){this.visible=!0}setNotVisible(){this.visible=!1}destroy(){this.texture&&super.destroy()}updateTick(){}updateTickAfterCamera(){}}},"Asteroid.js":function e(t,s,e){let i,n,a,o,r,l;e.export({Asteroid:()=>p}),e.link("/imports/client/HealthBar",{HealthBar(e){i=e}},0),e.link("/imports/client/Explosion",{Explosion(e){n=e}},1),e.link("/imports/client/GoldText",{GoldText(e){a=e}},2),e.link("/imports/client/DamageText",{DamageText(e){o=e}},3),e.link("/imports/client/Obj",{Obj(e){r=e}},4),e.link("/imports/client/AsteroidGfx",{AsteroidGfx(e){l=e}},5);var u=.6,d=.15;class p extends r{constructor(e){super(),this.imageNum=Math.floor(5*Math.random())+1,this.id=e.id,this.setPosition(e.x,e.y),this.maxHealth=e.maxHealth,this.health=e.maxHealth,this.width=2*e.radius,this.height=2*e.radius;var t=Math.random()*(1-u-d),s=PIXI.utils.rgb2hex([d/2+t+u,Math.random()*d+t+u,Math.random()*d+t+u]);this.tint=s,game.asteroids.push(this),this.grids=[],game.grid.insert(this,this.position.x,this.position.y,this.width),this.setNotVisible(),this.gfx=null}syncDeath(e){let t=this;this.deathTimeout=setTimeout((function(){t.destroy(!0)}),game.netTimeDiff()-(Date.now()-e))}syncHealth(e,t){let s=this;this.syncHealthTimeout=setTimeout((function(){s.changeHealth(e)}),game.netTimeDiff()-(Date.now()-t))}changeHealth(e){var t=this.health-e;this.health=e,this.healthBar||(this.healthBar=new i(this)),this.healthBar.updateBar(),Math.round(t)>0&&this.visible&&new o(this.position,-1*t)}destroy(e){this.syncHealthTimeout&&clearTimeout(this.syncHealthTimeout),this.deathTimeout&&clearTimeout(this.deathTimeout),this.visible&&e&&new n(this.position.x,this.position.y,4*this.width),game.grid.remove(this),this.healthBar&&this.healthBar.destroy(),game.asteroids.splice(game.asteroids.indexOf(this),1),super.destroy()}createGfx(){this.gfx=new l(this)}setVisible(){this.visible=!0,this.healthBar&&this.healthBar.setVisible()}setNotVisible(){this.visible=!1,this.healthBar&&this.healthBar.setNotVisible()}updateGfx(){super.updateGfx(),this.healthBar&&this.healthBar.updateGfx()}}},"AsteroidGfx.js":function e(t,s,e){let i;e.export({AsteroidGfx:()=>n}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0);class n extends i{constructor(e){super(PIXI.utils.TextureCache["meteor0"+e.imageNum+"@2x"]),this.asteroid=e,this.position.set(this.asteroid.position.x,this.asteroid.position.y),this.anchor.set(.5,.5),this.width=this.asteroid.width,this.height=this.asteroid.height,this.tint=this.asteroid.tint,game.stage.objectNoUpdateContainer.addChild(this),this.highlight=new PIXI.Sprite(PIXI.utils.TextureCache["meteorHighlight0"+this.asteroid.imageNum+"@2x"]),this.highlight.anchor.set(.5,.5),this.addChild(this.highlight)}destroy(){game.stage.objectNoUpdateContainer.removeChild(this),this.highlight.destroy(),super.destroy()}}},"AsteroidIce.js":function e(t,s,e){let i,n;e.export({AsteroidIce:()=>r}),e.link("/imports/client/Asteroid",{Asteroid(e){i=e}},0),e.link("/imports/client/AsteroidIceGfx",{AsteroidIceGfx(e){n=e}},1);var a=.6,o=.05;class r extends i{constructor(e){super(e);var t=Math.random()*(1-a-o),s=PIXI.utils.rgb2hex([o/2+t+a,Math.random()*o+t+a,Math.random()*o+t+a]);this.tint=s}createGfx(){this.gfx=new n(this)}}},"AsteroidIceGfx.js":function e(t,s,e){let i;e.export({AsteroidIceGfx:()=>n}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0);class n extends i{constructor(e){super(PIXI.utils.TextureCache["meteorIce@2x"]),this.asteroid=e,this.position.set(this.asteroid.position.x,this.asteroid.position.y),this.anchor.set(.5,.5),this.width=this.asteroid.width,this.height=this.asteroid.height,this.tint=this.asteroid.tint,game.stage.objectNoUpdateContainer.addChild(this),this.highlight=new PIXI.Sprite(PIXI.utils.TextureCache["meteorHighlightIce@2x"]),this.highlight.anchor.set(.5,.5),this.addChild(this.highlight)}destroy(){game.stage.objectNoUpdateContainer.removeChild(this),this.highlight.destroy(),super.destroy()}}},"BgGrid.js":function e(t,s,e){let i;e.export({BgGrid:()=>n}),e.link("/imports/both/settings",{_s(e){i=e}},0);class n extends PIXI.extras.TilingSprite{constructor(e,t){super(PIXI.loader.resources["/images/bgGridTrans@2x.png"].texture,window.innerWidth/i.screenScale,window.innerHeight/i.screenScale),this.distance=e,this.alpha=t,this.tileScale.set(.72,.8),game.stage.bgContainer.addChild(this);let s=this;window.addEventListener("resize",(function(){s.width=window.innerWidth/i.screenScale,s.height=window.innerHeight/i.screenScale}))}updateTick(){}updateTickAfterCamera(){this.tilePosition.x=game.stage.gameContainer.position.x*this.distance,this.tilePosition.y=game.stage.gameContainer.position.y*this.distance}}},"BgNebula.js":function e(t,s,e){let i,n,a;e.export({BgNebula:()=>o}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("meteor/random",{Random(e){n=e}},1),e.link("/imports/client/Sprite",{Sprite(e){a=e}},2);class o extends a{constructor(){super(PIXI.loader.resources["/images/bgNebula.jpg"].texture,window.innerWidth,window.innerHeight),this.width=window.innerWidth/i.screenScale,this.height=window.innerHeight/i.screenScale;let e=this;window.addEventListener("resize",(function(){e.width=window.innerWidth/i.screenScale,e.height=window.innerHeight/i.screenScale})),game.stage.bgContainer.addChild(this)}}},"BgNebulaTiling.js":function e(t,s,e){let i,n;e.export({BgNebulaTiling:()=>a}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("meteor/random",{Random(e){n=e}},1);class a extends PIXI.extras.TilingSprite{constructor(e,t){let s=3;super(PIXI.loader.resources["/images/nebula03.png"].texture,window.innerWidth/i.screenScale,window.innerHeight/i.screenScale),this.distance=e,this.random=500*n.fraction(),this.tileScale.x=t,this.tileScale.y=t,game.stage.bgContainer.addChild(this);let a=this;window.addEventListener("resize",(function(){a.width=window.innerWidth/i.screenScale,a.height=window.innerHeight/i.screenScale}))}updateTick(){}updateTickAfterCamera(){this.tilePosition.x=game.stage.gameContainer.position.x*this.distance+this.random,this.tilePosition.y=game.stage.gameContainer.position.y*this.distance+this.random}}},"BgStars.js":function e(t,s,e){e.export({BgStars:()=>i});class i extends PIXI.extras.TilingSprite{constructor(e,t){super(PIXI.loader.resources["/images/bgStars@2x.png"].texture,window.innerWidth,window.innerHeight),this.distance=e,this.alpha=t,this.random=500*Math.random(),game.stage.bgContainer.addChild(this);let s=this;window.addEventListener("resize",(function(){s.width=window.innerWidth,s.height=window.innerHeight}))}updateTick(){}updateTickAfterCamera(){this.tilePosition.x=game.stage.gameContainer.position.x*this.distance+this.random,this.tilePosition.y=game.stage.gameContainer.position.y*this.distance+this.random}}},"Border.js":function e(t,s,e){let i;e.export({Border:()=>n}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0);class n extends i{constructor(e,t,s,i,n,a){super(PIXI.loader.resources["/images/blackSquare.jpg"].texture),this.anchor.set(n,a),this.width=e,this.height=t,this.position.set(s,i),this.alpha=.75,game.stage.bottomContainerNoUpdate.addChild(this)}destroy(){game.stage.bottomContainerNoUpdate.removeChild(this),super.destroy()}}},"Bullet.js":function e(t,s,e){let i,n,a;e.export({Bullet:()=>o}),e.link("/imports/client/Explosion",{Explosion(e){i=e}},0),e.link("/imports/client/BulletGfx",{BulletGfx(e){n=e}},1),e.link("/imports/client/Obj",{Obj(e){a=e}},2);class o extends a{constructor(e){super()}showObj(e){this.id=e.id,this.setPosition(e.x,e.y),this.rotation=Math.atan2(e.vy,e.vx),this.vector={x:e.vx,y:e.vy},this.team=e.team,this.speed=e.speed,this.damage=e.damage,this.spawnTime=e.timestamp,this.playerId=e.playerId;let t=this.damage/100;this.height=5+140*t,t=this.speed/100,this.width=250*t,this.setNotVisible(),this.gfx=null,this.doneSyncing=!1,this.grids=[],game.bullets.push(this);let s=this;this.spawnTimeout=setTimeout((function(){game.grid.insert(s,s.position.x,s.position.y,s.width),s.doneSyncing=!0}),game.netTimeDiff()-(Date.now()-this.spawnTime))}syncDeath(e,t,s,i){let n=this;this.spawnTimeout&&clearTimeout(this.spawnTimeout),this.syncDeathTimeout=setTimeout((function(){n.destroy(e,t,s)}),game.netTimeDiff()-(Date.now()-i))}updateTick(){this.doneSyncing&&(this.position.x+=this.vector.x*(this.speed/2)*game.ticker.deltaTime,this.position.y+=this.vector.y*(this.speed/2)*game.ticker.deltaTime,this.gfx&&this.gfx.position.set(this.position.x,this.position.y),game.grid.update(this,this.position.x,this.position.y,this.width))}hideObj(){}updateGfx(){this.doneSyncing&&(this.visible&&!this.gfx&&this.createGfx(),!this.visible&&this.gfx&&this.destroyGfx())}destroy(e,t,s){game.bullets.splice(game.bullets.indexOf(this),1),this.spawnTimeout&&clearTimeout(this.spawnTimeout),this.syncDeathTimeout&&clearTimeout(this.syncDeathTimeout),game.grid.remove(this),this.visible&&e&&new i(t,s,50),this.destroyGfx(),game.bulletPool.returnToPool(this)}createGfx(){this.gfx=game.bulletGfxPool.getFromPool(this)}}},"BulletGfx.js":function e(t,s,e){let i,n,a;e.export({BulletGfx:()=>o}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0),e.link("/imports/both/settings",{_s(e){n=e}},1),e.link("/imports/client/sounds",{gs(e){a=e}},2);class o extends i{constructor(e){super(PIXI.utils.TextureCache["bulletGreen@2x"])}destroy(){game.stage.fastObjectContainer.removeChild(this),game.bulletGfxPool.returnToPool(this)}showObj(e){if(this.bullet=e,"GREEN"==this.bullet.team?this.texture=PIXI.utils.TextureCache["bulletGreen@2x"]:"RED"==this.bullet.team?this.texture=PIXI.utils.TextureCache["bulletRed@2x"]:this.texture=PIXI.utils.TextureCache["bulletBlue@2x"],this.position.set(this.bullet.position.x,this.bullet.position.y),this.anchor.set(.5,.5),this.rotation=this.bullet.rotation,this.height=this.bullet.height,this.width=this.bullet.width,game.stage.fastObjectContainer.addChild(this),this.soundId=a.play("bullet"),this.soundId)if(game.player)if(game.player.id==this.bullet.playerId)a.sounds.bullet.pos(0,0,0,this.soundId);else{var t=Math.abs((this.position.x-game.player.position.x)/n.soundSpactialDivisor),s=Math.abs((this.position.y-game.player.position.y)/n.soundSpactialDivisor);isNaN(t)||isNaN(s)||!isFinite(t)||!isFinite(s)?a.sounds.bullet.pos(0,0,0,this.soundId):a.sounds.bullet.pos(t,s,0,this.soundId)}else a.sounds.bullet.pos(0,0,0,this.soundId)}hideObj(){}}},"Container.js":function e(t,s,e){e.export({Container:()=>i});class i extends PIXI.Container{constructor(){super(),this.interactive=!1}updateTick(){for(var e=this.children.length,t=0;t<e;t++)this.children[t]&&this.children[t].updateTick()}updateTickAfterCamera(){for(var e=this.children.length,t=0;t<e;t++)this.children[t]&&this.children[t].updateTickAfterCamera()}}},"ContainerFast.js":function e(t,s,e){e.export({ContainerFast:()=>i});class i extends PIXI.particles.ParticleContainer{constructor(){super(),this.interactive=!1}updateTick(){for(var e=0;e<this.children.length;e++)this.children[e]&&this.children[e].updateTick()}updateTickAfterCamera(){for(var e=0;e<this.children.length;e++)this.children[e]&&this.children[e].updateTickAfterCamera()}}},"ContainerFastNoUpdate.js":function e(t,s,e){e.export({ContainerFastNoUpdate:()=>i});class i extends PIXI.particles.ParticleContainer{constructor(){super(),this.interactive=!1}updateTick(){}updateTickAfterCamera(){}updateGfx(){for(var e=0;e<this.children.length;e++)this.children[e]&&this.children[e].updateGfx()}}},"ContainerNoUpdate.js":function e(t,s,e){e.export({ContainerNoUpdate:()=>i});class i extends PIXI.Container{constructor(){super(),this.interactive=!1}updateTick(){}updateTickAfterCamera(){}updateGfx(){for(var e=0;e<this.children.length;e++)this.children[e]&&this.children[e].updateGfx()}}},"ContainerStars.js":function e(t,s,e){e.export({ContainerStars:()=>i});class i extends PIXI.particles.ParticleContainer{constructor(){super(500,{scale:!1,position:!0,rotation:!1,uvs:!1,alpha:!0},500)}updateTick(){}updateTickAfterCamera(){}}},"DamageText.js":function e(t,s,e){let i;e.export({DamageText:()=>n}),e.link("/imports/both/settings",{_s(e){i=e}},0);class n extends PIXI.Text{constructor(e,t){let s={fontFamily:"Audiowide",fontSize:14,fill:6933986,dropShadow:!0,dropShadowDistance:0,dropShadowBlur:7,dropShadowColor:6933986};(t=Math.round(t))>0&&(t="+"+t),super(t,s),this.id=game.createId(),this.position=e,game.stage.aboveContainerNoUpdate.addChild(this),this.anchor.set(Math.random(),Math.random());let i=this;this.timer=setTimeout((function(){i.destroy()}),1e3)}updateTick(){}updateTickAfterCamera(){}destroy(){this.timer&&clearTimeout(this.timer),super.destroy(!0),game.stage.aboveContainerNoUpdate.removeChild(this)}}},"Explosion.js":function e(t,s,e){let i,n,a;e.export({Explosion:()=>o}),e.link("/imports/client/AnimatedSprite",{AnimatedSprite(e){i=e}},0),e.link("/imports/both/settings",{_s(e){n=e}},1),e.link("/imports/client/sounds",{gs(e){a=e}},2);class o extends i{constructor(e,t,s){let i;super([PIXI.utils.TextureCache["explosion01_01@2x"],PIXI.utils.TextureCache["explosion01_02@2x"],PIXI.utils.TextureCache["explosion01_03@2x"],PIXI.utils.TextureCache["explosion01_04@2x"],PIXI.utils.TextureCache["explosion01_05@2x"],PIXI.utils.TextureCache["explosion01_06@2x"]]),this.position.set(e,t),this.animationSpeed=.2,this.anchor.set(.5,.5),this.loop=!1,this.width=s,this.height=s;let o=this;if(this.isGfxDone=!1,this.isSoundDone=!1,this.onComplete=function(){this.visible=!1,this.isGfxDone=!0,o.done()},game.stage.aboveContainerNoUpdate.addChild(this),this.play(),game.stage.screenshake(e,t,s/15-1,Math.min(Math.round(s/30),10)),s<60){var r=Math.floor(3*Math.random())+1;this.soundName="explosionSmall0"+r}else this.soundName=s<700?"explosionMed":"explosionLarge";if(this.soundId=a.play(this.soundName),game.player){const e=(this.position.x-game.player.position.x)/n.soundSpactialDivisor,t=(this.position.y-game.player.position.y)/n.soundSpactialDivisor;a.sounds[this.soundName].pos(e,t,0,this.soundId)}a.sounds[this.soundName].once("end",(function(){o.isSoundDone=!0,o.done()}),this.soundId)}done(){this.isSoundDone&&this.isGfxDone&&this.destroy()}destroy(){game.stage.aboveContainerNoUpdate.removeChild(this),super.destroy()}}},"Game.js":function e(t,s,e){let i,n,a,o,r,l,u,d,p,h,c,m,g,f,T,b,S,w,y,v,k;e.export({Game:()=>M}),e.link("/node_modules/pixi.js/dist/pixi.js",{"*"(e){i=e}},0),e.link("/imports/client/Stage",{Stage(e){n=e}},1),e.link("/imports/client/BgGrid",{BgGrid(e){a=e}},2),e.link("/imports/client/BgStars",{BgStars(e){o=e}},3),e.link("/imports/client/Border",{Border(e){r=e}},4),e.link("/imports/client/Minimap",{Minimap(e){l=e}},5),e.link("/imports/client/BgNebula",{BgNebula(e){u=e}},6),e.link("/imports/client/BgNebulaTiling",{BgNebulaTiling(e){d=e}},7),e.link("/imports/both/settings",{_s(e){p=e}},8),e.link("meteor/meteor",{Meteor(e){h=e}},9),e.link("/imports/client/Grid",{Grid(e){c=e}},10),e.link("/imports/client/Ui",{Ui(e){m=e}},11),e.link("/imports/client/messageEndpoints",{setupMessageEndpoints(e){g=e},messageEndpoints(e){f=e}},12),e.link("/imports/client/loading",{loadImages(e){T=e}},13),e.link("/imports/client/loop",{loop(e){b=e}},14),e.link("/imports/client/StarField",{StarField(e){S=e}},15),e.link("/imports/client/SpawnBorder",{SpawnBorder(e){w=e}},16),e.link("/imports/client/ObjectPool",{ObjectPool(e){y=e}},17),e.link("/imports/client/Bullet",{Bullet(e){v=e}},18),e.link("/imports/client/BulletGfx",{BulletGfx(e){k=e}},19),i.utils.skipHello(),console.log("pixi.js",i.VERSION);class M{constructor(){let e=this;this.id=null,this.mode=null,this.socket=null,this.grid=new c(-500,-500,1e3,1e3,2,2),this.players=[],this.player=null,this.bullets=[],this.asteroids=[],this.gems=[],this.healthPacks=[],this.satellites=[],this.powerups=[],this.payloads=[],this.lastIdCreated=0,this.ui=new m,this.numLoops=0,this.loopTimeUpdate=0,this.loopTimeRender=0,this.loopTimeVisible=0,this.loopTimeMessages=0,this.tickNum=0,this.pings=[],this.ping=100,this.serverTimeOffset=0,this.pingStart=null,this.timestampWhenGameEnds=null,this.smoothNet=Number(localStorage.getItem("smoothNet"))||50,this.satelliteGoldPerMin=0,this.renderer=new i.WebGLRenderer(window.innerWidth,window.innerHeight,{antialias:!1,transparent:!1,resolution:window.devicePixelRatio||1,roundPixels:!1,autoResize:!0,backgroundColor:1384223}),this.renderer.plugins.interaction.destroy(),this.stage=new n,this.ticker=new i.ticker.Ticker,setInterval((function(){e.checkPing()}),5e3),T((function(){e.imagesLoaded()}))}sendMessage(e){1==this.socket.readyState&&this.socket.send(e)}netTimeDiff(){return this.ping+this.serverTimeOffset+this.smoothNet}resetGame(){Session.set("isGameOver",!1),document.getElementById("gameUi").style.display="none",this.ui.resetChat();for(var e=0;e<this.players.length;e++)this.players[e].destroy(!1);for(var e=0;e<this.asteroids.length;e++)this.asteroids[e].destroy(!1);for(var e=0;e<this.gems.length;e++)this.gems[e].destroy();for(var e=0;e<this.bullets.length;e++)this.bullets[e].destroy();for(var e=0;e<this.healthPacks.length;e++)this.healthPacks[e].destroy();for(var e=0;e<this.satellites.length;e++)this.satellites[e].destroy();for(var e=0;e<this.powerups.length;e++)this.powerups[e].destroy();for(var e=0;e<this.payloads.length;e++)this.payloads[e].destroy();this.mapEdge&&this.mapEdge.destroy(),this.players=[],this.player=null,this.bullets=[],this.asteroids=[],this.gems=[],this.healthPacks=[],this.satellites=[],this.powerups=[],this.payloads=[],game.stage.gameContainer.children.forEach((function(e){e.children.forEach((function(e){e&&e.destroy()})),e.removeChildren()})),game.minimap.bg.children.forEach((function(e){e.destroy()})),game.minimap.bg.removeChildren(),game.grid.clear(),game.pings=[],game.timestampWhenGameEnds=null}connectToServer(e,t,s,i,n,a){e&&(this.mode=_.find(p.gameModes,(function(e){return e.id==s})),this.mode?(this.grid=new c(-1*this.mode.worldRadius,-1*this.mode.worldRadius,2*this.mode.worldRadius,2*this.mode.worldRadius,this.mode.gridDivisions,this.mode.gridDivisions),"SATELLITES100"!=this.mode.id&&"SATELLITES20"!=this.mode.id&&"SATELLITES8"!=this.mode.id||(this.spawnBorders=[new w(this.mode.worldRadius-1960,0),new w(-1*(this.mode.worldRadius-1960),3.14159)]),this.ui.deps.gameMode.changed(),this.socket=new WebSocket(e.addrClient),g(t,s,i,n,a),Session.set("serverInfo",e)):console.error("Game mode not found."))}joinGame(e,t,s,i,n){let a=this;h.call("getModPass",(function(o,r){h.call("getUserPass",h.userId(),(o,l)=>{a.sendMessage("joinGame:"+e+":"+t+":"+s+":"+i+":"+r+":"+h.userId()+":"+l+":"+n)})})),this.joinGameErrorTimeout=setTimeout((function(){game.socket?game.socket.close():Session.set("connected",!1),Session.set("isJoiningGame",!1),Session.set("connectError",!0)}),5e3)}imagesLoaded(){let e=this;new u,new a(1,1),this.starField=new S,this.minimap=new l,Session.set("imagesLoaded",!0),this.bulletPool=new y(v,20),this.bulletGfxPool=new y(k,20),this.ticker.add((function(e){b(e)})),this.ticker.start()}checkPing(){this.socket&&1==this.socket.readyState&&(this.pingStart=performance.now(),this.sendMessage("sendPing"))}endGame(e,t){Session.set("isGameOver",!0),Session.set("isWinner",e),Session.set("isLoser",t),this.player.destroy(!1)}endWarning(e){this.timestampWhenGameEnds=e,this.ui.deps.gameEndTime.changed()}createId(){return this.lastIdCreated++,this.lastIdCreated}joinCustomGame(e,t){let s=h.userId();if(s){let i=h.users.findOne(s);if(i){let s=Servers.findOne();s&&(Session.set("isConnecting",!0),Session.set("previousGameInfo",null),setTimeout(()=>{game.socket&&game.socket.close(),game.connectToServer(s,i.username,"SATELLITES20",e,t,!0)},500))}}}createCustomGame(e){h.call("getModPass",(t,s)=>{!t&&s&&(game.socket=new WebSocket(Servers.findOne().addrClient),setTimeout(()=>{game.sendMessage("createCustomGame:"+e+":"+s),SimpleRouter.go("/")},1e3))})}destroyCustomGames(){h.call("getModPass",(e,t)=>{!e&&t&&(game.socket=new WebSocket(Servers.findOne().addrClient),setTimeout(()=>{game.sendMessage("destroyCustomGames::"+t),SimpleRouter.go("/")},1e3))})}}},"Gem.js":function e(t,s,e){let i,n;e.export({Gem:()=>a}),e.link("/imports/client/GemGfx",{GemGfx(e){i=e}},0),e.link("/imports/client/Obj",{Obj(e){n=e}},1);class a extends n{constructor(e){super(),this.id=e.id,this.setPosition(e.x,e.y),this.gold=e.gold;var t=Math.min(60,2*this.gold+12);this.width=t,this.height=t,this.grids=[],game.grid.insert(this,this.position.x,this.position.y,t),game.gems.push(this),this.setNotVisible(),this.gfx=null}syncDeath(e){let t=this;this.deathTimeout=setTimeout((function(){t.destroy()}),game.netTimeDiff()-(Date.now()-e))}destroy(){this.deathTimeout&&clearTimeout(this.deathTimeout),game.grid.remove(this),game.gems.splice(game.gems.indexOf(this),1),super.destroy()}createGfx(){this.gfx=new i(this)}}},"GemGfx.js":function e(t,s,e){let i;e.export({GemGfx:()=>n}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0);class n extends i{constructor(e){super(PIXI.utils.TextureCache["gem01@2x"]),this.position.set(e.position.x,e.position.y),this.anchor.set(.5,.5),this.width=e.width,this.height=e.height,game.stage.fastObjectContainer.addChild(this)}destroy(){game.stage.fastObjectContainer.removeChild(this),super.destroy()}}},"GemTeam.js":function e(t,s,e){let i,n;e.export({GemTeam:()=>a}),e.link("/imports/client/GemTeamGfx",{GemTeamGfx(e){i=e}},0),e.link("/imports/client/Gem",{Gem(e){n=e}},1);class a extends n{constructor(e){super(e)}createGfx(){this.gfx=new i(this)}}},"GemTeamGfx.js":function e(t,s,e){let i;e.export({GemTeamGfx:()=>n}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0);class n extends i{constructor(e){super(PIXI.utils.TextureCache["gem02@2x"]),this.position.set(e.position.x,e.position.y),this.anchor.set(.5,.5),this.width=e.width,this.height=e.height,game.stage.fastObjectContainer.addChild(this)}destroy(){game.stage.fastObjectContainer.removeChild(this),super.destroy()}}},"GoldText.js":function e(t,s,e){e.export({GoldText:()=>i});class i extends PIXI.Text{constructor(e){let t;super("+"+e,{fontFamily:"Audiowide",fontSize:16,fill:16046692,dropShadow:!0,dropShadowDistance:0,dropShadowBlur:7,dropShadowColor:16046692}),this.numGold=e,this.position=game.player.position,this.anchor.set(.5,.5),game.stage.aboveContainerNoUpdate.addChild(this);let s=this;this.timer=setTimeout((function(){s.destroy()}),1e3)}destroy(){this.timer&&clearTimeout(this.timer),super.destroy(!0),game.stage.aboveContainerNoUpdate.removeChild(this)}}},"Grid.js":function e(t,s,e){let i;e.export({Grid:()=>n}),e.link("meteor/check",{check(e){i=e}},0);class n{constructor(e,t,s,i,n,a){this.posX=e,this.posY=t,this.sizeX=s,this.sizeY=i,this.divisionsX=n,this.divisionsY=a,this.gX=n/s,this.gY=a/i,this.objects=new Array(this.divisionsX);for(var o=0;o<=this.divisionsX;o++){this.objects[o]=new Array(this.divisionsY);for(var r=0;r<=this.divisionsY;r++)this.objects[o][r]=[]}}clear(){for(var e=0;e<=this.divisionsX;e++)for(var t=0;t<=this.divisionsY;t++)this.objects[e][t]=[]}update(e,t,s,i){var n=this.getGridsObjIsIn(t,s,i);_.isEqual(e.grids,n)||(this.remove(e),this.insert(e,t,s,i))}insert(e,t,s,n){if(isNaN(t)||isNaN(s)||isNaN(n))return console.log(e),console.log(t,s,n),void console.error("Failed to insert into grid.");i(e.id,String);let a=this;e.grids=this.getGridsObjIsIn(t,s,n);for(var o=0;o<e.grids.length;o++)a.objects[e.grids[o].x][e.grids[o].y].push(e)}remove(e){e.grids||(console.log(e),console.error("Failed to remove into grid."));for(var t=this,s=0;s<e.grids.length;s++){var i=_.reject(this.objects[e.grids[s].x][e.grids[s].y],(function(t){return t.id==e.id}));this.objects[e.grids[s].x][e.grids[s].y]=i}}retrieve(e,t,s){for(var i=this,n=[],a=this.getGridsObjIsIn(e,t,s),o=0;o<a.length;o++)n=n.concat(this.objects[a[o].x][a[o].y]);return _.uniq(n,!1,(function(e){return e.id}))}getGridsObjIsIn(e,t,s){var i=[];let n=this.positionToGrid(e-s,t-s),a=this.positionToGrid(e+s,t+s);for(var o=n.x;o<=a.x;o++)for(var r=n.y;r<=a.y;r++)i.push(this.keyName(o,r));return i}positionToGrid(e,t){return e=Math.min(e,this.posX+this.sizeX),e=Math.max(e,this.posX),t=Math.min(t,this.posY+this.sizeY),t=Math.max(t,this.posY),{x:Math.round((0-this.posX+e)*this.gX),y:Math.round((0-this.posY+t)*this.gY)}}keyName(e,t){return{x:e,y:t}}}},"HealthBar.js":function e(t,s,e){let i,n;e.export({HealthBar:()=>a}),e.link("/imports/client/Obj",{Obj(e){i=e}},0),e.link("/imports/client/HealthBarGfx",{HealthBarGfx(e){n=e}},1);class a extends i{constructor(e){super(PIXI.utils.TextureCache["barBg@2x"]),this.owner=e,this.barWidth=50;var t=!1;this.setPosition(this.owner.position.x,this.owner.position.y-25),this.setNotVisible(),this.gfx=null}setVisible(){this.hidden||(this.visible=!0)}updatePosition(e,t){this.position={x:e,y:t},this.gfx&&this.gfx.position.set(e,t)}createGfx(){this.gfx=new n(this)}updateBar(){this.gfx&&this.gfx.updateBar()}}},"HealthBarGfx.js":function e(t,s,e){let i;e.export({HealthBarGfx:()=>n}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0);class n extends i{constructor(e){super(PIXI.utils.TextureCache["barBg@2x"]),this.healthBar=e,this.fgLeftSprite=new PIXI.Sprite(PIXI.loader.resources["/images/barFgLeft@2x.png"].texture),this.fgRightSprite=new PIXI.Sprite(PIXI.loader.resources["/images/barFgRight@2x.png"].texture),this.fgMidSprite=new PIXI.Sprite(PIXI.loader.resources["/images/barFgMid@2x.png"].texture),this.anchor.set(.5,.5),this.position.set(this.healthBar.position.x,this.healthBar.position.y-25),this.fgLeftSprite.anchor.set(1,.5),this.fgLeftSprite.position.x=-25,this.fgRightSprite.anchor.set(0,.5),this.fgRightSprite.position.x=25,this.fgMidSprite.anchor.set(0,.5),this.fgMidSprite.position.x=-25,game.stage.aboveContainerNoUpdate2.addChild(this),this.addChild(this.fgLeftSprite),this.addChild(this.fgRightSprite),this.addChild(this.fgMidSprite),this.updateBar()}updateBar(){this.fgMidSprite.width=this.healthBar.owner.health/this.healthBar.owner.maxHealth*this.healthBar.barWidth,this.fgRightSprite.position.x=this.fgMidSprite.width-25,this.healthBar.owner.health==this.healthBar.owner.maxHealth||this.healthBar.owner.health<=0?this.visible=!1:this.visible=!0}destroy(){game.stage.aboveContainerNoUpdate2.removeChild(this),this.fgLeftSprite.destroy(),this.fgRightSprite.destroy(),this.fgMidSprite.destroy(),super.destroy()}}},"HealthPack.js":function e(t,s,e){let i,n,a,o;e.export({HealthPack:()=>r}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/DamageText",{DamageText(e){n=e}},1),e.link("/imports/client/HealthPackGfx",{HealthPackGfx(e){a=e}},2),e.link("/imports/client/Obj",{Obj(e){o=e}},3);class r extends o{constructor(e){super(),this.id=e.id,this.setPosition(e.x,e.y),this.width=40,this.grids=[],game.grid.insert(this,this.position.x,this.position.y,this.width),game.healthPacks.push(this),this.setNotVisible(),this.gfx=null}syncDeath(e){let t=this;this.deathTimeout=setTimeout((function(){t.destroy()}),game.netTimeDiff()-(Date.now()-e))}destroy(){this.deathTimeout&&clearTimeout(this.deathTimeout),game.grid.remove(this),game.healthPacks.splice(game.healthPacks.indexOf(this),1),super.destroy()}createGfx(){this.gfx=new a(this)}}},"HealthPackGfx.js":function e(t,s,e){let i;e.export({HealthPackGfx:()=>n}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0);class n extends i{constructor(e){super(PIXI.utils.TextureCache["healthPack01@2x"]),this.healthPack=e,this.position.set(this.healthPack.position.x,this.healthPack.position.y),this.anchor.set(.5,.5),game.stage.fastObjectContainer.addChild(this)}destroy(){game.stage.fastObjectContainer.removeChild(this),super.destroy()}}},"MapEdge.js":function e(t,s,e){let i,n,a;e.export({MapEdge:()=>o}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0),e.link("/imports/both/settings",{_s(e){n=e}},1),e.link("/imports/client/Container",{Container(e){a=e}},2);class o extends a{constructor(){super(),game.stage.topContainer.addChild(this),this.padding=40,this.top=new PIXI.Sprite(PIXI.loader.resources["/images/blackSquare.jpg"].texture),this.top.width=window.innerWidth/n.screenScale,this.top.height=window.innerHeight/n.screenScale,this.top.anchor.set(0,1),this.top.visible=!1,this.addChild(this.top),this.bottom=new PIXI.Sprite(PIXI.loader.resources["/images/blackSquare.jpg"].texture),this.bottom.width=window.innerWidth/n.screenScale,this.bottom.height=window.innerHeight/n.screenScale,this.bottom.anchor.set(0,0),this.bottom.visible=!1,this.addChild(this.bottom),this.left=new PIXI.Sprite(PIXI.loader.resources["/images/blackSquare.jpg"].texture),this.left.width=window.innerWidth/n.screenScale,this.left.height=window.innerHeight/n.screenScale,this.left.anchor.set(1,0),this.left.visible=!1,this.addChild(this.left),this.right=new PIXI.Sprite(PIXI.loader.resources["/images/blackSquare.jpg"].texture),this.right.width=window.innerWidth/n.screenScale,this.right.height=window.innerHeight/n.screenScale,this.right.anchor.set(0,0),this.right.visible=!1,this.addChild(this.right)}updateTick(){game.stage.gameContainer.position.y-window.innerHeight/n.screenScale<-1*game.mode.worldRadius?(this.bottom.visible||(this.bottom.visible=!0),this.bottom.position.set(-1*game.stage.gameContainer.position.x,game.mode.worldRadius+this.padding)):this.bottom.visible&&(this.bottom.visible=!1),game.stage.gameContainer.position.y>game.mode.worldRadius?(this.top.visible||(this.top.visible=!0),this.top.position.set(-1*game.stage.gameContainer.position.x,-1*game.mode.worldRadius-this.padding)):this.top.visible&&(this.top.visible=!1),game.stage.gameContainer.position.x>game.mode.worldRadius?(this.left.visible||(this.left.visible=!0),this.left.position.set(-1*game.mode.worldRadius-this.padding,-1*game.stage.gameContainer.position.y)):this.left.visible&&(this.left.visible=!1),game.stage.gameContainer.position.x-window.innerWidth/n.screenScale<-1*game.mode.worldRadius?(this.right.visible||(this.right.visible=!0),this.right.position.set(game.mode.worldRadius+this.padding,-1*game.stage.gameContainer.position.y)):this.right.visible&&(this.right.visible=!1)}updateTickAfterCamera(){}destroy(){game.stage.topContainer.removeChild(this),super.destroy()}}},"Minimap.js":function e(t,s,e){let i,n;e.export({Minimap:()=>a}),e.link("/imports/client/ContainerNoUpdate",{ContainerNoUpdate(e){i=e}},0),e.link("/imports/both/settings",{_s(e){n=e}},1);class a extends i{constructor(){super(),game.stage.addChild(this),this.bg=new PIXI.Graphics,this.bg.beginFill(660248,.8),this.bg.lineStyle(2,13364991,.2),this.bg.drawRoundedRect(0,0,n.minimapSize,n.minimapSize,3),this.bg.endFill(),this.bg.position.set(window.innerWidth/n.screenScale-10-n.minimapSize,window.innerHeight/n.screenScale-10-n.minimapSize),this.addChild(this.bg);let e="Audiowide",t=11,s=13364991,i=this;window.addEventListener("resize",(function(){i.bg.position.set(window.innerWidth/n.screenScale-10-n.minimapSize,window.innerHeight/n.screenScale-10-n.minimapSize)}))}worldSpaceToMinimapSpace(e,t){return{x:(e+game.mode.worldRadius+500)/(2*game.mode.worldRadius+1e3)*n.minimapSize,y:(t+game.mode.worldRadius+500)/(2*game.mode.worldRadius+1e3)*n.minimapSize}}updateTick(){}updateTickAfterCamera(){}}},"MinimapPayload.js":function e(t,s,e){let i,n;e.export({MinimapPayload:()=>a}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/Sprite",{Sprite(e){n=e}},1);class a extends n{constructor(e,t){super(PIXI.utils.TextureCache["minimapIconSatellite@2x"]),this.anchor.set(.5,.5),this.updatePosition(e,t),game.minimap.bg.addChild(this)}updatePosition(e,t){let s=game.minimap.worldSpaceToMinimapSpace(e,t);this.position.set(Math.round(s.x),Math.round(s.y))}destroy(){game.minimap.bg.removeChild(this),super.destroy()}}},"MinimapPlayer.js":function e(t,s,e){let i,n;e.export({MinimapPlayer:()=>a}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/Sprite",{Sprite(e){n=e}},1);class a extends n{constructor(e,t,s,n){super(PIXI.utils.TextureCache["minimapIconPlayer@2x"]),this.isPlayer=e,this.isPlayer?(this.width=2*this.width,this.height=2*this.height,this.tint=i.tintColors.player):this.tint="RED"==t?i.tintColors.red:"GREEN"==t?i.tintColors.green:i.tintColors.neutral,this.anchor.set(.5,.5),this.updatePosition(s,n),game.minimap.bg.addChild(this)}updatePosition(e,t){let s=game.minimap.worldSpaceToMinimapSpace(e,t);this.position.set(Math.round(s.x)+.5,Math.round(s.y)+.5)}destroy(){game.minimap.bg.removeChild(this),super.destroy()}}},"MinimapSatellite.js":function e(t,s,e){let i,n;e.export({MinimapSatellite:()=>a}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/Sprite",{Sprite(e){n=e}},1);class a extends n{constructor(e,t,s,i,n){super(PIXI.utils.TextureCache["minimapIconSatellite@2x"]),this.team=i,this.anchor.set(.5,.5),this.updatePosition(t,s),game.minimap.bg.addChild(this);let a={fontFamily:["Arial","Helvetica","sans-serif"],fontSize:19,fill:7573147};this.nameText=new PIXI.Text(e,a),this.nameText.anchor.set(0,1),this.addChild(this.nameText),this.nameText.position.x+=-8,this.nameText.position.y-=3,this.levelText=new PIXI.Text(n,a),this.levelText.anchor.set(0,1),this.addChild(this.levelText),this.levelText.position.x+=22,this.levelText.position.y-=3,this.updateLevelTextVisible()}updateTeamColor(e){switch(this.team=e,e){case"RED":this.tint=i.tintColors.red;break;case"GREEN":this.tint=i.tintColors.green;break;case"NEUTRAL":this.tint=16777215}this.updateLevelTextVisible()}updateLevelTextVisible(){game.player&&game.player.team==this.team?this.levelText.visible=!0:this.levelText.visible=!1}updateLevel(e){this.levelText.text=e}updatePosition(e,t){let s=game.minimap.worldSpaceToMinimapSpace(e,t);this.position.set(Math.round(s.x),Math.round(s.y))}destroy(){game.minimap.bg.removeChild(this),super.destroy()}}},"Obj.js":function e(t,s,e){let i,n,a,o;e.export({Obj:()=>r}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("meteor/random",{Random(e){n=e}},1),e.link("/imports/client/Sprite",{Sprite(e){a=e}},2),e.link("/imports/client/GemGfx",{GemGfx(e){o=e}},3);class r{constructor(){this.setNotVisible(),this.gfx=null,this.visible=!1}setPosition(e,t){isNaN(e)||isNaN(t)?console.error(e,t,"position is NaN in obj.setPosition"):isFinite(e)&&isFinite(t)?this.position={x:e,y:t}:console.error(e,t,"position is not finite in obj.setPosition")}destroy(){this.destroyGfx()}updateTick(){this.setNotVisible()}updateGfx(){this.visible&&!this.gfx?this.createGfx():!this.visible&&this.gfx&&this.destroyGfx()}createGfx(){}destroyGfx(){this.gfx&&(this.gfx.destroy(),this.gfx=null)}setVisible(){this.visible=!0}setNotVisible(){this.visible=!1}}},"ObjectPool.js":function e(t,s,e){e.export({ObjectPool:()=>i});class i{constructor(e,t){this.objectClass=e,this.numInPool=t,this.create()}getFromPool(e){var t=this.pool.pop();return t||(t=new this.objectClass),t.showObj(e),t}returnToPool(e){e.hideObj(),this.pool.push(e)}create(){this.pool=new Array(this.numInPool);for(var e=0;e<this.numInPool;e++)this.pool[e]=new this.objectClass}destroy(){for(var e=0;e<this.pool.length;e++)this.pool[e].destroy();this.pool=[]}}},"Payload.js":function e(t,s,e){let i,n,a;e.export({Payload:()=>o}),e.link("/imports/client/Obj",{Obj(e){i=e}},0),e.link("/imports/client/PayloadGfx",{PayloadGfx(e){n=e}},1),e.link("/imports/client/MinimapPayload",{MinimapPayload(e){a=e}},2);class o extends i{constructor(e){super(),this.id=e.id,this.setPosition(e.x,e.y),this.grids=[],this.width=100,game.grid.insert(this,this.position.x,this.position.y,this.width),game.payloads.push(this),game.minimap&&(this.minimapIcon=new a(this.position.x,this.position.y)),this.setNotVisible(),this.gfx=null}syncDeath(e){let t=this;this.deathTimeout=setTimeout((function(){t.destroy()}),game.netTimeDiff()-(Date.now()-e))}destroy(){this.deathTimeout&&clearTimeout(this.deathTimeout),game.grid.remove(this),game.payloads.splice(game.payloads.indexOf(this),1),super.destroy()}createGfx(){this.gfx=new n(this)}}},"PayloadGfx.js":function e(t,s,e){let i;e.export({PayloadGfx:()=>n}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0);class n extends i{constructor(e){super(PIXI.loader.resources["/images/payload01@2x.png"].texture),this.payload=e,this.position.set(this.payload.position.x,this.payload.position.y),this.anchor.set(.5,.5),game.stage.fastObjectContainer.addChild(this)}destroy(){game.stage.fastObjectContainer.removeChild(this),super.destroy()}}},"Powerup.js":function e(t,s,e){let i,n;e.export({Powerup:()=>a}),e.link("/imports/client/PowerupGfx",{PowerupGfx(e){i=e}},0),e.link("/imports/client/Obj",{Obj(e){n=e}},1);class a extends n{constructor(e){switch(super(),e.type){case"doubledamage":this.name="powerupDoubleDamage";break;case"speed":this.name="powerupSpeed";break;case"invis":this.name="powerupInvis"}this.id=e.id,this.setPosition(e.x,e.y),this.width=40,this.grids=[],game.grid.insert(this,this.position.x,this.position.y,this.width),game.powerups.push(this),this.setNotVisible(),this.type=e.type,this.gfx=null}syncDeath(e){let t=this;this.deathTimeout=setTimeout((function(){t.destroy()}),game.netTimeDiff()-(Date.now()-e))}destroy(){this.deathTimeout&&clearTimeout(this.deathTimeout),game.grid.remove(this),game.powerups.splice(game.powerups.indexOf(this),1),super.destroy()}createGfx(){this.gfx=new i(this)}}},"PowerupGfx.js":function e(t,s,e){let i,n,a;e.export({PowerupGfx:()=>o}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("meteor/random",{Random(e){n=e}},1),e.link("/imports/client/Sprite",{Sprite(e){a=e}},2);class o extends a{constructor(e){super(PIXI.utils.TextureCache[e.name+"@2x"]),this.powerup=e,this.position.set(this.powerup.position.x,this.powerup.position.y),this.anchor.set(.5,.5),game.stage.fastObjectContainer.addChild(this)}destroy(){game.stage.fastObjectContainer.removeChild(this),super.destroy()}}},"Satellite.js":function e(t,s,e){let i,n,a,o,r,l,u,d,p;e.export({Satellite:()=>h}),e.link("/imports/client/MinimapSatellite",{MinimapSatellite(e){i=e}},0),e.link("/imports/client/SatelliteContestBar",{SatelliteContestBar(e){n=e}},1),e.link("/imports/both/settings",{_s(e){a=e}},2),e.link("/imports/client/HealthBar",{HealthBar(e){o=e}},3),e.link("/imports/client/SatelliteGfx",{SatelliteGfx(e){r=e}},4),e.link("/imports/client/Obj",{Obj(e){l=e}},5),e.link("/imports/client/DamageText",{DamageText(e){u=e}},6),e.link("/imports/client/sounds",{gs(e){d=e}},7),e.link("/imports/client/Explosion",{Explosion(e){p=e}},8);class h extends l{constructor(e){super(),this.id=e.id,this.setPosition(e.x,e.y),this.name=e.name,this.level=e.level,this.team=e.team,game.minimap&&(this.minimapIcon=new i(this.name,this.position.x,this.position.y,this.team,this.level)),null!=this.team&&this.setTeam(this.team),this.isContesting=e.isContesting,this.contestStart=performance.now(),this.maxHealth=e.maxHealth,this.health=e.maxHealth,game.satellites.push(this),this.playerInsideUpgradeRadius=!1,this.gunRotation=0,this.grids=[],game.grid.insert(this,this.position.x,this.position.y,a.satelliteUpgradeRadius),this.healthBar=new o(this),this.setNotVisible(),this.gfx=null,this.contestSoundId=null}syncHealth(e,t){let s=this;this.syncHealthTimeout=setTimeout((function(){var t=s.health-e;s.health=e,s.healthBar.updateBar(),Math.round(t)>0&&s.visible&&new u(s.position,-1*t)}),game.netTimeDiff()-(Date.now()-t))}syncStartContest(e){let t=this;this.syncStartContestTimeout=setTimeout((function(){t.startContest()}),game.netTimeDiff()-(Date.now()-e))}syncStopContest(e){let t=this;this.syncStopContestTimeout=setTimeout((function(){t.stopContest()}),game.netTimeDiff()-(Date.now()-e))}sync(e){this.gunRotation=e.gunRotation,this.gfx&&(this.gfx.gun.rotation=e.gunRotation)}syncStatus(e){let t=!1;this.level!=e.level&&(e.level>this.level&&this.visible&&d.play("satelliteCaptured"),e.level<this.level&&this.visible&&new p(this.position.x,this.position.y,600),this.level=e.level,t=!0,this.minimapIcon&&this.minimapIcon.updateLevel(this.level)),this.maxHealth!=e.maxHealth&&(this.maxHealth=e.maxHealth,this.healthBar.updateBar()),this.team!=e.team?(this.setTeam(e.team),game.ui.deps.satelliteTeams.changed()):t&&this.gfx&&this.gfx.updateGun(),this.gfx&&this.gfx.satelliteInfo.updateText(),game.ui.deps.satelliteUpgradeButtons.changed()}stopContest(){this.isContesting&&(this.isContesting=!1,this.contestBar&&(this.contestBar.destroy(),this.contestBar=null),this.contestSoundId&&this.stopContestSound())}startContest(){this.contestStart=performance.now(),this.isContesting=!0,this.contestBar=new n(this.position.x,this.position.y-10),this.visible&&this.playContestSound()}playContestSound(){this.contestSoundId=d.play("satelliteContest"),this.contestSoundId&&d.sounds.satelliteContest.fade(0,d.volumes.satelliteContest,2,this.contestSoundId)}stopContestSound(){let e=this;this.contestSoundId&&(d.sounds.satelliteContest.fade(d.volumes.satelliteContest,0,1,this.contestSoundId),d.sounds.satelliteContest.once("fade",(function(){d.sounds.satelliteContest.stop(e.contestSoundId),e.contestSoundId=null}),this.contestSoundId))}setTeam(e){this.team=e,this.stopContest(),this.minimapIcon&&this.minimapIcon.updateTeamColor(this.team),this.gfx&&(this.gfx.updateTeam(),this.gfx.updateGun(),this.gfx.satelliteInfo.updateText()),this.visible&&(this.stopContestSound(),d.play("satelliteCaptured"))}destroy(){this.syncStopContestTimeout&&clearTimeout(this.syncStopContestTimeout),this.syncStartContestTimeout&&clearTimeout(this.syncStartContestTimeout),this.syncHealthTimeout&&clearTimeout(this.syncHealthTimeout),this.contestBar&&this.contestBar.destroy(),this.healthBar.destroy(),game.grid.remove(this),this.minimapIcon.destroy(),game.satellites.splice(game.satellites.indexOf(this),1),super.destroy()}updateTick(){if(game.player&&this.team==game.player.team){var e=game.player.position.x-this.position.x,t=game.player.position.y-this.position.y,s;Math.sqrt(e*e+t*t)<=a.satelliteUpgradeRadius?this.playerInsideUpgradeRadius||(this.playerInsideUpgradeRadius=!0,Session.set("satelliteId",this.id),game.ui.deps.satelliteUpgradeButtons.changed(),Session.set("showSatelliteUpgrades",!0)):this.playerInsideUpgradeRadius&&(this.playerInsideUpgradeRadius=!1,Session.set("showSatelliteUpgrades",!1))}}createGfx(){this.gfx=new r(this)}setVisible(){this.visible=!0,this.healthBar.setVisible()}setNotVisible(){this.visible=!1,this.healthBar&&this.healthBar.setNotVisible()}updateGfx(){super.updateGfx(),this.healthBar.updateGfx()}}},"SatelliteAreaGraphics.js":function e(t,s,e){let i;e.export({SatelliteAreaGraphics:()=>n}),e.link("/imports/both/settings",{_s(e){i=e}},0);class n extends PIXI.Graphics{constructor(e,t){super(),this.posX=e,this.posY=t,game.stage.bottomContainerNoUpdate.addChild(this),this.lineStyle(1,12971263,.25),this.drawCircle(this.posX,this.posY,i.satelliteUpgradeRadius)}destroy(){try{super.destroy()}catch(e){}game.stage.bottomContainerNoUpdate.removeChild(this)}}},"SatelliteContestBar.js":function e(t,s,e){let i,n;e.export({SatelliteContestBar:()=>a}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/Sprite",{Sprite(e){n=e}},1);class a extends n{constructor(e,t){super(PIXI.utils.TextureCache["barBg@2x"]),this.barWidth=50,this.fgLeftSprite=new PIXI.Sprite(PIXI.utils.TextureCache["barFgLeft@2x"]),this.fgRightSprite=new PIXI.Sprite(PIXI.utils.TextureCache["barFgRight@2x"]),this.fgMidSprite=new PIXI.Sprite(PIXI.loader.resources["/images/barFgMid@2x.png"].texture),this.anchor.set(.5,.5),this.position.set(e,t-25),this.fgLeftSprite.anchor.set(1,.5),this.fgLeftSprite.position.x=-25,this.fgRightSprite.anchor.set(0,.5),this.fgRightSprite.position.x=25,this.fgMidSprite.anchor.set(0,.5),this.fgMidSprite.position.x=-25,this.startMs=performance.now(),game.stage.topContainer.addChild(this),this.addChild(this.fgLeftSprite),this.addChild(this.fgRightSprite),this.addChild(this.fgMidSprite)}updateBar(){this.fgMidSprite.width=(performance.now()-this.startMs)/i.contestTimeMs*this.barWidth,this.fgRightSprite.position.x=this.fgMidSprite.width-25}updateTick(){this.updateBar(),performance.now()-this.startMs>i.contestTimeMs&&this.destroy()}destroy(){game.stage.topContainer.removeChild(this),this.fgLeftSprite&&(this.fgLeftSprite.destroy(),this.fgLeftSprite=null),this.fgRightSprite&&(this.fgRightSprite.destroy(),this.fgRightSprite=null),this.fgMidSprite&&(this.fgMidSprite.destroy(),this.fgMidSprite=null),super.destroy()}}},"SatelliteGfx.js":function e(t,s,e){let i,n,a,o,r,l,u,d;e.export({SatelliteGfx:()=>p}),e.link("/imports/client/MinimapSatellite",{MinimapSatellite(e){i=e}},0),e.link("/imports/client/SatelliteGun",{SatelliteGun(e){n=e}},1),e.link("/imports/client/SatelliteAreaGraphics",{SatelliteAreaGraphics(e){a=e}},2),e.link("/imports/client/SatelliteContestBar",{SatelliteContestBar(e){o=e}},3),e.link("/imports/both/settings",{_s(e){r=e}},4),e.link("/imports/client/HealthBar",{HealthBar(e){l=e}},5),e.link("/imports/client/SatelliteInfo",{SatelliteInfo(e){u=e}},6),e.link("/imports/client/Sprite",{Sprite(e){d=e}},7);class p extends d{constructor(e){super(PIXI.utils.TextureCache["satellite01@2x"]),this.satellite=e,this.position.set(this.satellite.position.x,this.satellite.position.y),this.anchor.set(.5,.5),this.areaGraphics=new a(this.position.x,this.position.y),game.stage.objectNoUpdateContainer.addChild(this),this.satelliteInfo=new u(this.satellite),this.updateGun(),this.updateTeam()}stopContest(){this.isContesting=!1,this.contestBar&&this.contestBar.destroy()}startContest(){this.contestStart=performance.now(),this.isContesting=!0,this.contestBar=new o(this.position.x,this.position.y-10)}updateTeam(){switch(this.satellite.team){case"RED":this.texture=PIXI.utils.TextureCache["satellite01Red@2x"];break;case"GREEN":this.texture=PIXI.utils.TextureCache["satellite01Green@2x"];break;case"NEUTRAL":this.texture=PIXI.utils.TextureCache["satellite01@2x"]}}updateGun(){this.gun&&this.gun.destroy(),this.gun=new n(this.satellite.level,this.position.x,this.position.y),this.gun.rotation=this.satellite.gunRotation}destroy(){this.satelliteInfo.destroy(),this.contestBar&&this.contestBar.destroy(),this.areaGraphics.destroy(),this.gun.destroy(),game.stage.objectNoUpdateContainer.removeChild(this),super.destroy()}}},"SatelliteGun.js":function e(t,s,e){let i;e.export({SatelliteGun:()=>n}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0);class n extends i{constructor(e,t,s){var i;super(i=PIXI.utils.TextureCache["satelliteGun0"+e+"@2x"]),this.position.set(t,s),this.anchor.set(.5,.5),game.stage.aboveContainerNoUpdate.addChild(this)}destroy(){game.stage.aboveContainerNoUpdate.removeChild(this),super.destroy()}}},"SatelliteInfo.js":function e(t,s,e){let i;e.export({SatelliteInfo:()=>n}),e.link("/imports/both/settings",{_s(e){i=e}},0);class n extends PIXI.Container{constructor(e){super();let t={fontFamily:"Audiowide",fontSize:16,fill:12971263,dropShadow:!0,dropShadowDistance:0,dropShadowBlur:3,dropShadowColor:12971263};this.satellite=e,this.id=game.createId(),this.nameText=new PIXI.Text("Satellite "+e.name+" lvl"+e.level,t),this.teamText=new PIXI.Text("",t),this.infoGraphics=new PIXI.Graphics,this.infoGraphics.lineStyle(1,12971263),this.infoGraphics.moveTo(-110,-110),this.infoGraphics.lineTo(-130,-130),this.infoGraphics.lineTo(-300,-130),this.infoGraphics.endFill(),this.nameText.anchor.set(0,1),this.teamText.anchor.set(0,0),this.position=e.position,this.addChild(this.nameText),this.addChild(this.teamText),this.addChild(this.infoGraphics),this.nameText.position.x-=300,this.nameText.position.y-=130,this.teamText.position.x-=300,this.teamText.position.y-=130,this.infoGraphics.alpha=.7,game.stage.aboveContainerNoUpdate.addChild(this),this.updateText()}updateText(){this.nameText.text="Satellite "+this.satellite.name+" lvl "+this.satellite.level,"RED"==this.satellite.team?this.teamText.text="Red Team":"GREEN"==this.satellite.team?this.teamText.text="Green Team":this.teamText.text=""}destroy(){game.stage.aboveContainerNoUpdate.removeChild(this),this.removeChild(this.nameText),this.removeChild(this.teamText),this.nameText.destroy(),this.teamText.destroy(),super.destroy({children:!0})}}},"ShieldPack.js":function e(t,s,e){let i,n,a,o;e.export({ShieldPack:()=>r}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/DamageText",{DamageText(e){n=e}},1),e.link("/imports/client/ShieldPackGfx",{ShieldPackGfx(e){a=e}},2),e.link("/imports/client/Obj",{Obj(e){o=e}},3);class r extends o{constructor(e){super(),this.id=e.id,this.setPosition(e.x,e.y),this.width=40,this.grids=[],game.grid.insert(this,this.position.x,this.position.y,this.width),game.healthPacks.push(this),this.setNotVisible(),this.gfx=null}syncDeath(e){let t=this;this.deathTimeout=setTimeout((function(){t.destroy()}),game.netTimeDiff()-(Date.now()-e))}destroy(){this.deathTimeout&&clearTimeout(this.deathTimeout),game.grid.remove(this),game.healthPacks.splice(game.healthPacks.indexOf(this),1),super.destroy()}createGfx(){this.gfx=new a(this)}}},"ShieldPackGfx.js":function e(t,s,e){let i;e.export({ShieldPackGfx:()=>n}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0);class n extends i{constructor(e){super(PIXI.utils.TextureCache["shieldPack01@2x"]),this.healthPack=e,this.position.set(this.healthPack.position.x,this.healthPack.position.y),this.anchor.set(.5,.5),game.stage.fastObjectContainer.addChild(this)}destroy(){game.stage.fastObjectContainer.removeChild(this),super.destroy()}}},"Ship.js":function e(t,s,e){let i,n,a,o,r,l,u,d,p;e.export({Ship:()=>h}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/HealthBar",{HealthBar(e){n=e}},1),e.link("/imports/client/MinimapPlayer",{MinimapPlayer(e){a=e}},2),e.link("/imports/client/ShipGfx",{ShipGfx(e){o=e}},3),e.link("/imports/client/Obj",{Obj(e){r=e}},4),e.link("/imports/client/Explosion",{Explosion(e){l=e}},5),e.link("/imports/client/DamageText",{DamageText(e){u=e}},6),e.link("/imports/client/sounds",{gs(e){d=e}},7),e.link("meteor/check",{check(e){p=e}},8);class h extends r{constructor(e){super(),this.shipGfx=e.shipGfx,this.setPosition(e.x,e.y),this.width=100,this.id=e.id,this.name=e.name,this.team=e.team,this.isBot=e.isBot,this.shieldPoints=0,this.userId=e.userId,game.ui.deps.playerNames.changed(),this.rotation=0,this.hasPowerup_doubledamage=!1,this.hasPowerup_speed=!1,this.hasPowerup_invis=!1,this.password=e.password,this.isDead=!1,this.tickNum=0,this.mass=e.mass,this.maxHealth=e.maxHealth,this.health=this.maxHealth,this.isEngineOn=!1,this.isBoosterOn=!1,this.boosterRotation=0,this.lastSyncPositions=[],game.players.push(this),this.healthBar=new n(this),this.upgradeLevel={};let t=this;i.upgrades.ship.forEach((function(e){t.upgradeLevel[e.id]=1})),this.shipSize=i.shipStartSize,this.shipScale=1,game.grid.insert(this,this.position.x,this.position.y,this.shipSize*this.shipScale),this.updateShipSize(),this.stats_satellitesCaptured=e.stats_satellitesCaptured,this.stats_satellitesUpgraded=e.stats_satellitesUpgraded,this.stats_shipsDestroyed=e.stats_shipsDestroyed,this.stats_goldCollected=e.stats_goldCollected,this.stats_asteroidsDestroyed=e.stats_asteroidsDestroyed,this.stats_networth=e.stats_networth,this.shipPowerups=[],this.createMinimapIcon(),this.grids=[],this.setNotVisible(),this.gfx=null,this.doneSyncing=!1,this.stateName="Waiting"}setBotState(e){this.stateName=e,this.gfx&&this.gfx.shipStateName&&(this.gfx.shipStateName.text=this.stateName)}tempDeath(){this.isDead=!0,this.deathTimeout&&clearTimeout(this.deathTimeout),this.lostPowerupTimeout&&clearTimeout(this.lostPowerupTimeout),this.gainedPowerupTimeout&&clearTimeout(this.gainedPowerupTimeout),this.syncHealthTimeout&&clearTimeout(this.syncHealthTimeout),this.syncCollectHealthPackTimeout&&clearTimeout(this.syncCollectHealthPackTimeout),this.syncCollisionTimeout&&clearTimeout(this.syncCollisionTimeout),this.visible&&new l(this.position.x,this.position.y,3*this.width),game.grid.remove(this),this.minimapIcon.visible=!1,this.hasPowerup_doubledamage=!1,this.hasPowerup_speed=!1,this.hasPowerup_invis=!1,this.gfx&&(this.gfx.lostPowerup("doubledamage"),this.gfx.lostPowerup("speed"),this.gfx.lostPowerup("invis")),game.ui.deps.powerupUi.changed(),this.isEngineOn=!1,this.isBoosterOn=!1,this.boosterRotation=0,this.healthBar.visible=!1,this.healthBar.gfx&&(this.healthBar.gfx.destroy(),this.healthBar.gfx=null),this.gfx&&(this.gfx.destroy(),this.gfx=null),game.ui.deps.players.changed()}respawn(e,t){this.setPosition(e,t),this.isDead=!1,game.grid.insert(this,this.position.x,this.position.y,this.shipSize*this.shipScale),this.minimapIcon.visible=!0,this.healthBar.visible=!0,game.ui.deps.players.changed()}syncTempDeath(e){let t=this;setTimeout((function(){t.tempDeath()}),game.netTimeDiff()-(Date.now()-e))}updateShipSize(){this.shipScale=1+(this.mass-1)*i.shipSizeGainMultiplier,this.gfx&&(this.gfx.width=this.shipSize*this.shipScale,this.gfx.height=this.shipSize*this.shipScale,this.gfx.counterSprite.width=this.shipSize*this.shipScale,this.gfx.counterSprite.height=this.shipSize*this.shipScale,this.gfx.boosterSprite.width=this.shipSize*this.shipScale,this.gfx.boosterSprite.height=this.shipSize*this.shipScale,this.gfx.shieldSprite.updateSize()),game.grid.update(this,this.position.x,this.position.y,this.shipSize*this.shipScale)}createMinimapIcon(){this.minimapIcon=new a(!1,this.team,this.position.x,this.position.y)}gainedPowerup(e,t){let s=this;this.gainedPowerupTimeout=setTimeout((function(){switch(s["hasPowerup_"+e]=!0,e){case"doubledamage":case"speed":break;case"invis":game.player&&game.player.id==s.id||(s.minimapIcon.visible=!1,s.healthBar.hidden=!0)}s.gfx&&s.gfx.gainedPowerup(e),game.ui.deps.powerupUi.changed()}),game.netTimeDiff()-(Date.now()-t))}lostPowerup(e,t){let s=this;this.lostPowerupTimeout=setTimeout((function(){switch(s["hasPowerup_"+e]=!1,e){case"doubledamage":case"speed":break;case"invis":s.minimapIcon.visible=!0,s.healthBar.hidden=!1}s.gfx&&s.gfx.lostPowerup(e),game.ui.deps.powerupUi.changed()}),game.netTimeDiff()-(Date.now()-t))}sync(e){this.lastSyncPositions.length&&this.lastSyncPositions[0].t==e.time?(this.lastSyncPositions.x=e.x,this.lastSyncPositions.y=e.y,this.lastSyncPositions.r=e.rotation):this.lastSyncPositions.unshift({x:e.x,y:e.y,t:e.time,r:e.rotation}),this.lastSyncPositions.length>10&&this.lastSyncPositions.pop(),this.lastSyncPositions.sort((function(e,t){return t.t-e.t})),game.player?game.player.id!=this.id&&(this.isEngineOn=e.isEngineOn):this.isEngineOn=e.isEngineOn,this.isBoosterOn=e.isBoosterOn,this.boosterRotation=e.boosterRotation,this.gfx&&(this.isBoosterOn?(game.player&&(this.id!=game.player.id&&this.hasPowerup_invis||this.gfx.dirExhaust.showExhaust()),this.gfx.dirExhaust.rotation=this.boosterRotation):this.gfx.dirExhaust.hideExhaust())}syncCollision(e,t){this.syncCollisionTimeout=setTimeout((function(){var e=d.play("collision")}),game.netTimeDiff()-(Date.now()-t))}syncCollectHealthPack(e){let t=this;this.syncCollectHealthPackTimeout=setTimeout((function(){new u(t.position,i.healthPackHealth),d.play("collectHealth")}),game.netTimeDiff()-(Date.now()-e))}syncCollectShieldPack(e){let t=this;this.syncCollectShieldPackTimeout=setTimeout((function(){d.play("collectHealth")}),game.netTimeDiff()-(Date.now()-e))}syncHealth(e,t){let s=this;this.syncHealthTimeout=setTimeout((function(){var t=s.health-e,i;s.health=e,s.healthBar.updateBar(),Math.round(t)>0&&new u(s.position,-1*t)}),game.netTimeDiff()-(Date.now()-t))}syncShield(e,t){this.syncShieldTimeout=setTimeout(()=>{var t=e-this.shieldPoints;this.shieldPoints=e,t>0&&new u(this.position,t),this.gfx&&this.gfx.updateShield()},game.netTimeDiff()-(Date.now()-t))}syncDeath(e,t){let s=this;this.deathTimeout=setTimeout((function(){s.destroy(e)}),game.netTimeDiff()-(Date.now()-t))}updateTick(){let e=this;if(game.ping){for(var t=Date.now()-game.netTimeDiff(),s=null,i=null,n=1;n<this.lastSyncPositions.length;n++)s||this.lastSyncPositions[n].t<t&&(s=this.lastSyncPositions[n],i=this.lastSyncPositions[n-1]);if(s){var a=(t-s.t)/(i.t-s.t);if(0!=a){this.setPosition(s.x+a*(i.x-s.x),s.y+a*(i.y-s.y));var o=Math.atan2(Math.sin(i.r-s.r),Math.cos(i.r-s.r));this.rotation=s.r+o*Math.max(0,Math.min(a,1)),this.doneSyncing||(this.doneSyncing=!0)}}var r=this.gfx;if(r&&this.doneSyncing){r.rotation=this.rotation,r.counterSprite.rotation=-2*this.rotation,r.position.set(this.position.x,this.position.y),r.boosterSprite.position.set(this.position.x,this.position.y),r.counterSprite.position.set(this.position.x,this.position.y);for(var l=0;l<r.shipPowerups.length;l++)r.shipPowerups[l].position.set(e.position.x+r.shipPowerups[l].offsetX,e.position.y-r.shipPowerups[l].offsetY);r.shipName&&r.shipName.position.set(this.position.x,this.position.y-r.shipName.offsetY),r.shipStateName&&r.shipStateName.position.set(this.position.x,this.position.y-r.shipStateName.offsetY)}this.healthBar&&this.healthBar.updatePosition(this.position.x,this.position.y-25),this.tickNum%50==0&&this.minimapIcon&&this.minimapIcon.updatePosition(this.position.x,this.position.y),this.tickNum++,game.grid.update(this,this.position.x,this.position.y,this.shipSize*this.shipScale)}}updateTickAfterCamera(){this.gfx&&this.gfx.dirExhaust&&this.gfx.dirExhaust.updateTickAfterCamera()}createGfx(){this.isDead||(this.gfx=new o(this))}destroy(e){this.deathTimeout&&clearTimeout(this.deathTimeout),this.lostPowerupTimeout&&clearTimeout(this.lostPowerupTimeout),this.gainedPowerupTimeout&&clearTimeout(this.gainedPowerupTimeout),this.syncHealthTimeout&&clearTimeout(this.syncHealthTimeout),this.syncShieldTimeout&&clearTimeout(this.syncShieldTimeout),this.syncCollectHealthPackTimeout&&clearTimeout(this.syncCollectHealthPackTimeout),this.syncCollectShieldPackTimeout&&clearTimeout(this.syncCollectShieldPackTimeout),this.syncCollisionTimeout&&clearTimeout(this.syncCollisionTimeout),this.visible&&e&&new l(this.position.x,this.position.y,3*this.width),this.hasPowerup_doubledamage=!1,this.hasPowerup_speed=!1,this.hasPowerup_invis=!1,this.gfx&&(this.gfx.lostPowerup("doubledamage"),this.gfx.lostPowerup("speed"),this.gfx.lostPowerup("invis")),game.ui.deps.powerupUi.changed(),this.isEngineOn=!1,this.isBoosterOn=!1,this.boosterRotation=0,super.destroy(),game.grid.remove(this),this.minimapIcon.destroy(),this.healthBar.destroy(),game.players.splice(game.players.indexOf(this),1),game.ui.deps.players.changed()}setVisible(){this.visible=!0,this.healthBar.setVisible()}setNotVisible(){this.visible=!1,this.healthBar&&this.healthBar.setNotVisible()}updateGfx(){super.updateGfx(),this.healthBar.updateGfx()}}},"ShipBooster.js":function e(t,s,e){let i;e.export({ShipBooster:()=>n}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0);class n extends i{constructor(e,t){super(PIXI.utils.TextureCache[e]),this.anchor.set(.5,.5),this.width=t,this.height=t,game.stage.objectNoUpdateContainer.addChild(this)}destroy(){game.stage.objectNoUpdateContainer.removeChild(this),super.destroy()}}},"ShipCounter.js":function e(t,s,e){let i;e.export({ShipCounter:()=>n}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0);class n extends i{constructor(e,t){super(PIXI.utils.TextureCache[e]),this.anchor.set(.5,.5),this.width=t,this.height=t,game.stage.objectNoUpdateContainer.addChild(this)}destroy(){game.stage.objectNoUpdateContainer.removeChild(this),super.destroy()}}},"ShipExhaust.js":function e(t,s,e){let i,n,a;e.export({ShipExhaust:()=>o}),e.link("/imports/client/ShipSmoke",{ShipSmoke(e){i=e}},0),e.link("/imports/both/settings",{_s(e){n=e}},1),e.link("/imports/client/Sprite",{Sprite(e){a=e}},2);class o extends a{constructor(e,t,s,i){super(PIXI.utils.TextureCache["exhaust01@2x"]),this.offsetX=t,this.offsetY=s,this.heightMultiplier=i,this.ship=e,this.originalWidth=1.5*this.width,this.height=1.5*this.height,this.updateWidth(),this.lastExhauseSmokeSpawnTime=performance.now()}updateWidth(){this.width=(1/(2*n.upgrades.shipCost.length)+.5)*this.originalWidth,this.ship.hasPowerup_speed&&(this.width=2*this.width),this.position.x=this.ship.shipSize*this.offsetX,this.position.y=this.ship.shipSize*this.offsetY,this.anchor.set(1,.5)}updateTick(){this.visible&&this.spawnSmoke()}setVisible(e){e&&!this.visible&&(this.visible=!0),!e&&this.visible&&(this.visible=!1)}spawnSmoke(){let e=performance.now();if(e-this.lastExhauseSmokeSpawnTime>150){let t=Math.cos(this.ship.rotation)*(this.width/2*-1+this.ship.shipSize/2*this.ship.shipScale*this.offsetX),s=Math.sin(this.ship.rotation)*(this.width/2*-1+this.ship.shipSize/2*this.ship.shipScale*this.offsetX);t-=Math.sin(this.ship.rotation)*(this.ship.shipSize/2*this.ship.shipScale*this.offsetY),s+=Math.cos(this.ship.rotation)*(this.ship.shipSize/2*this.ship.shipScale*this.offsetY),new i(this.ship.position.x+t,this.ship.position.y+s,this.ship.rotation),this.lastExhauseSmokeSpawnTime=e}}destroy(){this.ship.gfx.removeChild(this),super.destroy()}}},"ShipExhaustDirectional.js":function e(t,s,e){let i,n,a,o;e.export({ShipExhaustDirectional:()=>r}),e.link("/imports/client/ShipSmoke",{ShipSmoke(e){i=e}},0),e.link("/imports/both/settings",{_s(e){n=e}},1),e.link("/imports/client/Sprite",{Sprite(e){a=e}},2),e.link("/imports/client/sounds",{gs(e){o=e}},3);class r extends a{constructor(e){switch(super(PIXI.utils.TextureCache["exhaust01@2x"]),this.ship=e,this.originalWidth=.6*this.width,this.originalHeight=.5*this.height,this.anchor.set(1,.5),game.stage.objectContainer.addChild(this),this.position.set(e.position.x,e.position.y),this.lastExhauseSmokeSpawnTime=performance.now(),e.team){case"GREEN":this.originalOffset=35;break;case"RED":case"NEUTRAL":this.originalOffset=35}this.updateWidth(),this.soundId=o.sounds.dirEngine.play(),o.sfxOn&&this.ship.isBoosterOn||o.sounds.dirEngine.volume(0,this.soundId)}updateWidth(){this.width=(1/(2*n.upgrades.shipCost.length)+.3)*this.originalWidth*this.ship.shipScale,this.ship.hasPowerup_speed&&(this.width=2.5*this.width),this.height=this.originalHeight*this.ship.shipScale,this.offset=this.originalOffset*this.ship.shipScale,this.anchor.set(1,.5)}showExhaust(){this.visible||(this.visible=!0,o.sfxOn&&(o.sounds.dirEngine.seek(0,this.soundId),o.sounds.dirEngine.volume(o.currentVolumes.dirEngine,this.soundId)))}hideExhaust(){this.visible&&(this.visible=!1,o.sounds.dirEngine.volume(0,this.soundId))}updateTick(){if(this.ship.isBoosterOn){if(!this.ship.hasPowerup_invis){let e=performance.now();if(e-this.lastExhauseSmokeSpawnTime>150){let t=Math.cos(this.ship.boosterRotation)*(this.offset+this.width)*-1,s=Math.sin(this.ship.boosterRotation)*(this.offset+this.width)*-1;this.ship.visible&&new i(this.ship.position.x+t,this.ship.position.y+s,this.ship.boosterRotation),this.lastExhauseSmokeSpawnTime=e}}if(game.player&&this.ship.id!=game.player.id){const e=(this.ship.position.x-game.player.position.x)/n.soundSpactialDivisor,t=(this.ship.position.y-game.player.position.y)/n.soundSpactialDivisor;isNaN(e)||isNaN(t)||o.sounds.dirEngine.pos(e,t,0,this.soundId)}}}updateTickAfterCamera(){this.position.set(this.ship.position.x+Math.cos(this.ship.boosterRotation)*this.offset*-1,this.ship.position.y+Math.sin(this.ship.boosterRotation)*this.offset*-1)}destroy(){o.sounds.dirEngine.stop(this.soundId),game.stage.objectContainer.removeChild(this),super.destroy()}}},"ShipGfx.js":function e(t,s,e){let i,n,a,o,r,l,u,d,p,h,c,m;e.export({ShipGfx:()=>g}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/ShipExhaust",{ShipExhaust(e){n=e}},1),e.link("/imports/client/ShipExhaustDirectional",{ShipExhaustDirectional(e){a=e}},2),e.link("/imports/client/Explosion",{Explosion(e){o=e}},3),e.link("/imports/client/ShipName",{ShipName(e){r=e}},4),e.link("/imports/client/ShipStateName",{ShipStateName(e){l=e}},5),e.link("/imports/client/ShipPowerup",{ShipPowerup(e){u=e}},6),e.link("/imports/client/ShipBooster",{ShipBooster(e){d=e}},7),e.link("/imports/client/ShipCounter",{ShipCounter(e){p=e}},8),e.link("/imports/client/ShipShield",{ShipShield(e){h=e}},9),e.link("/imports/client/Sprite",{Sprite(e){c=e}},10),e.link("/imports/client/sounds",{gs(e){m=e}},11);class g extends c{constructor(e){"ship_blue01@2x"==e.shipGfx?super(PIXI.loader.resources["/images/ship_blue01@2x.png"].texture):super(PIXI.utils.TextureCache[e.shipGfx]),this.ship=e,this.shipGfx=i.ships.find((function(t){return t.ship==e.shipGfx})),this.width=e.shipSize*e.shipScale,this.height=e.shipSize*e.shipScale;let t=this;this.engineSoundId=m.sounds.engine.play(),this.isFadingEngineSound=!1,m.sfxOn&&this.ship.isEngineOn||m.sounds.engine.volume(0,this.engineSoundId),this.dirExhaust=new a(this.ship),this.updateEngineSoundRate(),this.position.set(e.position.x,e.position.y),this.anchor.set(.5,.5),game.stage.shipContainer.addChild(this),game.player&&this.ship.id==game.player.id||(this.shipName=new r(this.ship)),this.ship.isBot&&(this.shipStateName=new l(this.ship)),this.counterSprite=new p(this.shipGfx.counter,this.ship.shipSize*this.ship.shipScale),this.boosterSprite=new d(this.shipGfx.booster,this.ship.shipSize*this.ship.shipScale),this.exhausts=[],this.shipGfx.exhausts.forEach(e=>{this.exhausts.push(new n(this.ship,e.offsetX,e.offsetY,e.heightMultiplier))});for(var s=0;s<this.exhausts.length;s++)this.addChild(this.exhausts[s]);this.shipPowerups=[],this.ship.hasPowerup_doubledamage&&this.gainedPowerup("doubledamage"),this.ship.hasPowerup_speed&&this.gainedPowerup("speed"),this.ship.hasPowerup_invis&&this.gainedPowerup("invis"),this.shieldSprite=new h(this.ship),this.updateShield()}updateShield(){this.shieldSprite&&(this.ship.shieldPoints>0?this.ship.hasPowerup_invis?game.player&&game.player.id==this.ship.id?this.shieldSprite.visible=!0:this.shieldSprite.visible=!1:this.shieldSprite.visible=!0:this.shieldSprite.visible=!1)}gainedPowerup(e){let t=this;switch(m.play("collectPowerup"),e){case"doubledamage":break;case"speed":this.exhausts.forEach((function(e){e.updateWidth()})),this.dirExhaust.updateWidth(),this.updateEngineSoundRate();break;case"invis":game.player&&game.player.id==this.ship.id?(this.alpha=.5,this.boosterSprite.alpha=.5,this.counterSprite.alpha=.5,this.dirExhaust.alpha=.5):(this.alpha=0,this.boosterSprite.alpha=0,this.counterSprite.alpha=0,this.shipName.visible=!1,this.shipStateName&&(this.shipStateName.visible=!1),this.shipPowerups.forEach((function(e){e.visible=!1})),this.ship.isBoosterOn&&this.dirExhaust.hideExhaust()),this.updateShield()}var s=!1;this.shipPowerups.forEach((function(t){t.type==e&&(s=!0)})),s||(this.shipPowerups.push(new u(e)),game.player&&game.player.id!=this.ship.id&&this.ship.hasPowerup_invis&&this.shipPowerups.forEach((function(e){e.visible=!1})))}lostPowerup(e){switch(m.play("powerupExpired"),e){case"doubledamage":break;case"speed":this.exhausts.forEach((function(e){e.updateWidth()})),this.dirExhaust.updateWidth(),this.updateEngineSoundRate();break;case"invis":this.alpha=1,this.boosterSprite.alpha=1,this.counterSprite.alpha=1,this.dirExhaust.alpha=1,this.shipName&&(this.shipName.visible=!0),this.shipStateName&&(this.shipStateName.visble=!0),this.ship.isBoosterOn&&this.dirExhaust.showExhaust(),this.shipPowerups.forEach((function(e){e.visible=!0})),this.updateShield()}for(var t=null,s=0;s<this.shipPowerups.length;s++)this.shipPowerups[s].type==e&&(t=s);null!=t&&(this.shipPowerups[t].destroy(),this.shipPowerups.splice(t,1))}updateTick(){var e=!1;this.ship.isEngineOn&&(e=!game.player||this.ship.id==game.player.id||!this.ship.hasPowerup_invis),e&&this.startEngineSound(),e||this.stopEngineSound();for(var t=0;t<this.exhausts.length;t++)this.exhausts[t].setVisible(e),this.exhausts[t].updateTick();if(game.player&&this.ship.id!=game.player.id){const e=(this.position.x-game.player.position.x)/i.soundSpactialDivisor,t=(this.position.y-game.player.position.y)/i.soundSpactialDivisor;!isNaN(e)&&!isNaN(t)&&isFinite(e)&&isFinite(t)&&m.sounds.engine.pos(e,t,0,this.engineSoundId)}this.shieldSprite.updateTick()}updateEngineSoundRate(){var e=1/i.upgrades.shipCost.length;this.ship.hasPowerup_speed||(e/=2),m.sounds.engine.rate(e*(i.engineSoundRateMax-i.engineSoundRateMin)+i.engineSoundRateMin,this.engineSoundId),e=1/i.upgrades.shipCost.length,m.sounds.dirEngine.rate(e*(i.engineSoundRateMax-i.engineSoundRateMin)+i.engineSoundRateMin,this.dirExhaust.soundId)}startEngineSound(){m.sfxOn&&0==m.sounds.engine.volume(this.engineSoundId)&&(m.sounds.engine.seek(0,this.engineSoundId),m.sounds.engine.volume(m.currentVolumes.engine,this.engineSoundId))}stopEngineSound(){if(this.engineSoundId&&m.sounds.engine.volume(this.engineSoundId)>0&&!this.isFadingEngineSound){let e=this;this.isFadingEngineSound=!0,m.sounds.engine.fade(m.currentVolumes.engine,0,50,this.engineSoundId),m.sounds.engine.once("fade",(function(){e.isFadingEngineSound=!1}),this.engineSoundId)}}destroy(){this.shieldSprite.destroy(),m.sounds.engine.stop(this.engineSoundId),this.counterSprite.destroy(),this.boosterSprite.destroy(),this.shipPowerups.forEach((function(e){e.destroy()})),this.shipName&&this.shipName.destroy(),this.shipStateName&&this.shipStateName.destroy(),this.dirExhaust.destroy(),game.stage.shipContainer.removeChild(this),super.destroy()}}},"ShipName.js":function e(t,s,e){e.export({ShipName:()=>i});class i extends PIXI.Text{constructor(e){let t={fontFamily:"Audiowide",fontSize:16,fill:16777215};var s=Meteor.users.findOne(e.userId,{fields:{mod:1,admin:1,username:1}});s&&s.username==e.name&&(t.fill=8454016),super(e.name,t),this.ship=e,this.anchor.set(.5,1),this.offsetY=30,this.position.set(e.position.x,e.position.y-this.offsetY),game.stage.aboveContainerNoUpdate.addChild(this)}destroy(){game.stage.aboveContainerNoUpdate.removeChild(this),super.destroy(!0)}}},"ShipPlayer.js":function e(t,s,e){let i,n,a,o,r,l;e.export({ShipPlayer:()=>u}),e.link("/imports/client/Ship",{Ship(e){i=e}},0),e.link("/imports/client/MinimapPlayer",{MinimapPlayer(e){n=e}},1),e.link("/imports/both/settings",{_s(e){a=e}},2),e.link("/imports/client/GoldText",{GoldText(e){o=e}},3),e.link("/imports/client/sounds",{gs(e){r=e}},4),e.link("meteor/check",{check(e){l=e}},5);class u extends i{constructor(e){super(e);let t=document.getElementById("pixiContainer");window.addEventListener("keydown",this),window.addEventListener("keyup",this),t.addEventListener("mousedown",this),t.addEventListener("mouseup",this),t.addEventListener("mousemove",this),t.addEventListener("mouseout",this),t.addEventListener("mouseenter",this),this.isEngineOn=!1,this.isGunOn=!1,this.isDownLeft=!1,this.isDownUp=!1,this.isDownRight=!1,this.isDownDown=!1,this.gold=0,this.userId=Meteor.userId(),game.ui.deps.playerNames.changed(),this.mouseVector={x:1,y:0},this.sendMouseVector=!1,game.stage.setCameraPosInstant(-1*this.position.x+window.innerWidth/a.screenScale/2,-1*this.position.y+window.innerHeight/a.screenScale/2),this.throttledSyncMouseVector=_.throttle(this.syncMouseVector,40,{leading:!0,trailing:!0}),r.sounds.music.playing()||r.play("music"),r.sounds.music.seek(0),r.sounds.music.fade(0,r.volumes.music,1);let s=this;this.perfTrackingTimeout=setTimeout((function(){s.trackPerf()}),2e4),Session.set("previousGameInfo",{gameId:game.id,server:Session.get("serverInfo"),team:e.team,gameModeId:game.mode.id})}tempDeath(){super.tempDeath(),game.ui.deps.death.changed(),Session.set("showSatelliteUpgrades",!1)}respawn(e,t){super.respawn(e,t),game.ui.deps.death.changed()}trackPerf(){Meteor.isProduction&&(GAnalytics.event("performance","latency",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown",Math.round(2*game.ping)),setTimeout((function(){GAnalytics.event("performance","fps",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown",Math.round(game.ticker.FPS))}),1500),setTimeout((function(){var e=document.getElementById("uiPerfMsgs"),t=Session.get("serverInfo");e&&GAnalytics.event("performance","msgs",t?t.name:"unknown",Math.round(100*Number(e.innerHTML)))}),3e3),setTimeout((function(){var e=document.getElementById("uiPerfUpdateMs");if(e){const t=Number(e.innerHTML);isNaN(t)||GAnalytics.event("performance","update",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown",Math.round(100*Number(e.innerHTML)))}}),4500),setTimeout((function(){var e=document.getElementById("uiPerfVisibleMs");e&&GAnalytics.event("performance","culling",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown",Math.round(100*Number(e.innerHTML)))}),6e3),setTimeout((function(){var e=document.getElementById("uiPerfRenderMs");e&&GAnalytics.event("performance","render",Session.get("serverInfo")?Session.get("serverInfo").name:"unknown",Math.round(100*Number(e.innerHTML)))}),7500))}syncGold(e,t){let s=this;l(e,Number),this.syncGoldTimeout=setTimeout((function(){var t=e-s.gold;s.gold=e,game.ui.updateGoldUi(),t&&t>0&&(new o(t),r.play("collectGold"))}),game.netTimeDiff()-(Date.now()-t))}createMinimapIcon(){this.minimapIcon=new n(!0,this.team,this.position.x,this.position.y)}updateTick(){this.isDead||(this.centerCameraOnShip(),super.updateTick(),this.sendMouseVector&&(this.throttledSyncMouseVector(),this.sendMouseVector=!1))}syncMouseVector(){game.sendMessage("mouseData:"+game.id+":"+this.id+":"+this.mouseVector.x+":"+this.mouseVector.y+":"+(Math.atan2(this.mouseVector.y,this.mouseVector.x)||0)+":"+this.password)}centerCameraOnShip(){game.stage.setCameraPos(-1*this.position.x+window.innerWidth/a.screenScale/2,-1*this.position.y+window.innerHeight/a.screenScale/2)}handleEvent(e){let t=this;if(game.isChatting)"mousedown"==e.type&&1==e.which&&(Session.set("isChatting",!1),game.isChatting=!1);else switch(e.type){case"keydown":switch(e.which){case 16:e.preventDefault(),game.sendMessage("gunOn:"+game.id+":"+this.id+":true:"+this.password),t.isGunOn=!0;break;case 32:e.preventDefault(),t.isEngineOn||(t.syncMouseVector(),game.sendMessage("engineOn:"+game.id+":"+this.id+":true:"+this.password),t.isEngineOn=!0);break;case 13:e.preventDefault(),Session.set("isChatting",!0),game.isChatting=!0;break;case 65:case 37:e.preventDefault(),this.isDownLeft||(game.sendMessage("key:"+game.id+":"+this.id+":left:true:"+this.password),this.isDownLeft=!0);break;case 68:case 39:e.preventDefault(),this.isDownRight||(game.sendMessage("key:"+game.id+":"+this.id+":right:true:"+this.password),this.isDownRight=!0);break;case 83:case 40:e.preventDefault(),this.isDownDown||(game.sendMessage("key:"+game.id+":"+this.id+":down:true:"+this.password),this.isDownDown=!0);break;case 87:case 38:e.preventDefault(),this.isDownUp||(game.sendMessage("key:"+game.id+":"+this.id+":up:true:"+this.password),this.isDownUp=!0)}break;case"keyup":switch(e.which){case 49:case 97:e.preventDefault(),game.isChatting||game.player&&game.player.upgradeLevel.blasterdamage-1<a.upgrades.shipCost.length&&game.player.gold>=a.upgrades.shipCost[game.player.upgradeLevel.blasterdamage-1]&&(game.sendMessage("shipUpgrade:"+game.id+":"+game.player.id+":blasterdamage:"+game.player.password),r.play("buttonClick"));break;case 50:case 98:game.isChatting||game.player&&game.player.upgradeLevel.firerate-1<a.upgrades.shipCost.length&&game.player.gold>=a.upgrades.shipCost[game.player.upgradeLevel.firerate-1]&&(game.sendMessage("shipUpgrade:"+game.id+":"+game.player.id+":firerate:"+game.player.password),r.play("buttonClick"));break;case 51:case 99:game.isChatting||game.player&&game.player.upgradeLevel.bulletspeed-1<a.upgrades.shipCost.length&&game.player.gold>=a.upgrades.shipCost[game.player.upgradeLevel.bulletspeed-1]&&(game.sendMessage("shipUpgrade:"+game.id+":"+game.player.id+":bulletspeed:"+game.player.password),r.play("buttonClick"));break;case 52:case 100:game.isChatting||game.player&&game.player.upgradeLevel.maxhealth-1<a.upgrades.shipCost.length&&game.player.gold>=a.upgrades.shipCost[game.player.upgradeLevel.maxhealth-1]&&(game.sendMessage("shipUpgrade:"+game.id+":"+game.player.id+":maxhealth:"+game.player.password),r.play("buttonClick"));break;case 53:case 101:game.isChatting||game.player&&game.player.upgradeLevel.repairrate-1<a.upgrades.shipCost.length&&game.player.gold>=a.upgrades.shipCost[game.player.upgradeLevel.repairrate-1]&&(game.sendMessage("shipUpgrade:"+game.id+":"+game.player.id+":repairrate:"+game.player.password),r.play("buttonClick"));break;case 54:case 102:game.isChatting||game.player&&game.player.upgradeLevel.boosterspeed-1<a.upgrades.shipCost.length&&game.player.gold>=a.upgrades.shipCost[game.player.upgradeLevel.boosterspeed-1]&&(game.sendMessage("shipUpgrade:"+game.id+":"+game.player.id+":boosterspeed:"+game.player.password),r.play("buttonClick"));break;case 55:case 103:if(!game.isChatting&&Session.get("showSatelliteUpgrades")){let e=Session.get("satelliteId");if(game.player&&e){let t=_.find(game.satellites,(function(t){return t.id==e}));t&&game.player.gold>=a.upgrades.satelliteCost[t.level]&&(game.sendMessage("satelliteUpgrade:"+game.id+":"+t.id+":"+game.player.id+":"+game.player.password),r.play("buttonClick"))}}break;case 16:e.preventDefault(),t.isGunOn&&(game.sendMessage("gunOn:"+game.id+":"+this.id+":false:"+this.password),t.isGunOn=!1);break;case 32:e.preventDefault(),t.isEngineOn&&(game.sendMessage("engineOn:"+game.id+":"+this.id+":false:"+this.password),t.isEngineOn=!1);break;case 65:case 37:e.preventDefault(),this.isDownLeft&&(game.sendMessage("key:"+game.id+":"+this.id+":left:false:"+this.password),this.isDownLeft=!1);break;case 68:case 39:e.preventDefault(),this.isDownRight&&(game.sendMessage("key:"+game.id+":"+this.id+":right:false:"+this.password),this.isDownRight=!1);break;case 83:case 40:e.preventDefault(),this.isDownDown&&(game.sendMessage("key:"+game.id+":"+this.id+":down:false:"+this.password),this.isDownDown=!1);break;case 87:case 38:e.preventDefault(),this.isDownUp&&(game.sendMessage("key:"+game.id+":"+this.id+":up:false:"+this.password),this.isDownUp=!1)}break;case"mousedown":1==e.which&&(e.preventDefault(),this.isGunOn||(game.sendMessage("gunOn:"+game.id+":"+this.id+":true:"+this.password),t.isGunOn=!0)),3==e.which&&(e.preventDefault(),t.isEngineOn||(t.syncMouseVector(),game.sendMessage("engineOn:"+game.id+":"+this.id+":true:"+this.password),t.isEngineOn=!0));break;case"mouseout":t.isEngineOn&&(game.sendMessage("engineOn:"+game.id+":"+this.id+":false:"+this.password),t.isEngineOn=!1),t.isGunOn&&(game.sendMessage("gunOn:"+game.id+":"+this.id+":false:"+this.password),t.isGunOn=!1),this.isDownLeft&&(game.sendMessage("key:"+game.id+":"+this.id+":left:false:"+this.password),this.isDownLeft=!1),this.isDownRight&&(game.sendMessage("key:"+game.id+":"+this.id+":right:false:"+this.password),this.isDownRight=!1),this.isDownDown&&(game.sendMessage("key:"+game.id+":"+this.id+":down:false:"+this.password),this.isDownDown=!1),this.isDownUp&&(game.sendMessage("key:"+game.id+":"+this.id+":up:false:"+this.password),this.isDownUp=!1);break;case"mouseenter":break;case"mouseup":1==e.which&&(e.preventDefault(),game.sendMessage("gunOn:"+game.id+":"+this.id+":false:"+this.password),t.isGunOn=!1),3==e.which&&(e.preventDefault(),t.isEngineOn&&(game.sendMessage("engineOn:"+game.id+":"+this.id+":false:"+this.password),t.isEngineOn=!1));break;case"mousemove":if(game.player){const s=-1*(window.innerWidth/2-(-1*game.stage.gameContainer.position.x-game.player.position.x+window.innerWidth/2)-e.pageX/a.screenScale),i=-1*(window.innerHeight/2-(-1*game.stage.gameContainer.position.y-game.player.position.y+window.innerHeight/2)-e.pageY/a.screenScale);isNaN(s)||isNaN(i)||!isFinite(s)||!isFinite(i)||null==s||null==i?console.error(s,i):(t.mouseVector={x:s,y:i},t.sendMouseVector=!0)}}}destroy(e){r.sounds.music.fade(r.volumes.music,0,4),game.satellites.forEach((function(e){e.stopContestSound()})),this.perfTrackingTimeout&&clearTimeout(this.perfTrackingTimeout),this.syncGoldTimeout&&clearTimeout(this.syncGoldTimeout),super.destroy(e);var t=[{name:"Satellites Captured",value:this.stats_satellitesCaptured},{name:"Satellites Upgraded",value:this.stats_satellitesUpgraded},{name:"Ships Destroyed",value:this.stats_shipsDestroyed},{name:"Gold Collected",value:this.stats_goldCollected},{name:"Asteroids Destroyed",value:this.stats_asteroidsDestroyed},{name:"Networth",value:this.stats_networth}];let s=document.getElementById("pixiContainer");window.removeEventListener("keydown",this),window.removeEventListener("keyup",this),s.removeEventListener("mousedown",this),s.removeEventListener("mouseup",this),s.removeEventListener("mousemove",this),s.removeEventListener("mouseout",this),s.removeEventListener("mouseenter",this),game.player=null,Session.set("endPanelData",t),Session.set("showEndPanel",!0),Session.set("playerInfo",{name:this.name,captures:this.stats_satellitesCaptured,kills:this.stats_shipsDestroyed,team:this.team}),document.getElementById("gameUi").style.display="none",game.ui.deps.death.changed()}}},"ShipPowerup.js":function e(t,s,e){let i,n,a;e.export({ShipPowerup:()=>o}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("meteor/random",{Random(e){n=e}},1),e.link("/imports/client/Sprite",{Sprite(e){a=e}},2);class o extends a{constructor(e){var t="",s=0;switch(e){case"doubledamage":t="powerupDoubleDamage",s=-35;break;case"speed":t="powerupSpeed",s=35;break;case"invis":t="powerupInvis"}super(PIXI.utils.TextureCache[t+"@2x"]),this.anchor.set(.5,1),this.offsetX=s,this.offsetY=45,game.stage.aboveContainerNoUpdate.addChild(this),this.type=e}destroy(){game.stage.aboveContainerNoUpdate.removeChild(this),super.destroy()}updateTick(){}}},"ShipShield.js":function e(t,s,e){let i;e.export({ShipShield:()=>n}),e.link("/imports/client/Sprite",{Sprite(e){i=e}},0);class n extends i{constructor(e){super(PIXI.utils.TextureCache["shipShield01@2x"]),this.ship=e,this.anchor.set(.5,.5),this.width=100,this.height=100,game.stage.objectNoUpdateContainer.addChild(this),this.updateSize()}destroy(){game.stage.objectNoUpdateContainer.removeChild(this),super.destroy()}updateTick(){this.position.set(this.ship.position.x,this.ship.position.y)}updateSize(){this.width=this.ship.shipSize*this.ship.shipScale*1.5+8,this.height=this.ship.shipSize*this.ship.shipScale*1.5+8}}},"ShipSmoke.js":function e(t,s,e){let i;e.export({ShipSmoke:()=>n}),e.link("/imports/client/AnimatedSprite",{AnimatedSprite(e){i=e}},0);class n extends i{constructor(e,t,s){let i;super([PIXI.utils.TextureCache["shipSmoke01@2x"],PIXI.utils.TextureCache["shipSmoke02@2x"],PIXI.utils.TextureCache["shipSmoke03@2x"],PIXI.utils.TextureCache["shipSmoke04@2x"],PIXI.utils.TextureCache["shipSmoke05@2x"],PIXI.utils.TextureCache["shipSmoke06@2x"]]),this.position.set(e,t),this.rotation=s,this.anchor.set(.5,.5),this.spawnTime=new Date,game.stage.objectNoUpdateContainer.addChild(this),this.animationSpeed=.4*Math.random()+.1,this.loop=!1;let n=this;this.onComplete=function(){n.done()},this.play()}done(){this.destroy()}destroy(){game.stage.objectNoUpdateContainer.removeChild(this),super.destroy({children:!0})}}},"ShipStateName.js":function e(t,s,e){e.export({ShipStateName:()=>i});class i extends PIXI.Text{constructor(e){let t={fontFamily:"Audiowide",fontSize:16,fill:16777215};super(e.stateName,t),this.ship=e,this.anchor.set(.5,1),this.offsetY=50,this.position.set(e.position.x,e.position.y-this.offsetY),game.stage.aboveContainerNoUpdate.addChild(this)}destroy(){game.stage.aboveContainerNoUpdate.removeChild(this),super.destroy(!0)}}},"SpawnBorder.js":function e(t,s,e){let i;e.export({SpawnBorder:()=>n}),e.link("/imports/both/settings",{_s(e){i=e}},0);class n extends PIXI.extras.TilingSprite{constructor(e,t){super(PIXI.loader.resources["/images/spawnBorder@2x.png"].texture,2*game.mode.worldRadius,30),this.anchor.set(.5,.5),this.position.set(0,e),this.rotation=t,game.stage.topContainer.addChild(this)}updateTick(){}updateTickAfterCamera(){}}},"Sprite.js":function e(t,s,e){e.export({Sprite:()=>i});class i extends PIXI.Sprite{constructor(e){super(e)}destroy(){this.texture&&super.destroy({children:!0})}updateTick(){}updateTickAfterCamera(){}}},"Stage.js":function e(t,s,e){let i,n,a,o,r,l;e.export({Stage:()=>u}),e.link("/imports/client/Container",{Container(e){i=e}},0),e.link("/imports/client/ContainerFast",{ContainerFast(e){n=e}},1),e.link("/imports/client/ContainerNoUpdate",{ContainerNoUpdate(e){a=e}},2),e.link("/imports/client/ContainerFastNoUpdate",{ContainerFastNoUpdate(e){o=e}},3),e.link("/imports/client/ContainerStars",{ContainerStars(e){r=e}},4),e.link("/imports/both/settings",{_s(e){l=e}},5);class u extends i{constructor(){super(),this.interactive=!1,this.bgContainer=new i,this.gameContainer=new i,this.starContainer=new r,this.bottomContainerNoUpdate=new a,this.objectContainer=new i,this.objectNoUpdateContainer=new a,this.fastObjectContainer=new o(1e3,{},1e3),this.shipContainer=new i,this.aboveContainerNoUpdate=new a,this.aboveContainerNoUpdate2=new a,this.topContainer=new i,this.addChild(this.bgContainer),this.addChild(this.starContainer),this.addChild(this.gameContainer),this.gameContainer.addChild(this.bottomContainerNoUpdate),this.gameContainer.addChild(this.objectNoUpdateContainer),this.gameContainer.addChild(this.objectContainer),this.gameContainer.addChild(this.fastObjectContainer),this.gameContainer.addChild(this.shipContainer),this.gameContainer.addChild(this.aboveContainerNoUpdate),this.gameContainer.addChild(this.aboveContainerNoUpdate2),this.gameContainer.addChild(this.topContainer),this.numShakesLeft=0,this.shakeMagnitude=0,this.scale.set(l.screenScale)}setCameraPos(e,t){if(game.player){var s=1/Math.sqrt(game.player.mouseVector.x*game.player.mouseVector.x+game.player.mouseVector.y*game.player.mouseVector.y),i=game.player.mouseVector.x*s,n=game.player.mouseVector.y*s;e+=i*l.cameraOffset*-1,t+=n*l.cameraOffset*-1}this.gameContainer.position.set(this.gameContainer.position.x+=(e-this.gameContainer.position.x)/l.cameraDelay*game.ticker.deltaTime,this.gameContainer.position.y+=(t-this.gameContainer.position.y)/l.cameraDelay*game.ticker.deltaTime)}setCameraPosInstant(e,t){game.stage.gameContainer.position.set(e,t)}screenshake(e,t,s,i){if(game.player){var n=e-game.player.position.x,a=t-game.player.position.y,o=Math.sqrt(n*n+a*a),r=Math.max(window.innerWidth/l.screenScale,window.innerHeight/l.screenScale);o>Math.max(window.innerWidth/l.screenScale,window.innerHeight/l.screenScale)||(s>this.shakeMagnitude&&(this.shakeMagnitude=s),i>this.numShakesLeft&&(this.numShakesLeft=i))}}screenshakeTick(){this.numShakesLeft&&(this.gameContainer.position.set(this.gameContainer.position.x+(Math.random()*this.shakeMagnitude-this.shakeMagnitude/2),this.gameContainer.position.y+(Math.random()*this.shakeMagnitude-this.shakeMagnitude/2)),this.numShakesLeft--,this.numShakesLeft||(this.shakeMagnitude=0))}}},"Star.js":function e(t,s,e){e.export({Star:()=>i});class i extends PIXI.Sprite{constructor(){var e=3,t=Math.random();t<.4&&(e=2),t<.15&&(e=1),super(PIXI.utils.TextureCache["bgStar0"+e+"@2x"]),this.anchor.set(.5,.5),this.alpha=0,game.stage.starContainer.addChild(this)}showObj(e){this.position.set(e.x,e.y),this.distance=e.distance,this.alpha=.4*this.distance+.1+.3*Math.random()}hideObj(){this.alpha=0}destroy(){game.stage.starContainer.removeChild(this),super.destroy()}updatePosition(e){this.position.set(this.position.x-e.x*this.distance,this.position.y-e.y*this.distance)}}},"StarField.js":function e(t,s,e){let i,n,a;e.export({StarField:()=>o}),e.link("/imports/client/ObjectPool",{ObjectPool(e){i=e}},0),e.link("/imports/client/Star",{Star(e){n=e}},1),e.link("/imports/both/settings",{_s(e){a=e}},2);class o{constructor(){this.numStars=150,this.stars=[],this.createField();let e=this;window.addEventListener("visibilitychange",(function(){"visible"==document.visibilityState&&e.resetField()}))}resetField(){this.destroyField(),this.createField()}createField(){this.previousPosition={x:game.stage.gameContainer.position.x,y:game.stage.gameContainer.position.y},this.pool=new i(n,this.numStars);for(var e=0;e<this.numStars;e++){var t={x:Math.random()*game.renderer.width/a.screenScale,y:Math.random()*game.renderer.height/a.screenScale,distance:this.getDistance()};this.stars.push(this.pool.getFromPool(t))}}getDistance(){return.6*Math.random()+.05}destroyField(){this.pool.destroy();for(var e=0;e<this.stars.length;e++)this.stars[e].destroy();this.stars=[]}updateStarField(){var e={x:this.previousPosition.x-game.stage.gameContainer.position.x,y:this.previousPosition.y-game.stage.gameContainer.position.y};this.passedMinX=[],this.passedMinY=[],this.passedMaxX=[],this.passedMaxY=[];for(var t=0;t<this.stars.length;t++)this.stars[t].updatePosition(e),this.stars[t].position.x<-100&&this.passedMinX.push(this.stars[t]),this.stars[t].position.y<-100&&this.passedMinY.push(this.stars[t]),this.stars[t].position.x>game.renderer.width/a.screenScale+100&&this.passedMaxX.push(this.stars[t]),this.stars[t].position.y>game.renderer.height/a.screenScale+100&&this.passedMaxY.push(this.stars[t]);for(var t=0;t<this.passedMinX.length;t++){this.removeStar(this.passedMinX[t]);var s={x:game.renderer.width/a.screenScale+10,y:Math.random()*game.renderer.height/a.screenScale,distance:this.getDistance()};this.stars.push(this.pool.getFromPool(s))}for(var t=0;t<this.passedMinY.length;t++){this.removeStar(this.passedMinY[t]);var s={x:Math.random()*game.renderer.width/a.screenScale,y:game.renderer.height/a.screenScale+10,distance:this.getDistance()};this.stars.push(this.pool.getFromPool(s))}for(var t=0;t<this.passedMaxX.length;t++){this.removeStar(this.passedMaxX[t]);var s={x:-10,y:Math.random()*game.renderer.height/a.screenScale,distance:this.getDistance()};this.stars.push(this.pool.getFromPool(s))}for(var t=0;t<this.passedMaxY.length;t++){this.removeStar(this.passedMaxY[t]);var s={x:Math.random()*game.renderer.width/a.screenScale,y:-10,distance:this.getDistance()};this.stars.push(this.pool.getFromPool(s))}this.previousPosition={x:game.stage.gameContainer.position.x,y:game.stage.gameContainer.position.y}}removeStar(e){var t=this.stars.indexOf(e);-1!=t?(this.stars.splice(t,1),this.pool.returnToPool(e)):console.error("obj not found to remove")}}},"Ui.js":function e(t,s,e){let i,n;e.export({Ui:()=>a}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/sounds",{gs(e){n=e}},1);class a{constructor(){this.isChatting=!1,this.chatMsgs=[],this.deps={upgradeButtons:new Deps.Dependency,satelliteUpgradeButtons:new Deps.Dependency,shipUpgradeMarkers:new Deps.Dependency,powerupUi:new Deps.Dependency,gameMode:new Deps.Dependency,gold:new Deps.Dependency,chat:new Deps.Dependency,players:new Deps.Dependency,satelliteTeams:new Deps.Dependency,stats:new Deps.Dependency,gameEndTime:new Deps.Dependency,death:new Deps.Dependency,playerNames:new Deps.Dependency,maxUpgradesUpdated:new Deps.Dependency}}newChatMsg(e,t,s,a){var o={playerName:e,userId:t,timestamp:s,message:a};this.chatMsgs.push(o),this.chatMsgs.length>i.chatMaxMessages&&this.chatMsgs.shift(),game.ui.deps.chat.changed(),n.play("chatMessage")}resetChat(){this.chatMsgs=[],game.ui.deps.chat.changed()}updateGoldUi(){game.player&&(this.deps.gold.changed(),this.deps.upgradeButtons.changed())}}},"loading.js":function e(t,s,e){e.export({loadImages:()=>n});var i=t("pixi-packer-parser");function n(e){var t="";t=(window.devicePixelRatio&&window.devicePixelRatio,"/spritesheets/game_EN_web_retina.json"),PIXI.loader.use(i(PIXI)),PIXI.loader.add(t).add("/images/blackSquare.jpg").add("/images/bgStars@2x.png").add("/images/bgGrid@2x.jpg").add("/images/bgGridTrans@2x.png").add("/images/bgNebula.jpg").add("/images/barFgLeft@2x.png").add("/images/barFgRight@2x.png").add("/images/barFgMid@2x.png").add("/images/nebula01.png").add("/images/nebula02.png").add("/images/nebula03.png").add("/images/payload01@2x.png").add("/images/spawnBorder@2x.png").add("/images/ship_blue01@2x.png").load((function(){e()})),PIXI.loader.onProgress.add(e=>{e.progress>Session.get("loadProgress")+9&&Session.set("loadProgress",e.progress)})}},"loop.js":function e(t,s,e){let i;function n(e){for(var t=performance.now(),s=game.bullets.length,n=0;n<s;n++)game.bullets[n].updateTick();s=game.satellites.length;for(var n=0;n<s;n++)game.satellites[n].updateTick();s=game.players.length;for(var n=0;n<s;n++)game.players[n].updateTick();game.stage.gameContainer.updateTick(),s=game.players.length;for(var n=0;n<s;n++)game.players[n].updateTickAfterCamera();game.starField.updateStarField(),game.stage.bgContainer.updateTickAfterCamera(),game.stage.starContainer.updateTickAfterCamera(),game.stage.screenshakeTick();var a=performance.now();if(0==game.tickNum){s=game.gems.length;for(var n=0;n<s;n++)game.gems[n].setNotVisible()}if(1==game.tickNum){s=game.asteroids.length;for(var n=0;n<s;n++)game.asteroids[n].setNotVisible()}if(2==game.tickNum){s=game.bullets.length;for(var n=0;n<s;n++)game.bullets[n].setNotVisible()}if(3==game.tickNum){s=game.healthPacks.length;for(var n=0;n<s;n++)game.healthPacks[n].setNotVisible()}if(4==game.tickNum){s=game.powerups.length;for(var n=0;n<s;n++)game.powerups[n].setNotVisible();s=game.payloads.length;for(var n=0;n<s;n++)game.payloads[n].setNotVisible()}if(5==game.tickNum){s=game.satellites.length;for(var n=0;n<s;n++)game.satellites[n].setNotVisible()}if(6==game.tickNum){s=game.players.length;for(var n=0;n<s;n++)game.players[n].setNotVisible()}var o=game.grid.retrieve(-1*game.stage.gameContainer.position.x+window.innerWidth/i.screenScale/2,-1*game.stage.gameContainer.position.y+window.innerHeight/i.screenScale/2,Math.max(window.innerWidth/i.screenScale/2,window.innerHeight/i.screenScale/2));s=o.length;for(var n=0;n<s;n++)o[n].setVisible(),o[n].updateGfx();if(0==game.tickNum){s=game.gems.length;for(var n=0;n<s;n++)game.gems[n].updateGfx()}if(1==game.tickNum){s=game.asteroids.length;for(var n=0;n<s;n++)game.asteroids[n].updateGfx()}if(2==game.tickNum){s=game.bullets.length;for(var n=0;n<s;n++)game.bullets[n].updateGfx()}if(3==game.tickNum){s=game.healthPacks.length;for(var n=0;n<s;n++)game.healthPacks[n].updateGfx()}if(4==game.tickNum){s=game.powerups.length;for(var n=0;n<s;n++)game.powerups[n].updateGfx();s=game.payloads.length;for(var n=0;n<s;n++)game.payloads[n].updateGfx()}if(5==game.tickNum){s=game.satellites.length;for(var n=0;n<s;n++)game.satellites[n].updateGfx()}if(6==game.tickNum){s=game.players.length;for(var n=0;n<s;n++)game.players[n].updateGfx()}var r=performance.now();game.renderer.render(game.stage),game.numLoops++,game.loopTimeUpdate+=a-t,game.loopTimeRender+=performance.now()-r,game.loopTimeVisible+=r-a,game.numLoops>200&&(document.getElementById("uiPerfUpdateMs").innerHTML=Math.round(game.loopTimeUpdate/game.numLoops*100)/100,document.getElementById("uiPerfRenderMs").innerHTML=Math.round(game.loopTimeRender/game.numLoops*100)/100,document.getElementById("uiPerfVisibleMs").innerHTML=Math.round(game.loopTimeVisible/game.numLoops*100)/100,document.getElementById("uiPerfMsgs").innerHTML=Math.round(game.loopTimeMessages/game.numLoops*100)/100,game.numLoops=0,game.loopTimeUpdate=0,game.loopTimeRender=0,game.loopTimeVisible=0,game.loopTimeMessages=0),game.tickNum++,game.tickNum>7&&(game.tickNum=0)}e.export({loop:()=>n}),e.link("/imports/both/settings",{_s(e){i=e}},0)},"messageEndpoints.js":function e(t,s,e){let i,n,a,o,r,l,u,d,p,h,c,m,g,f;e.export({setupMessageEndpoints:()=>T,messageEndpoints:()=>S}),e.link("/imports/both/settings",{_s(e){i=e}},0),e.link("/imports/client/Gem",{Gem(e){n=e}},1),e.link("/imports/client/GemTeam",{GemTeam(e){a=e}},2),e.link("/imports/client/Asteroid",{Asteroid(e){o=e}},3),e.link("/imports/client/AsteroidIce",{AsteroidIce(e){r=e}},4),e.link("/imports/client/Satellite",{Satellite(e){l=e}},5),e.link("/imports/client/ShieldPack",{ShieldPack(e){u=e}},6),e.link("/imports/client/HealthPack",{HealthPack(e){d=e}},7),e.link("/imports/client/Powerup",{Powerup(e){p=e}},8),e.link("/imports/client/Payload",{Payload(e){h=e}},9),e.link("/imports/client/ShipPlayer",{ShipPlayer(e){c=e}},10),e.link("/imports/client/Ship",{Ship(e){m=e}},11),e.link("/imports/client/Bullet",{Bullet(e){g=e}},12),e.link("/imports/client/MapEdge",{MapEdge(e){f=e}},13);var T=function(e,t,s,i,n){var a,o,r,l;game.socket.onopen=function(a){Session.set("isJoiningGame",!0),Session.set("isConnecting",!1),Session.set("connected",!0),game.checkPing(),game.joinGame(e,t,s,i,n),game.mapEdge=new f},game.socket.onclose=function(e){Session.set("connected",!1),game.resetGame()},game.socket.onerror=function(e){Session.set("isConnecting",!1),Session.set("isJoiningGame",!1),Session.set("connectError",!0)},game.socket.onmessage=function(e){if(o=performance.now(),r=Date.now(),e.data instanceof Blob)binaryMessageEndpoints(e.data);else{try{a=JSON.parse(e.data)}catch(t){return console.error(e.data),void console.error(t)}S(a,o,r,l)}game.loopTimeMessages+=performance.now()-o}},b=function(e){for(var t=0,s=e.length-1;s>=0;s--)t=256*t+1*e[s];return t},S=function(e,t,s,h){let g=this;switch(e.name){case"statRecords":game.statRecords=e.data;break;case"capStats":game.capStats=e.data;break;case"mass":for(var f=0;f<e.data.length;f++)S(e.data[f],t,s,h);break;case"gameEndWarning":game.endWarning(e.data);break;case"gameover":game.endGame(e.data[0],e.data[1]);break;case"chat":game.ui.newChatMsg(e.data[0],e.data[1],e.data[2],decodeURIComponent(e.data[3]));break;case"receivePing":var T=t-game.pingStart;game.serverTimeOffset=s-T/2-Number(e.data),game.pings.unshift(T),game.pings.length>i.numSyncTimes&&game.pings.pop(),game.ping=game.pings.reduce((e,t)=>e+t,0)/game.pings.length/2,document.getElementById("uiPerfPing").innerHTML=Math.round(T),document.getElementById("uiPerfFps").innerHTML=Math.round(game.ticker.FPS);break;case"initialSyncDone":Session.set("showStartPanel",!1),document.getElementById("gameUi").style.display="block",game.ui.deps.upgradeButtons.changed();break;case"gameId":game.id=e.data[0],game.dateStarted=e.data[1],clearTimeout(game.joinGameErrorTimeout),game.joinGameErrorTimeout=null;break;case"satelliteGoldPerMin":game.satelliteGoldPerMin=e.data,game.ui.deps.satelliteTeams.changed();break;case"player":if(h=_.find(game.players,(function(t){return t.id==e.data[0]}))){var b=Number(e.data[1]),w=Number(e.data[2]),y=Number(e.data[3]),v=Number(e.data[6]),k=Number(e.data[7]);isNaN(b)||isNaN(w)||isNaN(y)||isNaN(v)||isNaN(k)||!isFinite(w)||!isFinite(y)?(console.error("Error in sync data."),console.log(e)):h.sync({id:e.data[0],rotation:b,x:w,y:y,isEngineOn:e.data[4],isBoosterOn:e.data[5],boosterRotation:v,time:k})}break;case"uplayer":(h=_.find(game.players,(function(t){return t.id==e.data.id})))&&(i.upgrades.ship.forEach((function(t){var s=Number(e.data[t.id]);isNaN(s)?(console.error("Error in sync data."),console.log(e)):h.upgradeLevel[t.id]=Number(e.data[t.id])})),h.gfx&&(h.gfx.exhausts.forEach((function(e){e.updateWidth()})),h.gfx.updateEngineSoundRate(),h.gfx.dirExhaust.updateWidth()),h.maxHealth=Number(e.data.maxHealth),h.healthBar.updateBar(),game.ui.deps.shipUpgradeMarkers.changed(),game.ui.deps.upgradeButtons.changed());break;case"massplayer":(h=_.find(game.players,(function(t){return t.id==e.data[0]})))&&(h.mass=Number(e.data[1]),h.updateShipSize(),game.ui.deps.shipUpgradeMarkers.changed());break;case"dieplayer":(h=_.find(game.players,(function(t){return t.id==e.data[0]})))&&(h.syncTempDeath(Number(e.data[1])),h.stats_networth=parseInt(e.data[2]),game.ui.deps.stats.changed());break;case"replayer":(h=_.find(game.players,(function(t){return t.id==e.data[0]})))&&(h.stats_networth=parseInt(e.data[3]),h.respawn(e.data[1],e.data[2]),game.ui.deps.stats.changed());break;case"oplayer":var w=Number(e.data[1]),y=Number(e.data[2]),M=Number(e.data[3]),x=Number(e.data[10]),L=Number(e.data[11]);isNaN(w)||isNaN(y)||isNaN(M)||isNaN(x)||isNaN(L)?(console.error("Error in sync data."),console.log(e)):(game.player=new c({id:e.data[0],x:w,y:y,maxHealth:M,name:e.data[4],team:e.data[5],isLocalPlayer:!0,password:e.password,stats_satellitesCaptured:0,stats_satellitesUpgraded:0,stats_shipsDestroyed:0,stats_goldCollected:0,stats_asteroidsDestroyed:0,stats_networth:x,mass:L,isDead:e.data[12],shipGfx:e.data[14],isBot:e.data[15]}),game.satellites.forEach((function(e){e.minimapIcon&&e.minimapIcon.updateLevelTextVisible()})),game.ui.deps.powerupUi.changed(),game.ui.deps.shipUpgradeMarkers.changed(),game.ui.deps.satelliteUpgradeButtons.changed(),game.ui.updateGoldUi(),game.ui.deps.players.changed(),game.ui.deps.satelliteTeams.changed(),game.starField.resetField());break;case"iplayer":var H=null;"null"!=e.data[13]&&(H=e.data[13]);var w=Number(e.data[1]),y=Number(e.data[2]),M=Number(e.data[3]),I=Number(e.data[6]),C=Number(e.data[7]),P=Number(e.data[8]),N=Number(e.data[9]),x=Number(e.data[10]),L=Number(e.data[11]);isNaN(w)||isNaN(y)||isNaN(M)||isNaN(C)||isNaN(P)||isNaN(N)||isNaN(x)||isNaN(L)?(console.error("Error in sync data."),console.log(e)):(new m({id:e.data[0],x:w,y:y,maxHealth:M,name:e.data[4],team:e.data[5],isLocalPlayer:!1,password:null,timestamp:I,stats_shipsDestroyed:C,stats_goldCollected:P,stats_asteroidsDestroyed:N,stats_networth:x,mass:L,isDead:e.data[12],stats_satellitesCaptured:0,userId:H,shipGfx:e.data[14],isBot:e.data[15]}),game.ui.deps.players.changed());break;case"miplayer":e.data.forEach((function(t){(isNaN(t[1])||isNaN(t[2]))&&(console.error("Position is not null"),console.log(t));var s=null;"null"!=t[13]&&(s=t[13]);var i=Number(t[1]),n=Number(t[2]),a=Number(t[3]),o=Number(t[6]),r=Number(t[7]),l=Number(t[8]),u=Number(t[9]),d=Number(t[10]),p=Number(t[11]);isNaN(i)||isNaN(n)||isNaN(a)||isNaN(r)||isNaN(l)||isNaN(u)||isNaN(d)||isNaN(p)?(console.error("Error in sync data."),console.log(e),console.log(t)):(new m({id:t[0],x:i,y:n,maxHealth:a,name:t[4],team:t[5],isLocalPlayer:!1,password:null,timestamp:o,stats_shipsDestroyed:r,stats_goldCollected:l,stats_asteroidsDestroyed:u,stats_networth:d,mass:p,isDead:t[12],stats_satellitesCaptured:0,userId:s,shipGfx:t[14],isBot:t[15]}),game.ui.deps.players.changed())}));break;case"mplayer":e.data.forEach((function(t){if(h=_.find(game.players,(function(e){return e.id==t[0]}))){var s=Number(t[1]),i=Number(t[2]),n=Number(t[3]),a=Number(t[6]),o=Number(t[7]);isNaN(s)||isNaN(i)||isNaN(n)||isNaN(a)||isNaN(o)||!isFinite(i)||!isFinite(n)?(console.error("Error in sync data."),console.log(e),console.log(t)):h.sync({id:t[0],rotation:s,x:i,y:n,isEngineOn:t[4],isBoosterOn:t[5],boosterRotation:a,time:o})}}));break;case"gplayer":if(game.player){var B=parseInt(e.data[1]),k=Number(e.data[2]);isNaN(B)||isNaN(k)?(console.error("Error in sync data."),console.log(e)):game.player.syncGold(B,k)}break;case"splayer":(h=_.find(game.players,(function(t){return t.id==e.data.id})))&&(e.data.stats_satellitesCaptured&&(h.stats_satellitesCaptured=Number(e.data.stats_satellitesCaptured)),e.data.stats_satellitesUpgraded&&(h.stats_satellitesUpgraded=Number(e.data.stats_satellitesUpgraded)),h.stats_shipsDestroyed=Number(e.data.stats_shipsDestroyed),h.stats_goldCollected=Number(e.data.stats_goldCollected),h.stats_asteroidsDestroyed=Number(e.data.stats_asteroidsDestroyed),h.stats_networth=Number(e.data.stats_networth),game.ui.deps.stats.changed());break;case"dplayer":(h=_.find(game.players,(function(t){return t.id==e.data[0]})))&&(h.syncDeath(!0,parseInt(e.data[1])),h.stats_networth=parseInt(e.data[2]),game.ui.deps.stats.changed());break;case"hplayer":(h=_.find(game.players,(function(t){return t.id==e.data[0]})))&&h.syncHealth(parseFloat(e.data[1]),parseInt(e.data[2]));break;case"shieldplayer":(h=_.find(game.players,(function(t){return t.id==e.data[0]})))&&h.syncShield(parseFloat(e.data[1]),parseInt(e.data[2]));break;case"colplayer":(h=_.find(game.players,(function(t){return t.id==e.data[0]})))&&h.syncCollision(parseFloat(e.data[1]),parseInt(e.data[2]));break;case"chplayer":(h=_.find(game.players,(function(t){return t.id==e.data[0]})))&&h.syncCollectHealthPack(parseInt(e.data[1]));break;case"csplayer":(h=_.find(game.players,(function(t){return t.id==e.data[0]})))&&h.syncCollectShieldPack(parseInt(e.data[1]));break;case"pgplayer":(h=_.find(game.players,(function(t){return t.id==e.data[0]})))&&h.gainedPowerup(e.data[1],parseInt(e.data[2]));break;case"plplayer":(h=_.find(game.players,(function(t){return t.id==e.data[0]})))&&h.lostPowerup(e.data[1],parseInt(e.data[2]));break;case"mibullet":e.data.forEach((function(e){var t=Number(e[1]),s=Number(e[2]),i=Number(e[3]),n=Number(e[4]),a=Number(e[5]),o=Number(e[7]),r=Number(e[8]);isNaN(t)||isNaN(s)||isNaN(i)||isNaN(n)||isNaN(a)||isNaN(o)||isNaN(r)?(console.log(e),console.error("Bad data form server for mibullet.")):game.bulletPool.getFromPool({id:e[0],x:t,y:s,vx:i,vy:n,damage:a,team:e[6],speed:o,timestamp:r,playerId:e[9]})}));break;case"ibullet":var w=Number(e.data[1]),y=Number(e.data[2]),D=Number(e.data[3]),E=Number(e.data[4]),R=Number(e.data[5]),G=Number(e.data[7]),I=Number(e.data[8]);isNaN(w)||isNaN(y)||isNaN(D)||isNaN(E)||isNaN(R)||isNaN(G)||isNaN(I)?(console.log(e),console.error("Bad data form server for ibullet.")):game.bulletPool.getFromPool({id:e.data[0],x:w,y:y,vx:D,vy:E,damage:R,team:e.data[6],speed:G,timestamp:I,playerId:e.data[9]});break;case"dbullet":(h=_.find(game.bullets,(function(t){return t.id==e.data[0]})))&&h.syncDeath(e.data[1],parseFloat(e.data[2]),parseFloat(e.data[3]),parseInt(e.data[4]));break;case"mdbullet":for(var f=0;f<e.data.length;f++)(h=_.find(game.bullets,(function(t){return t.id==e.data[f][0]})))&&h.syncDeath(e.data[f][1],parseFloat(e.data[f][2]),parseFloat(e.data[f][3]),parseInt(e.data[f][4]));break;case"iasteroid":var w=Number(e.data[1]),y=Number(e.data[2]),M=Number(e.data[3]),A=Number(e.data[4]);isNaN(w)||isNaN(y)||isNaN(M)||isNaN(A)?(console.error("Error in sync data."),console.log(e)):new o({id:e.data[0],x:w,y:y,maxHealth:M,radius:A});break;case"miasteroid":for(var f=0;f<e.data.length;f++){var w=Number(e.data[f][1]),y=Number(e.data[f][2]),M=Number(e.data[f][3]),A=Number(e.data[f][4]);isNaN(w)||isNaN(y)||isNaN(M)||isNaN(A)?(console.error("Error in sync data."),console.log(e)):new o({id:e.data[f][0],x:w,y:y,maxHealth:M,radius:A})}break;case"dasteroid":(h=_.find(game.asteroids,(function(t){return t.id==e.data[0]})))&&h.syncDeath(parseInt(e.data[1]));break;case"hasteroid":(h=_.find(game.asteroids,(function(t){return t.id==e.data[0]})))&&h.syncHealth(parseFloat(e.data[1]),parseInt(e.data[2]));break;case"iasteroidice":var w=Number(e.data[1]),y=Number(e.data[2]),M=Number(e.data[3]),A=Number(e.data[4]);isNaN(w)||isNaN(y)||isNaN(M)||isNaN(A)?(console.error("Error in sync data."),console.log(e)):new r({id:e.data[0],x:w,y:y,maxHealth:M,radius:A});break;case"miasteroidice":for(var f=0;f<e.data.length;f++){var w=Number(e.data[f][1]),y=Number(e.data[f][2]),M=Number(e.data[f][3]),A=Number(e.data[f][4]);isNaN(w)||isNaN(y)||isNaN(M)||isNaN(A)?(console.error("Error in sync data."),console.log(e)):new r({id:e.data[f][0],x:w,y:y,maxHealth:M,radius:A})}break;case"dasteroidice":(h=_.find(game.asteroids,(function(t){return t.id==e.data[0]})))&&h.syncDeath(parseInt(e.data[1]));break;case"hasteroidice":(h=_.find(game.asteroids,(function(t){return t.id==e.data[0]})))&&h.syncHealth(parseFloat(e.data[1]),parseInt(e.data[2]));break;case"dhealthPack":(h=_.find(game.healthPacks,(function(t){return t.id==e.data[0]})))&&h.syncDeath(parseInt(e.data[1]));break;case"ihealthPack":var w=Number(e.data[1]),y=Number(e.data[2]),A=Number(e.data[3]);isNaN(w)||isNaN(y)||isNaN(A)?(console.error("Error in sync data"),console.log(e)):new d({id:e.data[0],x:w,y:y,radius:A});break;case"mihealthPack":e.data.forEach((function(t){var s=Number(t[1]),i=Number(t[2]),n=Number(t[3]);isNaN(s)||isNaN(i)||isNaN(n)?(console.error("Error in sync data"),console.log(e)):new d({id:t[0],x:s,y:i,radius:n})}));break;case"dshieldPack":(h=_.find(game.healthPacks,(function(t){return t.id==e.data[0]})))&&h.syncDeath(parseInt(e.data[1]));break;case"ishieldPack":var w=Number(e.data[1]),y=Number(e.data[2]),A=Number(e.data[3]);isNaN(w)||isNaN(y)||isNaN(A)?(console.error("Error in sync data"),console.log(e)):new u({id:e.data[0],x:w,y:y,radius:A});break;case"mishieldPack":e.data.forEach((function(t){var s=Number(t[1]),i=Number(t[2]),n=Number(t[3]);isNaN(s)||isNaN(i)||isNaN(n)?(console.error("Error in sync data"),console.log(e)):new u({id:t[0],x:s,y:i,radius:n})}));break;case"dpowerup":(h=_.find(game.powerups,(function(t){return t.id==e.data[0]})))&&h.syncDeath(parseInt(e.data[1]));break;case"ipowerup":new p({id:e.data[0],x:e.data[1],y:e.data[2],type:e.data[3]});break;case"mipowerup":e.data.forEach((function(e){new p({id:e[0],x:e[1],y:e[2],type:e[3]})}));break;case"igem":new n({id:e.data[0],x:e.data[1],y:e.data[2],gold:e.data[3]});break;case"migem":e.data.forEach((function(e){(isNaN(e[1])||isNaN(e[2])||isNaN(e[3]))&&(console.error("Error in migem"),console.log(e)),new n({id:e[0],x:e[1],y:e[2],gold:e[3]})}));break;case"dgem":(h=_.find(game.gems,(function(t){return t.id==e.data[0]})))&&h.syncDeath(parseInt(e.data[1]));break;case"igemteam":new a({id:e.data[0],x:e.data[1],y:e.data[2],gold:e.data[3]});break;case"migemteam":e.data.forEach((function(e){new a({id:e[0],x:e[1],y:e[2],gold:e[3]})}));break;case"dgemteam":(h=_.find(game.gems,(function(t){return t.id==e.data[0]})))&&h.syncDeath(parseInt(e.data[1]));break;case"isatellite":new l({id:e.data[0],x:e.data[1],y:e.data[2],maxHealth:e.data[3],team:e.data[4],isContesting:e.data[5],level:e.data[6],name:e.data[7]});break;case"misatellite":e.data.forEach((function(e){new l({id:e[0],x:e[1],y:e[2],maxHealth:e[3],team:e[4],isContesting:e[5],level:e[6],name:e[7]})}));break;case"hsatellite":(h=_.find(game.satellites,(function(t){return t.id==e.data[0]})))&&h.syncHealth(e.data[1],parseInt(e.data[2]));break;case"satellite":(h=_.find(game.satellites,(function(t){return t.id==e.data[0]})))&&h.sync({gunRotation:e.data[1]});break;case"msatellite":e.data.forEach((function(e){(h=_.find(game.satellites,(function(t){return t.id==e[0]})))&&h.sync({gunRotation:e[1]})}));break;case"ssatellite":(h=_.find(game.satellites,(function(t){return t.id==e.data[0]})))&&h.syncStatus({level:e.data[1],team:e.data[2],maxHealth:e.data[3]});break;case"satellitestopcontest":(h=_.find(game.satellites,(function(t){return t.id==e.data[0]})))&&h.syncStopContest(parseInt(e.data[1]));break;case"satellitestartcontest":(h=_.find(game.satellites,(function(t){return t.id==e.data[0]})))&&h.syncStartContest(parseInt(e.data[1]));break;case"eventModeUpdate":i.maxUpgrades=e.data[1],game.ui.deps.maxUpgradesUpdated.changed();break;case"botstate":(h=_.find(game.players,(function(t){return t.id==e.data[0]})))&&h.setBotState(e.data[1])}}},"sounds.js":function e(t,s,e){e.export({gs:()=>i}),t("howler"),Howler.orientation(0,-1,0,0,0,-1);var i={sfxOn:!0,sfxVolume:1,downloaded:0,percentDownloaded:0,updateDownloadUi:new Deps.Dependency,numSounds:20},n=localStorage.getItem("musicVolume");n=null==n?.7:Number(n),i.volumes={bullet:.4,explosionSmall01:.4,explosionSmall02:.4,explosionSmall03:.4,explosionMed:.9,explosionLarge:1,engine:.5,dirEngine:.1,buttonClick:1,collectGold:1,chatMessage:.3,collectHealth:.6,collision:.3,gameOver:1,gameOverWin:1,collectPowerup:1,powerupExpired:1,satelliteCaptured:1,satelliteContest:.8,music:n},i.currentVolumes={engine:i.volumes.engine,dirEngine:i.volumes.dirEngine},i.play=function(e){if(i.sfxOn){var t=i.sounds[e];if(t)return t.play();console.error(e+" not found.")}},i.setSfxVolume=function(e){i.sfxVolume=e,localStorage.setItem("soundVolume",e),0==e?i.sfxOn=!1:(i.sfxOn=!0,i.sounds.bullet.volume(i.volumes.bullet*e),i.sounds.explosionSmall01.volume(i.volumes.explosionSmall01*e),i.sounds.explosionSmall02.volume(i.volumes.explosionSmall02*e),i.sounds.explosionSmall03.volume(i.volumes.explosionSmall03*e),i.sounds.explosionMed.volume(i.volumes.explosionMed*e),i.sounds.explosionLarge.volume(i.volumes.explosionLarge*e),i.sounds.buttonClick.volume(i.volumes.buttonClick*e),i.sounds.collectGold.volume(i.volumes.collectGold*e),i.sounds.chatMessage.volume(i.volumes.chatMessage*e),i.sounds.collectHealth.volume(i.volumes.collectHealth*e),i.sounds.collision.volume(i.volumes.collision*e),i.sounds.gameOver.volume(i.volumes.gameOver*e),i.sounds.gameOverWin.volume(i.volumes.gameOverWin*e),i.sounds.collectPowerup.volume(i.volumes.collectPowerup*e),i.sounds.powerupExpired.volume(i.volumes.powerupExpired*e),i.sounds.satelliteCaptured.volume(i.volumes.satelliteCaptured*e),i.sounds.satelliteContest.volume(i.volumes.satelliteContest*e),i.currentVolumes.engine=i.volumes.engine*e,i.currentVolumes.dirEngine=i.volumes.dirEngine*e)},i.setMusicVolume=function(e){i.volumes.music=e,localStorage.setItem("musicVolume",e),i.sounds.music.playing()&&i.sounds.music.volume(e)},i.loaded=function(){i.downloaded++,i.percentDownloaded=i.downloaded/i.numSounds,i.updateDownloadUi.changed()},i.sounds={bullet:new Howl({src:["/sounds/Fire_Blaster_SW01.webm","/sounds/Fire_Blaster_SW01.mp3"],volume:i.volumes.bullet,onload:function(){i.loaded()}}),explosionSmall01:new Howl({src:["/sounds/Explosion_Small_01.webm","/sounds/Explosion_Small_01.mp3"],volume:i.volumes.explosionSmall01,onload:function(){i.loaded()}}),explosionSmall02:new Howl({src:["/sounds/Explosion_Small_02.webm","/sounds/Explosion_Small_02.mp3"],volume:i.volumes.explosionSmall02,onload:function(){i.loaded()}}),explosionSmall03:new Howl({src:["/sounds/Explosion_Small_03.webm","/sounds/Explosion_Small_03.mp3"],volume:i.volumes.explosionSmall03,onload:function(){i.loaded()}}),explosionMed:new Howl({src:["/sounds/Explosion_Medium.webm","/sounds/Explosion_Medium.mp3"],volume:i.volumes.explosionMed,onload:function(){i.loaded()}}),explosionLarge:new Howl({src:["/sounds/Explosion_Large_v3.webm","/sounds/Explosion_Large_v3.mp3"],volume:i.volumes.explosionLarge,onload:function(){i.loaded()}}),engine:new Howl({src:["/sounds/Ship_Engine_LOOP.webm","/sounds/Ship_Engine_LOOP.mp3"],loop:!0,volume:i.volumes.engine,onload:function(){i.loaded()}}),dirEngine:new Howl({src:["/sounds/ShipDirectionEngine_Loop.webm","/sounds/ShipDirectionEngine_Loop.mp3"],loop:!0,volume:i.volumes.dirEngine,onload:function(){i.loaded()}}),buttonClick:new Howl({src:["/sounds/Button_Click.webm","/sounds/Button_Click.mp3"],volume:i.volumes.buttonClick,onload:function(){i.loaded()}}),collectGold:new Howl({src:["/sounds/Collect_Gold_v2.webm","/sounds/Collect_Gold_v2.mp3"],volume:i.volumes.collectGold,onload:function(){i.loaded()}}),chatMessage:new Howl({src:["/sounds/Chat_Message_v2.webm","/sounds/Chat_Message_v2.mp3"],volume:i.volumes.chatMessage,onload:function(){i.loaded()}}),collectHealth:new Howl({src:["/sounds/Collect_Health.webm","/sounds/Collect_Health.mp3"],volume:i.volumes.collectHealth,onload:function(){i.loaded()}}),collision:new Howl({src:["/sounds/Collision.webm","/sounds/Collision.mp3"],volume:i.volumes.collision,onload:function(){i.loaded()}}),gameOver:new Howl({src:["/sounds/Game_Over_Lose.webm","/sounds/Game_Over_Lose.mp3"],volume:i.volumes.gameOver,onload:function(){i.loaded()}}),gameOverWin:new Howl({src:["/sounds/Game_Over_Win.webm","/sounds/Game_Over_Win.mp3"],volume:i.volumes.gameOverWin,onload:function(){i.loaded()}}),collectPowerup:new Howl({src:["/sounds/Powerup_Collect.webm","/sounds/Powerup_Collect.mp3"],volume:i.volumes.collectPowerup,onload:function(){i.loaded()}}),powerupExpired:new Howl({src:["/sounds/Powerup_Expired.webm","/sounds/Powerup_Expired.mp3"],volume:i.volumes.powerupExpired,onload:function(){i.loaded()}}),satelliteCaptured:new Howl({src:["/sounds/Satellite_Captured.webm","/sounds/Satellite_Captured.mp3"],volume:i.volumes.satelliteCaptured,onload:function(){i.loaded()}}),satelliteContest:new Howl({src:["/sounds/Satellite_Contest_LOOP.webm","/sounds/Satellite_Contest_LOOP.mp3"],volume:i.volumes.satelliteContest,loop:!0,onload:function(){i.loaded()}}),music:new Howl({src:["/sounds/Astroe_Ingame01.webm","/sounds/Astroe_Ingame01.mp3"],volume:i.volumes.music,loop:!0,onload:function(){i.loaded()}})};var a=localStorage.getItem("soundVolume");a=null==a?1:Number(a),i.setSfxVolume(a)}}},both:{"playerMethods.js":function e(){Meteor.methods({saveName(e){let{newName:t}=e;t=t.replace(/[^0-9a-zA-Z_\s]/g,""),newNameNoSpaces=t.replace(/[^0-9a-zA-Z_]/g,"");var s=Meteor.users.findOne(this.userId,{fields:{username:1}});if(!s)throw new Meteor.Error("error","User not found.");if(t==s.username)throw new Meteor.Error("error","This is already your name.");if(!newNameNoSpaces||newNameNoSpaces.length<2)throw new Meteor.Error("error","New name must be at least 2 characters.");if(t.length>20)throw new Meteor.Error("error","New name too long.  Must be less than 20 characters.");if(!this.isSimulation&&Accounts._findUserByQuery({username:t}))throw new Meteor.Error("error","A user with this name already exists.  Try another.");Meteor.users.update(this.userId,{$set:{username:t}})},setShipGfx(e,t){var s=Meteor.users.findOne(this.userId,{fields:{isPatron:1}});if(s&&(s.isPatron||Meteor.isDevelopment)){var i="";switch(e){case"RED":i="shipGfxRed";break;case"GREEN":i="shipGfxGreen";break;case"NEUTRAL":i="shipGfxNeutral"}var n={};n[i]=t,Meteor.users.update(this.userId,{$set:n})}}})}},"settings.json":function e(t,s,e){e.exports={adminEmail:"danphi@gmail.com"}}},{extensions:[".js",".json",".html",".less",".css"]});require("/client/capStatsChart/template.capStatsChart.js"),require("/client/howToSats/template.howToSats.js"),require("/client/player/template.player.js"),require("/client/player/template.playerShip.js"),require("/client/players/template.players.js"),require("/client/statRecordsChart/template.statRecordsChart.js"),require("/client/stats/template.stats.js"),require("/client/template.ad.js"),require("/client/template.chat.js"),require("/client/template.control.js"),require("/client/template.controlAlerts.js"),require("/client/template.controlLogin.js"),require("/client/template.controlMods.js"),require("/client/template.controlServers.js"),require("/client/template.controlYoutubers.js"),require("/client/template.disconnectedPanel.js"),require("/client/template.endPanel.js"),require("/client/template.featuredAlert.js"),require("/client/template.featuredYoutuber.js"),require("/client/template.game.js"),require("/client/template.gameEndWarning.js"),require("/client/template.help.js"),require("/client/template.help_controls.js"),require("/client/template.help_info.js"),require("/client/template.leaderboard.js"),require("/client/template.menu.js"),require("/client/template.nowebgl.js"),require("/client/template.nowebsocket.js"),require("/client/template.privacy.js"),require("/client/template.respawnAd.js"),require("/client/template.respawnUi.js"),require("/client/template.satelliteLeaderboard.js"),require("/client/template.satelliteScoreboard.js"),require("/client/template.satelliteUpgrade.js"),require("/client/template.shipUpgrade.js"),require("/client/template.startPanel.js"),require("/client/template.main.js"),require("/lib/client/functions.js"),require("/client/capStatsChart/capStatsChart.js"),require("/client/howToSats/howToSats.js"),require("/client/player/player.js"),require("/client/players/collection.js"),require("/client/players/players.js"),require("/client/statRecordsChart/statRecordsChart.js"),require("/client/stats/stats.js"),require("/both/playerMethods.js"),require("/client/ad.js"),require("/client/chat.js"),require("/client/control.js"),require("/client/controlAlerts.js"),require("/client/controlMods.js"),require("/client/controlServers.js"),require("/client/controlYoutubers.js"),require("/client/disconnectedPanel.js"),require("/client/endPanel.js"),require("/client/featuredAlert.js"),require("/client/featuredYoutuber.js"),require("/client/game.js"),require("/client/gameEndWarning.js"),require("/client/help.js"),require("/client/leaderboard.js"),require("/client/menu.js"),require("/client/privacy.js"),require("/client/respawnAd.js"),require("/client/respawnUi.js"),require("/client/satelliteLeaderboard.js"),require("/client/satelliteScoreboard.js"),require("/client/satelliteUpgrade.js"),require("/client/shipUpgrade.js"),require("/client/startPanel.js"),require("/client/main.js");


<script charset="utf-8" src="https://platform.twitter.com/js/button.e24f3bcdec527b80b9c80e88b62047c3.js"></script><style type="text/css" data-fbcssmodules="css:fb.css.basecss:fb.css.dialog css:fb.css.iframewidget">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#043b87;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}</style></head>
<body oncontextmenu="return false;" style="overflow: hidden;">
  <script type="text/javascript">__meteor_runtime_config__ = JSON.parse(decodeURIComponent("%7B%22meteorRelease%22%3A%22METEOR%401.10.2%22%2C%22gitCommitHash%22%3A%227e073ccf4404e31b825016f87585efc24617b1ba%22%2C%22meteorEnv%22%3A%7B%22NODE_ENV%22%3A%22production%22%2C%22TEST_METADATA%22%3A%22%7B%7D%22%7D%2C%22PUBLIC_SETTINGS%22%3A%7B%22isProduction%22%3Atrue%2C%22servers%22%3A%5B%7B%22name%22%3A%22New%20York%22%2C%22addr%22%3A%22ws%3A%2F%2F67.205.144.207%3A443%2F%22%7D%2C%7B%22name%22%3A%22Singapore%22%2C%22addr%22%3A%22ws%3A%2F%2F128.199.238.72%3A443%2F%22%7D%2C%7B%22name%22%3A%22Germany%22%2C%22addr%22%3A%22ws%3A%2F%2F138.68.90.63%3A443%2F%22%7D%5D%2C%22ga%22%3A%7B%22account%22%3A%22UA-89383519-1%22%7D%7D%2C%22ROOT_URL%22%3A%22http%3A%2F%2Fastroe.io%22%2C%22ROOT_URL_PATH_PREFIX%22%3A%22%22%2C%22autoupdate%22%3A%7B%22versions%22%3A%7B%22web.browser%22%3A%7B%22version%22%3A%22bb7196501043d38ab0b45d51e29a33805a702712%22%2C%22versionRefreshable%22%3A%220b342e5723eea989d785c7ee7bf826fb19f8cfd1%22%2C%22versionNonRefreshable%22%3A%222f7a706347fdaab0ab6598ef8c59da18d6e6aea4%22%7D%2C%22web.browser.legacy%22%3A%7B%22version%22%3A%229d422599af1decb06a06329d05d37efd9b97f00a%22%2C%22versionRefreshable%22%3A%220b342e5723eea989d785c7ee7bf826fb19f8cfd1%22%2C%22versionNonRefreshable%22%3A%22c9092a0f6aacc20532d74caf42592f77fecb9360%22%7D%7D%2C%22autoupdateVersion%22%3Anull%2C%22autoupdateVersionRefreshable%22%3Anull%2C%22autoupdateVersionCordova%22%3Anull%2C%22appId%22%3A%2279zhv0dnfsr682ym8u%22%7D%2C%22appId%22%3A%2279zhv0dnfsr682ym8u%22%2C%22isModern%22%3Atrue%7D"))</script>

  <script type="text/javascript" src="/c7e117a595c19e8732eded9679aa818369f6b319.js?meteor_js_resource=true"></script>











  <div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; width: 0px; height: 0px;"><div></div></div></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8&appId=1394315374204571";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>






    <div id="menu" style="display: none; height: 832px;">
    <div id="menuContent">
      <div id="menuTitle">Astroe Menu</div>

      <button id="closeMenuButton" class="btnInGame">Close Menu</button>
      <button id="openHelpButton" class="btnInGame">Show Help</button>
      <button id="openSatHelpButton" class="btnInGame">How to Capture Satellites</button>
      <br><br>

      <div id="buyGoldSuccessAlert" class="buyGoldAlert">asdf</div>
      <div id="buyGoldErrorAlert" class="buyGoldAlert">asdf</div>

      <br><br>

      <p>
        <label for="soundVolumeInput">Sound Effects Volume</label>
        <input id="soundVolumeInput" type="range" min="0" max="1" step="0.05">
      </p>

      <p>
        <label for="musicVolumeInput">Music Volume</label>
        <input id="musicVolumeInput" type="range" min="0" max="1" step="0.05">
      </p>

      <br><br>
      <div>
        <span class="gold">Controls</span>: Left mouse button or shift key to fire blaster.  Right mouse button or spacebar for main engine.  Arrow keys or WASD keys for directional engine.
      </div>

      <br>
      See <a href="https://www.reddit.com/r/astroe/wiki/index" target="_blank" id="wikiButton">Wiki</a> for more info.

      <br><br>
      <a href="https://discord.gg/VqXp7AF" target="_blank"><button class="btnInGame" id="discordButton">Astroe Discord Chat</button></a>
      <a href="https://www.reddit.com/r/astroe/" target="_blank"><button class="btnInGame" id="redditButton">Astroe SubReddit</button></a>
      <a href="/privacy" target="_blank"><button class="btnInGame">Privacy Policy</button></a>
      <button id="endGameButton" class="btnInGame">End Game</button>

      <br><br>

      <p>
        <label for="lagSmoothInput">Network Smoothing - <span id="lagSmoothValue">50</span>ms</label>
        <input id="lagSmoothInput" type="range" min="30" max="120" step="10">
      </p>

      Decrease to improve responsivness.  Increase to improve correctness.
    </div>
  </div>
  <div id="help" style="display: none; height: 832px;">
    <div id="menuContent">
      <div id="menuTitle">Astroe Help</div>

      <button id="closeHelpButton" class="btnInGame">Close Help</button>
      <br><br>

      <div id="help_controls">
    <div class="helpTitle">
      Controls
    </div>

    <div class="helpText">
      <table>
        <tr>
          <td>
            <img src="/leftMouseButton.png">
            or
            <span class="key">SHIFT</span>
          </td>
          <td>&nbsp;&nbsp; Lasers</td>
        </tr>
        <tr>
          <td>
            <img src="/rightMouseButton.png">
            or
            <span class="key">SPACE</span>
          </td>
          <td>&nbsp;&nbsp; Main Engine</td>
        </tr>
      </table>

      <table>
        <tr>
          <td></td>
          <td class="key">⇧</td>
          <td></td>
          <td>or</td>
          <td></td>
          <td class="key">W</td>
          <td></td>
          <td>&nbsp;&nbsp; Directional Engines</td>
        </tr>
        <tr>
          <td class="key">⇦</td>
          <td class="key">⇩</td>
          <td class="key">⇨</td>
          <td></td>
          <td class="key">A</td>
          <td class="key">S</td>
          <td class="key">D</td>
          <td></td>
        </tr>
      </table>
    </div>
  </div>

      <br><br>

      <div id="help_info">
    <div class="helpTitle">
      Powerups
    </div>

    <div class="helpText">
      <table>
        <tr><td><img src="/images/healthPack01@2x.png" class="helpImage"></td><td>Heals ship</td></tr>
        <tr><td><img src="/images/shieldPack01@2x.png" class="helpImage"></td><td>Creates shield around ship.</td></tr>
        <tr><td><img src="/images/powerupInvis@2x.png" class="helpImage"></td><td>Gives 10 seconds of invisibility.  Invisibility is cancelled when ship fires or is damaged.</td></tr>
        <tr><td><img src="/images/powerupSpeed@2x.png" class="helpImage"></td><td>Gives 10 second speed boost.</td></tr>
        <tr><td><img src="/images/powerupDoubleDamage@2x.png" class="helpImage"></td><td>Doubles your damage for 10 seconds.</td></tr>
      </table>
    </div>
    <br>
    <div class="helpTitle">
      Upgrades
    </div>

    <div class="helpText">
      Destroy asteroids or other ships to collect gold.  Use gold to upgrade your ship or satellites.
    </div>

    <br>
    <div class="helpTitle">
      Map Zoom
    </div>

    <div class="helpText zoomHelp">
      <table>
        <tr><td><img src="/windowsIcon.png"></td><td> &nbsp; </td><td>CTRL +/- <span class="helpTitle">or</span> CTRL and Mouse Wheel</td></tr>
        <tr><td><img src="/macIcon.png"></td><td> &nbsp; </td><td>COMMAND +/- <span class="helpTitle">or</span> COMMAND and Mouse Wheel</td></tr>
      </table>
    </div>

  </div>
    </div>
  </div>
  <div id="howToSats" style="display: none; height: 832px;">
    <div id="menuContent">
      <div id="menuTitle">How to Capture Satellites</div>

      <button id="closeHelpButton" class="btnInGame">Close</button>
      <br><br>

      <span class="imgContainer">
        <img src="/destroy.gif">
        <span class="imgHelp" id="helpDestroy">Dodge lasers while attacking.</span>
      </span>

      <span class="imgContainer">
        <img src="/capture.gif">
        <span class="imgHelp" id="helpCapture">Enter circle to capture.</span>
      </span>

      <span class="imgContainer">
        <img src="/upgrade.gif">
        <span class="imgHelp" id="helpUpgrade">Upgrade satellite.</span>
      </span>
    </div>
  </div>


  <div id="gameUi" style="display: block;">
    <button class="btnInGame" id="menuButton">Menu</button>

    <div id="chat">
    <div id="chatTitle">
      Team Chat
    </div>

    <div id="chatMessages">

        <div class="chatMsg">

      <span class="chatMessage statusMessage">Welcome to Astroe! The first team to capture all of the satellites wins the game.</span> <span class="chatTime">22:54</span>

  </div>

        <div class="chatMsg">

      <span class="chatMessage statusMessage">GREEN team captured satellite B3.</span> <span class="chatTime">22:54</span>

  </div>

    </div>


      <div id="chatHelp">Press enter to chat.</div>

  </div>

      <div id="satelliteScoreboard">
    <table style="width:100%;">
      <tr>
        <td style="text-align:right;">
          <span id="scoreboardRed" class="red">0</span>
        </td>
        <td class="dash">-</td>
        <td style="text-align:left;">
          <span id="scoreboardGreen" class="green">2</span>
        </td>
      </tr>
      <tr>
        <td style="text-align:right;">
          <span class="red">+<span id="scoreboardGoldRed">0</span> Gold/Min</span>
        </td>
        <td></td>
        <td style="text-align:left;">
          <span class="green">+<span id="scoreboardGoldGreen">20</span> Gold/Min</span>
        </td>
      </tr>
      <tr>
        <td style="text-align:right;">
          <span class="red"><span id="scoreboardPlayersRed">6</span> <span id="scoreboardPlayersLabelRed">Ships</span></span>
        </td>
        <td></td>
        <td style="text-align:left;">
          <span class="green"><span id="scoreboardPlayersGreen">4</span> <span id="scoreboardPlayersLabelGreen">Ships</span></span>
        </td>
      </tr>
    </table>
  </div>
      <div id="satelliteLeaderboard">
    <table>
      <tr>
        <th style="text-align:left;">Teammates</th>
        <th>Captures</th>
        <th>Kills</th>
      </tr>

        <tr>
          <td>1. Firemage_X</td>
          <td style="text-align:right;">1</td>
          <td style="text-align:right;">0</td>
        </tr>

        <tr>
          <td class="isBot">2. [BOT]Cortana</td>
          <td style="text-align:right;">1</td>
          <td style="text-align:right;">0</td>
        </tr>

        <tr>
          <td class="">3. Noname</td>
          <td style="text-align:right;">1</td>
          <td style="text-align:right;">0</td>
        </tr>

        <tr class="isPlayer">
          <td class="">4. dsadasdasd</td>
          <td style="text-align:right;">0</td>
          <td style="text-align:right;">0</td>
        </tr>

    </table>

    <br><br>

    <table>
      <tr>
        <th style="text-align:left;">Enemies</th>
        <th>Captures</th>
        <th>Kills</th>
      </tr>

        <tr>
          <td class="isBot">1. [BOT]Extro</td>
          <td style="text-align:right;">0</td>
          <td style="text-align:right;">0</td>
        </tr>

        <tr>
          <td>2. tyaseawd</td>
          <td style="text-align:right;">0</td>
          <td style="text-align:right;">0</td>
        </tr>

        <tr>
          <td class="">3. fefdeid6po46p5tp4ytu</td>
          <td style="text-align:right;">0</td>
          <td style="text-align:right;">0</td>
        </tr>

        <tr>
          <td class="isBot">4. [BOT]Beta 5</td>
          <td style="text-align:right;">0</td>
          <td style="text-align:right;">0</td>
        </tr>

        <tr>
          <td class="">5. bro</td>
          <td style="text-align:right;">0</td>
          <td style="text-align:right;">0</td>
        </tr>

    </table>
  </div>




    <div id="gameUiUpgrades">
      <div id="powerupUi">



      </div>
      <div id="shipMass">Ship Mass: 1000</div>
      <div id="upgradeCount">Upgrades: 0 / 36</div>
      <div id="gameUiGold">
        <span id="goldValue"><span id="uiGold">0</span> Gold</span>
      </div>

        <div id="satelliteUpgrade" class="">
    <div class="title">Satellite Upgrades</div>
    <div>
      <button class="btnInGame satelliteUpgradeButton">7.  <div class="buttonRight"></div></button>
      <span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span>
    </div>
  </div>
        <br>

      <div class="title">Ship Upgrades</div>
  <div id="shipUpgradeContainer"></div>

    <div>
    <button class="btnInGame shipUpgradeButton disabled">1. Blaster Damage <div class="buttonRight">30</div></button>
    <span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span>
  </div>

    <div>
    <button class="btnInGame shipUpgradeButton disabled">2. Blaster Fire Rate <div class="buttonRight">30</div></button>
    <span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span>
  </div>

    <div>
    <button class="btnInGame shipUpgradeButton disabled">3. Bullet Speed <div class="buttonRight">30</div></button>
    <span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span>
  </div>

    <div>
    <button class="btnInGame shipUpgradeButton disabled">4. Max Health <div class="buttonRight">30</div></button>
    <span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span>
  </div>

    <div>
    <button class="btnInGame shipUpgradeButton disabled">5. Auto Repair Rate <div class="buttonRight">30</div></button>
    <span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span>
  </div>

    <div>
    <button class="btnInGame shipUpgradeButton disabled">6. Directional Engines <div class="buttonRight">30</div></button>
    <span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span><span class="upgradeMark">&nbsp;</span>
  </div>

    </div>
    <div id="gameUiPerf">
      <span id="uiPerfPing">124</span> MS Latency &nbsp;&nbsp;
      <span id="uiPerfFps">60</span> FPS &nbsp;&nbsp;
      <span id="uiPerfMsgs">0.14</span> MS Msgs &nbsp;&nbsp;
      <span id="uiPerfUpdateMs">0.18</span> MS Update &nbsp;&nbsp;
      <span id="uiPerfVisibleMs">0.09</span> MS Culling &nbsp;&nbsp;
      <span id="uiPerfRenderMs">0.48</span> MS Render &nbsp;&nbsp;
      Server1 Server
    </div>
  </div>
  <div id="pixiContainer"><canvas width="865" height="832" style="width: 865px; height: 832px;"></canvas></div>

  <iframe scrolling="no" frameborder="0" allowtransparency="true" src="https://platform.twitter.com/widgets/widget_iframe.2d7d9a6d04538bf11c7b23641e75738c.html?origin=http%3A%2F%2Fastroe.io" title="Twitter settings iframe" style="display: none;"></iframe></body></html>
